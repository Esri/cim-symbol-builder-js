"use strict";(globalThis.webpackChunkmy_app=globalThis.webpackChunkmy_app||[]).push([[36289],{36289:(e,r,s)=>{s.r(r),s.d(r,{alterVersion:()=>c,serverVersionCacheMap:()=>o});var t=s(3825),n=s(50076),i=s(54994),a=s(94487);const o=new Map;async function c(e,r,s,c){o.has(e)||await(0,a.t)(o,e);const u=o.get(e);if((u?.serverVersion??0)<=11.1)throw new n.A("alterVersion:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!r)throw new n.A("alterVersion:missing-guid","guid for version is missing");const h=(0,i.Dl)(e),l=s.toJSON(),p=(0,i.jV)(h.query,{query:(0,i.lF)({...l,f:"json"}),...c,authMode:"immediate",method:"post"});r.startsWith("{")&&(r=r.slice(1,-1));const v=`${h.path}/versions/${r}/alter`,{data:g}=await(0,t.A)(v,p);return!!g&&g.success}},94487:(e,r,s)=>{s.d(r,{t:()=>n});var t=s(3825);async function n(e,r){let s=null;const n="string"==typeof r?r:r.path;if(!e.has(n)){const i=await(0,t.A)(n.replace(/\/VersionManagementServer/i,"/FeatureServer"),{query:{f:"json"}});s={serverVersion:Number(i.data.currentVersion),featureServerUrl:n.replace(/\/VersionManagementServer/i,"/FeatureServer")},e.set(r,s)}}}}]);
//# sourceMappingURL=36289.826ea605.chunk.js.map