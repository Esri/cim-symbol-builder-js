{"version":3,"file":"static/js/2029.c65863e5.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/webgl/BufferObject.js","../node_modules/@arcgis/core/views/webgl/FramebufferObject.js","../node_modules/@arcgis/core/views/webgl/Renderbuffer.js","../node_modules/@arcgis/core/views/webgl/RenderbufferDescriptor.js","../node_modules/@arcgis/core/views/webgl/VertexArrayObject.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{isArrayLike as e}from\"../../core/arrayUtils.js\";import t from\"../../core/Logger.js\";import{nullifyNonNullableForDispose as r}from\"../../core/maybe.js\";import{isUint16Array as i,isUint32Array as s}from\"../../core/typedArrayUtil.js\";import{checkWebGLError as n}from\"./checkWebGLError.js\";import{ContextType as o}from\"./contextUtils.js\";import{BufferType as a,Usage as f,ResourceType as u,DataType as _}from\"./enums.js\";const h=t.getLogger(\"esri.views.webgl.BufferObject\");class c{static createIndex(e,t,r){return new c(e,a.ELEMENT_ARRAY_BUFFER,t,r)}static createVertex(e,t,r){return new c(e,a.ARRAY_BUFFER,t,r)}static createUniform(e,t,r){if(e.type!==o.WEBGL2)throw new Error(\"Uniform buffers are supported in WebGL2 only!\");return new c(e,a.UNIFORM_BUFFER,t,r)}static createPixelPack(e,t=f.STREAM_READ,r){if(e.type!==o.WEBGL2)throw new Error(\"Pixel pack buffers are supported in WebGL2 only!\");const i=new c(e,a.PIXEL_PACK_BUFFER,t);return r&&i.setSize(r),i}static createPixelUnpack(e,t=f.STREAM_DRAW,r){if(e.type!==o.WEBGL2)throw new Error(\"Pixel unpack buffers are supported in WebGL2 only!\");return new c(e,a.PIXEL_UNPACK_BUFFER,t,r)}constructor(e,t,r,i){this._context=e,this.bufferType=t,this.usage=r,this._glName=null,this._size=-1,this._indexType=void 0,e.instanceCounter.increment(u.BufferObject,this),this._glName=this._context.gl.createBuffer(),n(this._context.gl),i&&this.setData(i)}get glName(){return this._glName}get size(){return this._size}get indexType(){return this._indexType}get byteLength(){return this.bufferType===a.ELEMENT_ARRAY_BUFFER?this._indexType===_.UNSIGNED_INT?4*this._size:2*this._size:this._size}get _isVAOAware(){return this.bufferType===a.ELEMENT_ARRAY_BUFFER||this.bufferType===a.ARRAY_BUFFER}dispose(){if(this._context?.gl){if(this._glName){this._context.gl.deleteBuffer(this._glName),this._glName=null}this._context.instanceCounter.decrement(u.BufferObject,this),this._context=r(this._context)}else this._glName&&h.warn(\"Leaked WebGL buffer object\")}setSize(e,t=null){if(e<=0&&h.error(\"Buffer size needs to be positive!\"),this.bufferType===a.ELEMENT_ARRAY_BUFFER&&null!=t)switch(this._indexType=t,t){case _.UNSIGNED_SHORT:e*=2;break;case _.UNSIGNED_INT:e*=4}this._setBufferData(e)}setData(e){if(!e)return;let t=e.byteLength;this.bufferType===a.ELEMENT_ARRAY_BUFFER&&(i(e)&&(t/=2,this._indexType=_.UNSIGNED_SHORT),s(e)&&(t/=4,this._indexType=_.UNSIGNED_INT)),this._setBufferData(t,e)}_setBufferData(e,t=null){this._size=e;const r=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const i=this._context.gl;null!=t?i.bufferData(this.bufferType,t,this.usage):i.bufferData(this.bufferType,e,this.usage),n(i),this._isVAOAware&&this._context.bindVAO(r)}setSubData(e,t,r,i){if(!e)return;(t<0||t*e.BYTES_PER_ELEMENT>=this.byteLength)&&h.error(\"offset is out of range!\"),r>=i&&h.error(\"end must be bigger than start!\"),(t+(i-r))*e.BYTES_PER_ELEMENT>this.byteLength&&h.error(\"An attempt to write beyond the end of the buffer!\");const s=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const a=this._context.gl;if(this._context.type===o.WEBGL2)a.bufferSubData(this.bufferType,t*e.BYTES_PER_ELEMENT,e,r,i-r);else{const s=0===r&&i===e.length?e:e.subarray(r,i);a.bufferSubData(this.bufferType,t*e.BYTES_PER_ELEMENT,s)}n(a),this._isVAOAware&&this._context.bindVAO(s)}getSubData(e,t=0,r,i){if(this._context.type!==o.WEBGL2)return void h.error(\"Get buffer subdata is supported in WebGL2 only!\");if(r<0||i<0)return void h.error(\"Problem getting subdata: offset and length were less than zero!\");const s=E(e)?e.BYTES_PER_ELEMENT:1;if(s*((r??0)+(i??0))>e.byteLength)return void h.error(\"Problem getting subdata: offset and length exceeded destination size!\");t+s*(i??0)>this.byteLength&&h.warn(\"Potential problem getting subdata: requested data exceeds buffer size!\");const n=this._context.gl;this._context.bindBuffer(this,a.COPY_READ_BUFFER),n.getBufferSubData(a.COPY_READ_BUFFER,t,e,r,i),this._context.unbindBuffer(a.COPY_READ_BUFFER)}async getSubDataAsync(e,t=0,r,i){this._context.type===o.WEBGL2?(await this._context.clientWaitAsync(),this.getSubData(e,t,r,i)):h.error(\"Get buffer subdata is supported in WebGL2 only!\")}}function E(t){return e(t)}export{c as BufferObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import t from\"../../core/Logger.js\";import{disposeMaybe as e}from\"../../core/maybe.js\";import{BufferObject as i}from\"./BufferObject.js\";import{webglDebugEnabled as r}from\"./checkWebGLError.js\";import{ContextType as s}from\"./contextUtils.js\";import{ResourceType as h,ColorAttachment as n,RenderbufferFormat as o,PixelFormat as c,PixelType as a,DepthStencilAttachment as u,FramebufferTarget as _,TextureType as f,Usage as l,BufferType as T}from\"./enums.js\";import{GLObjectType as d}from\"./GLObjectType.js\";import{Renderbuffer as m}from\"./Renderbuffer.js\";import{Texture as p}from\"./Texture.js\";const E=t.getLogger(\"esri.views.webgl.FramebufferObject\");class x{constructor(t,e,i=null){this._context=t,this._glName=null,this._colorAttachments=new Map,this._depthBuffer=null,this._stencilBuffer=null,this._depthStencilTexture=null,this._initialized=!1,t.instanceCounter.increment(h.FramebufferObject,this);const r=g(e)?e:new p(this._context,e);if(this._colorAttachments.set(n.COLOR_ATTACHMENT0,r),this._validateTextureDescriptor(r.descriptor),this._validateColorAttachmentPoint(n.COLOR_ATTACHMENT0),null!=i)if(b(i))this._context.capabilities.depthTexture||console.error(\"Setting the depth/stencil texture as an attachment requires WEBGL_depth_texture or WebGL2\"),this._depthStencilTexture=g(i)?i:new p(this._context,i),this._validateTextureDescriptor(this._depthStencilTexture.descriptor);else{const t=A(i)?i:new m(this._context,i),e=t.descriptor;e.internalFormat===o.STENCIL_INDEX8?this._stencilBuffer=t:this._depthBuffer=t,this._validateRenderBufferDescriptor(e)}}dispose(){if(0===this._colorAttachments.size&&!this._glName)return;const t=this._context.getBoundFramebufferObject();if(this._colorAttachments.forEach(((t,e)=>this.detachColorTexture(e)?.dispose())),this.detachDepthStencilBuffer()?.dispose(),this.detachDepthStencilTexture()?.dispose(),this._glName){this._context.gl.deleteFramebuffer(this._glName),this._glName=null}this._context.bindFramebuffer(t),this._context.instanceCounter.decrement(h.FramebufferObject,this)}get glName(){return this._glName}get colorTexture(){return this._colorAttachments.get(n.COLOR_ATTACHMENT0)}get depthStencilAttachment(){return this._depthStencilTexture||this._depthBuffer||this._stencilBuffer}get depthStencilTexture(){return this._depthStencilTexture}get width(){const t=this._colorAttachments.get(n.COLOR_ATTACHMENT0);return t?.descriptor?.width??0}get height(){const t=this._colorAttachments.get(n.COLOR_ATTACHMENT0);return t?.descriptor?.height??0}get gpuMemoryUsage(){return[...this._colorAttachments].reduce(((t,[e,i])=>t+i.gpuMemoryUsage),this.depthStencilAttachment?.gpuMemoryUsage??0)}getColorTexture(t){const e=this._colorAttachments.get(t);return e&&g(e)?e:null}attachColorTexture(t,e=n.COLOR_ATTACHMENT0){if(!t)return;this._validateColorAttachmentPoint(e);const i=t.descriptor;this._validateTextureDescriptor(i),this.detachColorTexture(e)?.dispose(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,e)),this._colorAttachments.set(e,t)}detachColorTexture(t=n.COLOR_ATTACHMENT0){const e=this._colorAttachments.get(t);if(e)return this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,t)),this._colorAttachments.delete(t),e}setColorTextureTarget(t,e=n.COLOR_ATTACHMENT0){const i=this._colorAttachments.get(e);i&&this._framebufferTexture2D(i.glName,e,t)}attachDepthStencil(t){if(t)switch(t.type){case d.Texture:return this._attachDepthStencilTexture(t);case d.RenderBuffer:return this._attachDepthStencilBuffer(t)}}_attachDepthStencilTexture(t){if(null==t)return;const e=t.descriptor;e.pixelFormat!==c.DEPTH_STENCIL&&e.pixelFormat!==c.DEPTH24_STENCIL8&&console.error(\"Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!\"),e.dataType!==a.UNSIGNED_INT_24_8&&console.error(\"Depth/Stencil texture must have data type of UNSIGNED_INT_24_8!\"),this._context.capabilities.depthTexture||console.error(\"Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!\"),this._validateTextureDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,u)),this._depthStencilTexture?.dispose(),this._depthStencilTexture=t}detachDepthStencilTexture(){const t=this._depthStencilTexture;return t&&this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,u)),this._depthStencilTexture=null,t}_attachDepthStencilBuffer(t){if(null==t)return;const e=t.descriptor;if(e.internalFormat!==o.DEPTH_STENCIL&&e.internalFormat!==o.DEPTH_COMPONENT16&&console.error(\"Depth/Stencil buffer must have correct internalFormat\"),this._validateRenderBufferDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);const i=this._context.gl,r=this._getGLAttachmentPoint(e);i.framebufferRenderbuffer(_.FRAMEBUFFER,r,i.RENDERBUFFER,t.glName)}this._depthBuffer?.dispose(),this._depthBuffer=t}detachDepthStencilBuffer(){const t=this._depthBuffer;if(t&&this._initialized){this._context.bindFramebuffer(this);const e=this._context.gl,i=this._getGLAttachmentPoint(t.descriptor);e.framebufferRenderbuffer(_.FRAMEBUFFER,i,e.RENDERBUFFER,null),t.dispose()}return this._depthBuffer=null,t}copyToTexture(t,e,i,r,s,h,n){(t<0||e<0||s<0||h<0)&&console.error(\"Offsets cannot be negative!\"),(i<=0||r<=0)&&console.error(\"Copy width and height must be greater than zero!\");const o=n.descriptor;n.descriptor.target!==f.TEXTURE_2D&&console.error(\"Texture target must be TEXTURE_2D!\"),(null==o?.width||null==o?.height||t+i>this.width||e+r>this.height||s+i>o.width||h+r>o.height)&&console.error(\"Bad dimensions, the current input values will attempt to read or copy out of bounds!\");const c=this._context,a=c.bindTexture(n,p.TEXTURE_UNIT_FOR_UPDATES);c.setActiveTexture(p.TEXTURE_UNIT_FOR_UPDATES),c.bindFramebuffer(this),c.gl.copyTexSubImage2D(f.TEXTURE_2D,0,s,h,t,e,i,r),c.bindTexture(a,p.TEXTURE_UNIT_FOR_UPDATES)}readPixels(t,e,i,r,s,h,n){(i<=0||r<=0)&&console.error(\"Copy width and height must be greater than zero!\"),n||console.error(\"Target memory is not initialized!\"),this._context.bindFramebuffer(this);this._context.gl.readPixels(t,e,i,r,s,h,n)}async readPixelsAsync(t,e,h,n,o,c,a){if(this._context.type!==s.WEBGL2)return r()&&console.warn(\"Attempting to read pixels using pixel buffer object without WebGL2\"),void this.readPixels(t,e,h,n,o,c,a);const u=this._context.gl,_=i.createPixelPack(this._context,l.STREAM_READ,a.byteLength);this._context.bindBuffer(_),this._context.bindFramebuffer(this),u.readPixels(t,e,h,n,o,c,0),this._context.unbindBuffer(T.PIXEL_PACK_BUFFER),await _.getSubDataAsync(a),_.dispose()}resize(t,e){if(this.width===t&&this.height===e)return;const i={width:t,height:e};R(i,this._context.parameters.maxTextureSize),this._colorAttachments.forEach((t=>t.resize(i.width,i.height))),this._depthStencilTexture?.resize(i.width,i.height),this._initialized&&(R(i,this._context.parameters.maxRenderbufferSize),this._depthBuffer?.resize(i.width,i.height),this._stencilBuffer?.resize(i.width,i.height),this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1)}initializeAndBind(t=_.FRAMEBUFFER){const e=this._context.gl;if(this._initialized)return void e.bindFramebuffer(t,this.glName);this._glName&&e.deleteFramebuffer(this._glName);const i=e.createFramebuffer();e.bindFramebuffer(t,i),this._colorAttachments.forEach(((e,i)=>this._framebufferTexture2D(e.glName,i,N(e),t)));const s=this._depthBuffer||this._stencilBuffer;if(s){const i=this._getGLAttachmentPoint(s.descriptor);e.framebufferRenderbuffer(t,i,e.RENDERBUFFER,s.glName)}else this._depthStencilTexture&&this._framebufferTexture2D(this._depthStencilTexture.glName,e.DEPTH_STENCIL_ATTACHMENT,N(this._depthStencilTexture),t);if(r()){e.checkFramebufferStatus(t)!==e.FRAMEBUFFER_COMPLETE&&console.error(\"Framebuffer is incomplete!\")}this._glName=i,this._initialized=!0}_framebufferTexture2D(t,e=n.COLOR_ATTACHMENT0,i=f.TEXTURE_2D,r=_.FRAMEBUFFER,s=0){this._context.gl.framebufferTexture2D(r,e,i,t,s)}_disposeDepthStencilAttachments(){const t=this._context.gl;if(this._depthBuffer){if(this._initialized){this._context.bindFramebuffer(this);const e=this._getGLAttachmentPoint(this._depthBuffer.descriptor);t.framebufferRenderbuffer(_.FRAMEBUFFER,e,t.RENDERBUFFER,null)}this._depthBuffer=e(this._depthBuffer)}this._stencilBuffer&&(this._initialized&&(this._context.bindFramebuffer(this),t.framebufferRenderbuffer(_.FRAMEBUFFER,t.STENCIL_ATTACHMENT,t.RENDERBUFFER,null)),this._stencilBuffer=e(this._stencilBuffer)),this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,t.DEPTH_STENCIL_ATTACHMENT)),this._depthStencilTexture=e(this._depthStencilTexture))}_validateTextureDescriptor(t){t.target!==f.TEXTURE_2D&&t.target!==f.TEXTURE_CUBE_MAP&&console.error(\"Texture type must be TEXTURE_2D or TEXTURE_CUBE_MAP!\"),R(t,this._context.parameters.maxTextureSize),this._validateBufferDimensions(t)}_validateRenderBufferDescriptor(t){R(t,this._context.parameters.maxRenderbufferSize),this._validateBufferDimensions(t)}_validateBufferDimensions(t){t.width<=0&&(t.width=this.width),t.height<=0&&(t.height=this.height),this.width>0&&this.height>0&&(this.width===t.width&&this.height===t.height||console.error(\"Attachment size must match framebuffer size!\"))}_getGLAttachmentPoint(t){switch(t.internalFormat){case o.DEPTH_COMPONENT16:case o.DEPTH_COMPONENT24:case o.DEPTH_COMPONENT32F:return this._context.gl.DEPTH_ATTACHMENT;case o.DEPTH24_STENCIL8:case o.DEPTH32F_STENCIL8:case o.DEPTH_STENCIL:return this._context.gl.DEPTH_STENCIL_ATTACHMENT;case o.STENCIL_INDEX8:return this._context.gl.STENCIL_ATTACHMENT}}_validateColorAttachmentPoint(e){if(-1===x._MAX_COLOR_ATTACHMENTS){const t=this._context.capabilities.drawBuffers;if(t){const e=this._context.gl;x._MAX_COLOR_ATTACHMENTS=e.getParameter(t.MAX_COLOR_ATTACHMENTS)}else x._MAX_COLOR_ATTACHMENTS=1}const i=e-n.COLOR_ATTACHMENT0;i+1>x._MAX_COLOR_ATTACHMENTS&&t.getLogger(\"esri.views.webgl.FrameBufferObject\").error(\"esri.FrameBufferObject\",`illegal attachment point for color attachment: ${i+1}. Implementation supports up to ${x._MAX_COLOR_ATTACHMENTS} color attachments`)}}function g(t){return null!=t&&\"type\"in t&&t.type===d.Texture}function A(t){return null!=t&&\"type\"in t&&t.type===d.RenderBuffer}function b(t){return g(t)||null!=t&&\"pixelFormat\"in t}function R(t,e){const i=Math.max(t.width,t.height);if(i>e){E.warn(`Resizing FBO attachment size ${t.width}x${t.height} to device limit ${e}`);const r=e/i;return t.width=Math.round(t.width*r),t.height=Math.round(t.height*r),!1}return!0}function N(t){return t.descriptor.target===f.TEXTURE_CUBE_MAP?f.TEXTURE_CUBE_MAP_POSITIVE_X:f.TEXTURE_2D}x._MAX_COLOR_ATTACHMENTS=-1;export{x as FramebufferObject,R as ensureAttachmentMaxSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{nullifyNonNullableForDispose as e}from\"../../core/maybe.js\";import{ContextType as t}from\"./contextUtils.js\";import{ResourceType as r}from\"./enums.js\";import{GLObjectType as s}from\"./GLObjectType.js\";import{estimateMemory as i}from\"./RenderbufferDescriptor.js\";class n{constructor(e,i){this._context=e,this._descriptor=i,this.type=s.RenderBuffer,this._context.instanceCounter.increment(r.Renderbuffer,this);const n=this._context.gl;this.glName=n.createRenderbuffer(),this._context.bindRenderbuffer(this);const{width:o,height:h,internalFormat:c,multisampled:f}=i;if(f){if(this._context.type!==t.WEBGL2)throw new Error(\"Multisampled renderbuffers are not supported in WebGL1!\");n.renderbufferStorageMultisample(n.RENDERBUFFER,this.samples,c,o,h)}else n.renderbufferStorage(n.RENDERBUFFER,c,o,h)}get descriptor(){return this._descriptor}get samples(){const e=this._descriptor.samples,t=this._context.parameters.maxSamples;return e?Math.min(e,t):t}get gpuMemoryUsage(){return i(this._descriptor)}resize(e,t){const r=this._descriptor;if(r.width===e&&r.height===t)return;r.width=e,r.height=t;const s=this._context.gl;if(this._context.bindRenderbuffer(this),r.multisampled){s.renderbufferStorageMultisample(s.RENDERBUFFER,this.samples,r.internalFormat,r.width,r.height)}else s.renderbufferStorage(s.RENDERBUFFER,r.internalFormat,r.width,r.height)}dispose(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(r.Renderbuffer,this),this._context=e(this._context))}}export{n as Renderbuffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{getBytesPerElementFormat as t}from\"./Util.js\";class i{constructor(t,i,h=i){this.internalFormat=t,this.width=i,this.height=h,this.multisampled=!1,this.samples=1}}function h(i){return i.width<=0||i.height<=0||null==i.internalFormat?0:i.width*i.height*t(i.internalFormat)}export{i as RenderbufferDescriptor,h as estimateMemory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Logger.js\";import{disposeMaybe as e,nullifyNonNullableForDispose as i}from\"../../core/maybe.js\";import{typedArrayStaticSize as r}from\"../../core/typedArrayUtil.js\";import{ResourceType as s}from\"./enums.js\";import{bindVertexBufferLayout as n,unbindVertexBufferLayout as o}from\"./Util.js\";const f=t.getLogger(\"esri.views.webgl.VertexArrayObject\");let u=class{constructor(t,e,i,r,n=null){this._context=t,this._locations=e,this._layout=i,this._buffers=r,this._indexBuffer=n,this._glName=null,this._initialized=!1,t.instanceCounter.increment(s.VertexArrayObject,this)}get glName(){return this._glName}get context(){return this._context}get vertexBuffers(){return this._buffers}get indexBuffer(){return this._indexBuffer}get byteSize(){return Object.keys(this._buffers).reduce(((t,e)=>t+this._buffers[e].byteLength),null!=this._indexBuffer?this._indexBuffer.byteLength:0)}get layout(){return this._layout}get locations(){return this._locations}get memoryEstimate(){return this.byteSize+(Object.keys(this._buffers).length+(this._indexBuffer?1:0))*r}dispose(){if(this._context){this._context.getBoundVAO()===this&&this._context.bindVAO(null);for(const t in this._buffers)this._buffers[t]?.dispose(),delete this._buffers[t];this._indexBuffer=e(this._indexBuffer),this.disposeVAOOnly()}else(this._glName||Object.getOwnPropertyNames(this._buffers).length>0)&&f.warn(\"Leaked WebGL VAO\")}disposeVAOOnly(){if(this._glName){const t=this._context?.capabilities?.vao;t.deleteVertexArray(this._glName),this._glName=null}this._context.instanceCounter.decrement(s.VertexArrayObject,this),this._context=i(this._context)}initialize(){if(this._initialized)return;const t=this._context.capabilities.vao;if(t){const e=t.createVertexArray();t.bindVertexArray(e),this._bindLayout(),t.bindVertexArray(null),this._glName=e}this._initialized=!0}bind(){this.initialize();const t=this._context.capabilities.vao;t?t.bindVertexArray(this.glName):(this._context.bindVAO(null),this._bindLayout())}_bindLayout(){const{_buffers:t,_layout:e,_indexBuffer:i}=this;t||f.error(\"Vertex buffer dictionary is empty!\");const r=this._context.gl;for(const s in t){const i=t[s];i||f.error(\"Vertex buffer is uninitialized!\");const r=e[s];r||f.error(\"Vertex element descriptor is empty!\"),n(this._context,this._locations,i,r)}if(null!=i){!!this._context.capabilities.vao?r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,i.glName):this._context.bindBuffer(i)}}unbind(){this.initialize();const t=this._context.capabilities.vao;t?t.bindVertexArray(null):this._unbindLayout()}_unbindLayout(){const{_buffers:t,_layout:e}=this;t||f.error(\"Vertex buffer dictionary is empty!\");for(const i in t){const r=t[i];r||f.error(\"Vertex buffer is uninitialized!\");const s=e[i];o(this._context,this._locations,r,s)}null!=this._indexBuffer&&this._context.unbindBuffer(this._indexBuffer.bufferType)}};export{u as VertexArrayObject};\n"],"names":["h","t","c","e","r","a","type","o","Error","f","i","setSize","constructor","this","_context","bufferType","usage","_glName","_size","_indexType","instanceCounter","increment","u","gl","createBuffer","n","setData","glName","size","indexType","byteLength","_","_isVAOAware","dispose","deleteBuffer","decrement","warn","error","_setBufferData","s","getBoundVAO","bindVAO","bindBuffer","bufferData","setSubData","BYTES_PER_ELEMENT","bufferSubData","length","subarray","getSubData","E","getBufferSubData","unbindBuffer","clientWaitAsync","x","_colorAttachments","Map","_depthBuffer","_stencilBuffer","_depthStencilTexture","_initialized","g","p","set","_validateTextureDescriptor","descriptor","_validateColorAttachmentPoint","b","capabilities","depthTexture","console","d","A","m","internalFormat","_validateRenderBufferDescriptor","getBoundFramebufferObject","forEach","detachColorTexture","detachDepthStencilBuffer","detachDepthStencilTexture","deleteFramebuffer","bindFramebuffer","colorTexture","get","depthStencilAttachment","depthStencilTexture","width","height","gpuMemoryUsage","reduce","getColorTexture","attachColorTexture","_framebufferTexture2D","delete","setColorTextureTarget","attachDepthStencil","_attachDepthStencilTexture","_attachDepthStencilBuffer","pixelFormat","dataType","_disposeDepthStencilAttachments","_getGLAttachmentPoint","framebufferRenderbuffer","RENDERBUFFER","copyToTexture","target","bindTexture","setActiveTexture","copyTexSubImage2D","readPixels","l","T","getSubDataAsync","resize","R","parameters","maxTextureSize","maxRenderbufferSize","initializeAndBind","createFramebuffer","N","DEPTH_STENCIL_ATTACHMENT","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","framebufferTexture2D","STENCIL_ATTACHMENT","_validateBufferDimensions","DEPTH_ATTACHMENT","_MAX_COLOR_ATTACHMENTS","drawBuffers","getParameter","MAX_COLOR_ATTACHMENTS","Math","max","round","_descriptor","createRenderbuffer","bindRenderbuffer","multisampled","renderbufferStorageMultisample","samples","renderbufferStorage","maxSamples","min","deleteRenderbuffer","_locations","_layout","_buffers","_indexBuffer","context","vertexBuffers","indexBuffer","byteSize","Object","keys","layout","locations","memoryEstimate","disposeVAOOnly","getOwnPropertyNames","vao","deleteVertexArray","initialize","createVertexArray","bindVertexArray","_bindLayout","bind","ELEMENT_ARRAY_BUFFER","unbind","_unbindLayout"],"sourceRoot":""}