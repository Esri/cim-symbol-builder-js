"use strict";(globalThis.webpackChunkmy_app=globalThis.webpackChunkmy_app||[]).push([[7751],{41978:(t,e,s)=>{s.d(e,{AM:()=>f});var i=s(27366),r=s(85015),n=s(93169),a=s(84652),o=s(32718),c=s(49861),l=(s(25243),s(69912)),h=s(85411),u=s(32551);const d=-1;let f=class extends r.Z{constructor(t){super(t),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=(0,n.Z)("mapview-transitions-duration"),this.effects=[]}set effect(t){if(this._get("effect")!==(t=t||"")){this._set("effect",t);try{this._transitionTo(p(t))}catch(e){this._transitionTo([]),o.Z.getLogger(this.declaredClass).warn("Invalid Effect",{effect:t,error:e})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(t){this._updateForScale(t)}get transitioning(){return null!==this._to}canTransitionTo(t){try{return this.scale>0&&v(this._current,p(t),this.scale)}catch{return!1}}transitionStep(t,e){this._applyTimeTransition(t),this._updateForScale(e)}endTransitions(){this._applyTimeTransition(this.duration)}_transitionTo(t){this.scale>0&&v(this._current,t,this.scale)?(this._final=t,this._to=(0,a.d9)(t),function(t,e,s){const i=t.length>e.length?t:e,r=t.length>e.length?e:t,n=r[r.length-1],a=n?.scale??s,o=n?.effects??[];for(let c=r.length;c<i.length;c++)r.push({scale:a,effects:[...o]});for(let c=0;c<i.length;c++)r[c].scale=r[c].scale===d?s:r[c].scale,i[c].scale=i[c].scale===d?s:i[c].scale,(0,u.uF)(r[c].effects,i[c].effects)}(this._current,this._to,this.scale),this._from=(0,a.d9)(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=t),this._set("effects",this._current[0]?(0,a.d9)(this._current[0].effects):[])}_applyTimeTransition(t){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=t;const e=Math.min(1,this._time/this.duration);for(let s=0;s<this._current.length;s++){const t=this._current[s],i=this._from[s],r=this._to[s];t.scale=_(i.scale,r.scale,e);for(let s=0;s<t.effects.length;s++){const n=t.effects[s],a=i.effects[s],o=r.effects[s];n.interpolate(a,o,e)}}1===e&&(this._current=this._final,this._set("effects",this._current[0]?(0,a.d9)(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(t){if(this._set("scale",t),0===this._current.length)return;const e=this._current,s=this._current.length-1;let i,r,n=1;if(1===e.length||t>=e[0].scale)r=i=e[0].effects;else if(t<=e[s].scale)r=i=e[s].effects;else for(let a=0;a<s;a++){const s=e[a],o=e[a+1];if(s.scale>=t&&o.scale<=t){n=(t-s.scale)/(o.scale-s.scale),i=s.effects,r=o.effects;break}}for(let a=0;a<this.effects.length;a++)this.effects[a].interpolate(i[a],r[a],n)}};function p(t){const e=(0,h.Q)(t)||[];return function(t){const e=t[0];return!!e&&"type"in e}(e)?[{scale:d,effects:e}]:e}function v(t,e,s){return!t[0]?.effects||!e[0]?.effects||!((t[0]?.scale===d||e[0]?.scale===d)&&(t.length>1||e.length>1)&&s<=0)&&(0,u.AS)(t[0].effects,e[0].effects)}function _(t,e,s){return t+(e-t)*s}(0,i._)([(0,c.Cb)()],f.prototype,"_to",void 0),(0,i._)([(0,c.Cb)()],f.prototype,"duration",void 0),(0,i._)([(0,c.Cb)({value:""})],f.prototype,"effect",null),(0,i._)([(0,c.Cb)({readOnly:!0})],f.prototype,"effects",void 0),(0,i._)([(0,c.Cb)({readOnly:!0})],f.prototype,"hasEffects",null),(0,i._)([(0,c.Cb)({value:0})],f.prototype,"scale",null),(0,i._)([(0,c.Cb)({readOnly:!0})],f.prototype,"transitioning",null),f=(0,i._)([(0,l.j)("esri.layers.effects.EffectView")],f)},33624:(t,e,s)=>{s.d(e,{W:()=>a});var i=s(23588),r=s(41978),n=s(87422);class a extends n.s{constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this.children=[],this._effectView=null}get blendMode(){return this._blendMode}set blendMode(t){this._blendMode=t,this.requestRender()}get clips(){return this._clips}set clips(t){this._clips=t,this.children.forEach((e=>e.clips=t))}get computedEffects(){return this._effectView?.effects??null}get effect(){return this._effectView?.effect??""}set effect(t){(this._effectView||t)&&(this._effectView||(this._effectView=new r.AM),this._effectView.effect=t,this.requestRender())}updateTransitionProperties(t,e){super.updateTransitionProperties(t,e),this._effectView&&(this._effectView.transitionStep(t,e),this._effectView.transitioning&&this.requestRender())}doRender(t){const e=this.createRenderParams(t);this.renderChildren(e)}addChild(t){return this.addChildAt(t,this.children.length)}addChildAt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.children.length;if(!t)return t;if(this.contains(t))return t;this._needsSort=!0;const s=t.parent;return s&&s!==this&&s.removeChild(t),e>=this.children.length?this.children.push(t):this.children.splice(e,0,t),this._childrenSet.add(t),t.parent=this,t.stage=this.stage,this!==this.stage&&(t.clips=this.clips),this.requestRender(),t}contains(t){return this._childrenSet.has(t)}endTransitions(){super.endTransitions(),this._effectView&&(this._effectView.endTransitions(),this.requestRender())}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const t of this.children)this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null;this.children.length=0}removeChild(t){return this.contains(t)?this.removeChildAt(this.children.indexOf(t)):t}removeChildAt(t){if(t<0||t>=this.children.length)return null;this._needsSort=!0;const e=this.children.splice(t,1)[0];return this._childrenSet.delete(e),this!==this.stage&&(e.clips=null),e.stage=null,e.parent=null,e}sortChildren(t){this._needsSort&&(this.children.sort(t),this._needsSort=!1)}beforeRender(t){super.beforeRender(t);for(const e of this.children)e.beforeRender(t)}afterRender(t){super.afterRender(t);for(const e of this.children)e.afterRender(t)}_createTransforms(){return{dvs:(0,i.c)()}}onAttach(){super.onAttach();const t=this.stage;for(const e of this.children)e.stage=t}onDetach(){super.onDetach();for(const t of this.children)t.stage=null}renderChildren(t){for(const e of this.children)e.processRender(t)}createRenderParams(t){return{...t,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:t.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition}}}},87422:(t,e,s)=>{s.d(e,{s:()=>c});var i=s(91505),r=s(93169),n=s(92026),a=s(66978);const o=1/(0,r.Z)("mapview-transitions-duration");class c extends i.Z{constructor(){super(...arguments),this._fadeOutResolver=null,this._fadeInResolver=null,this._clips=null,this.computedVisible=!0,this.computedOpacity=1,this.fadeTransitionEnabled=!1,this.inFadeTransition=!1,this._isReady=!1,this._opacity=1,this._stage=null,this._visible=!0}get clips(){return this._clips}set clips(t){this._clips=t,this.requestRender()}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(t){this._opacity!==t&&(this._opacity=Math.min(1,Math.max(t,0)),this.requestRender())}get stage(){return this._stage}set stage(t){if(this._stage===t)return;const e=this._stage;this._stage=t,t?this._stage.untrashDisplayObject(this)||(this.onAttach(),this.emit("attach")):e.trashDisplayObject(this)}get transforms(){return this._getTransforms()}_getTransforms(){return(0,n.Wi)(this._transforms)&&(this._transforms=this._createTransforms()),this._transforms}get visible(){return this._visible}set visible(t){this._visible!==t&&(this._visible=t,this.requestRender())}fadeIn(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.opacity=1,this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=(0,a.hh)(),this.requestRender()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this.opacity=0,this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=(0,a.hh)(),this.requestRender()),this._fadeOutResolver.promise}endTransitions(){this._fadeInResolver?.(),this._fadeInResolver=null,this._fadeOutResolver?.(),this._fadeOutResolver=null,this.computedOpacity=this.visible?this.opacity:0,this.requestRender()}beforeRender(t){this.updateTransitionProperties(t.deltaTime,t.state.scale)}afterRender(t){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}remove(){this.parent?.removeChild(this)}setTransform(t){}processRender(t){this.stage&&this.computedVisible&&this.doRender(t)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.onDetach(),this.emit("detach")}updateTransitionProperties(t,e){if(this.fadeTransitionEnabled){const e=this._fadeOutResolver||!this.visible?0:this.opacity,s=this.computedOpacity;if(s===e)this.computedVisible=this.visible;else{const i=t*o;this.computedOpacity=s>e?Math.max(e,s-i):Math.min(e,s+i),this.computedVisible=this.computedOpacity>0;const r=e===this.computedOpacity;this.inFadeTransition=!r,r||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}onAttach(){}onDetach(){}doRender(t){}ready(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())}}},46640:(t,e,s)=>{s.d(e,{mR:()=>Z,C$:()=>z,e2:()=>B,Jq:()=>ft,wO:()=>Y,Mk:()=>X,cM:()=>Q,Z_:()=>tt,ws:()=>W,xV:()=>H,Ub:()=>dt,UK:()=>$,Yw:()=>q,$_:()=>b,Gr:()=>it,nU:()=>G,Ll:()=>ct,$K:()=>x,DQ:()=>nt,HX:()=>st,yP:()=>vt,hj:()=>P,iw:()=>ot,TB:()=>ht,sG:()=>et,Gg:()=>lt,js:()=>ut,Y8:()=>F});var i=s(10064),r=s(32718),n=(s(16889),s(48202)),a=(s(65800),s(80613)),o=s(13005);class c{constructor(){this.color=[0,0,0,0],this.haloColor=[0,0,0,0],this.haloSize=0,this.size=12,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}acquire(t,e,s,i,r,n,a,o,c){this.color=t,this.haloColor=e,this.haloSize=s,this.size=i,this.angle=r,this.offsetX=n,this.offsetY=a,this.hAnchor=o,this.vAnchor=c}release(){this.color[0]=this.color[1]=this.color[2]=this.color[3]=0,this.haloColor[0]=this.haloColor[1]=this.haloColor[2]=this.haloColor[3]=0,this.haloSize=0,this.size=0,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}}c.pool=new o.Z(c);var l=s(8548),h=(s(51378),s(61109));const u=r.Z.getLogger("esri.views.2d.engine.webgl.Utils"),d="geometry",f=[{name:d,strideInBytes:12}],p=[{name:d,strideInBytes:36}],v=[{name:d,strideInBytes:24}],_=[{name:d,strideInBytes:12}],S=[{name:d,strideInBytes:40}],y=[{name:d,strideInBytes:36}],g=[{name:d,strideInBytes:36}];function m(t){const e={};for(const s of t)e[s.name]=s.strideInBytes;return e}const T=m([{name:d,strideInBytes:36}]),E=m(f),L=m(p),I=m(v),R=m(_),O=m(S),A=m(y),V=m(g);function b(t,e){switch(t){case a.LW.MARKER:return e===a.mD.HEATMAP?E:T;case a.LW.FILL:switch(e){case a.mD.DOT_DENSITY:return R;case a.mD.SIMPLE:case a.mD.OUTLINE_FILL_SIMPLE:return I;default:return L}case a.LW.LINE:return O;case a.LW.TEXT:return A;case a.LW.LABEL:return V}}const M=[d],N=[d],C=[d],U=[d],D=[d];function w(t){switch(t){case a.LW.MARKER:return M;case a.LW.FILL:return N;case a.LW.LINE:return C;case a.LW.TEXT:return U;case a.LW.LABEL:return D}}function F(t){switch(t%4){case 0:case 2:return 4;case 1:case 3:return 1}}function z(t,e){switch(e%4){case 0:case 2:return new Uint32Array(Math.floor(t*e/4));case 1:case 3:return new Uint8Array(t*e)}}function B(t,e){switch(e%4){case 0:case 2:return new Uint32Array(t);case 1:case 3:return new Uint8Array(t)}}function x(t){return null!=t}function P(t){return"number"==typeof t}function W(t){switch(t){case"butt":return n.RL.BUTT;case"round":return n.RL.ROUND;case"square":return n.RL.SQUARE;default:return u.error(new i.Z("mapview-invalid-type",`Cap type ${t} is not a valid option. Defaulting to round`)),n.RL.ROUND}}function H(t){switch(t){case"miter":return n.AH.MITER;case"bevel":return n.AH.BEVEL;case"round":return n.AH.ROUND;default:return u.error(new i.Z("mapview-invalid-type",`Join type ${t} is not a valid option. Defaulting to round`)),n.AH.ROUND}}function G(t){switch(t){case"opacity":return a.pc.OPACITY;case"color":return a.pc.COLOR;case"rotation":return a.pc.ROTATION;case"size":return a.pc.SIZE;default:return u.error(`Cannot interpret unknown vv: ${t}`),null}}function Y(t,e,s,i,r,n,a){for(const c in n){const e=n[c].stride,i=F(e),a=n[c].data,o=s[c].data,l=e*r.vertexCount/i,h=e*t/i,u=e*r.vertexFrom/i;for(let t=0;t<l;++t)o[t+h]=a[t+u]}const o=r.indexCount;for(let c=0;c<o;++c)i[c+e]=a[c+r.indexFrom]-r.vertexFrom+t}const Z={[d]:l.l1.STATIC_DRAW};function X(t,e){const s=[];for(let i=0;i<5;++i){const r=w(i),n={};for(const t of r)n[t]={data:e(i,t)};s.push({data:t(i),buffers:n})}return s}function k(t){switch(t){case l.g.BYTE:case l.g.UNSIGNED_BYTE:return 1;case l.g.SHORT:case l.g.UNSIGNED_SHORT:return 2;case l.g.FLOAT:case l.g.INT:case l.g.UNSIGNED_INT:return 4}}function q(t){switch(t){case l.Br.UNSIGNED_BYTE:return 1;case l.Br.UNSIGNED_SHORT_4_4_4_4:return 2;case l.Br.FLOAT:return 4;default:return void u.error(new i.Z("webgl-utils",`Unable to handle type ${t}`))}}function $(t){switch(t){case l.Br.UNSIGNED_BYTE:return Uint8Array;case l.Br.UNSIGNED_SHORT_4_4_4_4:return Uint16Array;case l.Br.FLOAT:return Float32Array;default:return void u.error(new i.Z("webgl-utils",`Unable to handle type ${t}`))}}const K=t=>{const e=new Map;for(const s in t)for(const i of t[s])e.set(i.name,i.location);return e},j=t=>{const e={};for(const s in t){const i=t[s];e[s]=i.length?i[0].stride:0}return e},J=new Map,Q=(t,e)=>{if(!J.has(t)){const s=function(t){const e={};for(const s in t){const i=t[s];let r=0;e[s]=i.map((t=>{const e=new h.G(t.name,t.count,t.type,r,0,t.normalized||!1);return r+=t.count*k(t.type),e})),e[s].forEach((t=>t.stride=r))}return e}(e),i={strides:j(s),bufferLayouts:s,attributes:K(e)};J.set(t,i)}return J.get(t)};function tt(t){t(a.LW.FILL),t(a.LW.LINE),t(a.LW.MARKER),t(a.LW.TEXT),t(a.LW.LABEL)}const et=t=>"path"in t&&pt(t.path),st=t=>"url"in t&&t.url||"imageData"in t&&t.imageData,it=t=>"imageData"in t&&t.imageData&&"contentType"in t&&t.contentType?`data:${t.contentType};base64,${t.imageData}`:"url"in t?t.url:null,rt=t=>t.startsWith("data:image/gif"),nt=t=>"url"in t&&t.url&&(t.url.includes(".gif")||rt(t.url))||"contentType"in t&&"image/gif"===t.contentType||"imageData"in t&&rt(t.imageData),at=t=>t.startsWith("data:image/png"),ot=t=>"url"in t&&t.url&&(t.url.includes(".png")||at(t.url))||"contentType"in t&&"image/png"===t.contentType||"imageData"in t&&at(t.imageData),ct=t=>t.type&&t.type.toLowerCase().includes("3d");function lt(t){switch(t.type){case"line":{const e=t;return"CIMSolidStroke"===e.cim.type&&!e.dashTemplate}case"fill":return"CIMSolidFill"===t.cim.type;case"esriSFS":return"esriSFSSolid"===t.style||"esriSFSNull"===t.style;case"esriSLS":return"esriSLSSolid"===t.style||"esriSLSNull"===t.style;default:return!1}}const ht=t=>t.includes("data:image/svg+xml");function ut(t){switch("cim"in t?t.cim.type:t.type){case"esriSMS":case"esriPMS":case"CIMPointSymbol":return!1;case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":return vt(t);default:return!0}}function dt(t){const e="maxVVSize"in t&&t.maxVVSize,s="width"in t&&t.width||"size"in t&&t.size||0;return e||s}function ft(t){const e=[];for(let s=0;s<t.length;s++)e.push(t.charCodeAt(s));return e}const pt=t=>!!t&&(t=t.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4)),vt=t=>"fill"===t.type&&"CIMMarkerPlacementInsidePolygon"===t?.cim?.markerPlacement?.type},65800:(t,e,s)=>{s.d(e,{Vs:()=>c,aH:()=>o,pr:()=>n,t2:()=>a});var i=s(92026),r=s(73271);function n(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=t[e+3];return t[e+0]*=i,t[e+1]*=i,t[e+2]*=i,s||(t[e+3]*=255),t}function a(t){if(!t)return 0;const{r:e,g:s,b:i,a:n}=t;return(0,r.Jz)(e*n,s*n,i*n,255*n)}function o(t){if(!t)return 0;const[e,s,i,n]=t;return(0,r.Jz)(e*(n/255),s*(n/255),i*(n/255),n)}function c(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((0,i.Wi)(e))return t[s+0]=0,t[s+1]=0,t[s+2]=0,void(t[s+3]=0);const{r:r,g:n,b:a,a:o}=e;t[s+0]=r*o/255,t[s+1]=n*o/255,t[s+2]=a*o/255,t[s+3]=o}},80613:(t,e,s)=>{var i,r,n,a,o,c,l,h;s.d(e,{LW:()=>i,Un:()=>l,X:()=>o,jx:()=>n,mD:()=>h,mf:()=>c,pc:()=>a}),function(t){t[t.FILL=0]="FILL",t[t.LINE=1]="LINE",t[t.MARKER=2]="MARKER",t[t.TEXT=3]="TEXT",t[t.LABEL=4]="LABEL"}(i||(i={})),function(t){t[t.SUCCEEDED=0]="SUCCEEDED",t[t.FAILED_OUT_OF_MEMORY=1]="FAILED_OUT_OF_MEMORY"}(r||(r={})),function(t){t[t.NONE=0]="NONE",t[t.MAP=1]="MAP",t[t.LABEL=2]="LABEL",t[t.LABEL_ALPHA=4]="LABEL_ALPHA",t[t.HITTEST=8]="HITTEST",t[t.HIGHLIGHT=16]="HIGHLIGHT",t[t.CLIP=32]="CLIP",t[t.DEBUG=64]="DEBUG",t[t.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(n||(n={})),function(t){t[t.SIZE=0]="SIZE",t[t.COLOR=1]="COLOR",t[t.OPACITY=2]="OPACITY",t[t.ROTATION=3]="ROTATION"}(a||(a={})),function(t){t[t.NONE=0]="NONE",t[t.OPACITY=1]="OPACITY",t[t.COLOR=2]="COLOR",t[t.ROTATION=4]="ROTATION",t[t.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",t[t.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",t[t.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",t[t.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(o||(o={})),function(t){t[t.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",t[t.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",t[t.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",t[t.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(c||(c={})),function(t){t[t.SPRITE=0]="SPRITE",t[t.GLYPH=1]="GLYPH"}(l||(l={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.SIMPLE=1]="SIMPLE",t[t.DOT_DENSITY=2]="DOT_DENSITY",t[t.OUTLINE_FILL=3]="OUTLINE_FILL",t[t.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",t[t.HEATMAP=5]="HEATMAP",t[t.PIE_CHART=6]="PIE_CHART"}(h||(h={}))},54815:(t,e,s)=>{s.d(e,{CA:()=>l,Gq:()=>T,Xp:()=>c,a:()=>g,dk:()=>S,hF:()=>u,jj:()=>h,jy:()=>o,m2:()=>d,mE:()=>y,qr:()=>m});var i=s(10064),r=s(38999),n=s(80613);const a=Object.keys(n.mD).filter((t=>"number"==typeof n.mD[t])).reduce(((t,e)=>({...t,[e]:n.mD[e]})),{});function o(t){return t===n.mD.OUTLINE_FILL||t===n.mD.OUTLINE_FILL_SIMPLE}function c(t){return function(t){return t===n.mD.SIMPLE||t===n.mD.OUTLINE_FILL_SIMPLE}(t.symbologyType)}function l(t){return o(t.symbologyType)}function h(t,e){switch(t){case n.LW.FILL:return S.from(e);case n.LW.LINE:return g.from(e);case n.LW.MARKER:return y.from(e);case n.LW.TEXT:return m.from(e);case n.LW.LABEL:return T.from(e);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${t}`)}}function u(t){switch(d.load(t).geometryType){case n.LW.MARKER:return new y(t);case n.LW.FILL:return new S(t);case n.LW.LINE:return new g(t);case n.LW.TEXT:return new m(t);case n.LW.LABEL:return new T(t)}}class d{constructor(t){this._data=0,this._data=t}static load(t){const e=this.shared;return e.data=t,e}set data(t){this._data=t}get data(){return this._data}get geometryType(){return this.bits(8,11)}set geometryType(t){this.setBits(t,8,11)}get mapAligned(){return!!this.bit(20)}set mapAligned(t){this.setBit(20,t)}get sdf(){return!!this.bit(11)}set sdf(t){this.setBit(11,t)}get pattern(){return!!this.bit(12)}set pattern(t){this.setBit(12,t)}get textureBinding(){return this.bits(0,8)}set textureBinding(t){this.setBits(t,0,8)}get symbologyType(){return this.bits(21,26)}set symbologyType(t){this.setBits(t,21,26)}get geometryTypeString(){switch(this.geometryType){case n.LW.FILL:return"fill";case n.LW.MARKER:return"marker";case n.LW.LINE:return"line";case n.LW.TEXT:return"text";case n.LW.LABEL:return"label";default:throw new i.Z(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(t,e){const s=1<<t;e?this._data|=s:this._data&=~s}bit(t){return(this._data&1<<t)>>t}setBits(t,e,s){for(let i=e,r=0;i<s;i++,r++)this.setBit(i,0!=(t&1<<r))}bits(t,e){let s=0;for(let i=t,r=0;i<e;i++,r++)s|=this.bit(i)<<r;return s}hasVV(){return!1}setVV(t,e){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf,symbologyType:{value:n.mD[this.symbologyType],options:a,namespace:"SYMBOLOGY_TYPE"}}}getVariationHash(){return this._data&~(7&this.textureBinding)}}d.shared=new d(0);const f=t=>class extends t{get vvSizeMinMaxValue(){return 0!==this.bit(16)}set vvSizeMinMaxValue(t){this.setBit(16,t)}get vvSizeScaleStops(){return 0!==this.bit(17)}set vvSizeScaleStops(t){this.setBit(17,t)}get vvSizeFieldStops(){return 0!==this.bit(18)}set vvSizeFieldStops(t){this.setBit(18,t)}get vvSizeUnitValue(){return 0!==this.bit(19)}set vvSizeUnitValue(t){this.setBit(19,t)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(t,e){super.setVV(t,e);const s=function(t,e,s){const i=n.X.SIZE_FIELD_STOPS|n.X.SIZE_MINMAX_VALUE|n.X.SIZE_SCALE_STOPS|n.X.SIZE_UNIT_VALUE,r=(e&(n.mf.FIELD_TARGETS_OUTLINE|n.mf.MINMAX_TARGETS_OUTLINE|n.mf.SCALE_TARGETS_OUTLINE|n.mf.UNIT_TARGETS_OUTLINE))>>>4;return t===n.LW.LINE&&s.isOutline||t===n.LW.FILL&&o(s.symbologyType)?i&r:i&~r}(this.geometryType,t,e)&t;this.vvSizeMinMaxValue=!!(s&n.X.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(s&n.X.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(s&n.X.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(s&n.X.SIZE_SCALE_STOPS)}},p=t=>class extends t{get vvRotation(){return 0!==this.bit(15)}set vvRotation(t){this.setBit(15,t)}hasVV(){return super.hasVV()||this.vvRotation}setVV(t,e){super.setVV(t,e),this.vvRotation=!e.isOutline&&!!(t&n.X.ROTATION)}},v=t=>class extends t{get vvColor(){return 0!==this.bit(13)}set vvColor(t){this.setBit(13,t)}hasVV(){return super.hasVV()||this.vvColor}setVV(t,e){super.setVV(t,e),this.vvColor=!e.isOutline&&!!(t&n.X.COLOR)}},_=t=>class extends t{get vvOpacity(){return 0!==this.bit(14)}set vvOpacity(t){this.setBit(14,t)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(t,e){super.setVV(t,e),this.vvOpacity=!e.isOutline&&!!(t&n.X.OPACITY)}};class S extends(v(_(f(d)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const{symbologyType:e,vvFlags:s}=t,i=this.load(0);return i.geometryType=n.LW.FILL,i.symbologyType=e,e!==n.mD.DOT_DENSITY&&i.setVV(s,t),i.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}S.shared=new S(0);class y extends(v(_(p(f(d))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const{symbologyType:e,vvFlags:s}=t,i=this.load(0);return i.geometryType=n.LW.MARKER,i.symbologyType=e,e!==n.mD.HEATMAP&&i.setVV(s,t),i.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}y.shared=new y(0);class g extends(v(_(f(d)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=n.LW.LINE,e.symbologyType=t.symbologyType,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}g.shared=new g(0);class m extends(v(_(p(f(d))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=n.LW.TEXT,e.symbologyType=t.symbologyType,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}m.shared=new m(0);class T extends(f(d)){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=n.LW.LABEL,e.symbologyType=t.symbologyType,e.setVV(t.vvFlags,t),e.mapAligned=(0,r.NS)(t.placement),e.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}T.shared=new T(0)},10435:(t,e,s)=>{s.d(e,{v:()=>r});var i=s(92026);class r{static getStorageSpec(t){return null}static createOrUpdateRendererSchema(t,e){return(0,i.pC)(t)&&"default"===t.type?t:{type:"default"}}static getVariation(t){return{}}static getVariationHash(t){return 0}}r.type="default",r.programSpec=null},8848:(t,e,s)=>{s.d(e,{t4:()=>S,a1:()=>g,EJ:()=>y});var i=s(10064),r=s(80613),n=s(54815),a=s(10435),o=s(92026),c=s(65800),l=s(94109),h=s(8548);class u extends a.v{static getStorageSpec(t){let{attributes:e}=t;return{visualVariables:!1,attributes:e??null}}static _createRendererSchema(){return{type:"dot-density",colors:new Float32Array(32),dotValue:-1,dotSize:-1,dotScale:-1,dotBlending:!1,backgroundColor:new Float32Array(4),activeDots:new Float32Array(8),seed:-1}}static createOrUpdateRendererSchema(t,e){const{attributes:s,dotValue:i,referenceScale:r,dotSize:n,dotBlendingEnabled:a,seed:h,backgroundColor:u}=e,d=(0,o.pC)(t)&&"dot-density"===t.type?t:this._createRendererSchema();d.dotValue=i,d.dotSize=n,d.dotScale=r,d.dotBlending=a,d.seed=h;const{colors:f,activeDots:p,backgroundColor:v}=d;for(let o=0;o<l.$0;o++){const t=o>=s.length?null:s[o].color;(0,c.Vs)(f,t,4*o)}for(let o=0;o<8;o++)p[o]=o<e.attributes.length?1:0;return(0,c.Vs)(v,u),d}static getVariation(t){return{ddDotBlending:t.dotBlending}}static getVariationHash(t){return t.dotBlending?1:0}}u.type="dot-density",u.programSpec={shader:"materials/fill",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:h.g.SHORT},{location:1,name:"a_id",count:3,type:h.g.UNSIGNED_BYTE},{location:2,name:"a_bitset",count:1,type:h.g.UNSIGNED_BYTE},{location:3,name:"a_inverseArea",count:1,type:h.g.FLOAT}]}};var d=s(17842),f=s(27811);class p extends a.v{static getStorageSpec(t){let{field:e,valueExpression:s}=t;return{visualVariables:!1,attributes:e||s?[{field:e,valueExpression:s}]:null}}static _createRendererSchema(){return{type:"heatmap",radius:-1,referenceScale:-1,isFieldActive:0,minDensity:-1,densityRange:-1,kernel:null,gradient:null,gradientHash:"invalid"}}static createOrUpdateRendererSchema(t,e){const{radius:s,minDensity:i,maxDensity:r,referenceScale:n,field:a,valueExpression:c,colorStops:l}=e,h=r-i,u=a||c?1:0,p=l.map((t=>{let{color:e,ratio:s}=t;return`${s}:${e.toString()}`})).join();let v,_=!0;return(0,o.pC)(t)&&"heatmap"===t.type?(v=t,_=p!==t.gradientHash):v=this._createRendererSchema(),v.radius=(0,d.F2)(s),v.minDensity=i,v.densityRange=h,v.referenceScale=n,v.isFieldActive=u,_&&(v.gradient=(0,f.uI)(l),v.gradientHash=p),v}}p.type="heatmap",p.programSpec={shader:"materials/icon/heatmapAccumulate",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:h.g.SHORT},{location:1,name:"a_vertexOffset",count:2,type:h.g.SHORT},{location:4,name:"a_id",count:4,type:h.g.UNSIGNED_BYTE}]}};var v=s(51995);class _ extends a.v{static getStorageSpec(t){let{attributes:e}=t;return{visualVariables:!0,attributes:e??null}}static _createRendererSchema(){return{type:"pie-chart",colors:new Float32Array(4*l.eV),defaultColor:new Float32Array(4),othersColor:new Float32Array(4),outlineColor:new Float32Array(4),holePercentage:0,sectorThreshold:0,outlineWidth:1,numberOfFields:10}}static createOrUpdateRendererSchema(t,e){const{attributes:s,defaultColor:i,holePercentage:r,othersCategory:n,outline:a}=e,h=(0,o.pC)(t)&&"pie-chart"===t.type?t:this._createRendererSchema();for(let o=0;o<l.eV;o++){const t=o>=s.length?new v.Z([0,0,0,0]):s[o].color;(0,c.Vs)(h.colors,t,4*o)}return(0,c.Vs)(h.defaultColor,i),(0,c.Vs)(h.othersColor,n?.color),(0,c.Vs)(h.outlineColor,a?.color),h.outlineWidth=(0,d.F2)(a?.width||0),h.holePercentage=r,h.sectorThreshold=n?.threshold||0,h.numberOfFields=s.length,h}static getVariation(t){return{numberOfFields:t.numberOfFields}}static getVariationHash(t){return t.numberOfFields}}function S(t,e){if(t.type!==e)throw new i.Z("material-view-model:unexpected-renderer-schema",`expected to find renderer schema of type "${e}" but found type "${t.type}"`)}function y(t){switch(t?.type){case"dot-density":return u;case"heatmap":return p;case"pie-chart":return _;default:return a.v}}function g(t){const{geometryType:e,symbologyType:s}=n.m2.load(t);switch(e){case r.LW.FILL:if(s===r.mD.DOT_DENSITY)return u;break;case r.LW.MARKER:switch(s){case r.mD.HEATMAP:return p;case r.mD.PIE_CHART:return _}}return a.v}_.type="pie-chart",_.programSpec={shader:"materials/pie",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:h.g.SHORT},{location:1,name:"a_vertexOffset",count:2,type:h.g.SHORT},{location:2,name:"a_texCoords",count:2,type:h.g.UNSIGNED_SHORT},{location:3,name:"a_bitSetAndDistRatio",count:2,type:h.g.UNSIGNED_SHORT},{location:4,name:"a_id",count:4,type:h.g.UNSIGNED_BYTE},{location:5,name:"a_color",count:4,type:h.g.UNSIGNED_BYTE,normalized:!0},{location:6,name:"a_outlineColor",count:4,type:h.g.UNSIGNED_BYTE,normalized:!0},{location:7,name:"a_sizeAndOutlineWidth",count:4,type:h.g.UNSIGNED_BYTE},{location:8,name:"a_zoomRange",count:2,type:h.g.UNSIGNED_SHORT}]},hittestAttributes:["a_vertexOffset","a_texCoords"]}},61109:(t,e,s)=>{s.d(e,{G:()=>i});class i{constructor(t,e,s,i,r){let n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;this.name=t,this.count=e,this.type=s,this.offset=i,this.stride=r,this.normalized=n,this.divisor=a}}}}]);
//# sourceMappingURL=7751.a1a93215.chunk.js.map