{"version":3,"sources":["../node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js","../node_modules/@arcgis/core/views/2d/layers/features/schemaUtils.js","../node_modules/@arcgis/core/views/2d/engine/webgl/util/vvFlagUtils.js","../node_modules/@arcgis/core/views/2d/layers/support/util.js","../node_modules/@arcgis/core/core/MD5.js","../node_modules/@arcgis/core/views/2d/layers/features/support/pixelBuffering.js","../node_modules/@arcgis/core/views/2d/layers/features/support/rendererUtils.js","../node_modules/@arcgis/core/views/2d/engine/LevelDependentSizeVariable.js","../node_modules/@arcgis/core/views/2d/layers/support/clusterUtils.js"],"names":["c","u","g","e","t","isWrappable","n","i","o","r","p","h","y","geometry","type","x","glyphMosaicItems","length","text","f","scale","font","size","m","angle","xOffset","xoffset","yOffset","yoffset","hAlign","s","horizontalAlignment","vAlign","l","verticalAlignment","maxLineWidth","Math","max","min","lineWidth","lineHeight","a","decoration","isCIM","bounds","halfWidth","halfHeight","width","height","d","xmin","ymin","xmax","ymax","spatialReference","rings","v","getLogger","w","S","esriGeometryPoint","esriGeometryPolygon","esriGeometryPolyline","esriGeometryMultipoint","F","E","color","toJSON","placement","style","I","NONE","target","COLOR","OPACITY","ROTATION","visualVariables","getSymbols","backgroundFillSymbol","push","outline","vvFlags","maxVVSize","supportsOutlineFills","stride","fill","z","j","FILL","isOutlinedFill","clone","materialKey","hash","LINE","isOutline","layers","reduce","R","MARKER","N","marker","T","TEXT","O","LABEL","labelPlacement","M","rendererKey","data","Error","K","some","symbol","warn","error","k","B","console","debug","L","Array","indexCount","fields","featureReduction","subtypeField","renderers","mapping","classes","aggregateFields","attributes","storage","mesh","matcher","aggregateMatcher","labels","sortKey","Set","renderer","subtypeCode","labelingInfo","labelsVisible","sublayers","_","Q","has","add","map","G","blurRadius","fieldOffset","field","$","resultType","X","geometryType","b","order","valueExpression","fieldIndex","q","W","orderBy","H","A","U","C","aggregate","name","input","filters","params","clusterRadius","clusterPixelBuffer","ceil","clusterMaxSize","J","D","P","source","definitionExpression","gdbVersion","historicMoment","getTime","outFields","availableFields","pixelBuffer","timeExtent","customParameters","processors","targets","fieldName","context","filter","featureEffect","feature","JSON","stringify","label","labelExpression","labelExpressionInfo","expression","where","index","outStatistic","statisticType","onStatisticField","onStatisticValueExpression","onStatisticNormalizationField","inField","inNormalizationField","inFieldIndex","binding","Y","normalizationField","valueRepresentation","Z","ee","use","normalizationType","classBreakInfos","minValue","maxValue","sort","defaultSymbol","intervals","normalizationTotal","isMaxInclusive","te","uniqueValueInfos","value","field2","field3","fieldDelimiter","re","ie","esriGeometryMultiPatch","bandCount","attributeTable","colormap","pixelType","rasterInfo","Base64","Hex","String","Raw","charCodeAt","fromCharCode","join","charAt","cim","hasVisualVariables","getVisualVariablesForType","transformationType","stops","maxSize","minSize","async","round","Promise","all","sdf","code","metrics","rect","page","textureBinding","sqrt","abs","getEnvelope","fetchCIMSymbol","pop","opacity","splice","writeLevels","this","levels","axis","valueExpressionTitle","maxDataValue","minDataValue","useSymbolValue","valueUnit","legendOptions","prototype","forEach","dynamicClusterSize","Object","keys","clusterMinSize","toLowerCase"],"mappings":"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","file":"static/js/7.9ef791e8.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{bidiText as e}from\"../../../../core/BidiText.js\";import{unwrap as t}from\"../../../../core/maybe.js\";import{pt2px as n}from\"../../../../core/screenUtils.js\";import i from\"../../../../geometry/Polygon.js\";import{create as r}from\"../../../../geometry/support/aaBoundingRect.js\";import{getSpatialReferenceMinMaxX as o}from\"../../../../geometry/support/normalizeUtilsCommon.js\";import{getXAnchorDirection as s,getYAnchorDirection as l}from\"../../engine/webgl/alignmentUtils.js\";import{GLYPH_SIZE as m,MAGIC_LABEL_LINE_HEIGHT as a}from\"../../engine/webgl/definitions.js\";import{shapeGlyphs as f}from\"../../engine/webgl/mesh/templates/shapingUtils.js\";const c=512,u=50;function g(e,t){if(!t.isWrappable)return null;const[n,i]=o(t);return e[2]>i?[r([e[0],e[1],i,e[3]]),r([n,e[1],n+e[2]-i,e[3]])]:e[0]<n?[r([n,e[1],e[2],e[3]]),r([i-(n-e[0]),e[1],i,e[3]])]:null}function p(e){return\"text\"===e||\"esriTS\"===e}function h(e){return\"simple-marker\"===e||\"picture-marker\"===e||\"esriSMS\"===e||\"esriPMS\"===e}function y(e){switch(t(e.geometry).type){case\"point\":case\"multipoint\":return 0;case\"polyline\":return 1;case\"polygon\":case\"extent\":return 2}return 0}function x(t,i,r){var o,c,u;if(!r||0===r.glyphMosaicItems.length)return t;const g=e(i.text)[1],p=r.glyphMosaicItems,h=f(p,g,{scale:n(i.font.size)/m,angle:null!=(o=i.angle)?o:0,xOffset:null!=(c=i.xoffset)?c:0,yOffset:null!=(u=i.yoffset)?u:0,hAlign:s(i.horizontalAlignment||\"center\"),vAlign:l(i.verticalAlignment||\"baseline\"),maxLineWidth:Math.max(32,Math.min(i.lineWidth||512,512)),lineHeight:a*Math.max(.25,Math.min(i.lineHeight||1,4)),decoration:i.font.decoration||\"none\",isCIM:!1}).bounds;return t[0]=n(h.x-h.halfWidth),t[1]=n(h.y-h.halfHeight),t[2]=n(h.width),t[3]=n(h.height),t}function d(e){if(!e)return null;const{xmin:t,ymin:n,xmax:r,ymax:o,spatialReference:s}=e;return new i({rings:[[[t,n],[t,o],[r,o],[r,n],[t,n]]],spatialReference:s})}export{u as PIXEL_BUFFER,c as TILE_SIZE,x as getTextSymbolSize,y as graphicGeometryToNumber,g as intersectingInternationalDateline,h as isMarkerSymbol,p as isTextSymbol,d as polygonFromExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../../renderers/ClassBreaksRenderer.js\";import\"../../../../renderers/DictionaryRenderer.js\";import\"../../../../renderers/DotDensityRenderer.js\";import\"../../../../renderers/HeatmapRenderer.js\";import\"../../../../renderers/Renderer.js\";import e from\"../../../../renderers/SimpleRenderer.js\";import\"../../../../renderers/UniqueValueRenderer.js\";import\"../../../../renderers/support/jsonUtils.js\";import t from\"../../../../core/Error.js\";import r from\"../../../../core/has.js\";import{clone as i}from\"../../../../core/lang.js\";import n from\"../../../../core/Logger.js\";import{isSome as l,unwrap as s,isNone as a,unwrapOr as o}from\"../../../../core/maybe.js\";import{pt2px as u}from\"../../../../core/screenUtils.js\";import{fromJSON as d}from\"../../../../symbols/support/jsonUtils.js\";import{WGLGeometryType as f}from\"../../engine/webgl/enums.js\";import{getVVType as c}from\"../../engine/webgl/Utils.js\";import{createMaterialKey as p,hydrateMaterialKey as m}from\"../../engine/webgl/materialKey/MaterialKey.js\";import{getVVFlags as y}from\"../../engine/webgl/util/vvFlagUtils.js\";import{getPtMaxVVSize as g}from\"./support/pixelBuffering.js\";import{simplifyVisualVariables as b}from\"./support/rendererUtils.js\";import{createClusterRenderer as h}from\"../support/clusterUtils.js\";import{toJSONGeometryType as x}from\"../support/util.js\";const v=n.getLogger(\"esri.views.2d.layers.features.schemaUtils\"),w=\"ValidationError\",S={esriGeometryPoint:[\"above-right\",\"above-center\",\"above-left\",\"center-center\",\"center-left\",\"center-right\",\"below-center\",\"below-left\",\"below-right\"],esriGeometryPolygon:[\"always-horizontal\"],esriGeometryPolyline:[\"center-along\"],esriGeometryMultipoint:null};function F(e){return m(e)}function V(e){return e}function E(e){if(\"line-marker\"===e.type){var t;return{type:\"line-marker\",color:null==(t=e.color)?void 0:t.toJSON(),placement:e.placement,style:e.style}}return d(e.toJSON()).toJSON()}function I(e){let t=0,r=0,i=!1,n=!0,s=!0;if(l(e)&&(r=g(e),\"visualVariables\"in e&&(t=y(e.visualVariables||[]),i=\"dot-density\"===e.type),!i)){const t=e.getSymbols();\"backgroundFillSymbol\"in e&&e.backgroundFillSymbol&&t.push(e.backgroundFillSymbol);for(const e of t)if(\"cim\"===e.type&&(n=!1),\"simple-fill\"===e.type||\"picture-fill\"===e.type){const t=e.outline;t&&\"none\"!==t.style&&\"solid\"!==t.style&&(s=!1);const r=t&&\"none\"!==t.style&&\"solid\"!==t.style,i=\"simple-fill\"===e.type&&\"none\"!==e.style&&\"solid\"!==e.style;(\"picture-fill\"===e.type||i||r)&&(n=!1)}}return i&&(s=!1),{vvFlags:t,maxVVSize:r,supportsOutlineFills:s,stride:{fill:i?\"dot-density\":n?\"simple\":\"default\"}}}function z(e,t,r){return j(e,I(t),r)}function j(e,t,r){if(!e)return null;switch(e.type){case\"simple-fill\":case\"picture-fill\":return R(e,t,r);case\"simple-marker\":case\"picture-marker\":return N(e,t,r);case\"simple-line\":return T(e,t,r);case\"text\":return O(e,t,r);case\"label\":return M(e,t,r);case\"cim\":return{type:\"cim\",rendererKey:t.vvFlags,data:e.data,maxVVSize:t.maxVVSize};case\"CIMSymbolReference\":return{type:\"cim\",rendererKey:t.vvFlags,data:e,maxVVSize:t.maxVVSize};case\"web-style\":return{...E(e),type:\"web-style\",hash:e.hash(),rendererKey:t.vvFlags,maxVVSize:t.maxVVSize};default:throw new Error(`symbol not supported ${e.type}`)}}function R(e,t,r){const i=t.supportsOutlineFills,n=p(f.FILL,{...t,isOutlinedFill:i}),l=r?F(n):n,s=e.clone(),a=s.outline;t.supportsOutlineFills||(s.outline=null);const o={materialKey:l,hash:s.hash(),isOutlinedFill:!!t.supportsOutlineFills,...E(s)};if(t.supportsOutlineFills)return o;const u=[];if(u.push(o),a){const e=p(f.LINE,{...t,isOutline:!0}),i={materialKey:r?F(e):e,hash:a.hash(),...E(a)};u.push(i)}return{type:\"composite-symbol\",layers:u,hash:u.reduce(((e,t)=>t.hash+e),\"\")}}function T(e,t,r){const i=p(f.LINE,t),n=r?F(i):i,l=e.clone(),s=l.marker;l.marker=null;const a=[];if(a.push({materialKey:n,hash:l.hash(),...E(l)}),s){var o;const e=p(f.MARKER,t),i=r?F(e):e;s.color=null!=(o=s.color)?o:l.color,a.push({materialKey:i,hash:s.hash(),lineWidth:l.width,...E(s)})}return{type:\"composite-symbol\",layers:a,hash:a.reduce(((e,t)=>t.hash+e),\"\")}}function N(e,t,r){const i=p(f.MARKER,t),n=r?F(i):i,l=E(e);return{materialKey:n,hash:e.hash(),...l,angle:e.angle,maxVVSize:t.maxVVSize}}function O(e,t,r){const i=p(f.TEXT,t),n=r?F(i):i,l=E(e);return{materialKey:n,hash:e.hash(),...l,angle:e.angle,maxVVSize:t.maxVVSize}}function k(e,r){const i=e.labelPlacement,n=S[r];if(!e.symbol)return v.warn(\"No ILabelClass symbol specified.\"),!0;if(!n)return v.error(new t(\"mapview-labeling:unsupported-geometry-type\",`Unable to create labels for Feature Layer, ${r} is not supported`)),!0;if(!n.some((e=>e===i))){const t=n[0];i&&v.warn(`Found invalid label placement type ${i} for ${r}. Defaulting to ${t}`),e.labelPlacement=t}return!1}function K(e,t){const r=i(e);return r.some((e=>k(e,t)))?[]:r}function M(e,t,r){const i=e.toJSON(),n=p(f.LABEL,{...t,placement:i.labelPlacement});return{materialKey:r?F(n):n,hash:e.hash(),...i,labelPlacement:i.labelPlacement}}function B(e){return r(\"esri-2d-update-debug\")&&console.debug(\"Created new schema\",L(e,!0)),L(e)}function L(e,t=!1){try{var r,i;const n=A(e,t),l={};n.map((t=>P(l,e,t)));return{source:{definitionExpression:e.definitionExpression,fields:e.fields.map((e=>e.toJSON())),gdbVersion:e.gdbVersion,historicMoment:null==(r=e.historicMoment)?void 0:r.getTime(),outFields:e.availableFields,pixelBuffer:e.pixelBuffer,spatialReference:e.spatialReference.toJSON(),timeExtent:null==(i=e.timeExtent)?void 0:i.toJSON(),customParameters:e.customParameters},attributes:{fields:{},indexCount:0},processors:n,targets:l}}catch(n){if(n.fieldName===w)return v.error(n),null;throw n}}function P(e,r,i){switch(i.target){case\"feature\":return void U(e,C(r),i);case\"aggregate\":{if(!(\"featureReduction\"in r))return;const n=r.featureReduction;if(\"selection\"===n.type)throw new t(w,\"Mapview does not support `selection` reduction type\",n);return U(e,C(r),i),void D(e,n,i)}}}function J(e,t){for(const r in t){const i=t[r];if(i.target!==e.name)continue;const n=e.attributes[r];n?(n.context.mesh=n.context.mesh||i.context.mesh,n.context.storage=n.context.storage||i.context.storage):e.attributes[r]=i}return e}function C(e){var t,r,i,n,l;return[null!=(t=null==(r=s(e.filter))?void 0:r.toJSON())?t:null,null!=(i=null==(n=s(null==(l=s(e.featureEffect))?void 0:l.filter))?void 0:n.toJSON())?i:null]}function U(e,t,r){return e.feature||(e.feature={name:\"feature\",input:\"source\",filters:t,attributes:{}}),J(e.feature,r.attributes.fields),e}function D(e,t,r){return e.aggregate||(e.aggregate={name:\"aggregate\",input:\"feature\",filters:null,attributes:{},params:{clusterRadius:u(t.clusterRadius/2),clusterPixelBuffer:64*Math.ceil(u(t.clusterMaxSize)/64),fields:r.aggregateFields}}),J(e.aggregate,r.attributes.fields),e}function $(e,t){return t.field?q(e,{...t,type:\"field\",field:t.field}):t.valueExpression?q(e,{...t,type:\"expression\",valueExpression:t.valueExpression}):{field:null,fieldIndex:null}}function q(e,t){switch(t.type){case\"expression\":{const r=V(t.valueExpression);if(!e.fields[r]){const i=e.indexCount++;e.fields[r]={...t,name:r,fieldIndex:i}}return{fieldIndex:e.fields[r].fieldIndex}}case\"label-expression\":{const r=V(JSON.stringify(t.label));if(!e.fields[r]){const i=e.indexCount++;e.fields[r]={...t,name:r,fieldIndex:i}}return{fieldIndex:e.fields[r].fieldIndex}}case\"field\":{const r=t.field;return\"aggregate\"===t.target&&e.fields[r]||(e.fields[r]={...t,name:r}),{field:r}}case\"statistic\":return e.fields[t.name]={...t},{field:t.name}}}function A(e,t=!1){const r=new Array;let i=0;return r.push(H(e,i++,t)),r}function G(e,t,r,i,n,l=!1){const s=q(t,{type:\"label-expression\",target:i,context:{mesh:!0},resultType:\"string\",label:{labelExpression:r.labelExpression,labelExpressionInfo:r.labelExpressionInfo?{expression:r.labelExpressionInfo.expression}:null,symbol:!!r.symbol,where:r.where}}),{fieldIndex:a}=s;return{...z(r,e,l),fieldIndex:a,target:i,index:n}}function H(r,i,n=!1){const s={indexCount:0,fields:{}},a=\"featureReduction\"in r&&r.featureReduction,o=a?\"aggregate\":\"feature\";if(\"sublayers\"in r){const e={type:\"subtype\",subtypeField:r.subtypeField,renderers:{},stride:{fill:\"default\"}},i={type:\"subtype\",mapping:{},target:\"feature\"},a={type:\"subtype\",classes:{}},u={type:\"symbol\",target:\"feature\",aggregateFields:[],attributes:s,storage:i,mesh:{matcher:e,aggregateMatcher:null,labels:a,sortKey:null}},d=new Set;let f=0;for(const{renderer:c,subtypeCode:p,labelingInfo:m,labelsVisible:y}of r.sublayers){const r=_(s,o,c,n),u=Q(s,o,c),g=y&&m;if(\"visualVariables\"in c&&c.visualVariables&&c.visualVariables.length)throw new t(w,\"Visual variables are currently not supported for subtype layers\");if(\"dictionary\"===r.type)throw new t(w,\"Dictionary renderer is not supported in subtype layers\");if(\"subtype\"===r.type)throw new t(w,\"Nested subtype renderers is not supported\");if(l(u)&&\"subtype\"===u.type)throw new t(w,\"Nested subtype storage is not supported\");if(l(u)&&\"dot-density\"===u.type)throw new t(w,\"Dot density attributes are not supported in subtype layers\");if(d.has(p))throw new t(w,\"Subtype codes for sublayers must be unique\");d.add(p),e.renderers[p]=r,i.mapping[p]=u,g&&(a.classes[p]=g.map((e=>G(c,s,e,\"feature\",f++,n))))}return u}if(\"heatmap\"===r.renderer.type){const{blurRadius:e,fieldOffset:t,field:i}=r.renderer;return{type:\"heatmap\",aggregateFields:[],attributes:s,target:o,storage:null,mesh:{blurRadius:e,fieldOffset:t,field:$(s,{target:o,field:i,resultType:\"numeric\"}).field}}}{const i=[],l=\"aggregate\"===o?h(i,r.renderer,a,null):r.renderer;X(s,i);const u=_(s,o,l,n);let d=null;const f=Q(s,o,l),c=x(r.geometryType);let p=r.labelsVisible&&r.labelingInfo||[],m=[];if(a){if(\"selection\"===a.type)throw new t(w,\"Mapview does not support `selection` reduction type\",a);if(a.symbol){const t=new e({symbol:a.symbol,visualVariables:\"visualVariables\"in l?l.visualVariables:null});d=_(s,o,t,n)}m=a&&a.labelsVisible&&a.labelingInfo||[]}p=K(p,c),m=K(m,c);let y=0;const g=[...p.map((e=>G(l,s,e,\"feature\",y++,n))),...m.map((e=>G(l,s,e,\"aggregate\",y++,n)))],b=W(s,r.orderBy);return{type:\"symbol\",target:o,attributes:s,aggregateFields:i,storage:f,mesh:{matcher:u,labels:{type:\"simple\",classes:g},aggregateMatcher:d,sortKey:b}}}}function W(e,r){if(a(r)||!r.length)return null;r.length>1&&v.warn(`Layer rendering currently only supports ordering by 1 orderByInfo, but found ${r.length}. All but the first will be discarded`);const i=r[0],n=\"ascending\"===i.order?\"asc\":\"desc\";if(i.field)return{field:i.field,order:n};if(i.valueExpression){return{fieldIndex:q(e,{type:\"expression\",target:\"feature\",valueExpression:i.valueExpression,resultType:\"numeric\"}).fieldIndex,order:n}}return v.error(new t(w,\"Expected to find a field or valueExpression for OrderByInfo\",i)),null}function X(e,t){const r={mesh:!0,storage:!0};for(const i of t){const{name:t,outStatistic:n}=i,{statisticType:l,onStatisticField:s}=n;let a=null,o=null,u=null;const d=\"numeric\",f=\"feature\";if(\"onStatisticValueExpression\"in n){o=q(e,{type:\"expression\",target:f,valueExpression:n.onStatisticValueExpression,resultType:d}).fieldIndex}else if(\"onStatisticNormalizationField\"in n){a=q(e,{type:\"field\",target:f,field:s,resultType:d}).field,u=n.onStatisticNormalizationField}else{a=q(e,{type:\"field\",target:f,field:s,resultType:d}).field}q(e,{type:\"statistic\",target:\"aggregate\",name:t,context:r,inField:a,inNormalizationField:u,inFieldIndex:o,statisticType:l})}}function Q(e,t,r){switch(r.type){case\"dot-density\":return Y(e,t,r.attributes);case\"simple\":case\"class-breaks\":case\"unique-value\":case\"dictionary\":return Z(e,t,r.visualVariables);case\"heatmap\":return null}}function Y(e,t,r){if(!r||!r.length)return{type:\"dot-density\",mapping:[],target:t};return{type:\"dot-density\",mapping:r.map(((r,i)=>{const{field:n,fieldIndex:l}=$(e,{valueExpression:r.valueExpression,field:r.field,resultType:\"numeric\",target:t});return{binding:i,field:n,fieldIndex:l}})),target:t}}function Z(e,t,r){if(!r||!r.length)return{type:\"visual-variable\",mapping:[],target:t};const i={storage:!0},n=\"numeric\";return{type:\"visual-variable\",mapping:b(r).map((r=>{var l;const s=c(r.type),{field:a,fieldIndex:o}=$(e,{target:t,valueExpression:r.valueExpression,field:r.field,context:i,resultType:n});switch(r.type){case\"size\":return\"$view.scale\"===r.valueExpression?null:{type:\"size\",binding:s,field:a,fieldIndex:o,normalizationField:$(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field,valueRepresentation:null!=(l=r.valueRepresentation)?l:null};case\"color\":return{type:\"color\",binding:s,field:a,fieldIndex:o,normalizationField:$(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field};case\"opacity\":return{type:\"opacity\",binding:s,field:a,fieldIndex:o,normalizationField:$(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field};case\"rotation\":return{type:\"rotation\",binding:s,field:a,fieldIndex:o}}})).filter((e=>e)),target:t}}function _(e,t,r,i=!1){const n=o(e,{indexCount:0,fields:{}});switch(r.type){case\"simple\":case\"dot-density\":return ee(n,r,i);case\"class-breaks\":return te(n,t,r,i);case\"unique-value\":return re(n,t,r,i);case\"dictionary\":return ie(n,r,i)}}function ee(e,t,r=!1){const i=t.getSymbols(),n=i.length?i[0]:null,{stride:l}=I(t);return{type:\"simple\",symbol:z(n,t,r),stride:l}}function te(e,t,r,i=!1){const n={mesh:!0,use:\"renderer.field\"},l=r.backgroundFillSymbol,{field:s,fieldIndex:a}=$(e,{target:t,field:r.field,valueExpression:r.valueExpression,resultType:\"numeric\",context:n}),o=r.normalizationType,u=\"log\"===o?\"esriNormalizeByLog\":\"percent-of-total\"===o?\"esriNormalizeByPercentOfTotal\":\"field\"===o?\"esriNormalizeByField\":null,d=I(r),f=r.classBreakInfos.map((e=>({symbol:j(e.symbol,d,i),min:e.minValue,max:e.maxValue}))).sort(((e,t)=>e.min-t.min));return{type:\"interval\",attributes:e.fields,field:s,fieldIndex:a,backgroundFillSymbol:j(l,d,i),defaultSymbol:j(r.defaultSymbol,d,i),intervals:f,normalizationField:r.normalizationField,normalizationTotal:r.normalizationTotal,normalizationType:u,isMaxInclusive:r.isMaxInclusive,stride:d.stride}}function re(e,r,i,n=!1){const l=[],s=i.backgroundFillSymbol,a={target:r,context:{mesh:!0},resultType:\"string\"};if(i.field&&\"string\"!=typeof i.field)throw new t(w,\"Expected renderer.field to be a string\",i);const{field:o,fieldIndex:u}=$(e,{...a,field:i.field,valueExpression:i.valueExpression}),d=I(i);for(const t of i.uniqueValueInfos)l.push({value:\"\"+t.value,symbol:j(t.symbol,d,n)});return{type:\"map\",attributes:e.fields,field:o,fieldIndex:u,field2:$(e,{...a,field:i.field2}).field,field3:$(e,{...a,field:i.field3}).field,fieldDelimiter:i.fieldDelimiter,backgroundFillSymbol:j(s,d),defaultSymbol:j(i.defaultSymbol,d),map:l,stride:d.stride}}function ie(e,t,r=!1){return{type:\"dictionary\",renderer:t.toJSON(),stride:{fill:\"default\"}}}export{X as addAggregateFields,_ as createMatcherSchema,B as createSchema,z as createSymbolSchema,I as createSymbolSchemaOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{WGLVVFlag as t}from\"../enums.js\";import{getTypeOfSizeVisualVariable as o}from\"../visualVariablesUtils.js\";function e(e){if(!e)return t.NONE;let r=0;for(const i of e)if(\"size\"===i.type){const t=o(i);r|=t,\"outline\"===i.target&&(r|=t<<4)}else\"color\"===i.type?r|=t.COLOR:\"opacity\"===i.type?r|=t.OPACITY:\"rotation\"===i.type&&(r|=t.ROTATION);return r}export{e as getVVFlags};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{JSONMap as t}from\"../../../../core/jsonMap.js\";const o=new t({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\",mesh:\"mesh\"});function e(t){return o.toJSON(t)}function n(t,o,e){const n=[],r=[];let l=0,i=0;for(const s of t){const t=i;let u=s[0][0],c=s[0][1];n[i++]=u,n[i++]=c;let p=0;for(let o=1;o<s.length;++o){const t=u,e=c;u=s[o][0],c=s[o][1],p+=c*t-u*e,n[i++]=u,n[i++]=c}o(p/2),p>0?(t-l>0&&(e(l,t,n,r),l=t),r.length=0):p<0&&t-l>0?r.push(.5*(t-l)):i=t}i-l>0&&e(l,i,n,r)}function r(t){const{bandCount:o,attributeTable:e,colormap:n,pixelType:r}=t.rasterInfo;return 1===o&&(null!=e||null!=n||\"u8\"===r||\"s8\"===r)}export{n as analyzeRings,r as canUseMajorityInterpolationOnDataSource,e as toJSONGeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst n={Base64:0,Hex:1,String:2,Raw:3},t=8,r=(1<<t)-1;function e(n,t){const r=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(r>>16)<<16|65535&r}function o(n){const e=[];for(let o=0,u=n.length*t;o<u;o+=t)e[o>>5]|=(n.charCodeAt(o/t)&r)<<o%32;return e}function u(n){const e=[];for(let o=0,u=32*n.length;o<u;o+=t)e.push(String.fromCharCode(n[o>>5]>>>o%32&r));return e.join(\"\")}function c(n){const t=\"0123456789abcdef\",r=[];for(let e=0,o=4*n.length;e<o;e++)r.push(t.charAt(n[e>>2]>>e%4*8+4&15)+t.charAt(n[e>>2]>>e%4*8&15));return r.join(\"\")}function f(n){const t=\"=\",r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",e=[];for(let o=0,u=4*n.length;o<u;o+=3){const u=(n[o>>2]>>o%4*8&255)<<16|(n[o+1>>2]>>(o+1)%4*8&255)<<8|n[o+2>>2]>>(o+2)%4*8&255;for(let c=0;c<4;c++)8*o+6*c>32*n.length?e.push(t):e.push(r.charAt(u>>6*(3-c)&63))}return e.join(\"\")}function s(n,t){return n<<t|n>>>32-t}function i(n,t,r,o,u,c){return e(s(e(e(t,n),e(o,c)),u),r)}function h(n,t,r,e,o,u,c){return i(t&r|~t&e,n,t,o,u,c)}function a(n,t,r,e,o,u,c){return i(t&e|r&~e,n,t,o,u,c)}function l(n,t,r,e,o,u,c){return i(t^r^e,n,t,o,u,c)}function g(n,t,r,e,o,u,c){return i(r^(t|~e),n,t,o,u,c)}function p(n,t){n[t>>5]|=128<<t%32,n[14+(t+64>>>9<<4)]=t;let r=1732584193,o=-271733879,u=-1732584194,c=271733878;for(let f=0;f<n.length;f+=16){const t=r,s=o,i=u,p=c;r=h(r,o,u,c,n[f+0],7,-680876936),c=h(c,r,o,u,n[f+1],12,-389564586),u=h(u,c,r,o,n[f+2],17,606105819),o=h(o,u,c,r,n[f+3],22,-1044525330),r=h(r,o,u,c,n[f+4],7,-176418897),c=h(c,r,o,u,n[f+5],12,1200080426),u=h(u,c,r,o,n[f+6],17,-1473231341),o=h(o,u,c,r,n[f+7],22,-45705983),r=h(r,o,u,c,n[f+8],7,1770035416),c=h(c,r,o,u,n[f+9],12,-1958414417),u=h(u,c,r,o,n[f+10],17,-42063),o=h(o,u,c,r,n[f+11],22,-1990404162),r=h(r,o,u,c,n[f+12],7,1804603682),c=h(c,r,o,u,n[f+13],12,-40341101),u=h(u,c,r,o,n[f+14],17,-1502002290),o=h(o,u,c,r,n[f+15],22,1236535329),r=a(r,o,u,c,n[f+1],5,-165796510),c=a(c,r,o,u,n[f+6],9,-1069501632),u=a(u,c,r,o,n[f+11],14,643717713),o=a(o,u,c,r,n[f+0],20,-373897302),r=a(r,o,u,c,n[f+5],5,-701558691),c=a(c,r,o,u,n[f+10],9,38016083),u=a(u,c,r,o,n[f+15],14,-660478335),o=a(o,u,c,r,n[f+4],20,-405537848),r=a(r,o,u,c,n[f+9],5,568446438),c=a(c,r,o,u,n[f+14],9,-1019803690),u=a(u,c,r,o,n[f+3],14,-187363961),o=a(o,u,c,r,n[f+8],20,1163531501),r=a(r,o,u,c,n[f+13],5,-1444681467),c=a(c,r,o,u,n[f+2],9,-51403784),u=a(u,c,r,o,n[f+7],14,1735328473),o=a(o,u,c,r,n[f+12],20,-1926607734),r=l(r,o,u,c,n[f+5],4,-378558),c=l(c,r,o,u,n[f+8],11,-2022574463),u=l(u,c,r,o,n[f+11],16,1839030562),o=l(o,u,c,r,n[f+14],23,-35309556),r=l(r,o,u,c,n[f+1],4,-1530992060),c=l(c,r,o,u,n[f+4],11,1272893353),u=l(u,c,r,o,n[f+7],16,-155497632),o=l(o,u,c,r,n[f+10],23,-1094730640),r=l(r,o,u,c,n[f+13],4,681279174),c=l(c,r,o,u,n[f+0],11,-358537222),u=l(u,c,r,o,n[f+3],16,-722521979),o=l(o,u,c,r,n[f+6],23,76029189),r=l(r,o,u,c,n[f+9],4,-640364487),c=l(c,r,o,u,n[f+12],11,-421815835),u=l(u,c,r,o,n[f+15],16,530742520),o=l(o,u,c,r,n[f+2],23,-995338651),r=g(r,o,u,c,n[f+0],6,-198630844),c=g(c,r,o,u,n[f+7],10,1126891415),u=g(u,c,r,o,n[f+14],15,-1416354905),o=g(o,u,c,r,n[f+5],21,-57434055),r=g(r,o,u,c,n[f+12],6,1700485571),c=g(c,r,o,u,n[f+3],10,-1894986606),u=g(u,c,r,o,n[f+10],15,-1051523),o=g(o,u,c,r,n[f+1],21,-2054922799),r=g(r,o,u,c,n[f+8],6,1873313359),c=g(c,r,o,u,n[f+15],10,-30611744),u=g(u,c,r,o,n[f+6],15,-1560198380),o=g(o,u,c,r,n[f+13],21,1309151649),r=g(r,o,u,c,n[f+4],6,-145523070),c=g(c,r,o,u,n[f+11],10,-1120210379),u=g(u,c,r,o,n[f+2],15,718787259),o=g(o,u,c,r,n[f+9],21,-343485551),r=e(r,t),o=e(o,s),u=e(u,i),c=e(c,p)}return[r,o,u,c]}function x(r,e=n.Hex){const s=e||n.Base64,i=p(o(r),r.length*t);switch(s){case n.Raw:return i;case n.Hex:return c(i);case n.String:return u(i);case n.Base64:return f(i)}}export{x as createMD5Hash,n as outputTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{pt2px as t}from\"../../../../../core/screenUtils.js\";import{CIMSymbolHelper as e}from\"../../../../../symbols/cim/CIMSymbolHelper.js\";import r from\"../../../../../symbols/cim/Rect.js\";import{AVERAGE_GLYPH_MOSAIC_ITEM as i}from\"../../../engine/webgl/definitions.js\";import{getTextSymbolSize as n}from\"../../graphics/graphicsUtils.js\";import{expandSymbol as s}from\"../../support/cimSymbolUtils.js\";const a={\"simple-marker\":1,\"picture-marker\":1,text:0,\"simple-line\":0,\"simple-fill\":0,\"picture-fill\":0,cim:1,\"web-style\":1},o=.707;function m(t){if(!(\"visualVariables\"in t))return 0;if(!t.hasVisualVariables(\"size\"))return 0;const e=t.getVisualVariablesForType(\"size\");if(!e[0])return 0;const r=e[0];if(\"outline\"===r.target)return 0;if(\"stops\"===r.transformationType)return r.stops.map((t=>t.size)).reduce(g,0);if(\"clamped-linear\"===r.transformationType){let t=-1/0,e=-1/0;return t=\"number\"==typeof r.maxSize?r.maxSize:r.maxSize.stops.map((t=>t.size)).reduce(g,0),e=\"number\"==typeof r.minSize?r.minSize:r.minSize.stops.map((t=>t.size)).reduce(g,0),Math.max(t,e)}return\"real-world-size\"===r.transformationType?30:void 0}function u(t){return t.type in a}async function c(e,r,i,n,s,a){if(!e||a&&\"cluster\"===a.type)return 0;if(\"heatmap\"===e.type)return Math.round(3*e.blurRadius);if(\"dot-density\"===e.type)return 0;if(\"dictionary\"===e.type)return\"esriGeometryPoint\"===r||\"esriGeometryMultipoint\"===r?100:200;const o=e.getSymbols(),u=m(e),c=[];for(const t of o)c.push(x(t,u,i,r,n,s));const p=await Promise.all(c);return t(p.reduce(g,0))}const p=[0,0,0,0];function l(t,e){return null==t?e:t}function f(t,e){return null==t.outline?e:l(t.outline.width,e)}const h={sdf:!0,code:99,metrics:i.metrics,rect:new r(0,0,24,24),page:0,textureBinding:2};function y(t){const e=t.text&&t.text.length;if(!e)return{glyphMosaicItems:[h]};const r=[];for(let i=0;i<e;i++)r.push({...h,code:t.text.charCodeAt(i)});return{glyphMosaicItems:r}}async function d(t,r,i,a,m,u){if(\"simple-marker\"===t.type){const e=Math.max(l(t.size,12),r);return M(t)+e*o}if(\"picture-marker\"===t.type){const e=Math.max(l(t.height,12),r),i=l(t.width,12)*(e/l(t.height,12))/2,n=e/2;return M(t)+Math.sqrt(i*i+n*n)}if(\"text\"===t.type){const e=y(t);n(p,t.toJSON(),e);const r=Math.abs(p[0]),i=Math.abs(p[1]),s=p[2],a=p[3];return Math.max(r,i)+Math.max(s,a)}if(\"simple-line\"===t.type){const e=t,i=Math.max(l(e.width,.75),r)/2;return e.marker?Math.max(6*e.width,2*r):i}if(\"simple-fill\"===t.type||\"picture-fill\"===t.type)return Math.max(f(t,0),r)/2;if(\"cim\"===t.type){const n={geometryType:a,fields:m,spatialReference:u},o={type:\"cim\",rendererKey:0,data:t.data,maxVVSize:r};await s(o,n,i);const c=e.getEnvelope(t.data,i);return c?Math.sqrt(c.width*c.width+c.height*c.height):0}return\"web-style\"===t.type?d(await t.fetchCIMSymbol(),r,i,a,m,u):0}async function x(t,e,r,i,n,s){return u(t)?Math.min(await d(t,e,r,i,n,s),75):0}function M(t){const e=l(t.xoffset,0),r=l(t.yoffset,0);return Math.sqrt(e*e+r*r)}function g(t,e){return Math.max(t,e)}export{c as computePxBuffer,m as getPtMaxVVSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Logger.js\";import{toPt as l}from\"../../../../../core/screenUtils.js\";const o=8,t=o-2,r=e.getLogger(\"esri.renderers.visualVariables.support.utils\"),s=e=>{if(!(\"visualVariables\"in e)||!e.visualVariables||!e.visualVariables.length)return e;const l=e.clone(),o=l.visualVariables.map((e=>n(e)?i(e):e));return l.visualVariables=o,l};function a(e){return e.map((e=>n(e)?i(e.clone()):e))}function n(e){return(\"size\"===e.type||\"color\"===e.type||\"opacity\"===e.type)&&null!=e.stops}function i(e){return e.stops=b(e.type,e.stops),e}function u(e,l,o){return(1-o)*e+o*l}function c(e,o){const[r,...s]=o,a=s.pop(),n=s[0].value,i=s[s.length-1].value,c=(i-n)/t,p=[];for(let t=n;t<i;t+=c){let r=0;for(;t>=s[r].value;)r++;const a=s[r],n=o[r-1],i=t-n.value,c=a.value===n.value?1:i/(a.value-n.value);if(\"color\"===e){const e=s[r],l=o[r-1],a=e.color.clone();a.r=u(l.color.r,a.r,c),a.g=u(l.color.g,a.g,c),a.b=u(l.color.b,a.b,c),a.a=u(l.color.a,a.a,c),p.push({value:t,color:a,label:e.label})}else if(\"size\"===e){const e=s[r],a=o[r-1],n=l(e.size),i=u(l(a.size),n,c);p.push({value:t,size:i,label:e.label})}else{const e=s[r],l=u(o[r-1].opacity,e.opacity,c);p.push({value:t,opacity:l,label:e.label})}}return[r,...p,a]}function p(e){const[l,...o]=e,r=o.pop();for(;o.length>t;){let e=0,l=0;for(let t=1;t<o.length;t++){const r=o[t-1],s=o[t],a=Math.abs(s.value-r.value);a>l&&(l=a,e=t)}o.splice(e,1)}return[l,...o,r]}function b(e,l){return l.length<=o?l:(r.warn(`Found ${l.length} Visual Variable stops, but MapView only supports ${o}. Displayed stops will be simplified.`),l.length>2*o?c(e,l):p(l))}export{s as simplifyVVRenderer,a as simplifyVisualVariables};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{clone as s}from\"../../../core/lang.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as r}from\"../../../core/accessorSupport/decorators/writer.js\";import o from\"../../../renderers/visualVariables/SizeVariable.js\";import{isSizeVariable as a}from\"../../../renderers/visualVariables/support/sizeVariableUtils.js\";var l;let n=l=class extends o{writeLevels(e,s,i){for(const t in e){const e=this.levels[t];return void(s.stops=e)}}clone(){return new l({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:a(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:a(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((e=>e.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone(),levels:s(this.levels)})}};e([i()],n.prototype,\"levels\",void 0),e([r(\"levels\")],n.prototype,\"writeLevels\",null),n=l=e([t(\"esri.views.2d.engine.LevelDependentSizeVariable\")],n);export{n as LevelDependentSizeVariable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import i from\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{isNone as r}from\"../../../../core/maybe.js\";import{createMD5Hash as s}from\"../../../../core/MD5.js\";import a from\"../../../../renderers/visualVariables/SizeVariable.js\";import n from\"../../../../renderers/visualVariables/support/SizeStop.js\";import{LevelDependentSizeVariable as l}from\"../../engine/LevelDependentSizeVariable.js\";const o=t.getLogger(\"esri.views.2d.layers.support.clusterUtils\");i.add(\"esri-cluster-arcade-enabled\",!0);const u=i(\"esri-cluster-arcade-enabled\"),c=(e,i,t,s)=>{const a=i.clone();if(!m(a))return a;if(t.fields)for(const r of t.fields)x(e,r);if(\"visualVariables\"in a){const i=(a.visualVariables||[]).filter((e=>\"$view.scale\"!==e.valueExpression)),n=d(i);i.forEach((i=>{\"rotation\"===i.type?i.field?i.field=y(e,i.field,\"avg_angle\"):i.valueExpression&&(i.field=S(e,i.valueExpression,\"avg_angle\"),i.valueExpression=null):i.normalizationField?(i.field=y(e,i.field,\"norm\",i.normalizationField),i.normalizationField=null):i.field?i.field=y(e,i.field,\"avg\"):(i.field=S(e,i.valueExpression,\"avg\"),i.valueExpression=null)})),r(n)&&!p(i)&&(i.push(f(t,s)),a.dynamicClusterSize=!0),a.visualVariables=i}switch(a.type){case\"simple\":break;case\"unique-value\":a.field?a.field=y(e,a.field,\"mode\"):a.valueExpression&&(a.field=S(e,a.valueExpression,\"mode\"),a.valueExpression=null);break;case\"class-breaks\":a.normalizationField?(a.field=y(e,a.field,\"norm\",a.normalizationField),a.normalizationField=null):a.field?a.field=y(e,a.field,\"avg\"):(a.field=S(e,a.valueExpression,\"avg\"),a.valueExpression=null)}return a},d=e=>{for(const i of e)if(\"size\"===i.type)return i;return null},p=e=>{for(const i of e)if(\"cluster_count\"===i.field)return!0;return!1},f=(e,i)=>{const t=[new n({value:0,size:0}),new n({value:1})];if(r(i))return new a({field:\"cluster_count\",stops:[...t,new n({value:2,size:0})]});const s=Object.keys(i).reduce(((r,s)=>({...r,[s]:[...t,new n({value:Math.max(2,i[s].minValue),size:e.clusterMinSize}),new n({value:Math.max(3,i[s].maxValue),size:e.clusterMaxSize})]})),{});return new l({field:\"cluster_count\",levels:s})},m=i=>{const t=t=>o.error(new e(\"Unsupported-renderer\",t,{renderer:i}));if(\"unique-value\"===i.type){if(i.field2||i.field3)return t(\"FeatureReductionCluster does not support multi-field UniqueValueRenderers\"),!1}else if(\"class-breaks\"===i.type){if(i.normalizationField){const e=i.normalizationType;if(\"field\"!==e)return t(`FeatureReductionCluster does not support a normalizationType of ${e}`),!1}}else if(\"simple\"!==i.type)return t(`FeatureReductionCluster does not support renderers of type ${i.type}`),!1;if(!u){if(\"valueExpression\"in i&&i.valueExpression)return t(\"FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release\"),!1;if((\"visualVariables\"in i&&i.visualVariables||[]).some((e=>!(!(\"valueExpression\"in e)||!e.valueExpression))))return t(\"FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release\"),!1}return!0};function v(e,i,t){switch(e){case\"avg\":case\"avg_angle\":return`cluster_avg_${i}`;case\"mode\":return`cluster_type_${i}`;case\"norm\":{const e=t,r=\"field\",a=i.toLowerCase()+\",norm:\"+r+\",\"+e.toLowerCase();return\"cluster_avg_\"+s(a)}}}function x(i,t){const{name:r,outStatistic:a}=t,{onStatisticField:n,onStatisticValueExpression:l,statisticType:u}=a;if(l){const e=s(l.toLowerCase());i.push({name:r,outStatistic:{onStatisticField:e,onStatisticValueExpression:l,statisticType:u}})}else n?i.push({name:r,outStatistic:{onStatisticField:n,statisticType:u}}):o.error(new e(\"mapview-unsupported-field\",\"Unable to handle field\",{field:t}))}function S(e,i,t){const r=s(i),a=\"mode\"===t?`cluster_type_${r}`:`cluster_avg_${r}`;return e.some((e=>e.name===a))||e.push({name:a,outStatistic:{onStatisticField:r,onStatisticValueExpression:i,statisticType:t}}),a}function y(e,i,t,r){if(\"cluster_count\"===i||e.some((e=>e.name===i)))return i;const s=v(t,i,r);return e.some((e=>e.name===s))||(\"norm\"===t?e.push({name:s,outStatistic:{onStatisticField:i,onStatisticNormalizationField:r,statisticType:t}}):e.push({name:s,outStatistic:{onStatisticField:i,statisticType:t}})),s}export{f as createClusterCountSizeVariable,c as createClusterRenderer,d as findSizeVV,p as hasClusterCountVV,m as isClusterCompatibleRenderer};\n"],"sourceRoot":""}