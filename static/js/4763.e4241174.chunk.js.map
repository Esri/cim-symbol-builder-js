{"version":3,"file":"static/js/4763.e4241174.chunk.js","mappings":"8MAI0S,MAAMA,EAAE,IAAIC,EAAAA,EAAE,MAAK,GAAIC,EAAEC,EAAAA,GAAAA,QAAUC,eAAeC,EAAEJ,GAAO,IAALE,EAAK,uDAAH,GAAI,MAAMG,KAAKD,EAAEE,QAAQC,EAAEC,KAAKC,EAAEC,QAAQC,GAAGT,EAAEU,EAAEV,EAAEW,YAAYX,GAAGY,QAAQC,EAAEC,SAASC,EAAEC,aAAaC,EAAEC,MAAMC,GAAGT,EAAEU,GAAEC,EAAAA,EAAAA,IAAEvB,GAAGwB,EAAE,iBAAiBpB,EAAEA,EAAE,KAAKqB,EAAEC,KAAKC,IAAI,MAAMH,EAAEA,EAAEF,EAAE,MAAMf,EAAEA,GAAEqB,EAAAA,EAAAA,IAAE3B,IAAIwB,IAAIH,IAAItB,EAAEA,EAAE6B,SAAQC,EAAAA,EAAAA,IAAE9B,EAAEyB,EAAE,CAACM,sBAAqB,KAAM,IAAIC,EAAE,EAAEhC,GAAGA,EAAEiC,MAAMjC,EAAEiC,KAAKC,QAAQ,mBAAmBlC,EAAEiC,KAAKC,OAAOC,OAAOH,EAAE,GAAG,MAAMI,QAAQrC,EAAEsC,wBAAwBrC,EAAEe,EAAEE,EAAEE,EAAE,CAACmB,YAAYN,EAAEZ,MAAMC,IAAIkB,EAAEC,SAASC,cAAc,UAAUF,EAAEG,MAAMN,EAAEO,UAAUD,MAAMH,EAAEK,OAAOR,EAAEO,UAAUC,OAAOL,EAAEM,WAAW,MAAMC,aAAaV,EAAEO,UAAU,EAAE,GAAG,IAAII,EAAER,EAAEG,MAAMV,EAAEgB,EAAET,EAAEK,OAAOZ,EAAE,GAAG,MAAM5B,IAAI,MAAMF,GAAG+C,OAAO/C,GAAG+C,OAAO,CAAC,MAAMrB,EAAEmB,EAAEC,EAAED,EAAEnB,GAAG,EAAEF,KAAKwB,KAAKzB,EAAEG,GAAGH,EAAEuB,EAAEpB,GAAG,EAAEH,EAAEC,KAAKwB,KAAKzB,EAAEG,GAAG,MAAMuB,EAAE,IAAIC,MAAML,EAAEC,GAAGG,EAAEE,IAAId,EAAEe,YAAY,MAAM3C,IAAIwC,EAAE/B,MAAMV,QAAS,GAAEC,KAAK,IAAI4C,EAAEJ,EAAE,GAAG,MAAMjD,EAAEsD,WAAW,CAAC,MAAM5B,EAAE,CAAC6B,MAAM,CAACtB,KAAK,QAAQY,EAAE,EAAEhC,EAAE,EAAE2B,MAAMK,EAAEH,OAAOI,EAAEK,IAAIF,EAAEE,KAAKK,KAAK,KAAKC,OAAO,KAAKC,OAAO,CAAC,EAAE,IAAIL,GAAEM,EAAAA,EAAAA,GAAE,CAAC,CAACjC,IAAI,CAACmB,EAAEC,GAAG,CAACQ,WAAWtD,EAAEsD,aAAa,OAAO/C,GAAGA,EAAEqD,YAAYP,GAAGA","sources":["../node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{px2pt as e}from\"../../core/screenUtils.js\";import{CIMSymbolRasterizer as t}from\"../cim/CIMSymbolRasterizer.js\";import{getCIMSymbolSize as i,scaleCIMSymbolTo as l}from\"./cimSymbolUtils.js\";import{SymbolSizeDefaults as a}from\"./previewUtils.js\";import{renderSymbol as o}from\"./renderUtils.js\";const s=new t(null,!0),n=a.maxSize;async function r(t,a={}){const{size:r,maxSize:c,node:m,opacity:f}=a,p=a.cimOptions||a,{feature:y,fieldMap:h,geometryType:u,style:d}=p,g=i(t),w=\"number\"==typeof r?r:null,b=Math.min(null!=w?w:g,null!=c?c:e(n));b!==g&&(t=t.clone(),l(t,b,{preserveOutlineWidth:!0}));let M=3;t&&t.data&&t.data.symbol&&\"CIMPointSymbol\"!==t.data.symbol.type&&(M=1);const S=await s.rasterizeCIMSymbolAsync(t,y,h,u,{scaleFactor:M,style:d}),j=document.createElement(\"canvas\");j.width=S.imageData.width,j.height=S.imageData.height;j.getContext(\"2d\").putImageData(S.imageData,0,0);let x=j.width/M,z=j.height/M;if(null!=r&&(null==a?.scale||a?.scale)){const e=x/z;x=e<=1?Math.ceil(b*e):b,z=e<=1?b:Math.ceil(b/e)}const C=new Image(x,z);C.src=j.toDataURL(),null!=f&&(C.style.opacity=`${f}`);let D=C;if(null!=a.effectView){const e={shape:{type:\"image\",x:0,y:0,width:x,height:z,src:C.src},fill:null,stroke:null,offset:[0,0]};D=o([[e]],[x,z],{effectView:a.effectView})}return m&&m.appendChild(D),D}export{r as previewCIMSymbol};\n"],"names":["s","t","n","a","async","r","size","maxSize","c","node","m","opacity","f","p","cimOptions","feature","y","fieldMap","h","geometryType","u","style","d","g","i","w","b","Math","min","e","clone","l","preserveOutlineWidth","M","data","symbol","type","S","rasterizeCIMSymbolAsync","scaleFactor","j","document","createElement","width","imageData","height","getContext","putImageData","x","z","scale","ceil","C","Image","src","toDataURL","D","effectView","shape","fill","stroke","offset","o","appendChild"],"sourceRoot":""}