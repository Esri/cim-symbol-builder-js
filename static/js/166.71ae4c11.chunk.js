(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[166],{1035:function(t,e,r){"use strict";r.r(e),r.d(e,"getGeometryServiceURL",(function(){return c})),r.d(e,"projectGeometry",(function(){return u}));var n=r(53),o=r(8),i=r(79),a=r(890),s=r(816);async function c(t=null,e){var r,a;if(n.a.geometryServiceUrl)return n.a.geometryServiceUrl;if(!t)throw new o.a("internal:geometry-service-url-not-configured");let s;s="portal"in t?t.portal||i.a.getDefault():t,await s.load({signal:e});const c=null==(r=s.helperServices)||null==(a=r.geometry)?void 0:a.url;if(!c)throw new o.a("internal:geometry-service-url-not-configured");return c}async function u(t,e,r=null,n){const i=await c(r,n),u=new s.a;u.geometries=[t],u.outSpatialReference=e;const f=await Object(a.a)(i,u,{signal:n});if(f&&Array.isArray(f)&&1===f.length)return f[0];throw new o.a("internal:geometry-service-projection-failed")}},734:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return o}));var n=r(15);function o(t){return{geometryType:Object(n.c)(t[0]),geometries:t.map(t=>t.toJSON())}}function i(t,e,r){const o=Object(n.b)(e);return t.map(t=>{const e=o.fromJSON(t);return e.spatialReference=r,e})}},816:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r(0),o=r(10),i=r(1),a=(r(9),r(5),r(4),r(3)),s=r(15);let c=class extends o.a{constructor(t){super(t),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map((function(t){return t.toJSON()})),e=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=e.spatialReference.wkid||JSON.stringify(e.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:Object(s.c)(e),geometries:t}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};Object(n.a)([Object(i.b)()],c.prototype,"geometries",void 0),Object(n.a)([Object(i.b)({json:{read:{source:"outSR"}}})],c.prototype,"outSpatialReference",void 0),Object(n.a)([Object(i.b)()],c.prototype,"transformation",void 0),Object(n.a)([Object(i.b)()],c.prototype,"transformForward",void 0),c=Object(n.a)([Object(a.a)("esri.rest.support.ProjectParameters")],c);const u=c},890:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var n=r(47),o=r(4),i=r(15),a=r(74),s=r(734),c=r(816);const u=Object(o.m)(c.a);async function f(t,e,r){e=u(e);const o=Object(a.c)(t),c={...o.query,f:"json",...e.toJSON()},f=e.outSpatialReference,l=Object(i.c)(e.geometries[0]),p=Object(a.a)(c,r);return Object(n.default)(o.path+"/project",p).then(({data:{geometries:t}})=>Object(s.a)(t,l,f))}}}]);
//# sourceMappingURL=166.71ae4c11.chunk.js.map