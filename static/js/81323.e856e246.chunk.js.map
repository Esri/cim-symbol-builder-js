{"version":3,"file":"static/js/81323.e856e246.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/mat4f64.js","../node_modules/@arcgis/core/chunks/vec32.js","../node_modules/@arcgis/core/geometry/support/MeshGeoreferencedRelativeVertexSpace.js","../node_modules/@arcgis/core/geometry/support/buffer/math/common.js","../node_modules/@arcgis/core/geometry/support/meshUtils/External.js","../node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js","../node_modules/@arcgis/core/layers/graphics/editingSupport.js","../node_modules/@arcgis/core/geometry/support/meshVertexSpaceUtils.js","../node_modules/@arcgis/core/layers/graphics/applyEditsUtils.js","../node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js","../node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function t(e,r,t,n,o,a,u,c,f,l,s,i,b,_,m,p){return[e,r,t,n,o,a,u,c,f,l,s,i,b,_,m,p]}function n(e,r){return new Float64Array(e,r,16)}const o=e(),a=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:r,create:e,createView:n,fromValues:t},Symbol.toStringTag,{value:\"Module\"}));export{o as I,e as a,r as b,n as c,t as f,a as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{mathLogger as e}from\"../geometry/support/buffer/math/common.js\";function t(e,t,f){r(e.typedBuffer,t.typedBuffer,f,e.typedBufferStride,t.typedBufferStride)}function r(t,r,f,n=3,o=n){if(t.length/n!==Math.ceil(r.length/o))return e.error(\"source and destination buffers need to have the same number of elements\"),t;const u=t.length/n,i=f[0],s=f[1],a=f[2],d=f[4],c=f[5],l=f[6],p=f[8],y=f[9],h=f[10],m=f[12],B=f[13],g=f[14];let S=0,M=0;for(let e=0;e<u;e++){const e=r[S],f=r[S+1],u=r[S+2];t[M]=i*e+d*f+p*u+m,t[M+1]=s*e+c*f+y*u+B,t[M+2]=a*e+l*f+h*u+g,S+=o,M+=n}return t}function f(e,t,r){n(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function n(t,r,f,n=3,o=n){if(t.length/n!==Math.ceil(r.length/o))return void e.error(\"source and destination buffers need to have the same number of elements\");const u=t.length/n,i=f[0],s=f[1],a=f[2],d=f[3],c=f[4],l=f[5],p=f[6],y=f[7],h=f[8];let m=0,B=0;for(let e=0;e<u;e++){const e=r[m],f=r[m+1],u=r[m+2];t[B]=i*e+d*f+p*u,t[B+1]=s*e+c*f+y*u,t[B+2]=a*e+l*f+h*u,m+=o,B+=n}}function o(e,t,r){u(e.typedBuffer,t,r,e.typedBufferStride)}function u(e,t,r,f=3){const n=Math.min(e.length/f,t.count),o=t.typedBuffer,u=t.typedBufferStride;let i=0,s=0;for(let a=0;a<n;a++)e[s]=r*o[i],e[s+1]=r*o[i+1],e[s+2]=r*o[i+2],i+=u,s+=f}function i(e,t){s(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function s(e,t,r=3,f=r){const n=Math.min(e.length/r,t.length/f);let o=0,u=0;for(let i=0;i<n;i++){const n=t[o],i=t[o+1],s=t[o+2],a=n*n+i*i+s*s;if(a>0){const t=1/Math.sqrt(a);e[u]=t*n,e[u+1]=t*i,e[u+2]=t*s}o+=f,u+=r}}function a(e,t,r){const f=Math.min(e.count,t.count),n=e.typedBuffer,o=e.typedBufferStride,u=t.typedBuffer,i=t.typedBufferStride;let s=0,a=0;for(let d=0;d<f;d++)n[a]=u[s]>>r,n[a+1]=u[s+1]>>r,n[a+2]=u[s+2]>>r,s+=i,a+=o}const d=Object.freeze(Object.defineProperty({__proto__:null,normalize:s,normalizeView:i,scale:u,scaleView:o,shiftRight:a,transformMat3:n,transformMat3View:f,transformMat4:r,transformMat4View:t},Symbol.toStringTag,{value:\"Module\"}));export{n as a,f as b,t as c,i as d,o as e,a as f,s as n,u as s,r as t,d as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{ClonableMixin as r}from\"../../core/Clonable.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{enumeration as s}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import{c as p,f as c}from\"../../chunks/vec3f64.js\";import n from\"../Point.js\";let a=class extends(r(o)){constructor(e){super(e),this.type=\"georeferenced-relative\",this.isRelative=!0,this.isGeoreferenced=!0,this.origin=p()}getOriginPoint(e){const[r,o,t]=this.origin;return new n({x:r,y:o,z:t,spatialReference:e})}setOriginFromPoint({x:e,y:r,z:o}){this.origin=c(e,r,o??0)}};e([s({georeferencedRelative:\"georeferenced-relative\"},{readOnly:!0})],a.prototype,\"type\",void 0),e([t({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,\"origin\",void 0),a=e([i(\"esri.geometry.support.MeshGeoreferencedRelativeVertexSpace\")],a);const m=a;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport r from\"../../../../core/Logger.js\";const e=r.getLogger(\"esri.views.3d.support.buffer.math\");export{e as mathLogger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport t from\"../../../request.js\";import{equals as r}from\"../../../core/arrayUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{getFileFormatId as s,getMimeTypeFormatId as n,getFilenameFormatId as a}from\"../../../layers/support/infoFor3D.js\";class i{constructor(t,r,e){this.assetName=t,this.assetMimeType=r,this.parts=e}equals(t){return this===t||this.assetName===t.assetName&&this.assetMimeType===t.assetMimeType&&r(this.parts,t.parts,((t,r)=>t.equals(r)))}isOnService(t){return this.parts.every((r=>r.isOnService(t)))}makeHash(){let t=\"\";for(const r of this.parts)t+=r.partHash;return t}async toBlob(t){const{parts:r}=this;if(1===r.length)return r[0].toBlob(t);const s=await Promise.all(r.map((r=>r.toBlob(t))));return e(t),new Blob(s)}}class o{constructor(t,r){this.partUrl=t,this.partHash=r}equals(t){return this===t||this.partUrl===t.partUrl&&this.partHash===t.partHash}isOnService(t){return this.partUrl.startsWith(`${t.path}/assets/`)}async toBlob(r){const{data:s}=await t(this.partUrl,{responseType:\"blob\"});return e(r),s}}function u(t){return p(t?.source)}function c(t){if(!Array.isArray(t))return!1;return t.every((t=>t instanceof i))}const f=/^(model\\/gltf\\+json)|(model\\/gltf-binary)$/,l=/\\.(gltf|glb)/i;function p(t){if(!t)return!1;if(Array.isArray(t)){return t.some(m)}return m(t)}function m(t){if(t instanceof File){const{type:r,name:e}=t;return f.test(r)||l.test(e)}return f.test(t.assetMimeType)||l.test(t.assetName)}function h(t,r){if(!t)return!1;const{source:e}=t;return g(e,r)}function y(t,r){if(t===r)return!0;const{source:e}=t,{source:s}=r;if(e===s)return!0;if(c(e)&&c(s)){if(e.length!==s.length)return!1;const t=(t,r)=>t.assetName<r.assetName?-1:t.assetName>r.assetName?1:0,r=[...e].sort(t),n=[...s].sort(t);for(let e=0;e<r.length;++e)if(!r[e].equals(n[e]))return!1;return!0}return!1}function g(t,r){if(Array.isArray(t)){const e=t;return e.length>0&&e.every((t=>b(t,r)))}return b(t,r)}function b(t,r){return t instanceof i&&t.isOnService(r)}function N(t,r){return t instanceof File?s(t,r):n(t.assetMimeType,r)??a(t.assetName,r)}function A(t){return Array.isArray(t)?t:[t]}function v(t){return!!t.original}export{i as ServiceAsset,o as ServiceAssetPart,N as assetFormatId,b as assetIsOnService,h as externalIsOnService,A as externalSourceToMultiPart,y as externalSourcesAreEqual,m as isDisplayAsset,u as isDisplayExternal,p as isDisplaySource,v as isOriginalExternal,g as sourceIsOnService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};export{t as queryCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import s from\"../../core/Logger.js\";import{createResolver as o}from\"../../core/promiseUtils.js\";import{dataComponents as i}from\"../../core/urlUtils.js\";import{generateBracedUUID as n}from\"../../core/uuid.js\";import{normalizeCentralMeridian as d}from\"../../geometry/support/normalizeUtils.js\";import{isEditBusLayer as l,emitApplyEditsEvent as u}from\"../mixins/EditBusLayer.js\";import{isValidFieldValue as p}from\"../support/fieldUtils.js\";import{getMimeTypeFormatId as c,getFilenameFormatId as h}from\"../support/infoFor3D.js\";import{getEffectiveEditingEnabled as m,getEffectiveLayerCapabilities as f}from\"../support/layerUtils.js\";function y(e){return null!=e?.applyEdits}function g(e){return\"object\"==typeof e&&null!=e&&\"objectId\"in e&&!!e.objectId}function b(e){return e.every(g)}function w(e){return\"object\"==typeof e&&null!=e&&\"globalId\"in e&&!!e.globalId}function F(e){return e.every(w)}async function A(e,t,a,s={}){let i;const n=\"gdbVersion\"in e?e.gdbVersion:null,d=s.gdbVersion??n;if(l(e)&&e.url)i=u(e.url,e.layerId,d,\"original-and-current-features\"===s.returnServiceEditsOption);else{i=o(),i.promise.then((t=>{(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length)&&e.emit(\"edits\",t)}));const t={result:i.promise};e.emit(\"apply-edits\",t)}try{const{results:o,edits:n}=await v(e,t,a,s),d=e=>e.filter((e=>!e.error)).map(r),l={edits:n,addedFeatures:d(o.addFeatureResults),updatedFeatures:d(o.updateFeatureResults),deletedFeatures:d(o.deleteFeatureResults),addedAttachments:d(o.addAttachmentResults),updatedAttachments:d(o.updateAttachmentResults),deletedAttachments:d(o.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:o.editMoment?new Date(o.editMoment):null,globalIdToObjectId:s.globalIdToObjectId};return o.editedFeatureResults?.length&&(l.editedFeatures=o.editedFeatureResults),i.resolve(l),o}catch(p){throw i.reject(p),p}}async function v(e,t,r,s){if(await e.load(),!y(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!m(e))throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const{edits:o,options:i}=await I(e,r,s);return o.addFeatures?.length||o.updateFeatures?.length||o.deleteFeatures?.length||o.addAttachments?.length||o.updateAttachments?.length||o.deleteAttachments?.length?{edits:o,results:await t.applyEdits(o,i)}:{edits:o,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function I(e,t,r){const o=f(e),i=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),n=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments),d=null!=e.infoFor3D;if(T(t,o,r,!!i,!!n,`${e.type}-layer`),!o.data.isVersioned&&r?.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!o.editing.supportsRollbackOnFailure&&r?.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");const l={...r};if(null!=l.rollbackOnFailureEnabled||o.editing.supportsRollbackOnFailure||(l.rollbackOnFailureEnabled=!0),l.rollbackOnFailureEnabled||\"original-and-current-features\"!==l.returnServiceEditsOption||(!1===l.rollbackOnFailureEnabled&&s.getLogger(\"esri.layers.graphics.editingSupport\").warn(`${e.type}-layer:invalid-parameter`,\"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwrritten and set to true.\"),l.rollbackOnFailureEnabled=!0),!o.editing.supportsReturnServiceEditsInSourceSpatialReference&&l.returnServiceEditsInSourceSR)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");if(l.returnServiceEditsInSourceSR&&\"original-and-current-features\"!==l.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");const u=B(t,o,`${e.type}-layer`),p=r?.globalIdUsed||d,c=e.fields.filter((e=>\"big-integer\"===e.type||\"oid\"===e.type&&(e.length||0)>=8));if(p){const{globalIdField:t}=e;if(null==t)throw new a(`${e.type}-layer:invalid-parameter`,\"Layer does not specify a global id field.\");u.addFeatures.forEach((e=>U(e,t)))}u.addFeatures.forEach((t=>S(t,e,p,c))),u.updateFeatures.forEach((t=>j(t,e,p,c))),u.deleteFeatures.forEach((t=>R(t,e,p,c))),u.addAttachments.forEach((t=>O(t,e))),u.updateAttachments.forEach((t=>O(t,e))),d&&await G(u,e);return{edits:await L(u),options:l}}function $(e,t,r,s){if(r){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,`Feature should have '${t.globalIdField}' when 'globalIdUsed' is true`);if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"`'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(s.length&&\"attributes\"in e)for(const o of s){const r=e.attributes[o.name];if(void 0!==r&&!p(o,r))throw new a(`${t.type}-layer:invalid-parameter`,`Big-integer field '${o.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:e})}if(\"geometry\"in e&&null!=e.geometry){if(e.geometry.hasZ&&!1===t.capabilities?.data.supportsZ)throw new a(`${t.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===t.capabilities?.data.supportsM)throw new a(`${t.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function E(e,t){if(\"geometry\"in e&&\"mesh\"===e.geometry?.type&&null!=t.infoFor3D){const{geometry:r}=e;if(r.vertexSpace.isGeoreferenced)throw new a(`${t.type}-layer:georeferenced-mesh-unsupported`,\"Uploading georeferenced meshes to a layer is not supported.\")}}function S(e,t,a,r){$(e,t,a,r),E(e,t)}function R(e,t,a,r){$(e,t,a,r)}function j(e,t,r,s){$(e,t,r,s),E(e,t);const o=f(t);if(\"geometry\"in e&&null!=e.geometry&&!o?.editing.supportsGeometryUpdate)throw new a(`${t.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function O(e,t){const{feature:r,attachment:s}=e;if(!r||\"attributes\"in r&&!r.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in r)&&!r.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!s.data&&!s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(s.data instanceof File&&!!s.data.name)&&!s.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities?.editing.supportsUploadWithItemId&&s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof s.data){const e=i(s.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}function U(e,t){const{attributes:a}=e;null==a[t]&&(a[t]=n())}async function L(e){const t=e.addFeatures??[],a=e.updateFeatures??[],r=t.concat(a).map((e=>e.geometry)),s=await d(r),o=t.length,i=a.length;return s.slice(0,o).forEach(((e,a)=>t[a].geometry=e)),s.slice(o,o+i).forEach(((e,t)=>a[t].geometry=e)),e}function k(e){return{addFeatures:Array.from(e?.addFeatures??[]),updateFeatures:Array.from(e?.updateFeatures??[]),deleteFeatures:e&&t.isCollection(e.deleteFeatures)?e.deleteFeatures.toArray():e.deleteFeatures||[],addAttachments:e.addAttachments||[],updateAttachments:e.updateAttachments||[],deleteAttachments:e.deleteAttachments||[]}}function B(e,t,r){const s=k(e);if(s.addFeatures?.length&&!t.operations.supportsAdd)throw new a(`${r}:unsupported-operation`,\"Layer does not support adding features.\");if(s.updateFeatures?.length&&!t.operations.supportsUpdate)throw new a(`${r}:unsupported-operation`,\"Layer does not support updating features.\");if(s.deleteFeatures?.length&&!t.operations.supportsDelete)throw new a(`${r}:unsupported-operation`,\"Layer does not support deleting features.\");return s.addFeatures=s.addFeatures.map(D),s.updateFeatures=s.updateFeatures.map(D),s.addAssetFeatures=[],s}function T(e,t,r,s,o,i){if(!e||!s&&!o)throw new a(`${i}:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!t.editing.supportsGlobalId&&r?.globalIdUsed)throw new a(`${i}:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!t.editing.supportsGlobalId&&o)throw new a(`${i}:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if(!r?.globalIdUsed&&o)throw new a(`${i}:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\")}function D(t){const a=new e;return t.attributes||(t.attributes={}),a.geometry=t.geometry,a.attributes=t.attributes,a}async function G(e,t){if(null==t.infoFor3D)return;const{infoFor3D:r}=t,s=c(\"model/gltf-binary\",r.supportedFormats)??h(\"glb\",r.supportedFormats);if(!(!!s&&r.editFormats.includes(s)))throw new a(`${t.type}-layer:binary-gltf-asset-not-supported`,\"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");e.addAssetFeatures??=[];const{addAssetFeatures:o}=e;for(const a of e.addFeatures??[])V(a)&&o.push(a);for(const a of e.updateFeatures??[])V(a)&&o.push(a)}function V(e){return\"mesh\"===e?.geometry?.type}function M(e,t,r,s){if(!y(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!t.uploadAssets)throw new a(`${e.type}-layer:no-asset-upload-support`,\"Layer source does not support uploadAssets capability\",{layer:e});return t.uploadAssets(r,s)}export{A as applyEdits,T as checkEditingCapabilities,F as isFeatureIdentifierArrayWithGlobalId,b as isFeatureIdentifierArrayWithObjectId,w as isFeatureIdentifierWithGlobalId,g as isFeatureIdentifierWithObjectId,k as normalizeCollections,B as normalizeEdits,L as normalizeGeometries,D as shallowCloneFeature,M as uploadAssets};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{d as e}from\"../../chunks/mat4.js\";import{a as t}from\"../../chunks/mat4f64.js\";import r from\"./MeshGeoreferencedRelativeVertexSpace.js\";import{t as o}from\"../../chunks/vec32.js\";function n(t){const{vertexSpace:n}=t;if(n.isRelative)return t.clone();const{anchor:i}=t,c=i.clone(),a=e(s,[-c.x,-c.y,-c.z]),m=new r({origin:[c.x,c.y,c.z]}),p=t.cloneWithVertexSpace(m),{position:u}=p.vertexAttributes;return p.vertexAttributes.position=o(new Float64Array(u.length),u,a),p.vertexAttributesChanged(),p}const s=t();export{n as toRelativeVertexSpace};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Error.js\";import a from\"../../core/Logger.js\";import{getMetersPerCartesianUnitForSR as r}from\"../../core/unitUtils.js\";import{parseData as s}from\"../../core/urlUtils.js\";import{initializeProjection as o,project as n}from\"../../geometry/projection.js\";import{fromJSON as l}from\"../../geometry/support/jsonUtils.js\";import{isFeatureIdentifierArrayWithGlobalId as i,isFeatureIdentifierArrayWithObjectId as d}from\"./editingSupport.js\";async function u(e,t,a){const{geometry:s}=t,l={...t.attributes};if(null!=a&&\"mesh\"===s?.type){const{transformFieldRoles:t}=a,{origin:i,spatialReference:d,transform:u}=s,c=e.spatialReference;await o(d,c);const p=n(i,c);if(l[t.originX]=p.x,l[t.originY]=p.y,l[t.originZ]=p.z??0,null!=u){const{translation:e,scale:a,rotation:o}=u,{vertexSpace:n}=s,i=n.isGeoreferenced?1:r(d)/r(c);l[t.translationX]=e[0]*i,l[t.translationY]=e[2]*i,l[t.translationZ]=-e[1]*i,l[t.scaleX]=a[0],l[t.scaleY]=a[2],l[t.scaleZ]=a[1],l[t.rotationX]=o[0],l[t.rotationY]=o[2],l[t.rotationZ]=-o[1],l[t.rotationDeg]=o[3]}return{attributes:l}}return null==s?{attributes:l}:\"mesh\"===s.type||\"extent\"===s.type?null:{geometry:s.toJSON(),attributes:l}}async function c(e,t){const a=await Promise.all((t.addAttachments??[]).map((t=>p(e,t)))),r=await Promise.all((t.updateAttachments??[]).map((t=>p(e,t)))),s=t.deleteAttachments??[];return a.length||r.length||s.length?{adds:a,updates:r,deletes:[...s]}:null}async function p(e,t){const{feature:a,attachment:r}=t,{globalId:o,name:n,contentType:l,data:i,uploadId:d}=r,u={globalId:o};if(a&&(\"attributes\"in a?u.parentGlobalId=a.attributes?.[e.globalIdField]:a.globalId&&(u.parentGlobalId=a.globalId)),d)u.uploadId=d;else if(i){const e=await s(i);e&&(u.contentType=e.mediaType,u.data=e.data),i instanceof File&&(u.name=i.name)}return n&&(u.name=n),l&&(u.contentType=l),u}function m(e,t,a){if(!t||0===t.length)return[];if(a&&i(t))return t.map((e=>e.globalId));if(d(t))return t.map((e=>e.objectId));const r=a?e.globalIdField:e.objectIdField;return r?t.map((e=>e.getAttribute(r))):[]}function f(e){const t=e?.assetMaps;if(t){for(const e of t.addResults)e.success||a.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${e.globalId}.`);for(const e of t.updateResults)e.success||a.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${e.globalId}.`)}const r=e?.attachments,s={addFeatureResults:e?.addResults?.map(g)??[],updateFeatureResults:e?.updateResults?.map(g)??[],deleteFeatureResults:e?.deleteResults?.map(g)??[],addAttachmentResults:r?.addResults?r.addResults.map(g):[],updateAttachmentResults:r?.updateResults?r.updateResults.map(g):[],deleteAttachmentResults:r?.deleteResults?r.deleteResults.map(g):[]};return e?.editMoment&&(s.editMoment=e.editMoment),s}function g(e){const a=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:a?new t(\"feature-layer-source:edit-failure\",a.description,{code:a.code}):null}}function b(t,a){return new e({attributes:t.attributes,geometry:l({...t.geometry,spatialReference:a})})}function R(e,t){return{adds:e?.adds?.map((e=>b(e,t)))||[],updates:e?.updates?.map((e=>({original:b(e[0],t),current:b(e[1],t)})))||[],deletes:e?.deletes?.map((e=>b(e,t)))||[],spatialReference:t}}function I(e){const t=e.details.raw,a=+t.code,r=+t.extendedCode;return 500===a&&(-2147217144===r||-2147467261===r)}export{R as createEditedFeatures,g as createFeatureEditResult,c as getAttachmentEditsJSON,m as getFeatureIds,u as getFeatureJSON,I as isProtectedOrPrivateVersionError,f as unpackEditResultData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import{id as t}from\"../../../kernel.js\";import s from\"../../../request.js\";import r from\"../../../TimeExtent.js\";import{isSome as a}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import{JSONMap as o}from\"../../../core/jsonMap.js\";import n from\"../../../core/Loadable.js\";import u from\"../../../core/Logger.js\";import{setDeepValue as l}from\"../../../core/object.js\";import{debounce as c,after as d,throwIfAbortError as p}from\"../../../core/promiseUtils.js\";import{join as y}from\"../../../core/urlUtils.js\";import{generateBracedUUID as h}from\"../../../core/uuid.js\";import{property as m}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as f}from\"../../../core/accessorSupport/decorators/subclass.js\";import g from\"../../../geometry/Extent.js\";import{toRelativeVertexSpace as S}from\"../../../geometry/support/meshVertexSpaceUtils.js\";import{isOriginalExternal as w}from\"../../../geometry/support/meshUtils/External.js\";import{createFeatureEditResult as q,getFeatureJSON as E,getFeatureIds as R,getAttachmentEditsJSON as O,isProtectedOrPrivateVersionError as b,unpackEditResultData as A,createEditedFeatures as F}from\"../applyEditsUtils.js\";import{createDrawingInfo as _}from\"./support/clientSideDefaults.js\";import x from\"./support/QueryTask.js\";import{isHostedAgolService as j}from\"../../support/arcgisLayerUrl.js\";import{ensureLayerCredential as I}from\"../../support/featureLayerUtils.js\";import{getAssetMapTable as v}from\"../../support/infoFor3D.js\";import{executeQueryJSON as T}from\"../../../rest/query/executeQueryJSON.js\";import{unapplyEditsZUnitScaling as N}from\"../../../rest/query/operations/editsZScale.js\";import M from\"../../../rest/support/Query.js\";import{isSafeToEditVersion as U,isVersionInEditSession as J,currentSessionId as k}from\"../../../versionManagement/support/versionManagementUtils.js\";import C from\"../../../geometry/SpatialReference.js\";const L=new o({originalAndCurrentFeatures:\"original-and-current-features\",none:\"none\"}),Q=new Set([\"Feature Layer\",\"Oriented Imagery Layer\",\"Table\"]),D=new o({Started:\"published\",Publishing:\"publishing\",Stopped:\"unavailable\"});let P=class extends n{constructor(){super(...arguments),this.type=\"feature-layer\",this.refresh=c((async()=>{await this.load();const e=this.sourceJSON.editingInfo?.lastEditDate;if(null==e)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}const t=e!==this.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:t,updates:t?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}})),this._ongoingAssetUploads=new Map}load(e){const t=this.layer.sourceJSON,s=this._fetchService(t,{...e}).then((()=>this.layer.setUserPrivileges(this.sourceJSON.serviceItemId,e))).then((()=>this._ensureLatestMetadata(e)));return this.addResolvingPromise(s),Promise.resolve(this)}get queryTask(){const{capabilities:e,parsedUrl:t,dynamicDataSource:s,infoFor3D:r,gdbVersion:a,spatialReference:i,fieldsIndex:o}=this.layer,n=has(\"featurelayer-pbf\")&&e?.query.supportsFormatPBF&&null==r,u=e?.operations?.supportsQueryAttachments??!1;return new x({url:t.path,pbfSupported:n,fieldsIndex:o,infoFor3D:r,dynamicDataSource:s,gdbVersion:a,sourceSpatialReference:i,queryAttachmentsSupported:u})}async addAttachment(e,t){await this.load();const{layer:r}=this;await I(r,\"editing\");const a=e.attributes[r.objectIdField],i=r.parsedUrl.path+\"/\"+a+\"/addAttachment\",o=this._getLayerRequestOptions(),n=this._getFormDataForAttachment(t,o.query);try{const e=await s(i,{body:n});return q(e.data.addAttachmentResult)}catch(u){throw this._createAttachmentErrorResult(a,u)}}async updateAttachment(e,t,r){await this.load();const{layer:a}=this;await I(a,\"editing\");const i=e.attributes[a.objectIdField],o=a.parsedUrl.path+\"/\"+i+\"/updateAttachment\",n=this._getLayerRequestOptions({query:{attachmentId:t}}),u=this._getFormDataForAttachment(r,n.query);try{const e=await s(o,{body:u});return q(e.data.updateAttachmentResult)}catch(l){throw this._createAttachmentErrorResult(i,l)}}async applyEdits(e,r){await this.load();const{layer:i}=this;await I(i,\"editing\");const o=i.infoFor3D,n=null!=o,u=n||(r?.globalIdUsed??!1),l=n?await this._uploadMeshesAndGetAssetMapEditsJSON(e):null,c=e.addFeatures?.map((e=>E(this.layer,e,o)))??[],d=(await Promise.all(c)).filter(a),p=e.updateFeatures?.map((e=>E(this.layer,e,o)))??[],y=(await Promise.all(p)).filter(a),h=R(this.layer,e.deleteFeatures,u);N(d,y,i.spatialReference);const m=await O(this.layer,e),f=i.capabilities.editing.supportsAsyncApplyEdits&&n,g=r?.gdbVersion||i.gdbVersion,S={gdbVersion:g,rollbackOnFailure:r?.rollbackOnFailureEnabled,useGlobalIds:u,returnEditMoment:r?.returnEditMoment,usePreviousEditMoment:r?.usePreviousEditMoment,async:f};await U(this.layer.url,g,!0);const w=J(this.layer.url,g||null);r?.returnServiceEditsOption?(S.edits=JSON.stringify([{id:i.layerId,adds:d,updates:y,deletes:h,attachments:m,assetMaps:l}]),S.returnServiceEditsOption=L.toJSON(r?.returnServiceEditsOption),S.returnServiceEditsInSourceSR=r?.returnServiceEditsInSourceSR):(S.adds=d.length?JSON.stringify(d):null,S.updates=y.length?JSON.stringify(y):null,S.deletes=h.length?u?JSON.stringify(h):h.join(\",\"):null,S.attachments=m&&JSON.stringify(m),S.assetMaps=null!=l?JSON.stringify(l):void 0);const q=this._getLayerRequestOptions({method:\"post\",query:S});w&&(q.authMode=\"immediate\",q.query.returnEditMoment=!0,q.query.sessionId=k);const A=r?.returnServiceEditsOption?i.url:i.parsedUrl.path;let F;try{F=f?await this._asyncApplyEdits(A+\"/applyEdits\",q):await s(A+\"/applyEdits\",q)}catch(_){if(!b(_))throw _;q.authMode=\"immediate\",F=f?await this._asyncApplyEdits(A+\"/applyEdits\",q):await s(A+\"/applyEdits\",q)}if(!i.capabilities.operations?.supportsEditing&&i.effectiveCapabilities?.operations?.supportsEditing){const e=t?.findCredential(i.url);await(e?.refreshToken())}return this._createEditsResult(F)}async deleteAttachments(e,t){await this.load();const{layer:r}=this;await I(r,\"editing\");const a=e.attributes[r.objectIdField],i=r.parsedUrl.path+\"/\"+a+\"/deleteAttachments\";try{return(await s(i,this._getLayerRequestOptions({query:{attachmentIds:t.join(\",\")},method:\"post\"}))).data.deleteAttachmentResults.map(q)}catch(o){throw this._createAttachmentErrorResult(a,o)}}fetchRecomputedExtents(e={}){const t=e.signal;return this.load({signal:t}).then((async()=>{const t=this._getLayerRequestOptions({...e,query:{returnUpdates:!0}}),{layerId:a,url:i}=this.layer,{data:o}=await s(`${i}/${a}`,t),{id:n,extent:u,fullExtent:l,timeExtent:c}=o,d=u||l;return{id:n,fullExtent:d&&g.fromJSON(d),timeExtent:c&&r.fromJSON({start:c[0],end:c[1]})}}))}async queryAttachments(e,t={}){await this.load();const s=this._getLayerRequestOptions(t);return this.queryTask.executeAttachmentQuery(e,s)}async queryFeatures(e,t){await this.load();const s=await this.queryTask.execute(e,{...t,query:this._createRequestQueryOptions(t)});return e.outStatistics?.length&&s.features.length&&s.features.forEach((t=>{const s=t.attributes;e.outStatistics?.forEach((({outStatisticFieldName:e})=>{if(e){const t=e.toLowerCase();t&&t in s&&e!==t&&(s[e]=s[t],delete s[t])}}))})),s}async queryFeaturesJSON(e,t){return await this.load(),this.queryTask.executeJSON(e,{...t,query:this._createRequestQueryOptions(t)})}async queryObjectIds(e,t){return await this.load(),this.queryTask.executeForIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryFeatureCount(e,t){return await this.load(),this.queryTask.executeForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryExtent(e,t){return await this.load(),this.queryTask.executeForExtent(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeatures(e,t){return await this.load(),this.queryTask.executeRelationshipQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeaturesCount(e,t){return await this.load(),this.queryTask.executeRelationshipQueryForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopFeatures(e,t){return await this.load(),this.queryTask.executeTopFeaturesQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopObjectIds(e,t){return await this.load(),this.queryTask.executeForTopIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopExtents(e,t){return await this.load(),this.queryTask.executeForTopExtents(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopCount(e,t){return await this.load(),this.queryTask.executeForTopCount(e,{...t,query:this._createRequestQueryOptions(t)})}async fetchPublishingStatus(){if(!j(this.layer.url))return\"unavailable\";const e=y(this.layer.url,\"status\"),t=await s(e,{query:{f:\"json\"}});return D.fromJSON(t.data.status)}async uploadAssets(e,t){const{uploadAssets:s}=await import(\"./support/uploadAssets.js\");return s(e,{layer:this.layer,ongoingUploads:this._ongoingAssetUploads},t)}async _asyncApplyEdits(e,t){const r=(await s(e,t)).data.statusUrl;for(;;){const e=(await s(r,{query:{f:\"json\"},responseType:\"json\"})).data;switch(e.status){case\"Completed\":return s(e.resultUrl,{query:{f:\"json\"},responseType:\"json\"});case\"CompletedWithErrors\":throw new i(\"async-applyEdits-failed\",\"asynchronous applyEdits call failed.\");case\"Failed ImportChanges\":case\"InProgress\":case\"Pending\":case\"ExportAttachments\":case\"ExportChanges\":case\"ExportingData\":case\"ExportingSnapshot\":case\"ImportAttachments\":case\"ProvisioningReplica\":case\"UnRegisteringReplica\":break;default:throw new i(\"async-applyEdits-failed\",\"asynchronous applyEdits call failed (undefined response status)\")}await d(V)}}_createRequestQueryOptions(e){const t={...this.layer.customParameters,token:this.layer.apiKey,...e?.query};return this.layer.datesInUnknownTimezone&&(t.timeReferenceUnknownClient=!0),t}async _fetchService(e,t){if(!e){const r={};has(\"featurelayer-advanced-symbols\")&&(r.returnAdvancedSymbols=!0),t?.cacheBust&&(r._ts=Date.now());const{data:a}=await s(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:r,signal:t?.signal}));e=a}this.sourceJSON=await this._patchServiceJSON(e,t?.signal);const r=e.type;if(!Q.has(r))throw new i(\"feature-layer-source:unsupported-type\",`Source type \"${r}\" is not supported`)}async _patchServiceJSON(e,t){if(\"Table\"!==e.type&&e.geometryType&&!e?.drawingInfo?.renderer&&!e.defaultSymbol){const t=_(e.geometryType).renderer;l(\"drawingInfo.renderer\",t,e)}if(\"esriGeometryMultiPatch\"===e.geometryType&&e.infoFor3D&&(e.geometryType=\"mesh\"),null==e.extent)try{const{data:r}=await s(this.layer.url,this._getLayerRequestOptions({signal:t}));r.spatialReference&&(e.extent={xmin:0,ymin:0,xmax:0,ymax:0,spatialReference:r.spatialReference})}catch(r){p(r)}return e}async _ensureLatestMetadata(e){if(this.layer.userHasUpdateItemPrivileges&&this.sourceJSON.cacheMaxAge>0)return this._fetchService(null,{...e,cacheBust:!0})}async _uploadMeshesAndGetAssetMapEditsJSON(e){const{addAssetFeatures:t}=e;if(!t?.length)return null;const s=await this._filterRedundantAssetMaps(t);if(!t?.length)return null;const r=new Array,a=new Map;for(const i of s){const{geometry:e}=i,{vertexSpace:t}=e;if(t.isRelative)r.push(e);else{const t=S(e);a.set(t,e),i.geometry=t,r.push(t)}}await this.uploadAssets(r);for(const[i,o]of a)o.addExternalSources(i.metadata.externalSources.items);return{adds:this._getAssetMapEditsJSON(s),updates:[],deletes:[]}}_getAssetMapEditsJSON(e){const t=new Array,s=this.layer.globalIdField,r=this.layer.parsedUrl;for(const a of e){const e=a.geometry,{metadata:i}=e,o=i.getExternalSourcesOnService(r),n=a.getAttribute(s);if(0===o.length){u.getLogger(this).error(`Skipping feature ${n}. The mesh it is associated with has not been uploaded to the service and cannot be mapped to it.`);continue}const{source:l}=o.find(w)??o[0],{vertexSpace:c}=e,d=c.isGeoreferenced?[\"PROJECT_VERTICES\"]:[];for(const s of l)1===s.parts.length?t.push({globalId:h(),parentGlobalId:n,assetName:s.assetName,assetHash:s.parts[0].partHash,flags:d}):u.getLogger(this).error(`Skipping asset ${s.assetName}. It does not have exactly one part, so we cannot map it to a feature.`)}return t}_createEditsResult(e){const t=e.data,{layerId:s}=this.layer,r=[];let a=null;if(Array.isArray(t))for(const o of t)r.push({id:o.id,editedFeatures:o.editedFeatures}),o.id===s&&(a={addResults:o.addResults??[],updateResults:o.updateResults??[],deleteResults:o.deleteResults??[],attachments:o.attachments,editMoment:o.editMoment});else a=t;const i=A(a);if(r.length>0){i.editedFeatureResults=[];for(const e of r){const{editedFeatures:t}=e,s=t?.spatialReference?new C(t.spatialReference):null;i.editedFeatureResults.push({layerId:e.id,editedFeatures:F(t,s)})}}return i}_createAttachmentErrorResult(e,t){const s=t.details.messages?.[0]||t.message,r=t.details.httpStatus||t.details.messageCode;return{objectId:e,globalId:null,error:new i(\"feature-layer-source:attachment-failure\",s,{code:r})}}_getFormDataForAttachment(e,t){const s=e instanceof FormData?e:e&&e.elements?new FormData(e):null;if(s)for(const r in t){const e=t[r];null!=e&&(s.set?s.set(r,e):s.append(r,e))}return s}_getLayerRequestOptions(e={}){const{parsedUrl:t,gdbVersion:s,dynamicDataSource:r}=this.layer;return{...e,query:{gdbVersion:s,layer:r?JSON.stringify({source:r}):void 0,...t.query,f:\"json\",...this._createRequestQueryOptions(e)},responseType:\"json\"}}async _filterRedundantAssetMaps(e){const{layer:t}=this,{globalIdField:s,infoFor3D:r,parsedUrl:i}=t;if(null==r||null==s)return e;const o=v(r);if(null==o)return e;const n=y(i.path,`../${o.id}`),u=new Array,l=new Array;for(const a of e)a.geometry.metadata.getExternalSourcesOnService(i).length>0?l.push(a):u.push(a);const c=l.map((e=>e.getAttribute(s))).filter(a);if(0===c.length)return e;const{assetMapFieldRoles:{parentGlobalId:d,assetHash:p}}=r,h=new M;h.where=`${d} IN (${c.map((e=>`'${e}'`))})`,h.outFields=[p,d],h.returnGeometry=!1;const m=await T(n,h),{features:f}=m;return 0===f.length?e:[...u,...l.filter((e=>{const t=e.getAttribute(s);if(!t)return!0;const{metadata:r}=e.geometry,a=f.filter((e=>e.getAttribute(d)===t));if(0===a.length)return!0;const o=a.map((e=>e.getAttribute(p)));return r.getExternalSourcesOnService(i).flatMap((({source:e})=>e.flatMap((e=>e.parts.map((e=>e.partHash)))))).some((e=>o.every((t=>e!==t))))}))]}};e([m()],P.prototype,\"type\",void 0),e([m({constructOnly:!0})],P.prototype,\"layer\",void 0),e([m({readOnly:!0})],P.prototype,\"queryTask\",null),P=e([f(\"esri.layers.graphics.sources.FeatureLayerSource\")],P);const V=1e3,$=P;export{$ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clone as t}from\"../../../../core/lang.js\";import{queryCapabilities as s}from\"../../data/QueryEngineCapabilities.js\";import{defaultPointSymbolJSON as e,defaultPolylineSymbolJSON as r,defaultPolygonSymbolJSON as p}from\"../../../../symbols/support/defaultsJSON.js\";function o(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?e:\"esriGeometryPolyline\"===t?r:p}}}const u=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let n=1;function i(t,s){if(has(\"esri-csp-restrictions\"))return()=>({[s]:null,...t});try{let e=`this.${s} = null;`;for(const s in t){e+=`this${u.test(s)?`.${s}`:`[\"${s}\"]`} = ${JSON.stringify(t[s])};`}const r=new Function(`\\n      return class AttributesClass$${n++} {\\n        constructor() {\\n          ${e};\\n        }\\n      }\\n    `)();return()=>new r}catch(e){return()=>({[s]:null,...t})}}function a(s={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:t(s)}}]}function l(t,e){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:e,supportsDelete:e,supportsEditing:e,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:e,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:s,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:e,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}export{l as createCapabilities,i as createDefaultAttributesFunction,a as createDefaultTemplate,o as createDrawingInfo};\n"],"names":["e","r","n","Float64Array","o","Object","freeze","defineProperty","__proto__","IDENTITY","clone","create","createView","fromValues","t","a","u","c","f","l","s","i","b","_","m","p","Symbol","toStringTag","value","typedBuffer","typedBufferStride","length","Math","ceil","d","y","h","B","g","S","M","min","count","sqrt","normalize","normalizeView","scale","scaleView","shiftRight","transformMat3","transformMat3View","transformMat4","transformMat4View","constructor","super","this","type","isRelative","isGeoreferenced","origin","getOriginPoint","x","z","spatialReference","setOriginFromPoint","georeferencedRelative","readOnly","prototype","Number","nonNullable","json","write","assetName","assetMimeType","parts","equals","isOnService","every","makeHash","partHash","toBlob","Promise","all","map","Blob","partUrl","startsWith","path","data","responseType","Array","isArray","some","source","File","name","test","sort","N","A","v","original","supportsStatistics","supportsPercentileStatistics","supportsSpatialAggregationStatistics","supportedSpatialAggregationStatistics","envelope","centroid","convexHull","supportsCentroid","supportsCacheHint","supportsDistance","supportsDistinct","supportsExtent","supportsGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQuantization","supportsQuantizationEditMode","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsMaxRecordCountFactor","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsQueryByAnonymous","supportsQueryByOthers","supportsHistoricMoment","supportsFormatPBF","supportsDisjointSpatialRelationship","supportsDefaultSpatialReference","supportsFullTextSearch","supportsCompactGeometry","maxRecordCountFactor","maxRecordCount","standardMaxRecordCount","tileMaxRecordCount","applyEdits","objectId","w","globalId","F","async","gdbVersion","url","layerId","returnServiceEditsOption","promise","then","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","emit","result","results","edits","filter","error","addFeatureResults","updateFeatureResults","deleteFeatureResults","addAttachmentResults","updateAttachmentResults","deleteAttachmentResults","exceededTransferLimit","historicMoment","editMoment","Date","globalIdToObjectId","editedFeatureResults","editedFeatures","resolve","reject","load","layer","options","addFeatures","updateFeatures","deleteFeatures","addAttachments","updateAttachments","deleteAttachments","infoFor3D","T","isVersioned","editing","supportsRollbackOnFailure","rollbackOnFailureEnabled","warn","supportsReturnServiceEditsInSourceSpatialReference","returnServiceEditsInSourceSR","globalIdUsed","fields","globalIdField","forEach","attributes","U","$","E","geometry","supportsGeometryUpdate","j","R","O","supportedFormats","editFormats","includes","addAssetFeatures","V","push","G","L","I","MAX_SAFE_INTEGER","feature","hasZ","capabilities","supportsZ","hasM","supportsM","vertexSpace","attachment","uploadId","supportsUploadWithItemId","isBase64","concat","slice","k","from","toArray","operations","supportsAdd","supportsUpdate","supportsDelete","D","supportsGlobalId","uploadAssets","anchor","cloneWithVertexSpace","position","vertexAttributes","vertexAttributesChanged","transformFieldRoles","transform","originX","originY","originZ","translation","rotation","translationX","translationY","translationZ","scaleX","scaleY","scaleZ","rotationX","rotationY","rotationZ","rotationDeg","toJSON","adds","updates","deletes","contentType","parentGlobalId","mediaType","success","code","description","current","originalAndCurrentFeatures","none","Q","Set","Started","Publishing","Stopped","P","arguments","refresh","sourceJSON","editingInfo","lastEditDate","dataChanged","_fetchService","extent","_ongoingAssetUploads","Map","setUserPrivileges","serviceItemId","_ensureLatestMetadata","addResolvingPromise","queryTask","parsedUrl","dynamicDataSource","fieldsIndex","has","query","supportsQueryAttachments","pbfSupported","sourceSpatialReference","queryAttachmentsSupported","objectIdField","_getLayerRequestOptions","_getFormDataForAttachment","q","body","addAttachmentResult","_createAttachmentErrorResult","attachmentId","updateAttachmentResult","_uploadMeshesAndGetAssetMapEditsJSON","getAttribute","supportsAsyncApplyEdits","rollbackOnFailure","useGlobalIds","returnEditMoment","usePreviousEditMoment","J","JSON","stringify","id","attachments","assetMaps","join","method","authMode","sessionId","_asyncApplyEdits","details","raw","extendedCode","supportsEditing","effectiveCapabilities","findCredential","refreshToken","_createEditsResult","attachmentIds","fetchRecomputedExtents","signal","returnUpdates","fullExtent","timeExtent","start","end","executeAttachmentQuery","execute","_createRequestQueryOptions","outStatistics","features","outStatisticFieldName","toLowerCase","executeJSON","executeForIds","executeForCount","executeForExtent","executeRelationshipQuery","executeRelationshipQueryForCount","executeTopFeaturesQuery","executeForTopIds","executeForTopExtents","executeForTopCount","fromJSON","status","ongoingUploads","statusUrl","resultUrl","customParameters","token","apiKey","datesInUnknownTimezone","timeReferenceUnknownClient","returnAdvancedSymbols","cacheBust","_ts","now","_patchServiceJSON","geometryType","drawingInfo","renderer","defaultSymbol","xmin","ymin","xmax","ymax","userHasUpdateItemPrivileges","cacheMaxAge","_filterRedundantAssetMaps","set","addExternalSources","metadata","externalSources","items","_getAssetMapEditsJSON","getExternalSourcesOnService","find","assetHash","flags","addResults","updateResults","deleteResults","C","messages","message","httpStatus","messageCode","FormData","elements","append","assetMapFieldRoles","where","outFields","returnGeometry","flatMap","constructOnly","symbol","Function","analytics","supportsAttachment","supportsAdvancedFieldProperties","supportsCalculate","supportsTruncate","supportsValidateSql","supportsChangeTracking","supportsQuery","supportsQueryAnalytics","supportsQueryTopFeatures","supportsResizeAttachments","supportsSync","supportsExceedsLimitStatistics","supportsAsyncConvert3D","queryRelated","supportsCount","queryTopFeatures","supportsUpdateWithoutM","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers","zDefault"],"sourceRoot":""}