{"version":3,"file":"static/js/9719.50d6cba5.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ColorMaterial.glsl.js","../node_modules/@arcgis/core/chunks/HighlightApply.glsl.js","../node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js","../node_modules/@arcgis/core/chunks/HighlightToSingle.glsl.js","../node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js","../node_modules/@arcgis/core/chunks/SingleHighlightApply.glsl.js","../node_modules/@arcgis/core/chunks/SingleHighlightBlur.glsl.js","../node_modules/@arcgis/core/chunks/TextureOnly.glsl.js","../node_modules/@arcgis/core/core/NestedMap.js","../node_modules/@arcgis/core/layers/graphics/sources/interfaces.js","../node_modules/@arcgis/core/symbols/support/gfxUtils.js","../node_modules/@arcgis/core/symbols/support/utils.js","../node_modules/@arcgis/core/views/3d/environment/Clouds.js","../node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js","../node_modules/@arcgis/core/views/3d/environment/CloudyWeather.js","../node_modules/@arcgis/core/views/3d/environment/FoggyWeather.js","../node_modules/@arcgis/core/views/3d/environment/RainyWeather.js","../node_modules/@arcgis/core/views/3d/environment/SnowyWeather.js","../node_modules/@arcgis/core/views/3d/environment/SunnyWeather.js","../node_modules/@arcgis/core/views/3d/environment/weather.js","../node_modules/@arcgis/core/views/3d/support/engineContent/line.js","../node_modules/@arcgis/core/views/3d/support/renderInfoUtils/line.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js","../node_modules/@arcgis/core/views/3d/terrain/Overlay.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTargets.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/RenderPassIdentifier.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightApplyTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDownsampleTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightPassParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightToSingleTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightApplyTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightBlurTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/Highlight.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRepository.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Update.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BindParameters.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/CascadeCamera.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowMap.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositingTechnique.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js","../node_modules/@arcgis/core/views/3d/terrain/interfaces.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Integer2PassUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/TextureCubeBindUniform.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CloudsParallaxShading.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ToneMapping.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{SliceDraw as e}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as o}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{VertexColor as i}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{terrainDepthTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{VisualVariables as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{ColorConversion as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as a}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{VertexAttribute as g}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as v}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{ShaderBuilder as b}from\"../views/webgl/ShaderBuilder.js\";function c(c){const m=new b,{vertex:u,fragment:w,attributes:p,varyings:f}=m,{vvColor:h,hasVertexColors:C}=c;return d(u,c),m.include(r,c),m.include(i,c),m.include(s,c),m.include(o,c),w.include(e,c),m.include(v,c),m.include(l,c),p.add(g.POSITION,\"vec3\"),h&&p.add(g.COLORFEATUREATTRIBUTE,\"float\"),C||f.add(\"vColor\",\"vec4\"),f.add(\"vpos\",\"vec3\"),u.uniforms.add(new n(\"uColor\",(e=>e.color))),u.main.add(a`\n      vpos = position;\n      forwardNormalizedVertexColor();\n      forwardObjectAndLayerIdColor();\n\n      ${C?\"vColor *= uColor;\":h?\"vColor = uColor * interpolateVVColor(colorFeatureAttribute);\":\"vColor = uColor;\"}\n      forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n      gl_Position = transformPosition(proj, view, vpos);`),w.include(t),w.main.add(a`discardBySlice(vpos);\ndiscardByTerrainDepth();\noutputColorHighlightOID(vColor, vpos);`),m}const m=Object.freeze(Object.defineProperty({__proto__:null,build:c},Symbol.toStringTag,{value:\"Module\"}));export{m as C,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as l}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{FloatPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerBindUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/IntegerBindUniform.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as r}from\"../views/webgl/ShaderBuilder.js\";function a(){const a=new r;a.include(e);const{fragment:c}=a;return c.uniforms.add(new n(\"highlightTexture\",(e=>e.highlightTexture)),new n(\"highlightOptionsTexture\",(e=>e.highlightOptionsTexture)),new i(\"pixelRatio\",(e=>e.pixelRatio)),new i(\"occludedIntensityFactor\",(e=>e.occludedFactor)),new o(\"maxHighlightLevel\",(e=>e.highlights.length-1))),c.constants.add(\"pixelSampleScale\",\"float\",1),a.include(l),c.code.add(t`const float pascal17[9] = float[9](12870.0, 11440.0, 8008.0, 4368.0, 1820.0, 560.0, 120.0, 16.0, 1.0);\nconst float denom17 =  65536.0;\nfloat colorWeight[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\nfloat colorOcclusion[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\nfloat weights[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\nvoid applyTexel(vec2 texel, float weight) {\nif (texel != vec2(0.0)){\nint maxChannel = (maxHighlightLevel >> 2) & 1;\nfor (int channelIndex = 0; channelIndex <= maxChannel; ++channelIndex){\nuint channel = readChannel(texel, channelIndex << 2);\nint firstIndex = channelIndex << 2;\nint maxIndex  = min(firstIndex + 3, maxHighlightLevel);\nfor (int highlightIndex = firstIndex; highlightIndex <= maxIndex; ++highlightIndex ) {\nuint v = readChannelBits(channel, highlightIndex);\nif ((v & 1u) == 1u){\ncolorWeight[highlightIndex] += weight;\nif ((v & 2u) == 2u){\ncolorOcclusion[highlightIndex] += weight;\n}\n}\n}\n}\n}\n}\nvec2 readTexel(ivec2 iuv, int du, int dv) {\nreturn texelFetch(highlightTexture, iuv + ivec2(du, dv), 0).rg;\n}\nvoid readAndApplyTexel(ivec2 iuv, int du, int dv, float weight) {\nvec2 texel = readTexel(iuv, du, dv);\napplyTexel(texel, weight);\n}\nvoid readAndApply2TexelsU(ivec2 iuv, int du, int dv, float weight) {\nreadAndApplyTexel(iuv, -du, dv, weight);\nreadAndApplyTexel(iuv, +du, dv, weight);\n}\nfloat getWeight(int pixelDistance) {\nfloat scaledDistance = float(pixelDistance) * pixelSampleScale / pixelRatio;\nfloat d0f = floor(scaledDistance);\nint d0 = int(d0f);\nif (d0 >= 8){\nreturn 0.0;\n}\nfloat w0 = pascal17[d0];\nfloat w1 = pascal17[d0+1];\nfloat f =  scaledDistance - d0f;\nreturn mix(w0, w1, f);\n}`),c.main.add(t`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));\nivec2 iuv = ivec2(sUV * highlightTextureSize);\nvec2 centerTexel = texelFetch(highlightTexture, iuv, 0).rg;\nbool outlinePossible = false;\nif (vOutlinePossible > 0.0){\nfor (int highlightLevel=0; highlightLevel<= maxHighlightLevel; ++highlightLevel) {\nif ((readLevelBits(centerTexel,highlightLevel) & 1u) == 0u) {\noutlinePossible = true;\nbreak;\n}\n}\n}\nif (outlinePossible) {\nint maxPixelDistance = clamp(int(8.0 * pixelRatio / pixelSampleScale), 2, 16);\nfloat weightSum = 0.0;\nfor(int y = 0; y <= maxPixelDistance; ++y) {\nfloat w = getWeight(y);\nweights[y] = w;\nweightSum += w * (y == 0 ? 1.0 : 2.0);\n}\nfor(int y = 0; y <= maxPixelDistance; ++y) {\nweights[y] = weights[y] / weightSum;\n}\nfloat weight0 = weights[0];\napplyTexel(centerTexel, weight0 * weight0);\nfor(int y = 0; y <= maxPixelDistance; y += 1) {\nfloat yFactor = weights[y];\nif (y != 0) {\nfloat xFactor = weight0;\nfloat weight = xFactor * yFactor;\nif (weight > 0.0) {\nreadAndApplyTexel(iuv, 0, +y, weight);\nreadAndApplyTexel(iuv, 0, -y, weight);\n}\n}\nfor(int x = 1; x <= maxPixelDistance; x += 1) {\nfloat xFactor = weights[x];\nfloat weight = xFactor * yFactor;\nif (weight > 0.0) {\nreadAndApply2TexelsU(iuv, x, +y, weight);\nif (y != 0){\nreadAndApply2TexelsU(iuv, x, -y, weight);\n}\n}\n}\n}\n} else {\napplyTexel(centerTexel, 1.0);\n}\nint frontColorIndex = 999;\nint maxColorIndex = 0;\nfor (int i = 0; i <= maxHighlightLevel; ++i) {\nif (colorWeight[i] > 0.0){\nfrontColorIndex = min(frontColorIndex, i);\nmaxColorIndex = max(maxColorIndex, i);\n}\n}\nif (frontColorIndex == 999){\nfragColor = vec4(0.0);\nreturn;\n}\nvec4 accumulatedColor = vec4(0.0);\nfor (int curColorIndex = frontColorIndex; curColorIndex <= maxColorIndex; ++curColorIndex) {\nfloat curColorWeight = colorWeight[curColorIndex];\nif (curColorWeight <= 0.01){\ncontinue;\n}\nuint vc = readLevelBits(centerTexel, curColorIndex);\nbool centerFilled = (vc & 1u) == 1u;\nbool centerOccluded = (vc & 3u) == 3u;\nfloat curColorOcclusion = colorOcclusion[curColorIndex];\nbool occluded = centerFilled ? centerOccluded : curColorOcclusion > 0.5 * curColorWeight;\nint colorChannel = centerFilled ? 0 : 1;\nvec4 colorBase = texelFetch(highlightOptionsTexture, ivec2(curColorIndex, colorChannel), 0);\nfloat occlusionFactor = occluded ? occludedIntensityFactor : 1.0;\nfloat outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, 0.03, curColorWeight);\nfloat intensity = colorBase.a * occlusionFactor * outlineFactor;\nvec3 currentColor = colorBase.rgb;\nfloat a0 = accumulatedColor.a;\nfloat a1 = intensity;\nfloat alpha = clamp(a0 + a1 - a0 * a1, 0.0, 1.0);\nif (alpha > 0.001){\nvec3 blendedColor = ((1.0 - a1) * a0 * accumulatedColor.rgb + a1 * currentColor) / alpha;\naccumulatedColor = vec4(blendedColor, alpha);\n}\n}\nfragColor = accumulatedColor;`),a}const c=Object.freeze(Object.defineProperty({__proto__:null,build:a},Symbol.toStringTag,{value:\"Module\"}));export{c as H,a as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DDrawUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js\";import{NoParameters as r}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as l}from\"../views/webgl/ShaderBuilder.js\";class u extends r{}function o(){const r=new l,{outputs:u,fragment:o}=r;return r.include(e),o.uniforms.add(new i(\"textureInput\",(e=>e.input))),o.constants.add(\"outlineWidth\",\"int\",Math.ceil(n)),o.constants.add(\"cellSize\",\"int\",c),u.add(\"fragGrid\",\"vec2\"),o.main.add(t`ivec2 inputTextureSize = textureSize(textureInput, 0);\nivec2 cellBottomLeftCornerInput = ivec2(floor(gl_FragCoord.xy) * vec2(cellSize));\nivec2 coordMid =  cellBottomLeftCornerInput + ivec2(cellSize >> 1);\nuvec2 centreTexel = uvec2( texelFetch(textureInput, coordMid, 0).rg * 255.0) & uvec2(0x55u);\nfloat marginSquare = float(outlineWidth*outlineWidth);\nuvec2 outputValue = centreTexel & uvec2(0x55u);\nfor(int y = -outlineWidth; y <= cellSize + outlineWidth; y+=2) {\nint dy = y < 0 ? -y : y > cellSize ? y-cellSize : 0;\nint xMargin = dy > 0 ? int(ceil(sqrt(marginSquare - float(dy*dy)))) : outlineWidth;\nfor(int x = -xMargin; x <= cellSize + xMargin; x+=2) {\nivec2 coord = cellBottomLeftCornerInput + ivec2(x, y);\nuvec2[4] texels = uvec2[4] (\nuvec2(texelFetch(textureInput,coord+ivec2(0,0),0).rg * 255.0) & uvec2(0x55u),\nuvec2(texelFetch(textureInput,coord+ivec2(1,0),0).rg * 255.0) & uvec2(0x55u),\nuvec2(texelFetch(textureInput,coord+ivec2(0,1),0).rg * 255.0) & uvec2(0x55u),\nuvec2(texelFetch(textureInput,coord+ivec2(1,1),0).rg * 255.0) & uvec2(0x55u)\n);\nif (texels[0] == texels[1] && texels[1] == texels[2] && texels[2] == texels[3] && texels[3] ==  centreTexel) {\ncontinue;\n}\nfor (int i=0; i<4; ++i){\noutputValue |= ((texels[i] ^ centreTexel) << 1);\noutputValue |= texels[i];\n}\n}\n}\nfragGrid = vec2(outputValue) / 255.0;`),r}const c=32,n=9,a=.4,s=Object.freeze(Object.defineProperty({__proto__:null,HighlightDownsampleDrawParameters:u,blurSize:a,build:o,gridCellPixelSize:c,outlineSize:n},Symbol.toStringTag,{value:\"Module\"}));export{u as H,s as a,a as b,o as c,c as g,n as o};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as i}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as t}from\"../views/webgl/ShaderBuilder.js\";function s(){const s=new t;s.include(e),s.include(i);const{fragment:h}=s;return s.outputs.add(\"fragSingleHighlight\",\"vec2\",0),h.uniforms.add(new g(\"highlightTexture\",(e=>e.highlightTexture)),new l(\"highlightLevel\",(e=>e.highlightLevel))),h.main.add(r`ivec2 iuv = ivec2(gl_FragCoord.xy);\nvec2 inputTexel = texelFetch(highlightTexture, iuv, 0).rg;\nuint bits = readLevelBits(inputTexel, highlightLevel);\nbool hasHighlight = (bits & 1u) == 1u;\nbool hasOccluded  = (bits & 2u) == 2u;\nfragSingleHighlight = vec2(hasHighlight ? 1.0 : 0.0, hasOccluded ? 1.0 : 0.0);`),s}const h=Object.freeze(Object.defineProperty({__proto__:null,build:s},Symbol.toStringTag,{value:\"Module\"}));export{h as H,s as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{OverlayIndex as e}from\"../views/3d/terrain/interfaces.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{FloatPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as a}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{NoParameters as i}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as n}from\"../views/webgl/ShaderBuilder.js\";class d extends i{constructor(){super(...arguments),this.overlayIndex=e.INNER,this.opacity=1}}function l(){const e=new n;return e.include(r),e.fragment.uniforms.add(new t(\"tex\",(e=>e.texture))),e.fragment.uniforms.add(new a(\"overlayIdx\",(e=>e.overlayIndex))),e.fragment.uniforms.add(new o(\"opacity\",(e=>e.opacity))),e.fragment.main.add(s`vec2 overlayUV = overlayIdx == 0 ? vec2(uv.x * 0.5, uv.y) : vec2(uv.x * 0.5 + 0.5, uv.y);\nfragColor = texture(tex, overlayUV) * opacity;`),e}const m=Object.freeze(Object.defineProperty({__proto__:null,OverlayCompositingPassParameters:d,build:l},Symbol.toStringTag,{value:\"Module\"}));export{d as O,m as a,l as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{HighlightCellGridScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{HighlightReadBitmap as t}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js\";import{Float2DrawUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{o as g,b as u}from\"./HighlightDownsample.glsl.js\";import{ShaderBuilder as h}from\"../views/webgl/ShaderBuilder.js\";function s(){const s=new h;s.include(e);const{fragment:c}=s;return c.uniforms.add(new n(\"blurInput\",(e=>e.singleHighlightBlurTexture)),new i(\"blurSize\",(e=>e.blurSize)),new n(\"highlightTexture\",(e=>e.highlightTexture)),new n(\"highlightOptionsTexture\",(e=>e.highlightOptionsTexture)),new o(\"highlightLevel\",(e=>e.highlightLevel)),new l(\"occludedIntensityFactor\",(e=>e.occludedFactor))),c.constants.add(\"inner\",\"float\",1-(g-u)/g),s.include(t),c.main.add(r`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));\nvec2 uv = sUV;\nvec2 center = texture(blurInput, uv).rg;\nvec2 blurredHighlightValue = (vOutlinePossible == 0.0)\n? center\n: center * 0.204164\n+ texture(blurInput, uv + blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv - blurSize * 1.407333).rg * 0.304005\n+ texture(blurInput, uv + blurSize * 3.294215).rg * 0.093913\n+ texture(blurInput, uv - blurSize * 3.294215).rg * 0.093913;\nfloat highlightIntensity = blurredHighlightValue.r;\nfloat occlusionWeight = blurredHighlightValue.g;\nif (highlightIntensity <= 0.01) {\ndiscard;\n}\nvec4 fillColor    = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 0), 0);\nvec4 outlineColor = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 1), 0);\nvec2 centerTexel = texelFetch(highlightTexture, ivec2(uv * highlightTextureSize), 0).rg;\nuint centerBits = readLevelBits(centerTexel, highlightLevel);\nbool centerFilled = (centerBits & 1u) == 1u;\nbool centerOccluded = (centerBits & 3u) == 3u;\nbool occluded = centerOccluded || (0.5 * highlightIntensity < occlusionWeight);\nfloat occlusionFactor = occluded ? occludedIntensityFactor : 1.0;\nfloat outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, inner, highlightIntensity);\nfloat fillFactor = centerFilled ? 1.0 : 0.0;\nvec4 baseColor = mix(outlineColor, fillColor, fillFactor);\nfloat intensity = baseColor.a * occlusionFactor * outlineFactor;\nfragColor = vec4(baseColor.rgb, intensity);`),s}const c=Object.freeze(Object.defineProperty({__proto__:null,build:s},Symbol.toStringTag,{value:\"Module\"}));export{c as S,s as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{HighlightCellGridScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js\";import{Float2DrawUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{glsl as i}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DDrawUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js\";import{NoParameters as s}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as u}from\"../views/webgl/ShaderBuilder.js\";class n extends s{constructor(){super(...arguments),this.blurSize=e()}}function o(){const e=new u;return e.include(r),e.outputs.add(\"fragSingleHighlight\",\"vec2\",0),e.fragment.uniforms.add(new t(\"blurSize\",(e=>e.blurSize)),new l(\"blurInput\",(e=>e.blurInput))).main.add(i`vec2 highlightTextureSize = vec2(textureSize(blurInput,0));\nvec2 center = texture(blurInput, sUV).rg;\nif (vOutlinePossible == 0.0) {\nfragSingleHighlight = center;\n} else {\nvec2 sum = center * 0.204164;\nsum += texture(blurInput, sUV + blurSize * 1.407333).rg * 0.304005;\nsum += texture(blurInput, sUV - blurSize * 1.407333).rg * 0.304005;\nsum += texture(blurInput, sUV + blurSize * 3.294215).rg * 0.093913;\nsum += texture(blurInput, sUV - blurSize * 3.294215).rg * 0.093913;\nfragSingleHighlight = sum;\n}`),e}const g=Object.freeze(Object.defineProperty({__proto__:null,SingleHighlightBlurDrawParameters:n,build:o},Symbol.toStringTag,{value:\"Module\"}));export{n as S,g as a,o as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{fromValues as e}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{Float3PassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{NoParameters as l}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as i}from\"../views/webgl/ShaderBuilder.js\";class a extends l{constructor(){super(...arguments),this.color=e(1,1,1)}}function n(){const e=new i;return e.include(r),e.fragment.uniforms.add(new t(\"tex\",(e=>e.texture)),new o(\"uColor\",(e=>e.color))),e.fragment.main.add(s`vec4 texColor = texture(tex, uv);\nfragColor = texColor * vec4(uColor, 1.0);`),e}const m=Object.freeze(Object.defineProperty({__proto__:null,TextureOnlyPassParameters:a,build:n},Symbol.toStringTag,{value:\"Module\"}));export{a as T,m as a,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass t{constructor(){this._outer=new Map}clear(){this._outer.clear()}get empty(){return 0===this._outer.size}get(t,e){return this._outer.get(t)?.get(e)}getInner(t){return this._outer.get(t)}set(t,e,r){const o=this._outer.get(t);o?o.set(e,r):this._outer.set(t,new Map([[e,r]]))}delete(t,e){const r=this._outer.get(t);r&&(r.delete(e),0===r.size&&this._outer.delete(t))}forEach(t){this._outer.forEach(((e,r)=>t(e,r)))}forAll(t){for(const e of this._outer.values())for(const r of e.values())t(r)}}export{t as NestedMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.EnableFastUpdates=0]=\"EnableFastUpdates\",a[a.DisableFastUpdates=1]=\"DisableFastUpdates\",a[a.UpdateFastLocalOrigin=2]=\"UpdateFastLocalOrigin\"}(a||(a={}));export{a as MeshTransformUpdateAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as t}from\"../../assets.js\";import e from\"../../Color.js\";import o from\"../../request.js\";import{LRUCache as s}from\"../../core/LRUCache.js\";import{pt2px as r}from\"../../core/screenUtils.js\";import{getCIMSymbolColor as n}from\"./cimSymbolUtils.js\";const i=\"picture-fill\",a=\"simple-fill\",l=\"simple-line\",c=\"simple-marker\",h=\"text\",d=\"cim\",m=new Map([[\"dash\",[4,3]],[\"dashdot\",[4,3,1,3]],[\"dot\",[1,3]],[\"longdash\",[8,3]],[\"longdashdot\",[8,3,1,3]],[\"longdashdotdot\",[8,3,1,3,1,3]],[\"shortdash\",[4,1]],[\"shortdashdot\",[4,1,1,1]],[\"shortdashdotdot\",[4,1,1,1,1,1]],[\"shortdot\",[1,1]],[\"solid\",[]]]),p=new s(1e3);function u(e){const o=e.style;let s=null;if(e)switch(e.type){case c:\"cross\"!==o&&\"x\"!==o&&(s=e.color);break;case a:o&&\"solid\"!==o?\"none\"!==o&&(s={type:\"pattern\",x:0,y:0,src:t(`esri/symbols/patterns/${o}.png`),width:5,height:5}):s=e.color;break;case i:s={type:\"pattern\",src:e.url,width:r(e.width)*e.xscale,height:r(e.height)*e.yscale,x:r(e.xoffset),y:r(e.yoffset)};break;case h:s=e.color;break;case d:s=n(e)}return s}function f(t,e){const s=t+\"-\"+e;return void 0!==p.get(s)?Promise.resolve(p.get(s)):o(t,{responseType:\"image\"}).then((t=>{const o=t.data,r=o.naturalWidth,n=o.naturalHeight,i=document.createElement(\"canvas\");i.width=r,i.height=n;const a=i.getContext(\"2d\");a.fillStyle=e,a.fillRect(0,0,r,n),a.globalCompositeOperation=\"destination-in\",a.drawImage(o,0,0);const l=i.toDataURL();return p.put(s,l),l}))}function y(t){if(!t)return null;let e=null;switch(t.type){case a:case i:case c:e=y(t.outline);break;case l:{const o=r(t.width);null!=t.style&&\"none\"!==t.style&&0!==o&&(e={color:t.color,style:w(t.style),width:o,cap:t.cap,join:\"miter\"===t.join?r(t.miterLimit):t.join},e.dashArray=g(e).join(\",\")||\"none\");break}default:e=null}return e}function g(t){if(!t?.style)return[];const{dashArray:e,style:o,width:s}=t;if(\"string\"==typeof e&&\"none\"!==e)return e.split(\",\").map((t=>Number(t)));const r=s??0,n=m.has(o)?m.get(o).map((t=>t*r)):[];if(\"butt\"!==t.cap)for(const[i,a]of n.entries())n[i]=i%2==1?a+r:Math.max(a-r,1);return n}const w=(()=>{const t={};return e=>{if(t[e])return t[e];const o=e.replaceAll(\"-\",\"\");return t[e]=o,o}})(),b=new e([128,128,128]);export{b as defaultThematicColor,w as dekebabifyLineStyle,g as getDashArray,u as getFill,f as getPatternUrlWithColor,y as getStroke};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{forEach as t}from\"../../core/asyncUtils.js\";import\"../../core/has.js\";import{px2pt as o}from\"../../core/screenUtils.js\";import{ONES as r}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{effectFunctionsFromJSON as n}from\"../../layers/effects/jsonUtils.js\";import{getCIMSymbolColor as l}from\"./cimSymbolUtils.js\";import{getStroke as i}from\"./gfxUtils.js\";import{Symbol3DMaterial as c}from\"./Symbol3DMaterial.js\";import{isSymbol3D as s,isSymbol2D as u}from\"./typeUtils.js\";const a=new e(\"white\");function f(e){const t=e.symbolLayers?.at(-1);if(t&&\"outline\"in t)return t?.outline?.size}function m(e){if(!e)return 0;if(s(e)){const t=f(e);return null!=t?t:0}return o(i(e)?.width)}function y(e){if(null==e||!(\"symbolLayers\"in e)||null==e.symbolLayers)return!1;switch(e.type){case\"point-3d\":return e.symbolLayers.some((e=>\"object\"===e.type));case\"line-3d\":return e.symbolLayers.some((e=>\"path\"===e.type));case\"polygon-3d\":return e.symbolLayers.some((e=>\"object\"===e.type||\"extrude\"===e.type));default:return!1}}function p(e){return e.resource?.href??\"\"}function h(t,o){if(!t)return null;let r=null;return s(t)?r=b(t):u(t)&&(r=\"cim\"===t.type?l(t):t.color?new e(t.color):null),r?w(r,o):null}function b(t){const o=t.symbolLayers;if(!o)return null;let r=null;return o.forEach((e=>{\"object\"===e.type&&e.resource?.href||(r=\"water\"===e.type?e.color:e.material?e.material.color:null)})),r?new e(r):null}function w(t,o){if(null==o||null==t)return t;const r=t.toRgba();return r[3]=r[3]*o,new e(r)}function d(e,t,o){const r=e.symbolLayers;if(!r)return;const n=e=>w(t=t??e??(null!=o?a:null),o);r.forEach((e=>{if(\"object\"!==e.type||!e.resource?.href||t)if(\"water\"===e.type)e.color=n(e.color);else{const t=null!=e.material?e.material.color:null,r=n(t);null==e.material?e.material=new c({color:r}):e.material.color=r,null!=o&&\"outline\"in e&&null!=e.outline?.color&&(e.outline.color=w(e.outline.color,o))}}))}function j(e,t,o){(t=t??e.color)&&(e.color=w(t,o)),null!=o&&\"outline\"in e&&e.outline?.color&&(e.outline.color=w(e.outline.color,o))}function g(t,o,r){t&&(o||null!=r)&&(o&&(o=new e(o)),s(t)?d(t,o,r):u(t)&&j(t,o,r))}async function k(e,o){const r=e.symbolLayers;r&&await t(r,(async e=>L(e,o)))}async function L(e,t){switch(e.type){case\"extrude\":S(e,t);break;case\"icon\":case\"line\":case\"text\":z(e,t);break;case\"path\":v(e,t);break;case\"object\":await U(e,t)}}function z(e,t){const o=x(t);null!=o&&(e.size=o)}function x(e){for(const t of e)if(\"number\"==typeof t)return t;return null}function S(e,t){e.size=\"number\"==typeof t[2]?t[2]:0}async function U(e,t){const{resourceSize:o,symbolSize:r}=await O(e),n=E(t,o,r);e.width=R(t[0],r[0],o[0],n),e.depth=R(t[1],r[1],o[1],n),e.height=R(t[2],r[2],o[2],n)}function v(e,t){const o=E(t,r,[e.width,void 0,e.height]);e.width=R(t[0],e.width,1,o),e.height=R(t[2],e.height,1,o)}function E(e,t,o){for(let r=0;r<3;r++){const n=e[r];switch(n){case\"symbol-value\":{const e=o[r];return null!=e?e/t[r]:1}case\"proportional\":break;default:if(n&&t[r])return n/t[r]}}return 1}async function O(e){const{computeObjectLayerResourceSize:t}=await import(\"./symbolLayerUtils.js\"),o=await t(e,10),{width:r,height:n,depth:l}=e,i=[r,l,n];let c=1;for(let s=0;s<3;s++){const e=i[s];if(null!=e){c=e/o[s];break}}for(let s=0;s<3;s++)null==i[s]&&(i[s]=o[s]*c);return{resourceSize:o,symbolSize:i}}function R(e,t,o,r){switch(e){case\"proportional\":return o*r;case\"symbol-value\":return null!=t?t:o;default:return e}}function C(e,t){const o=x(t);if(null!=o)switch(e.type){case\"simple-marker\":e.size=o;break;case\"picture-marker\":{const t=e.width/e.height;t>1?(e.width=o,e.height=o*t):(e.width=o*t,e.height=o);break}case\"simple-line\":e.width=o;break;case\"text\":e.font.size=o}}async function D(e,t){if(e&&t)return s(e)?k(e,t):void(u(e)&&C(e,t))}function J(e,t,o){if(e&&null!=t)if(s(e)){const r=e.symbolLayers;r&&r.forEach((e=>{if(\"object\"===e.type)switch(o){case\"tilt\":e.tilt=(e.tilt??0)+t;break;case\"roll\":e.roll=(e.roll??0)+t;break;default:e.heading=(e.heading??0)+t}\"icon\"===e.type&&(e.angle+=t)}))}else u(e)&&(\"simple-marker\"!==e.type&&\"picture-marker\"!==e.type&&\"text\"!==e.type||(e.angle+=t))}function M(e){if(!e)return null;const t=e.effects.filter((e=>\"bloom\"!==e.type)).map((e=>e.toJSON()));return n(t)}function N(e){return null!=e&&\"polygon-3d\"===e.type&&e.symbolLayers.some((e=>\"extrude\"===e.type))}export{g as applyColorToSymbol,w as applyOpacityToColor,J as applyRotationToSymbol,D as applySizesToSymbol,M as getCSSFilterFromEffectList,h as getColorFromSymbol,p as getIconHref,m as getSymbolOutlineSize,y as isVolumetricSymbol,N as symbolHasExtrudeSymbolLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar n,e;function d(n){return null!=n&&!n.running}!function(n){n[n.Idle=0]=\"Idle\",n[n.Rendering=1]=\"Rendering\",n[n.Ready=2]=\"Ready\",n[n.Fading=3]=\"Fading\"}(n||(n={})),function(n){n[n.RG=0]=\"RG\",n[n.BA=1]=\"BA\",n[n.COUNT=2]=\"COUNT\"}(e||(e={}));export{e as CloudsTextureChannels,n as CubeMapState,d as ensureClouds};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{neverReached as a}from\"../../../core/compilerUtils.js\";import{clamp as t}from\"../../../core/mathUtils.js\";import{signal as e}from\"../../../core/signal.js\";import{rotate as s}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as r}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{k as h,n as o,h as n,c,l as d,d as l}from\"../../../chunks/vec32.js\";import{create as _,fromValues as u}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as F,fromPoints as f,axis as p}from\"../../../geometry/support/axisAngleDegrees.js\";import{earth as S}from\"../../../geometry/support/Ellipsoid.js\";import{CloudsTextureChannels as m,ensureClouds as E,CubeMapState as D}from\"./Clouds.js\";import{heightLimit as P}from\"./weather.js\";class x{constructor(){this.startTime=0,this._data=e(null),this._readChannels=m.RG,this.parallax=new O,this.parallaxNew=new O,this._anchorPoint=_(),this._fadeState=e(A.HIDE),this._fadeFactor=e(1)}get data(){return this._data.value}set data(a){this._data.value=a}get readChannels(){return this._readChannels}get fadeState(){return this._fadeState.value}get fadeFactor(){return this._fadeFactor.value}get opacity(){switch(this.fadeState){case A.HIDE:return 0;case A.FADE_OUT:return 1-this.fadeFactor;case A.FADE_IN:return this.fadeFactor;case A.SHOW:case A.CROSS_FADE:return 1}}fade(a,e,s){this.isFading&&this.fadeFactor<1&&(this._fadeFactor.value=s?t((e-this.startTime)/(H*s),0,1):1,1===this.fadeFactor&&this._endFade()),this._evaluateState(a,e),this._updateParallax(a)}_evaluateState(a,t){const e=a.relativeElevation,s=this._updateAnchorPoint(a);(e>1.7*P||e<-1e4||s>I)&&this.opacity>0?this._startFade(A.HIDE,t):this.isFading||(e>P||e<-.35*P||s>w*I?this.opacity>0&&this._startFade(A.FADE_OUT,t):E(this.data)&&(0===this.opacity?this._startFade(A.FADE_IN,t):this.data.state===D.Ready&&(this.fadeState===A.SHOW?this._startFade(A.CROSS_FADE,t):this._startFade(A.SHOW,t))))}_updateParallax(a){const t=h(a.eye);this.parallax.radiusCurvatureCorrection=.84*Math.sqrt(Math.max(t-S.radius*S.radius,0))/Math.sqrt(t),f(C,this.parallax.anchorPoint,v),s(this.parallax.transform,i,v[3],p(v)),f(C,this.parallaxNew.anchorPoint,v),s(this.parallaxNew.transform,i,v[3],p(v))}_updateAnchorPoint(a){return o(this._anchorPoint,a.eye),n(this._anchorPoint,this._anchorPoint,S.radius),this.fadeState===A.HIDE&&this.data?.state===D.Ready?(c(this.parallax.anchorPoint,this._anchorPoint),0):d(l(g,this.parallax.anchorPoint,this._anchorPoint))}requestFade(){this._fadeFactor.value=0}_startFade(a,t){switch(this._fadeState.value=a,this.startTime=t,a){case A.CROSS_FADE:this.requestFade(),this._switchReadChannels(),c(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_IN:this.requestFade(),this._switchReadChannels(),c(this.parallax.anchorPoint,this._anchorPoint),c(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_OUT:this.requestFade();break;case A.SHOW:this._switchReadChannels(),c(this.parallax.anchorPoint,this._anchorPoint),c(this.parallaxNew.anchorPoint,this._anchorPoint),this._endFade();break;case A.HIDE:this._endFade()}}_endFade(){switch(this._fadeFactor.value=1,this.data&&this.data.state!==D.Ready&&(this.data.state=D.Idle),this.fadeState){case A.CROSS_FADE:c(this.parallax.anchorPoint,this.parallaxNew.anchorPoint),this._fadeState.value=A.SHOW;break;case A.FADE_IN:this._fadeState.value=A.SHOW;break;case A.FADE_OUT:this._fadeState.value=A.HIDE;break;case A.SHOW:case A.HIDE:break;default:a(this.fadeState)}}_switchReadChannels(){this.data?.state===D.Ready&&(this._readChannels=1-this._readChannels,this.data.state=D.Fading)}get isFading(){return this.fadeState===A.FADE_OUT||this.fadeState===A.FADE_IN||this.fadeState===A.CROSS_FADE}}var A;!function(a){a[a.HIDE=0]=\"HIDE\",a[a.FADE_IN=1]=\"FADE_IN\",a[a.SHOW=2]=\"SHOW\",a[a.CROSS_FADE=3]=\"CROSS_FADE\",a[a.FADE_OUT=4]=\"FADE_OUT\"}(A||(A={}));class O{constructor(){this.anchorPoint=_(),this.radiusCurvatureCorrection=0,this.transform=r()}}const C=u(0,0,1),v=F(),g=_(),H=1.25,w=.5,I=2e5;export{x as CloudsParameters,A as FadeState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var c;let p=c=class extends r{constructor(o){super(o),this.type=\"cloudy\",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};o([s({cloudy:\"cloudy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),p=c=o([t(\"esri.views.3d.environment.CloudyWeather\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var p;let c=p=class extends r{constructor(o){super(o),this.type=\"foggy\",this.fogStrength=.5}clone(){return new p({fogStrength:this.fogStrength})}};o([t({foggy:\"foggy\"}),e({json:{write:{isRequired:!0}}})],c.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,\"fogStrength\",void 0),c=p=o([s(\"esri.views.3d.environment.FoggyWeather\")],c);const i=c;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";var s;let p=s=class extends r{constructor(o){super(o),this.type=\"rainy\",this.cloudCover=.5,this.precipitation=.5}clone(){return new s({cloudCover:this.cloudCover,precipitation:this.precipitation})}};o([t({rainy:\"rainy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),p=s=o([i(\"esri.views.3d.environment.RainyWeather\")],p);const n=p;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var i;let p=i=class extends r{constructor(o){super(o),this.type=\"snowy\",this.cloudCover=.5,this.precipitation=.5,this.snowCover=\"disabled\"}clone(){return new i({cloudCover:this.cloudCover,precipitation:this.precipitation,snowCover:this.snowCover})}};o([t({snowy:\"snowy\"}),e({json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),o([e({type:[\"enabled\",\"disabled\"],nonNullable:!0,json:{write:!0}})],p.prototype,\"snowCover\",void 0),p=i=o([s(\"esri.views.3d.environment.SnowyWeather\")],p);const n=p;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var c;let n=c=class extends r{constructor(o){super(o),this.type=\"sunny\",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};o([s({sunny:\"sunny\"}),e({json:{write:{isRequired:!0}}})],n.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],n.prototype,\"cloudCover\",void 0),n=c=o([t(\"esri.views.3d.environment.SunnyWeather\")],n);const p=n;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"./CloudyWeather.js\";import r from\"./FoggyWeather.js\";import o from\"./RainyWeather.js\";import t from\"./SnowyWeather.js\";import y from\"./SunnyWeather.js\";const n={key:\"type\",base:y,typeMap:{sunny:y,cloudy:e,rainy:o,snowy:t,foggy:r}},a=Object.keys(n.typeMap);function s(e,r){return!!a.includes(e)||(r.error(`\"${e}\" is not a valid weather type`),!1)}const p=1e4,i=1e5;export{i as cloudsHeight,p as heightLimit,s as validateWeatherType,n as weatherTypes,a as weatherTypesArray};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{set as t,dist as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{ONES as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{getReferenceEllipsoid as n}from\"../../../../geometry/ellipsoidUtils.js\";import{lonLatToWebMercatorComparable as i}from\"../../../../geometry/projection/projectors.js\";import{newDoubleArray as a}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as l}from\"../../../../geometry/support/FloatArray.js\";import{getZeroIndexArray as u}from\"../../../../geometry/support/Indices.js\";import{ViewingMode as s}from\"../../../ViewingMode.js\";import{Attribute as c}from\"../../webgl-engine/lib/Attribute.js\";import{ContentObjectType as p}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Geometry as f}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as m}from\"../../webgl-engine/lib/VertexAttribute.js\";function b(t,e,r=null){const o=[],n=e.mapPositions;g(e,o);const i=o[0][1].data,a=o[0][1].indices.length,l=u(a);return h(e,o,l),j(e,o,l),T(e,o,l),D(e,o,l),w(e,o,l),y(e,o,l),E(e,o,i),new f(t,o,n,p.Line,r)}function g(t,e){const{attributeData:{position:r},removeDuplicateStartEnd:o}=t,n=A(r)&&o,i=r.length/3-(n?1:0),a=new Array(2*(i-1)),l=n?r.slice(0,-3):r;let u=0;for(let s=0;s<i-1;s++)a[u++]=s,a[u++]=s+1;e.push([m.POSITION,new c(l,a,3,n)])}function h(t,e,r){if(null!=t.attributeData.colorFeature)return;const n=t.attributeData.color;e.push([m.COLOR,new c(n??o,r,4)])}function T(t,e,r){t.attributeData.normal&&e.push([m.NORMAL,new c(t.attributeData.normal,r,3)])}function D(t,e,r){null!=t.attributeData.colorFeature&&e.push([m.COLORFEATUREATTRIBUTE,new c([t.attributeData.colorFeature],r,1,!0)])}function j(t,e,r){null==t.attributeData.sizeFeature&&e.push([m.SIZE,new c([t.attributeData.size??1],r,1,!0)])}function w(t,e,r){null!=t.attributeData.sizeFeature&&e.push([m.SIZEFEATUREATTRIBUTE,new c([t.attributeData.sizeFeature],r,1,!0)])}function y(t,e,r){null!=t.attributeData.opacityFeature&&e.push([m.OPACITYFEATUREATTRIBUTE,new c([t.attributeData.opacityFeature],r,1,!0)])}function E(r,o,u){if(null==r.overlayInfo||r.overlayInfo.renderCoordsHelper.viewingMode!==s.Global||!r.overlayInfo.spatialReference.isGeographic)return;const p=a(u.length),f=n(r.overlayInfo.spatialReference);for(let t=0;t<p.length;t+=3)i(u,t,p,t,f);const b=u.length/3,g=l(b+1);let h=I,T=F,D=0,j=0;t(h,p[j++],p[j++]),j++,g[0]=0;for(let n=1;n<b+1;++n)n===b&&(j=0),t(T,p[j++],p[j++]),j++,D+=e(h,T),g[n]=D,[h,T]=[T,h];o.push([m.DISTANCETOSTART,new c(g,o[0][1].indices,1,!0)])}function A(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}const I=r(),F=r();function R(t,e){if(null==t||0===t.length)return[];const r=[];return t.forEach((t=>{const o=t.length,n=a(3*o);t.forEach(((t,e)=>{n[3*e]=t[0],n[3*e+1]=t[1],n[3*e+2]=t[2]}));const i={attributeData:{position:n,normal:e},removeDuplicateStartEnd:!1};r.push(i)})),r}export{b as createGeometry,R as lineStripsToParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{projectBuffer as o}from\"../../../../geometry/projection/projectBuffer.js\";import{newDoubleArray as e,doubleSubArray as t}from\"../../../../geometry/support/DoubleArray.js\";import{CounterClockwiseMode as n,ringsToTriangulationInfo as r}from\"../../../../geometry/support/triangulationUtils.js\";import{applyPerVertexElevationAlignment as i}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{drapedZ as s}from\"../../terrain/OverlayRenderer.js\";function p(o,t,s,p){const l=\"polygon\"===o.type?n.CCW_IS_HOLE:n.NONE,a=\"polygon\"===o.type?o.rings:o.paths,{position:u,outlines:f}=r(a,!!o.hasZ,l,o.spatialReference),m=e(u.length),g=i(u,o.spatialReference,0,m,0,u,0,u.length/3,t,s,p),y=null!=g;return{lines:y?c(f,u,m):[],projectionSuccess:y,sampledElevation:g}}function l(e,t){const i=\"polygon\"===e.type?n.CCW_IS_HOLE:n.NONE,p=\"polygon\"===e.type?e.rings:e.paths,{position:l,outlines:a}=r(p,!1,i),u=o(l,e.spatialReference,0,l,t,0);for(let o=2;o<l.length;o+=3)l[o]=s;return{lines:u?c(a,l):[],projectionSuccess:u}}function c(o,e,n=null){const r=new Array;for(const{index:i,count:s}of o){if(s<=1)continue;const o=3*i,p=3*s;r.push({position:t(e,3*i,3*s),mapPositions:null!=n?t(n,o,p):void 0})}return r}export{p as geometryToRenderInfo,l as geometryToRenderInfoDraped};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar o;!function(o){o[o.Color=0]=\"Color\",o[o.ColorNoRasterImage=1]=\"ColorNoRasterImage\",o[o.Highlight=2]=\"Highlight\",o[o.WaterNormal=3]=\"WaterNormal\",o[o.Occluded=4]=\"Occluded\",o[o.ObjectAndLayerIdColor=5]=\"ObjectAndLayerIdColor\"}(o||(o={}));export{o as OverlayContent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as e,offset as t,copy as s}from\"../../../geometry/support/aaBoundingRect.js\";import{fromValues as i}from\"../webgl-engine/lib/LocalOriginFactory.js\";class n{constructor(){this._extent=e(),this.resolution=0,this.renderLocalOrigin=i(0,0,0,\"O\"),this.pixelRatio=1,this.mapUnitsPerPixel=1,this.canvasGeometries=new r}get extent(){return this._extent}setupGeometryViewsCyclical(e){this.setupGeometryView();const s=.001*e.range;if(this._extent[0]-s<=e.min){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];t(this._extent,e.range,0,s)}if(this._extent[2]+s>=e.max){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];t(this._extent,-e.range,0,s)}}setupGeometryView(){this.canvasGeometries.numViews=1,s(this.canvasGeometries.extents[0],this._extent)}hasSomeSizedView(){for(let e=0;e<this.canvasGeometries.numViews;e++){const t=this.canvasGeometries.extents[e];if(t[0]!==t[2]&&t[1]!==t[3])return!0}return!1}}class r{constructor(){this.extents=[e(),e(),e()],this.numViews=0}}export{n as Overlay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e}from\"../../../core/maybe.js\";class t{constructor(e,t,h){this._fbos=e,this._format=t,this._name=h}get valid(){return null!=this._handle?.getTexture()}dispose(){this._handle=e(this._handle)}get texture(){return this._handle?.getTexture()}bind(e,t,h){this._handle&&this._handle.fbo?.width===t&&this._handle.fbo?.height===h||(this._handle?.release(),this._handle=this._fbos.acquire(t,h,this._name,this._format)),e.bindFramebuffer(this._handle?.fbo)}generateMipMap(){this._handle?.getTexture()?.descriptor?.hasMipmap&&this._handle?.getTexture()?.generateMipmap()}}export{t as OverlayFramebufferObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{OverlayContent as e}from\"./OverlayContent.js\";import{OverlayFramebufferObject as r}from\"./OverlayFramebufferObject.js\";import{ColorFormat as o}from\"../webgl/formats.js\";import{ShaderOutput as t}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as l}from\"../webgl-engine/effects/geometry/olidUtils.js\";class s{constructor(e,t,l,s,i=o.RGBA_MIPMAP){this.output=l,this.content=s,this.fbo=new r(e,i,t)}get valid(){return this.fbo.valid}}class i{constructor(r){this.targets=[new s(r,\"overlay color\",t.Color,e.Color),new s(r,\"overlay IM color\",t.Color,e.ColorNoRasterImage),new s(r,\"overlay highlight\",t.Highlight,e.Highlight,o.RG),new s(r,\"overlay water\",t.Normal,e.WaterNormal),new s(r,\"overlay occluded\",t.Color,e.Occluded)],l()&&this.targets.push(new s(r,\"overlay olid\",t.ObjectAndLayerIdColor,e.ObjectAndLayerIdColor,o.RGBA))}getTexture(e){return this.targets[e]?.fbo.texture}dispose(){for(const e of this.targets)e.fbo.dispose()}computeValidity(){return this.targets.reduce(((e,r,o)=>r.valid?e|=1<<o:e),0)}}export{i as OverlayRenderTargets,s as RenderTargetDescriptor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.Material=0]=\"Material\",a[a.ShadowMap=1]=\"ShadowMap\",a[a.Highlight=2]=\"Highlight\",a[a.ViewshedShadowMap=3]=\"ViewshedShadowMap\"}(a||(a={}));export{a as RenderPassIdentifier};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{hasArea as o,width as r,height as t}from\"../../../../../../geometry/support/aaBoundingRect.js\";import{OverlayIndex as a}from\"../../../../terrain/interfaces.js\";import{OverlayContent as l}from\"../../../../terrain/OverlayContent.js\";import{RenderPassIdentifier as i}from\"../../renderPasses/RenderPassIdentifier.js\";import{isColorOrColorEmission as n,ShaderOutput as v}from\"../ShaderOutput.js\";import{addMainLightDirection as d,addMainLightIntensity as s}from\"../shading/MainLighting.glsl.js\";import{PBRMode as c}from\"../shading/PhysicallyBasedRenderingParameters.glsl.js\";import{Water as x}from\"../shading/Water.glsl.js\";import{Float4DrawUniform as u}from\"../../shaderModules/Float4DrawUniform.js\";import{FloatPassUniform as y}from\"../../shaderModules/FloatPassUniform.js\";import{glsl as m}from\"../../shaderModules/glsl.js\";import{Texture2DPassUniform as p}from\"../../shaderModules/Texture2DPassUniform.js\";import{Uniform as f}from\"../../../../../webgl/Uniform.js\";var C;function g(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new u(\"overlayTexOffset\",((e,o)=>b(e,o))),new u(\"overlayTexScale\",((e,o)=>V(e,o)))),t.constants.add(\"overlayOpacity\",\"float\",1),t.uniforms.add(new p(\"ovColorTex\",((e,o)=>T(e,o)))),h(e,o)}function O(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new w(\"overlayTexOffset\"),new w(\"overlayTexScale\")),t.uniforms.add(new y(\"overlayOpacity\",(e=>e.overlayOpacity)),new p(\"ovColorTex\",((e,o)=>o.overlay?.getTexture(e.overlayContent)))),h(e,o)}function h(e,o){const r=o.pbrMode===c.Water||o.pbrMode===c.WaterOnIntegratedMesh||o.pbrMode===c.TerrainWithWater;r&&e.include(x,o);const{vertex:t,fragment:a}=e;e.varyings.add(\"vtcOverlay\",\"vec4\"),t.code.add(m`void setOverlayVTC(in vec2 uv) {\nvtcOverlay = vec4(uv, uv) * overlayTexScale + overlayTexOffset;\n}`),a.code.add(m`bool isValid(vec2 uv, vec2 dxdy) {\nreturn (uv.x >= 0.0 + dxdy.x) && (uv.x <= 1.0 - dxdy.x) && (uv.y >= 0.0 + dxdy.y) && (uv.y <= 1.0 - dxdy.y);\n}\nvec4 getOverlayColor(sampler2D ov0Tex, vec4 texCoords) {\nvec4 color0 = texture(ov0Tex, vec2(texCoords.x * 0.5, texCoords.y));\nvec4 color1 = texture(ov0Tex, vec2(texCoords.z * 0.5 + 0.5, texCoords.w));\nbool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));\nbool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));\nreturn mix(color1 * float(isValid1), color0, float(isValid0));\n}`),a.code.add(m`vec4 getCombinedOverlayColor() {\nreturn overlayOpacity * getOverlayColor(ovColorTex, vtcOverlay);\n}`),a.code.add(m`vec4 getOverlayColorTexel() {\nvec4 texCoords = vtcOverlay;\nvec2 texDim =  vec2(textureSize(ovColorTex, 0));\nvec4 color0 = texelFetch(ovColorTex, ivec2(vec2(texCoords.x * 0.5, texCoords.y) * texDim), 0);\nvec4 color1 = texelFetch(ovColorTex, ivec2(vec2(texCoords.z * 0.5 + 0.5, texCoords.w) * texDim), 0);\nbool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));\nbool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));\nreturn mix(color1 * float(isValid1), color0, float(isValid0));\n}`),a.code.add(m`vec2 getAllOverlayHighlightValuesEncoded() {\nvec4 texCoords = vtcOverlay;\nvec2 uvInner = texCoords.xy;\nvec2 uvOuter = texCoords.zw;\nbool isValidInner = isValid(uvInner, fwidth(uvInner));\nbool isValidOuter = isValid(uvOuter, vec2(0.0, 0.0));\nvec2 texelCoordInner = uvInner * vec2(0.5, 1.0);\nvec2 texelCoordOuter = uvOuter * vec2(0.5, 1.0) + vec2(0.5,0.0);\nvec2 texDim =  vec2(textureSize(ovColorTex, 0));\nvec2 texelValueInner = texelFetch(ovColorTex, ivec2(texelCoordInner * texDim), 0).rg;\nvec2 texelValueOuter = texelFetch(ovColorTex, ivec2(texelCoordOuter * texDim), 0).rg;\nreturn\nisValidInner ? texelValueInner :\nisValidOuter ? texelValueOuter :\nvec2(0.0);\n}`),r&&(d(a),s(a),a.code.add(m`vec4 getOverlayWaterColor(vec4 maskInput, vec4 colorInput, vec3 vposEyeDir,\nfloat shadow, vec3 localUp, mat3 tbn, vec3 position, vec3 positionWorld) {\nvec3 n = normalize(tbn *  (2.0 * maskInput.rgb - vec3(1.0)));\nvec3 v = vposEyeDir;\nvec3 final = getSeaColor(n, v, mainLightDirection, colorInput.rgb, mainLightIntensity, localUp, 1.0 - shadow, maskInput.w, position, positionWorld);\nreturn vec4(final, colorInput.w);\n}`))}function T(e,o){return e.identifier===i.Material&&n(e.output)?o.overlay?.getTexture(l.ColorNoRasterImage):e.identifier===i.Material&&e.output===v.ObjectAndLayerIdColor?o.overlay?.getTexture(l.ObjectAndLayerIdColor):e.identifier===i.Highlight?o.overlay?.getTexture(l.Highlight):null}function b(e,l){const i=l.overlay?.overlays[a.INNER]?.extent;o(i)&&(I[0]=e.toMapSpace[0]/r(i)-i[0]/r(i),I[1]=e.toMapSpace[1]/t(i)-i[1]/t(i));const n=l.overlay?.overlays[a.OUTER]?.extent;return o(n)&&(I[2]=e.toMapSpace[0]/r(n)-n[0]/r(n),I[3]=e.toMapSpace[1]/t(n)-n[1]/t(n)),I}function V(e,l){const i=l.overlay?.overlays[a.INNER]?.extent;o(i)&&(I[0]=e.toMapSpace[2]/r(i),I[1]=e.toMapSpace[3]/t(i));const n=l.overlay?.overlays[a.OUTER]?.extent;return o(n)&&(I[2]=e.toMapSpace[2]/r(n),I[3]=e.toMapSpace[3]/t(n)),I}!function(e){e[e.Disabled=0]=\"Disabled\",e[e.Enabled=1]=\"Enabled\",e[e.EnabledWithWater=2]=\"EnabledWithWater\",e[e.COUNT=3]=\"COUNT\"}(C||(C={}));const I=e();class w extends f{constructor(e){super(e,\"vec4\")}}export{g as OverlayIM,C as OverlayMode,O as OverlayTerrain,T as getIMColorTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{H as i}from\"../../../../../chunks/HighlightApply.glsl.js\";import{makePipelineState as o,premultipliedAlphaToPremultipliedAlpha as s,defaultColorWrite as l}from\"../../../../webgl/renderState.js\";class t extends r{constructor(r,o){super(r,o,new e(i,(()=>import(\"../../shaders/HighlightApply.glsl.js\"))))}initializePipeline(){return o({blending:s,colorWrite:l})}}export{t as HighlightApplyTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as o}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{makePipelineState as s,defaultColorWrite as i}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,s){super(r,s,new e(o,(()=>import(\"../../shaders/HighlightDownsample.glsl.js\"))))}initializePipeline(){return s({colorWrite:i})}}export{l as HighlightDownsampleTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{defaultOccludedFactor as t}from\"../../../../support/HighlightDefaults.js\";import{NoParameters as o}from\"../../../../webgl/NoParameters.js\";class e extends o{constructor(){super(...arguments),this.occludedFactor=t,this.verticalCellCount=0,this.horizontalCellCount=0,this.highlightLevel=0,this.pixelRatio=1}}export{e as HighlightPassParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{H as i}from\"../../../../../chunks/HighlightToSingle.glsl.js\";import{makePipelineState as o,defaultColorWrite as s}from\"../../../../webgl/renderState.js\";class l extends r{constructor(r,o){super(r,o,new e(i,(()=>import(\"../../shaders/HighlightToSingle.glsl.js\"))))}initializePipeline(){return o({colorWrite:s})}}export{l as HighlightToSingleTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{S as i}from\"../../../../../chunks/SingleHighlightApply.glsl.js\";import{makePipelineState as l,premultipliedAlphaToPremultipliedAlpha as o,defaultColorWrite as s}from\"../../../../webgl/renderState.js\";class t extends r{constructor(r,l){super(r,l,new e(i,(()=>import(\"../../shaders/SingleHighlightApply.glsl.js\"))))}initializePipeline(){return l({blending:o,colorWrite:s})}}export{t as SingleHighlightApplyTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{a as i}from\"../../../../../chunks/SingleHighlightBlur.glsl.js\";import{makePipelineState as l,defaultColorWrite as o}from\"../../../../webgl/renderState.js\";class s extends r{constructor(r,l){super(r,l,new e(i,(()=>import(\"../../shaders/SingleHighlightBlur.glsl.js\"))))}initializePipeline(){return l({colorWrite:o})}}export{s as SingleHighlightBlurTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{releaseMaybe as t,disposeMaybe as i}from\"../../../../../core/maybe.js\";import{watch as r,initial as s}from\"../../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{set as l}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{ZEROS as n}from\"../../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{InternalRenderCategory as a}from\"../../../webgl.js\";import{ColorFormat as g}from\"../../../webgl/formats.js\";import c from\"../../../webgl/RenderNode.js\";import{HighlightApplyTechnique as u}from\"./HighlightApplyTechnique.js\";import{HighlightDownsampleTechnique as m}from\"./HighlightDownsampleTechnique.js\";import{HighlightPassParameters as p}from\"./HighlightPassParameters.js\";import{HighlightToSingleTechnique as d}from\"./HighlightToSingleTechnique.js\";import{SingleHighlightApplyTechnique as f}from\"./SingleHighlightApplyTechnique.js\";import{SingleHighlightBlurTechnique as b}from\"./SingleHighlightBlurTechnique.js\";import{RenderRequestType as T}from\"../../lib/basicInterfaces.js\";import{Default3D as w}from\"../../lib/DefaultVertexAttributeLocations.js\";import{NoVertex as x}from\"../../lib/DefaultVertexBufferLayouts.js\";import{VertexArrayObject as _}from\"../../lib/VertexArrayObject.js\";import{H as C,g as v}from\"../../../../../chunks/HighlightDownsample.glsl.js\";import{S as j}from\"../../../../../chunks/SingleHighlightBlur.glsl.js\";import{BufferObject as H}from\"../../../../webgl/BufferObject.js\";import{PixelFormat as q,TextureSamplingMode as P,FramebufferBit as R,Usage as D,TextureType as O,PrimitiveType as S,DataType as A}from\"../../../../webgl/enums.js\";import{Texture as E}from\"../../../../webgl/Texture.js\";import{TextureDescriptor as y}from\"../../../../webgl/TextureDescriptor.js\";let I=class extends c{constructor(){super(...arguments),this.produces=a.HIGHLIGHTS,this.consumes={required:[a.HIGHLIGHTS,\"highlights\"]},this._useMultipleHighlights=!1,this._downsampleDrawParameters=new C,this._passParameters=new p,this._singleHighlightBlurDrawParameters=new j,this._grid=new M}initialize(){this.addHandles([r((()=>this._updateOptionsTexture()),(()=>{}),s)])}destroy(){this._grid.coverage=t(this._grid.coverage),this._grid.vao=i(this._grid.vao),this._passParameters.highlightOptionsTexture=t(this._passParameters.highlightOptionsTexture)}_updateOptionsTexture(){if(null==this._passParameters.highlightOptionsTexture){const e=new y(16,2);e.internalFormat=q.RGBA,e.samplingMode=P.NEAREST,this._passParameters.highlightOptionsTexture=new E(this.renderingContext,e,null)}this._passParameters.highlightOptionsTexture.setData(U(this.view.state.highlights)),this.requestRender(T.UPDATE)}precompile(){this.techniques.precompile(m),this._useMultipleHighlights?this.techniques.precompile(u):(this.techniques.precompile(d),this.techniques.precompile(b),this.techniques.precompile(f))}render(e){const t=e.find((({name:e})=>e===a.HIGHLIGHTS)),{techniques:i,bindParameters:r,_passParameters:s,renderingContext:o}=this;if(!r.decorations)return t;const h=i.get(m);if(!h.compiled)return this.requestRender(T.UPDATE),t;const l=e.find((({name:e})=>\"highlights\"===e)).getTexture(),n=()=>{this._gridUpdateResources(l);const e=this._gridComputeCoverage(h,l,r),{horizontalCellCount:t,verticalCellCount:i}=e;return s.horizontalCellCount=t,s.verticalCellCount=i,s.coverageTexture=e.coverage?.getTexture(),e},g=e=>{const t=e.verticalCellCount*e.horizontalCellCount;o.bindVAO(e.vao),o.drawElementsInstanced(S.TRIANGLES,6,A.UNSIGNED_BYTE,0,t)},{camera:c}=r,u=()=>{o.bindFramebuffer(t.fbo),o.setViewport4fv(c.fullViewport)};return this._useMultipleHighlights?this._renderMultiple(l,n,g,u):this._renderSingle(l,n,g,u),s.highlightTexture=null,s.coverageTexture=null,t}_renderMultiple(e,t,i,r){const{techniques:s,bindParameters:o,_passParameters:h,renderingContext:l}=this,n=s.get(u);if(!n.compiled)return void this.requestRender(T.UPDATE);const a=t();h.highlightTexture=e,h.pixelRatio=o.camera.pixelRatio,l.bindTechnique(n,o,h),r(),i(a)}_renderSingle(e,t,i,r){const{fboCache:s,techniques:o,bindParameters:h,_passParameters:n,renderingContext:a}=this,c=o.get(d),u=o.get(b),m=o.get(f);if(!m.compiled||!u.compiled||!c.compiled)return void this.requestRender(T.UPDATE);const p=t(),{width:w,height:x}=e.descriptor;n.highlightTexture=e;const{camera:_}=h,{fullWidth:C,fullHeight:v,pixelRatio:j}=_,H=Math.ceil(C/j),q=Math.ceil(v/j),{_singleHighlightBlurDrawParameters:P}=this,D=this.view._stage.renderView.renderer,{highlights:O}=h;for(let d=0;d<O.length;++d){const{name:e}=O[d];if(!D.hasHighlightOptions(e))continue;n.highlightLevel=d,a.setClearColor(0,0,0,0);const t=s.acquire(w,x,\"single highlight\",g.RG);a.bindFramebuffer(t.fbo),a.setViewport(0,0,w,x),a.clear(R.COLOR),a.bindTechnique(c,h,n),i(p),P.blurInput=t.getTexture(),l(P.blurSize,1/H,0);const o=s.acquire(H,q,\"single highlight blur h\",g.RG);a.unbindTexture(o.fbo?.colorTexture),a.bindFramebuffer(o.fbo),a.setViewport(0,0,H,q),a.clear(R.COLOR),a.bindTechnique(u,h,n,P),i(p),t.release(),l(P.blurSize,0,1/q),n.singleHighlightBlurTexture=o.getTexture(),r(),a.bindTechnique(m,h,n,P),i(p),o.release()}}_gridUpdateResources(e){const t=this._grid,{width:i,height:r}=e.descriptor;if(t.horizontalCellCount=Math.ceil(i/v),t.verticalCellCount=Math.ceil(r/v),t.vao)return;const s=this.renderingContext,o=H.createIndex(s,D.STATIC_DRAW,F);t.vao=new _(s,w,new Map([[\"geometry\",x]]),new Map([[\"geometry\",H.createVertex(s,D.STATIC_DRAW)]]),o)}_gridComputeCoverage(e,t,i){const r=this.renderingContext,s=this._grid,o=t.descriptor,h=Math.ceil(o.width/v),l=Math.ceil(o.height/v);this._downsampleDrawParameters.input=t,s.coverage?.release();const n=this.fboCache.acquire(h,l,\"highlight coverage\",g.RG);return s.coverage=n,r.bindFramebuffer(n.fbo),r.bindTechnique(e,i,this._passParameters,this._downsampleDrawParameters),r.setViewport(0,0,h,l),r.screen.draw(),s}get test(){}};e([o()],I.prototype,\"produces\",void 0),e([o()],I.prototype,\"consumes\",void 0),I=e([h(\"esri.views.3d.webgl-engine.effects.highlight.Highlight\")],I);class M{constructor(){this.coverage=null,this.vao=null,this.verticalCellCount=0,this.horizontalCellCount=0,this.viewportWidth=0,this.viewportHeight=0}}function U(e){const t=new Uint8Array(128);let i=0;for(const r of e){const e=4*i,s=4*i+64;++i;const{color:o}=r,h=r.haloColor??o;t[e+0]=o.r,t[e+1]=o.g,t[e+2]=o.b,t[e+3]=r.fillOpacity*o.a*255,t[s+0]=h.r,t[s+1]=h.g,t[s+2]=h.b,t[s+3]=r.haloOpacity*h.a*255}return t}let G=0;function L(e){let t=0;for(const r of e){const{name:e}=r;t+=e.length;const{color:i,fillOpacity:s,haloColor:o,haloOpacity:h}=r;t+=i.r+i.g+i.b+i.a+s,t+=o?o.r+o.g+o.b+o.a+h:0}const i=e.at(0);if(i){const{shadowOpacity:e,shadowDifference:r,shadowColor:s}=i;t+=e+r+s.r+s.g+s.b+s.a}return G+++(t>=0?0:1)}const F=new Uint8Array([0,1,2,2,1,3]);function V(e,t,i,r,s,o=0){const h=r.highlights,a=h.length>1?t.acquire(i.width,i.height,\"highlight mix\",g.RG):null;if(a){const t=e.getBoundFramebufferObject();e.bindFramebuffer(a.fbo),e.clearFramebuffer(n),e.bindFramebuffer(t)}const c=a?.getTexture();r.highlightMixTexture=c,l(r.highlightMixOrigin,o,0),h.forEach(((t,h)=>{h>0&&(e.bindTexture(c,E.TEXTURE_UNIT_FOR_UPDATES),e.gl.copyTexSubImage2D(O.TEXTURE_2D,0,0,0,o,0,i.width,i.height),e.bindTexture(null,E.TEXTURE_UNIT_FOR_UPDATES)),e.clear(R.DEPTH),r.highlightLevel=h,s()})),r.highlightLevel=null,r.highlightMixTexture=null,a?.release()}export{I as Highlight,V as renderHighlightBuffer,L as trackHighlightOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{disposeMaybe as t}from\"../../../../core/maybe.js\";import{NestedMap as r}from\"../../../../core/NestedMap.js\";import{assert as i}from\"./Util.js\";class s{constructor(e,t,i,s){this._textures=e,this._techniques=t,this.materialChanged=i,this.requestRender=s,this._id2glMaterialRef=new r}dispose(){this._textures.destroy()}acquire(e,t,r){this._ownMaterial(e);const i=e.produces.get(t);if(!i?.(r))return null;let s=this._id2glMaterialRef.get(r,e.id);if(null==s){const t=e.createGLMaterial({material:e,techniques:this._techniques,textures:this._textures,output:r});s=new a(t),this._id2glMaterialRef.set(r,e.id,s)}return s.ref(),s.glMaterial}release(e,r){const i=this._id2glMaterialRef.get(r,e.id);null!=i&&(i.unref(),i.referenced||(t(i.glMaterial),this._id2glMaterialRef.delete(r,e.id)))}_ownMaterial(t){t.repository&&t.repository!==this&&e.getLogger(\"esri.views.3d.webgl-engine.lib.GLMaterialRepository\").error(\"Material is already owned by a different material repository\"),t.repository=this}}class a{constructor(e){this.glMaterial=e,this._refCnt=0}ref(){++this._refCnt}unref(){--this._refCnt,i(this._refCnt>=0)}get referenced(){return this._refCnt>0}}export{s as GLMaterialRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar e;!function(e){e[e.Immediate=0]=\"Immediate\",e[e.FadeWithWeather=1]=\"FadeWithWeather\"}(e||(e={}));export{e as Update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{CloudsParameters as h}from\"../../environment/CloudsParameters.js\";import e from\"../../webgl/RenderCamera.js\";import{HUDRenderStyle as s}from\"../core/shaderLibrary/hud/HUDRenderStyle.js\";import{OITPass as r}from\"./OITPass.js\";import{RenderSlot as g}from\"./RenderSlot.js\";import{Update as n}from\"./Update.js\";import{SceneLighting as l}from\"../lighting/SceneLighting.js\";class a{constructor(i,t){this.width=i,this.height=t}}class o{constructor(i){this.shadowMap=i,this.slot=g.OPAQUE_MATERIAL,this.slicePlane=null,this.hasOccludees=!1,this.enableFillLights=!0,this.oitPass=r.NONE,this.alignPixelEnabled=!1,this.decorations=!0,this.overlayStretch=1,this.viewshedEnabled=!1,this._camera=new e,this._inverseViewport=t(),this._oldLighting=new l,this._newLighting=new l,this._fadedLighting=new l,this._lighting=this._newLighting,this.ssr=new c,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.highlights=new Array,this.highlightOrderMap=new Map,this.highlightMixOrigin=t(),this.highlightMixTexture=null,this.hudRenderStyle=s.Occluded,this.hudOccludedFragmentOpacity=1,this.clouds=new h,this.shadowHighlightsVisible=!1}get camera(){return this._camera}set camera(i){this._camera=i,this._inverseViewport[0]=1/i.fullViewport[2],this._inverseViewport[1]=1/i.fullViewport[3]}get inverseViewport(){return this._inverseViewport}get lighting(){return this._lighting}fadeLighting(){switch(this.clouds.fadeFactor){case 0:this._lighting=this._oldLighting;break;default:this._fadedLighting.lerpLighting(this._oldLighting,this._newLighting,this.clouds.fadeFactor),this._lighting=this._fadedLighting;break;case 1:this._lighting=this._newLighting,this._oldLighting.copyFrom(this._newLighting)}}updateLighting(i,t,h,e){this._oldLighting.copyFrom(this.lighting),this._newLighting.noonFactor=t,this._newLighting.globalFactor=h,this._newLighting.set(i),e===n.FadeWithWeather&&this.clouds.requestFade(),this.fadeLighting()}get highlight(){return null==this.highlightLevel?null:this.highlights[this.highlightLevel]}}class c{constructor(){this.fadeFactor=1,this.reprojectionMatrix=i()}}export{o as BindParameters,a as ViewportSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Milliseconds as r}from\"../../../../core/time.js\";import e from\"../../webgl/RenderCamera.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{BindParameters as s}from\"./BindParameters.js\";import{RenderOccludedFlag as i}from\"./Material.js\";class a{constructor(r,i){this.rctx=r,this.lastFrameCamera=new e,this.output=t.Color,this.renderOccludedMask=o,this.bind=new s(i),this.bind.alignPixelEnabled=!0}}class n extends a{constructor(e,t,s){super(e,t),this.techniques=s,this.time=r(0)}}const o=i.Occlude|i.OccludeAndTransparent|i.OccludeAndTransparentStencil;export{a as OverlayRenderContext,n as RenderContext,o as defaultRenderOccludedMask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import s from\"../../webgl/RenderCamera.js\";let i=class extends s{constructor(){super(...arguments),this._projectionMatrix=t()}get projectionMatrix(){return this._projectionMatrix}};r([o()],i.prototype,\"_projectionMatrix\",void 0),r([o({readOnly:!0})],i.prototype,\"projectionMatrix\",null),i=r([e(\"esri.views.3d.webgl-engine.lib.CascadeCamera\")],i);export{i as CascadeCamera};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as t,lerp as s,acosClamped as e}from\"../../../../core/mathUtils.js\";import{releaseMaybe as i}from\"../../../../core/maybe.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{translate as r,multiply as h,invert as o,lookAt as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as c,create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as d,add as m,scale as u,lerp as _,squaredDistance as f,subtract as g,dot as p,negate as x,normalize as b,copy as w}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as M}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{p as C,c as j,v as T,t as y,i as D}from\"../../../../chunks/vec32.js\";import{create as H}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as v,t as S}from\"../../../../chunks/vec42.js\";import{create as R}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{ViewingMode as O}from\"../../../ViewingMode.js\";import{ColorFormat as E,DepthFormat as U}from\"../../webgl/formats.js\";import{CascadeCamera as F}from\"./CascadeCamera.js\";import{applyTextureResizeModulo as L,applyTextureResizeFloorModulo as Q}from\"./textureUtils.js\";import{assert as V,logWithBase as N,verify as A,rayRay2D as B}from\"./Util.js\";import{TextureType as I,FramebufferBit as W}from\"../../../webgl/enums.js\";import{Texture as z}from\"../../../webgl/Texture.js\";var P;!function(t){t[t.Highlight=0]=\"Highlight\",t[t.ExcludeHighlight=1]=\"ExcludeHighlight\"}(P||(P={}));class q{constructor(){this.camera=new F,this.lightMat=l()}}class G{constructor(){this.maxNumCascadesHighQuality=4,this.maxNumCascadesLowQuality=4,this.textureSizeModHighQuality=1.3,this.textureSizeModLowQuality=.9,this.splitSchemeLambda=0}}class X{constructor(t,s){this._fbos=t,this._viewingMode=s,this._enabled=!1,this._snapshots=new Array,this._textureHeight=0,this._numCascades=1,this.settings=new G,this._projectionView=l(),this._projectionViewInverse=l(),this._modelViewLight=l(),this._cascadeDistances=[0,0,0,0,0],this._usedCascadeDistances=R(),this._cascades=[new q,new q,new q,new q],this._lastOrigin=null,this._maxTextureWidth=Math.min(has(\"esri-mobile\")?4096:16384,t.rctx.parameters.maxTextureSize)}dispose(){this.enabled=!1,this.disposeOffscreenBuffers()}get depthTexture(){return this._handle?.getTexture()}get _textureWidth(){return this._textureHeight*this._numCascades}get numCascades(){return this._numCascades}get cascadeDistances(){return v(this._usedCascadeDistances,this._cascadeDistances[0],this._numCascades>1?this._cascadeDistances[1]:1/0,this._numCascades>2?this._cascadeDistances[2]:1/0,this._numCascades>3?this._cascadeDistances[3]:1/0)}disposeOffscreenBuffers(){this._handle=i(this._handle),this._discardSnapshots()}set maxCascades(s){this.settings.maxNumCascadesHighQuality=t(Math.floor(s),1,4)}get maxCascades(){return this.settings.maxNumCascadesHighQuality}set enabled(t){this._enabled=t,t||this.disposeOffscreenBuffers()}get enabled(){return this._enabled}get ready(){return this._enabled&&null!=this.depthTexture}get cascades(){for(let t=0;t<this._numCascades;++t)it[t]=this._cascades[t];return it.length=this._numCascades,it}start(t,s,e,i,a){V(this.enabled);const{near:r,far:h}=Tt(e);this._computeCascadeDistances(r,h,i),this._textureHeight=this._computeTextureHeight(t,a,i),this._setupMatrices(t,s);const{viewMatrix:o,projectionMatrix:n}=t;for(let c=0;c<this._numCascades;++c)this._constructCascade(c,n,o,s);this._lastOrigin=null,this.clear()}finish(){V(this.enabled),this._handle?.detachDepth()}getShadowMapMatrices(t){if(!this._lastOrigin||!C(t,this._lastOrigin)){this._lastOrigin=this._lastOrigin||H(),j(this._lastOrigin,t);for(let s=0;s<this._numCascades;++s){r(at,this._cascades[s].lightMat,t);for(let t=0;t<16;++t)rt[16*s+t]=at[t]}}return rt}moveSnapshot(t){V(this.enabled),this._handle?.detachDepth(),this._snapshots[t]?.release(),this._snapshots[t]=this._handle,this._handle=null,this.clear()}copySnapshot(t){const s=this._handle?.getTexture()?.descriptor;if(!this.enabled||!s)return;this._snapshots[t]?.release();const{width:e,height:i}=s,a=t===P.Highlight?\"shadow highlight snapshot\":\"shadow no highlight snapshot\";this._snapshots[t]=this._fbos.acquire(e,i,a,E.RGBA4);const r=this._fbos.rctx;this._bindFbo();const h=r.bindTexture(this._snapshots[t]?.getTexture(),z.TEXTURE_UNIT_FOR_UPDATES);r.gl.copyTexSubImage2D(I.TEXTURE_2D,0,0,0,0,0,e,i),r.bindTexture(h,z.TEXTURE_UNIT_FOR_UPDATES)}getSnapshot(t){return this.enabled?this._snapshots[t]?.getTexture():null}clear(){const t=this._fbos.rctx;this._ensureFbo(),this._bindFbo(),t.setClearColor(1,1,1,1),t.clear(W.COLOR|W.DEPTH)}_computeTextureHeight(t,s,e){const i=Math.min(window.devicePixelRatio,s)/t.pixelRatio,a=e?this.settings.textureSizeModHighQuality:this.settings.textureSizeModLowQuality,r=L(Math.floor(Math.max(t.fullWidth,t.fullHeight)*i*a)),h=Math.min(this._maxTextureWidth,this._numCascades*r);return Q(h/this._numCascades)}_ensureFbo(){this._handle?.fbo?.width===this._textureWidth&&this._handle?.fbo.height===this._textureHeight||(this._handle?.release(),this._handle=this._fbos.acquire(this._textureWidth,this._textureHeight,\"shadow map\",E.RGBA4)),this._handle?.acquireDepth(U.DEPTH16_BUFFER)}_discardSnapshot(t){this._snapshots[t]=i(this._snapshots[t])}_discardSnapshots(){for(let t=0;t<this._snapshots.length;++t)this._discardSnapshot(t);this._snapshots.length=0}_bindFbo(){this._fbos.rctx.bindFramebuffer(this._handle?.fbo)}_constructCascade(t,s,e,i){const a=this._cascades[t],o=-this._cascadeDistances[t],n=-this._cascadeDistances[t+1],c=(s[10]*o+s[14])/Math.abs(s[11]*o+s[15]),l=(s[10]*n+s[14])/Math.abs(s[11]*n+s[15]);V(c<l);for(let r=0;r<8;++r){v(J,r%4==0||r%4==3?-1:1,r%4==0||r%4==1?-1:1,r<4?c:l,1);const t=K[r];S(t,J,this._projectionViewInverse),t[0]/=t[3],t[1]/=t[3],t[2]/=t[3]}T(et,K[0]),a.camera.viewMatrix=r(k,this._modelViewLight,et);for(let r=0;r<8;++r)y(K[r],K[r],a.camera.viewMatrix);let d=K[0][2],m=K[0][2];for(let r=1;r<8;++r)d=Math.min(d,K[r][2]),m=Math.max(m,K[r][2]);d-=200,m+=200,a.camera.near=-m,a.camera.far=-d,jt(e,i,d,m,a.camera),h(a.lightMat,a.camera.projectionMatrix,a.camera.viewMatrix);const u=this._textureHeight;a.camera.viewport=[t*u,0,u,u]}_setupMatrices(t,s){h(this._projectionView,t.projectionMatrix,t.viewMatrix),o(this._projectionViewInverse,this._projectionView);const e=this._viewingMode===O.Global?t.eye:D(et,0,0,1);n(this._modelViewLight,[0,0,0],[-s[0],-s[1],-s[2]],e)}_computeCascadeDistances(t,e,i){const a=i?this.settings.maxNumCascadesHighQuality:this.settings.maxNumCascadesLowQuality;this._numCascades=Math.min(1+Math.floor(N(e/t,4)),a);const r=(e-t)/this._numCascades,h=(e/t)**(1/this._numCascades);let o=t,n=t;for(let c=0;c<this._numCascades+1;++c)this._cascadeDistances[c]=s(o,n,this.settings.splitSchemeLambda),o*=h,n+=r}get test(){}}const k=l(),J=R(),K=[];for(let yt=0;yt<8;++yt)K.push(R());const Y=M(),Z=M(),$=M(),tt=M(),st=M(),et=H(),it=[],at=l(),rt=c.concat(c,c,c,c),ht=M(),ot=M(),nt=[M(),M(),M(),M()],ct=M(),lt=M(),dt=M(),mt=M(),ut=M(),_t=M(),ft=M();function gt(t,s,e,i,a,r,h,o){d(ht,0,0);for(let d=0;d<4;++d)m(ht,ht,t[d]);u(ht,ht,.25),d(ot,0,0);for(let d=4;d<8;++d)m(ot,ot,t[d]);u(ot,ot,.25),_(nt[0],t[4],t[5],.5),_(nt[1],t[5],t[6],.5),_(nt[2],t[6],t[7],.5),_(nt[3],t[7],t[4],.5);let n=0,c=f(nt[0],ht);for(let d=1;d<4;++d){const t=f(nt[d],ht);t<c&&(c=t,n=d)}g(ct,nt[n],t[n+4]);const l=ct[0];let M,C;ct[0]=-ct[1],ct[1]=l,g(lt,ot,ht),p(lt,ct)<0&&x(ct,ct),_(ct,ct,lt,e),b(ct,ct),M=C=p(g(dt,t[0],ht),ct);for(let d=1;d<8;++d){const s=p(g(dt,t[d],ht),ct);s<M?M=s:s>C&&(C=s)}w(i,ht),u(dt,ct,M-s),m(i,i,dt);let j=-1,T=1,y=0,D=0;for(let d=0;d<8;++d){g(mt,t[d],i),b(mt,mt);const s=ct[0]*mt[1]-ct[1]*mt[0];s>0?s>j&&(j=s,y=d):s<T&&(T=s,D=d)}A(j>0,\"leftArea\"),A(T<0,\"rightArea\"),u(ut,ct,M),m(ut,ut,ht),u(_t,ct,C),m(_t,_t,ht),ft[0]=-ct[1],ft[1]=ct[0];const H=B(i,t[D],_t,m(dt,_t,ft),1,a),v=B(i,t[y],_t,dt,1,r),S=B(i,t[y],ut,m(dt,ut,ft),1,h),R=B(i,t[D],ut,dt,1,o);A(H,\"rayRay\"),A(v,\"rayRay\"),A(S,\"rayRay\"),A(R,\"rayRay\")}function pt(t,s){return 3*s+t}const xt=M();function bt(t,s){return d(xt,t[s],t[s+3]),xt}const wt=M(),Mt=a();function Ct(t,s,e,i,a){g(wt,e,i),u(wt,wt,.5),Mt[0]=wt[0],Mt[1]=wt[1],Mt[2]=0,Mt[3]=wt[1],Mt[4]=-wt[0],Mt[5]=0,Mt[6]=wt[0]*wt[0]+wt[1]*wt[1],Mt[7]=wt[0]*wt[1]-wt[1]*wt[0],Mt[8]=1,Mt[pt(0,2)]=-p(bt(Mt,0),t),Mt[pt(1,2)]=-p(bt(Mt,1),t);let r=p(bt(Mt,0),e)+Mt[pt(0,2)],h=p(bt(Mt,1),e)+Mt[pt(1,2)],o=p(bt(Mt,0),i)+Mt[pt(0,2)],n=p(bt(Mt,1),i)+Mt[pt(1,2)];r=-(r+o)/(h+n),Mt[pt(0,0)]+=Mt[pt(1,0)]*r,Mt[pt(0,1)]+=Mt[pt(1,1)]*r,Mt[pt(0,2)]+=Mt[pt(1,2)]*r,r=1/(p(bt(Mt,0),e)+Mt[pt(0,2)]),h=1/(p(bt(Mt,1),e)+Mt[pt(1,2)]),Mt[pt(0,0)]*=r,Mt[pt(0,1)]*=r,Mt[pt(0,2)]*=r,Mt[pt(1,0)]*=h,Mt[pt(1,1)]*=h,Mt[pt(1,2)]*=h,Mt[pt(2,0)]=Mt[pt(1,0)],Mt[pt(2,1)]=Mt[pt(1,1)],Mt[pt(2,2)]=Mt[pt(1,2)],Mt[pt(1,2)]+=1,r=p(bt(Mt,1),s)+Mt[pt(1,2)],h=p(bt(Mt,2),s)+Mt[pt(2,2)],o=p(bt(Mt,1),e)+Mt[pt(1,2)],n=p(bt(Mt,2),e)+Mt[pt(2,2)],r=-.5*(r/h+o/n),Mt[pt(1,0)]+=Mt[pt(2,0)]*r,Mt[pt(1,1)]+=Mt[pt(2,1)]*r,Mt[pt(1,2)]+=Mt[pt(2,2)]*r,r=p(bt(Mt,1),s)+Mt[pt(1,2)],h=p(bt(Mt,2),s)+Mt[pt(2,2)],o=-h/r,Mt[pt(1,0)]*=o,Mt[pt(1,1)]*=o,Mt[pt(1,2)]*=o,a[0]=Mt[0],a[1]=Mt[1],a[2]=0,a[3]=Mt[2],a[4]=Mt[3],a[5]=Mt[4],a[6]=0,a[7]=Mt[5],a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=Mt[6],a[13]=Mt[7],a[14]=0,a[15]=Mt[8]}function jt(t,s,i,a,r){const h=1/K[0][3],o=1/K[4][3];V(h<o);let n=h+Math.sqrt(h*o);const c=Math.sin(e(t[2]*s[0]+t[6]*s[1]+t[10]*s[2]));n/=c,gt(K,n,c,Y,Z,$,tt,st),Ct(Y,Z,tt,st,r.projectionMatrix),r.projectionMatrix[10]=2/(i-a),r.projectionMatrix[14]=-(i+a)/(i-a)}function Tt(t){let{near:s,far:e}=t;return s<2&&(s=2),e<2&&(e=2),s>=e&&(s=2,e=4),{near:s,far:e}}export{X as ShadowMap,P as SnapshotSlot};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../../chunks/TextureOnly.glsl.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{makePipelineState as i,premultipliedAlphaToPremultipliedAlpha as l,defaultColorWrite as s}from\"../../../webgl/renderState.js\";class t extends o{constructor(o,i){super(o,i,new r(e,(()=>import(\"../core/shaderLibrary/util/TextureOnly.glsl.js\"))))}initializePipeline(e){return e.hasAlpha?i({blending:l,colorWrite:s}):i({colorWrite:s})}}export{t as TextureTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../../chunks/tslib.es6.js\";import{ShaderTechniqueConfiguration as e,parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class r extends e{constructor(){super(...arguments),this.hasAlpha=!1}}s([o()],r.prototype,\"hasAlpha\",void 0);export{r as TextureTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{a as o}from\"../../../../chunks/OverlayCompositing.glsl.js\";class s extends r{constructor(r,s){super(r,s,new e(o,(()=>import(\"./OverlayCompositing.glsl.js\"))))}}export{s as OverlayCompositingTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import\"../../../core/has.js\";import{someMap as t}from\"../../../core/MapUtils.js\";import{disposeMaybe as s}from\"../../../core/maybe.js\";import i from\"../../../core/PooledArray.js\";import{watch as n,syncAndInitial as o,on as a,initial as h}from\"../../../core/reactiveUtils.js\";import{someSet as l}from\"../../../core/SetUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ortho as u,fromTranslation as p}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{i as g}from\"../../../chunks/vec32.js\";import{ones as _}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{DrapeTargetType as m,DrapeSourceType as y,DrapedRenderGroup as f}from\"../layers/interfaces.js\";import{debugFlags as R}from\"../support/debugFlags.js\";import{OverlayIndex as b}from\"./interfaces.js\";import{Overlay as T}from\"./Overlay.js\";import{OverlayContent as w}from\"./OverlayContent.js\";import{OverlayRenderTargets as D}from\"./OverlayRenderTargets.js\";import v from\"../webgl/RenderCamera.js\";import{ShaderOutput as x}from\"../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{OverlayMode as O}from\"../webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js\";import{T as S}from\"../../../chunks/TextureOnly.glsl.js\";import{SyncRenderPlugin as C}from\"../webgl-engine/effects/RenderPlugin.js\";import{trackHighlightOptions as E,renderHighlightBuffer as P}from\"../webgl-engine/effects/highlight/Highlight.js\";import{RenderRequestType as j}from\"../webgl-engine/lib/basicInterfaces.js\";import{GLMaterialRepository as A}from\"../webgl-engine/lib/GLMaterialRepository.js\";import{GridLocalOriginFactory as M}from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import{RenderOccludedFlag as W}from\"../webgl-engine/lib/Material.js\";import{OITPass as I}from\"../webgl-engine/lib/OITPass.js\";import{OverlayRenderContext as q,defaultRenderOccludedMask as N}from\"../webgl-engine/lib/RenderContext.js\";import{RenderSlot as F}from\"../webgl-engine/lib/RenderSlot.js\";import{ShadowMap as L}from\"../webgl-engine/lib/ShadowMap.js\";import{TextureTechnique as V}from\"../webgl-engine/lib/TextureTechnique.js\";import{TextureTechniqueConfiguration as H}from\"../webgl-engine/lib/TextureTechniqueConfiguration.js\";import{Update as G}from\"../webgl-engine/lib/Update.js\";import{UpdatePolicy as k}from\"../webgl-engine/lib/UpdatePolicy.js\";import{AmbientLight as U}from\"../webgl-engine/lighting/Lightsources.js\";import{O as B}from\"../../../chunks/OverlayCompositing.glsl.js\";import{OverlayCompositingTechnique as z}from\"../webgl-engine/shaders/OverlayCompositingTechnique.js\";import{TaskPriority as Y,noBudget as X}from\"../../support/Scheduler.js\";import{FramebufferBit as K,TextureSamplingMode as J}from\"../../webgl/enums.js\";import{Texture as Q}from\"../../webgl/Texture.js\";import{TextureDescriptor as Z}from\"../../webgl/TextureDescriptor.js\";let $=class extends C{constructor(e){super(e),this._overlays=null,this._renderTargets=null,this._overlayParameters=new B,this.hasHighlights=!1,this._hasWater=!1,this._renderers=new Map,this._sortedDrapeSourceRenderersDirty=!1,this._sortedRenderers=new i,this._passParameters=new S,this._materials=null,this._screenToWorldRatio=1,this._localOriginFactory=null,this.unloadedMemory=0,this.ignoresMemoryFactor=!1,this._camera=new v,this.events=new r,this.longitudeCyclical=null,this.produces=new Map([[F.DRAPED_MATERIAL,e=>e!==x.Highlight||this.hasHighlights],[F.DRAPED_WATER,()=>this._hasWater]]),this._hasTargetWithoutRasterImage=!1,this._hasDrapedFeatureSource=!1,this._hasDrapedRasterSource=!1}initialize(){const e=this._view,r=e._stage,t=r.renderer.fboCache,{waterTextures:s,textures:i}=r.renderView;this._renderContext=new q(this._rctx,new L(t,e.state.viewingMode)),this.addHandles([n((()=>s.updating),(()=>this.events.emit(\"content-changed\")),o),n((()=>this.spatialReference),(e=>this._localOriginFactory=new M(e)),o),a((()=>e.allLayerViews),\"after-changes\",(()=>this._sortedDrapeSourceRenderersDirty=!0)),n((()=>E(e.state.highlights)),(()=>this._sortedDrapeSourceRenderersDirty=!0),h),n((()=>e.state.highlights),(r=>{this._bindParameters.highlights=r,this._bindParameters.highlightOrderMap=e.state.highlightOrderMap,this._updateHighlights()}),h),e.resourceController.scheduler.registerTask(Y.STAGE,this)]),this._materials=new A(i,this._techniques,(()=>{this.notifyChange(\"rendersOccludedDraped\"),this.events.emit(\"content-changed\"),this.notifyChange(\"updating\"),this.notifyChange(\"isEmpty\")}),(()=>this.events.emit(\"content-changed\")));const{_bindParameters:l,_camera:d}=this;d.near=1,d.far=1e4,d.relativeElevation=null,l.slot=F.DRAPED_MATERIAL,l.mainDepth=null,l.camera=d,l.oitPass=I.NONE,l.updateLighting([new U(_())],0,0,G.Immediate)}destroy(){this._renderers.forEach((e=>e.destroy())),this._renderers.clear(),this._passParameters.texture=s(this._passParameters.texture),this.disposeOverlays()}get _bindParameters(){return this._renderContext.bind}get _rctx(){return this._stage.renderView.renderingContext}get _view(){return this.parent.view}get _stage(){return this.parent.view._stage}get spatialReference(){return this.parent.spatialReference}get _techniques(){return this._stage.renderView.techniques}get rctx(){return this._rctx}get materials(){return this._materials}get screenToWorldRatio(){return this._screenToWorldRatio}get localOriginFactory(){return this._localOriginFactory}get pluginContext(){return this._pluginContext}initializeRenderContext(e){this._pluginContext=e,this._techniques.precompile(z)}uninitializeRenderContext(){}acquireTechniques(){return[]}render(){}get updating(){return this._sortedDrapeSourceRenderersDirty||t(this._renderers,(e=>e.updating))}get hasOverlays(){return null!=this._overlays&&null!=this._renderTargets}getMaterialRenderer(e){for(const r of this._renderers.values()){const t=r.getMaterialRenderer(e);if(t)return t}return null}get layers(){return this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers(),this._sortedRenderers.map((e=>e.drapeSource.layer)).filter((e=>!!e))}_updateHighlights(){const e=this._view.state;this._renderers.forEach((r=>r.updateHighlights(e.highlightOrderMap)))}createDrapeSourceRenderer(e,r,t){const s=this._renderers.get(e);null!=s&&s.destroy();const i=new r({...t,rendererContext:this,drapeSource:e});return this._renderers.set(e,i),this._sortedDrapeSourceRenderersDirty=!0,\"fullOpacity\"in e&&this.addHandles(n((()=>e.fullOpacity),(()=>this.events.emit(\"content-changed\"))),e),i}removeDrapeSourceRenderer(e){if(null==e)return;const r=this._renderers.get(e);null!=r&&(this._sortedDrapeSourceRenderersDirty=!0,this._renderers.delete(e),this.removeHandles(e),r.destroy())}computeValidity(){return this._renderTargets?.computeValidity()??0}releaseRenderTargets(){this._renderTargets?.dispose()}get overlays(){return this._overlays??[]}ensureDrapeTargets(e){this._hasTargetWithoutRasterImage=!!this._overlays&&l(e,(e=>e.drapeTargetType===m.WithoutRasterImage))}ensureDrapeSources(e){this._overlays?(this._hasDrapedFeatureSource=l(e,(e=>e.drapeSourceType===y.Features)),this._hasDrapedRasterSource=l(e,(e=>e.drapeSourceType===y.RasterImage))):this._hasDrapedFeatureSource=this._hasDrapedRasterSource=!1}get _needsColorWithoutRasterImage(){return this._hasDrapedRasterSource&&this._hasDrapedFeatureSource&&this._hasTargetWithoutRasterImage}ensureOverlays(e,r,t=this._bindParameters.overlayStretch){null==this._overlays&&(this._renderTargets=new D(this._stage.renderer.fboCache),this._overlays=[new T,new T]),this.ensureDrapeTargets(e),this.ensureDrapeSources(r),this._bindParameters.overlayStretch=t}disposeOverlays(){this._overlays=null,this._renderTargets=s(this._renderTargets),this.events.emit(\"textures-disposed\")}getTexture(e){if(null!=e)return e===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage&&this._hasDrapedFeatureSource?this._renderTargets?.getTexture(w.Color):this._renderTargets?.getTexture(e)}get running(){return this.updating}runTask(e){this._processDrapeSources(e,(()=>!0))}_processDrapeSources(e,r){let s=!1;for(const[t,i]of this._renderers){if(e.done)break;(t.destroyed||r(t))&&(i.commitChanges(this._view.state.highlightOrderMap)&&(s=!0,e.madeProgress()))}this._sortedDrapeSourceRenderersDirty&&(this._sortedDrapeSourceRenderersDirty=!1,s=!0,this._updateSortedDrapeSourceRenderers()),s&&(null!=this._overlays&&0===this._renderers.size&&this.disposeOverlays(),this.notifyChange(\"updating\"),this.notifyChange(\"isEmpty\"),this.events.emit(\"content-changed\"),this.hasHighlights=t(this._renderers,(e=>e.hasHighlights)),this.notifyChange(\"rendersOccludedDraped\"))}hasHighlightOptions(e){return t(this._renderers,(r=>r.hasHighlightOptions(e)))}processSyncDrapeSources(){this._processDrapeSources(X,(e=>e.updatePolicy===k.SYNC))}get isEmpty(){return!R.OVERLAY_DRAW_DEBUG_TEXTURE&&!t(this._renderers,(e=>!e.isEmpty))}get hasWater(){const e=t(this._renderers,(e=>e.hasWater));return e!==this._hasWater&&(this._hasWater=e,this.events.emit(\"has-water\")),this._hasWater}get rendersOccludedDraped(){const e=this._renderContext.renderOccludedMask;this._renderContext.renderOccludedMask=se,++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,this._renderContext.renderOccludedMask=e,r}renders(e){if(R.OVERLAY_DRAW_DEBUG_TEXTURE&&e!==w.Occluded&&e!==w.Highlight)return!0;++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,r}get mode(){return this.isEmpty?O.Disabled:this.hasWater&&this.renders(w.WaterNormal)?O.EnabledWithWater:this._renderTargets?.getTexture(w.Color)?O.Enabled:O.Disabled}updateAnimation(e){let r=!1;return this._renderers.forEach((t=>r=t.updateAnimation(e)||r)),r&&this.parent.requestRender(j.BACKGROUND),r}updateDrapeSourceOrder(){this._sortedDrapeSourceRenderersDirty=!0}precompileShaders(e){if(this._renderTargets){this._bindParameters.alignPixelEnabled=e.alignPixelEnabled,++this._techniques.precompiling;for(const e of this._renderTargets.targets){if(e.content===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const r=e.output;this._renderContext.output=r,this._bindParameters.slot=r===x.Normal?F.DRAPED_WATER:F.DRAPED_MATERIAL,e.content===w.Occluded&&(this._renderContext.renderOccludedMask=se),this._sortedRenderers.forAll((({drapeSource:r,renderer:t})=>{e.content===w.ColorNoRasterImage&&r.drapeSourceType===y.RasterImage||t.precompile(this._renderContext)})),this._renderContext.renderOccludedMask=N}--this._techniques.precompiling}}drawOverlays(e){if(this._overlays&&this._renderTargets){for(const e of this._overlays)this.longitudeCyclical?e.setupGeometryViewsCyclical(this.longitudeCyclical):e.setupGeometryView();this._bindParameters.alignPixelEnabled=e.alignPixelEnabled;for(const e of this._renderTargets.targets){if(e.content===w.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const r=this._drawTarget(b.INNER,e),t=this._drawTarget(b.OUTER,e);(r||t)&&e.fbo.generateMipMap()}}}_drawTarget(e,r){const t=this._overlays[e],s=t.canvasGeometries;if(0===s.numViews)return!1;const i=this._view.state.contentPixelRatio;this._screenToWorldRatio=i*t.mapUnitsPerPixel/this._bindParameters.overlayStretch;const n=r.output;if(this.isEmpty||n===x.Normal&&!this.hasWater||!t.hasSomeSizedView())return!1;const{_rctx:o,_camera:a,_renderContext:h,_bindParameters:l}=this;if(a.pixelRatio=t.pixelRatio*i,h.output=n,l.screenToWorldRatio=this._screenToWorldRatio,l.screenToPCSRatio=this._screenToWorldRatio*this.parent.worldToPCSRatio,l.slot=n===x.Normal?F.DRAPED_WATER:F.DRAPED_MATERIAL,r.content===w.Occluded&&(h.renderOccludedMask=se),!this.renders(r.content))return h.renderOccludedMask=N,!1;const{resolution:d}=t,c=e===b.INNER?0:d;o.setViewport(c,0,d,d),this._bindTargetFBO(r),e===b.INNER&&(o.setClearColor(0,0,0,0),o.clear(K.COLOR));if(R.OVERLAY_DRAW_DEBUG_TEXTURE&&r.content!==w.Occluded&&r.content!==w.Highlight){this._techniques.precompile(V,ie);const r=this._techniques.get(V,ie);for(let i=0;i<s.numViews;i++)this._setViewParameters(s.extents[i],t),this._ensureDebugPatternResources(t.resolution,re[e]),o.bindTechnique(r,l,this._passParameters),o.screen.draw()}if(r.output===x.Highlight){const{fboCache:t}=this._stage.renderer,s=this._resolution;this._bindTargetFBO(r),P(o,t,{width:s,height:s},l,(()=>this._renderAllGeometry(e,r)),c)}else this._renderAllGeometry(e,r);return o.bindFramebuffer(null),h.renderOccludedMask=N,!0}_renderAllGeometry(e,r){const t=this._overlays[e],s=t.canvasGeometries;this._sortedRenderers.forAll((({drapeSource:i,renderer:n})=>{if(r.content===w.ColorNoRasterImage&&i.drapeSourceType===y.RasterImage)return;const{fullOpacity:o}=i,a=null!=o&&o<1&&r.output===x.Color&&this._bindTemporaryFBO();for(let e=0;e<s.numViews;e++)this._setViewParameters(s.extents[e],t),n.render(this._renderContext);if(a){this._bindTargetFBO(r),this._overlayParameters.texture=a.getTexture(),this._overlayParameters.opacity=o,this._overlayParameters.overlayIndex=e;const t=this._techniques.get(z);this._rctx.bindTechnique(t,this._bindParameters,this._overlayParameters),this._rctx.screen.draw(),a.release()}}))}_bindTargetFBO(e){const r=this._resolution,t=2*r;e.fbo.bind(this._rctx,t,r)}_bindTemporaryFBO(){const e=this._resolution,r=2*e,t=this._stage.renderer.fboCache,s=t.acquire(r,e,\"overlay tmp\");return t.rctx.bindFramebuffer(s.fbo),t.rctx.clear(K.COLOR),s}get _resolution(){return this._overlays?.[b.INNER].resolution??0}notifyContentChanged(){this.events.emit(\"content-changed\")}intersect(e,r,t,s){this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers();let i=0;for(const{renderer:n}of this._sortedRenderers)i=n.intersect?.(e,r,t,s,i)??i}_updateSortedDrapeSourceRenderers(){if(this._sortedRenderers.clear(),0===this._renderers.size)return;const e=this._view.map.allLayers,r=e.length;this._renderers.forEach(((t,s)=>{const i=e.indexOf(s.layer),n=i>=0,o=s.renderGroup??(n?f.MapLayer:f.ViewLayer),a=r*o+(n?i:0);this._sortedRenderers.push(new ee(s,t,a))})),this._sortedRenderers.sort(((e,r)=>e.index-r.index))}_setViewParameters(e,r){const t=this._camera;t.viewport=[0,0,r.resolution,r.resolution],u(t.projectionMatrix,0,e[2]-e[0],0,e[3]-e[1],t.near,t.far),p(t.viewMatrix,[-e[0],-e[1],0])}_ensureDebugPatternResources(e,r){if(g(this._passParameters.color,r[0],r[1],r[2]),this._passParameters.texture)return;const t=new Uint8Array(e*e*4);let s=0;for(let n=0;n<e;n++)for(let r=0;r<e;r++){const i=Math.floor(r/10),o=Math.floor(n/10);i<2||o<2||10*i>e-20||10*o>e-20?(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=255):(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=1&i&&1&o?1&r^1&n?0:255:1&i^1&o?0:128)}const i=new Z(e);i.samplingMode=J.NEAREST,this._passParameters.texture=new Q(this._rctx,i,t)}get test(){}};e([d()],$.prototype,\"hasHighlights\",void 0),e([d()],$.prototype,\"_sortedDrapeSourceRenderersDirty\",void 0),e([d({constructOnly:!0})],$.prototype,\"parent\",void 0),e([d({readOnly:!0})],$.prototype,\"_techniques\",null),e([d({type:Boolean,readOnly:!0})],$.prototype,\"updating\",null),e([d()],$.prototype,\"isEmpty\",null),e([d({readOnly:!0})],$.prototype,\"rendersOccludedDraped\",null),$=e([c(\"esri.views.3d.terrain.OverlayRenderer\")],$);class ee{constructor(e,r,t){this.drapeSource=e,this.renderer=r,this.index=t}}const re=[[1,.5,.5],[.5,.5,1]],te=-2,se=W.OccludeAndTransparent,ie=new H;ie.hasAlpha=!0;export{$ as OverlayRenderer,te as drapedZ,se as overlayRenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar E,A,O;!function(E){E[E.INNER=0]=\"INNER\",E[E.OUTER=1]=\"OUTER\"}(E||(E={})),function(E){E[E.REGULAR=0]=\"REGULAR\",E[E.HAS_NORTH_POLE=1]=\"HAS_NORTH_POLE\",E[E.HAS_SOUTH_POLE=2]=\"HAS_SOUTH_POLE\",E[E.HAS_BOTH_POLES=3]=\"HAS_BOTH_POLES\"}(A||(A={})),function(E){E[E.FADING=0]=\"FADING\",E[E.IMMEDIATE=1]=\"IMMEDIATE\",E[E.UNFADED=2]=\"UNFADED\"}(O||(O={}));export{E as OverlayIndex,A as PatchType,O as TextureUpdate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BindType as r}from\"../../../../webgl/BindType.js\";import{Uniform as s}from\"../../../../webgl/Uniform.js\";class e extends s{constructor(s,e){super(s,\"ivec2\",r.Pass,((r,o,i)=>r.setUniform2iv(s,e(o,i))))}}export{e as Integer2PassUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{set as e}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as l}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{glsl as i}from\"../shaderModules/glsl.js\";import{Integer2PassUniform as t}from\"../shaderModules/Integer2PassUniform.js\";import{IntegerPassUniform as o}from\"../shaderModules/IntegerPassUniform.js\";import{Texture2DPassUniform as n}from\"../shaderModules/Texture2DPassUniform.js\";import{g as c}from\"../../../../../chunks/HighlightDownsample.glsl.js\";function s(l){const{vertex:s}=l;s.uniforms.add(new n(\"coverageTexture\",(e=>e.coverageTexture)),new t(\"highlightRenderCellCount\",(l=>e(r,l.horizontalCellCount,l.verticalCellCount))),new t(\"highlightTextureResolution\",(({highlightTexture:l})=>e(r,l.descriptor.width,l.descriptor.height))),new o(\"highlightLevel\",(e=>e.highlightLevel))).constants.add(\"cellSize\",\"int\",c),l.varyings.add(\"sUV\",\"vec2\"),l.varyings.add(\"vOutlinePossible\",\"float\"),s.code.add(i`const ivec2 cellVertices[4] = ivec2[4](ivec2(0,0), ivec2(1,0), ivec2(0,1), ivec2(1,1));`).main.add(i`int cellIndex = gl_InstanceID;\nint cellX = cellIndex % highlightRenderCellCount[0];\nint cellY = (cellIndex - cellX) / highlightRenderCellCount[0];\nivec2 cellPos = ivec2(cellX, cellY);\nuvec2 covTexel = uvec2(texelFetch(coverageTexture, cellPos, 0).rg * 255.0);\nint channelIndex = (highlightLevel >> 2) & 3;\nuint channelValue = covTexel[channelIndex];\nint highlightIndex = (highlightLevel & 3) << 1;\nbool covered = ((channelValue >> highlightIndex) & 1u) == 1u;\nif (!covered) {\ngl_Position = vec4(0.0);\nreturn;\n}\nvOutlinePossible = (((channelValue >> highlightIndex) & 2u) == 2u) ? 1.0 : 0.0;\nivec2 iPosInCell = cellVertices[gl_VertexID];\nvec2 sPos = vec2(cellPos * cellSize + iPosInCell * (cellSize));\nvec2 vPos = sPos / vec2(highlightTextureResolution);\nsUV = vPos;\ngl_Position = vec4(2.0 * vPos - vec2(1.0), 0.0, 1.0);`)}const r=l();export{s as HighlightCellGridScreenSpacePass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../../shaderModules/glsl.js\";function o(o){o.fragment.code.add(t`float normals2FoamIntensity(vec3 n, float waveStrength){\nfloat normalizationFactor =  max(0.015, waveStrength);\nreturn max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);\n}`)}function n(o){o.fragment.code.add(t`vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){\nreturn foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;\n}`)}export{n as FoamColor,o as FoamIntensity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{colorGamma as o}from\"../../../../../../colorUtils.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";function e(e){e.fragment.code.add(r`\n    const float GAMMA = ${r.float(o)};\n    const float INV_GAMMA = ${r.float(1/o)};\n\n    vec4 delinearizeGamma(vec4 color) {\n      return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.a);\n    }\n\n    vec3 linearizeGamma(vec3 color) {\n      return pow(color, vec3(GAMMA));\n    }\n  `)}export{e as Gamma};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReadDepth as e}from\"../output/ReadDepth.glsl.js\";import{Float2BindUniform as t}from\"../../shaderModules/Float2BindUniform.js\";import{FloatBindUniform as o}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";import{Matrix4BindUniform as i}from\"../../shaderModules/Matrix4BindUniform.js\";import{Texture2DBindUniform as a}from\"../../shaderModules/Texture2DBindUniform.js\";function d(d,n){if(!n.screenSpaceReflections)return;const c=d.fragment;c.include(e),c.uniforms.add(new t(\"nearFar\",(e=>e.camera.nearFar)),new a(\"depthMap\",(e=>e.depth?.attachment)),new i(\"proj\",(e=>e.camera.projectionMatrix)),new o(\"invResolutionHeight\",(e=>1/e.camera.height)),new i(\"reprojectionMatrix\",(e=>e.ssr.reprojectionMatrix))).code.add(r`\n  vec2 reprojectionCoordinate(vec3 projectionCoordinate)\n  {\n    vec4 zw = proj * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);\n    vec4 reprojectedCoord = reprojectionMatrix * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);\n    reprojectedCoord.xy /= reprojectedCoord.w;\n    return reprojectedCoord.xy * 0.5 + 0.5;\n  }\n\n  const int maxSteps = ${n.highStepCount?\"150\":\"75\"};\n\n  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)\n  {\n    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);\n    projectedCoord.xy /= projectedCoord.w;\n    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;\n    return projectedCoord;\n  }\n\n  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)\n  {\n    vec3 viewPos = startPosition;\n    vec3 viewPosEnd = startPosition;\n\n    // Project the start position to the screen\n    vec4 projectedCoordStart = applyProjectionMat(proj, viewPos);\n    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space\n    float k0 = 1.0/ projectedCoordStart.w;\n\n    // advance the position in the direction of the reflection\n    viewPos += dir;\n\n    vec4 projectedCoordVanishingPoint = applyProjectionMat(proj, dir);\n\n    // Project the advanced position to the screen\n    vec4 projectedCoordEnd = applyProjectionMat(proj, viewPos);\n    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space\n    float k1 = 1.0/ projectedCoordEnd.w;\n\n    // calculate the reflection direction in the screen space\n    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);\n    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);\n\n    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);\n\n    float projectedCoordDirLength = length(projectedCoordDir);\n    float maxSt = float(maxSteps);\n\n    // normalize the projection direction depending on maximum steps\n    // this determines how blocky the reflection looks\n    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);\n\n    // Normalize the homogeneous camera space coordinates\n    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);\n    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);\n\n    // initialize the variables for ray marching\n    vec2 P = projectedCoordStart.xy;\n    vec3 Q = Q0;\n    float k = k0;\n    float rayStartZ = -startPosition.z; // estimated ray start depth value\n    float rayEndZ = -startPosition.z;   // estimated ray end depth value\n    float prevEstimateZ = -startPosition.z;\n    float rayDiffZ = 0.0;\n    float dDepth;\n    float depth;\n    float rayDiffZOld = 0.0;\n\n    // early outs\n    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)\n      return vec3(P, 0.0);\n    float dDepthBefore = 0.0;\n\n    for(int i = 0; i < maxSteps-1; i++)\n    {\n      depth = -linearDepthFromTexture(depthMap, P); // get linear depth from the depth buffer\n\n      // estimate depth of the marching ray\n      rayStartZ = prevEstimateZ;\n      dDepth = -rayStartZ - depth;\n      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));\n      rayDiffZ = rayEndZ- rayStartZ;\n      prevEstimateZ = rayEndZ;\n\n      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )\n      {\n        return vec3(P, 0.);\n      }\n\n      // If we detect a hit - return the intersection point, two conditions:\n      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth\n      //  - if difference between dDepth and rayDiffZOld is not too large\n      //  - if difference between dDepth and 0.025/abs(k) is not too large\n      //  - if the sampled depth is not behind far plane or in front of near plane\n\n      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)\n      {\n        float weight = dDepth / (dDepth - dDepthBefore);\n        vec2 Pf = mix(P - dP, P, 1.0 - weight);\n        if (abs(Pf.y - projectedCoordStart.y) > invResolutionHeight) {\n          return vec3(Pf, depth);\n        }\n        else {\n          return vec3(P, depth);\n        }\n      }\n\n      // continue with ray marching\n      P = clamp(P + dP, vec2(0.0), vec2(0.999));\n      Q.z += dQ.z;\n      k += dk;\n      rayDiffZOld = rayDiffZ;\n      dDepthBefore = dDepth;\n    }\n    return vec3(P, 0.0);\n  }\n  `)}export{d as ScreenSpaceReflections};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BindType as e}from\"../../../../webgl/BindType.js\";import{Uniform as r}from\"../../../../webgl/Uniform.js\";class o extends r{constructor(r,o){super(r,\"samplerCube\",e.Bind,((e,s)=>e.bindTexture(r,o(s))))}}export{o as TextureCubeBindUniform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{fromValues as o}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{earth as t}from\"../../../../../../geometry/support/Ellipsoid.js\";import{CloudsTextureChannels as e}from\"../../../../environment/Clouds.js\";import{FadeState as a}from\"../../../../environment/CloudsParameters.js\";import{cloudsHeight as r}from\"../../../../environment/weather.js\";import{addMainLightDirection as i,addMainLightIntensity as c}from\"../shading/MainLighting.glsl.js\";import{BooleanBindUniform as d}from\"../../shaderModules/BooleanBindUniform.js\";import{Float3BindUniform as n}from\"../../shaderModules/Float3BindUniform.js\";import{FloatBindUniform as l}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as s}from\"../../shaderModules/glsl.js\";import{Matrix4BindUniform as u}from\"../../shaderModules/Matrix4BindUniform.js\";import{TextureCubeBindUniform as m}from\"../../shaderModules/TextureCubeBindUniform.js\";function h(t){const r=t.fragment;r.constants.add(\"radiusCloudsSquared\",\"float\",C).code.add(s`vec3 intersectWithCloudLayer(vec3 dir, vec3 cameraPosition, vec3 spherePos) {\nfloat B = 2.0 * dot(cameraPosition, dir);\nfloat C = dot(cameraPosition, cameraPosition) - radiusCloudsSquared;\nfloat det = B * B - 4.0 * C;\nfloat pointIntDist = max(0.0, 0.5 *(-B + sqrt(det)));\nreturn (cameraPosition + dir * pointIntDist) - spherePos;\n}`),r.uniforms.add(new l(\"radiusCurvatureCorrection\",(({clouds:o})=>o.parallax.radiusCurvatureCorrection))).code.add(s`vec3 correctForPlanetCurvature(vec3 dir) {\ndir.z = dir.z * (1.0 - radiusCurvatureCorrection) + radiusCurvatureCorrection;\nreturn dir;\n}`),r.code.add(s`vec3 rotateDirectionToAnchorPoint(mat4 rotMat, vec3 inVec) {\nreturn (rotMat * vec4(inVec, 0.0)).xyz;\n}`),i(r),c(r);const h=o(.28,.175,.035);r.constants.add(\"RIM_COLOR\",\"vec3\",h);const v=.3,f=140,p=.2,g=10,w=.3;r.code.add(s`\n    vec3 calculateCloudColor(vec3 cameraPosition, vec3 worldSpaceRay, vec4 clouds) {\n      float upDotLight = dot(cameraPosition, mainLightDirection);\n      float dirDotLight = max(dot(worldSpaceRay, mainLightDirection), 0.0);\n      float sunsetTransition = clamp(pow(max(upDotLight, 0.0), ${s.float(v)}), 0.0, 1.0);\n\n      // Base color of the clouds that depends on lighting of the sun and sky\n      vec3 ambientLight = calculateAmbientIrradiance(cameraPosition,  0.0);\n      vec3 combinedLight = clamp((mainLightIntensity + ambientLight )/PI, vec3(0.0), vec3(1.0));\n      vec3 baseCloudColor = pow(combinedLight * pow(clouds.xyz, vec3(GAMMA)), vec3(INV_GAMMA));\n\n      // Rim light around the edge of the clouds simulating scattering of the direct lun light\n      float scatteringMod = max(clouds.a < 0.5 ? clouds.a / 0.5 : - clouds.a / 0.5 + 2.0, 0.0);\n      float rimLightIntensity = 0.5 + 0.5 * pow(max(upDotLight, 0.0), 0.35);\n      vec3 directSunScattering = RIM_COLOR * rimLightIntensity * (pow(dirDotLight, ${s.float(f)})) * scatteringMod;\n\n      // Brighten the clouds around the sun at the sunsets\n      float additionalLight = ${s.float(p)} * pow(dirDotLight, ${s.float(g)}) * (1. - pow(sunsetTransition, ${s.float(w)})) ;\n\n      return vec3(baseCloudColor * (1.0 + additionalLight) + directSunScattering);\n    }\n  `),r.uniforms.add(new d(\"readChannelsRG\",(o=>o.clouds.readChannels===e.RG)),new m(\"cubeMap\",(o=>o.clouds.data?.cubeMap?.colorTexture??null))).code.add(s`vec4 sampleCloud(vec3 rayDir, bool readOtherChannel) {\nvec4 s = texture(cubeMap, rayDir);\nbool readRG = readChannelsRG ^^ readOtherChannel;\ns = readRG ? vec4(vec3(s.r), s.g) : vec4(vec3(s.b), s.a);\nreturn length(s) == 0.0 ? vec4(s.rgb, 1.0) : s;\n}`),r.uniforms.add(new n(\"anchorPoint\",(o=>o.clouds.parallax.anchorPoint)),new n(\"anchorPointNew\",(o=>o.clouds.parallaxNew.anchorPoint)),new u(\"rotationClouds\",(o=>o.clouds.parallax.transform)),new u(\"rotationCloudsNew\",(o=>o.clouds.parallaxNew.transform)),new l(\"cloudsOpacity\",(o=>o.clouds.opacity)),new l(\"fadeFactor\",(o=>o.clouds.fadeFactor)),new d(\"crossFade\",(o=>o.clouds.fadeState===a.CROSS_FADE))).code.add(s`vec4 renderClouds(vec3 worldRay, vec3 cameraPosition) {\nvec3 intersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPoint);\nvec3 worldRayRotated = rotateDirectionToAnchorPoint(rotationClouds, normalize(intersectionPoint));\nvec3 worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);\nvec4 cloudData = sampleCloud(worldRayRotatedCorrected, crossFade);\nvec3 cameraPositionN = normalize(cameraPosition);\nvec4 cloudColor = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);\nif(crossFade) {\nintersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPointNew);\nworldRayRotated = rotateDirectionToAnchorPoint(rotationCloudsNew, normalize(intersectionPoint));\nworldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);\ncloudData = sampleCloud(worldRayRotatedCorrected, false);\nvec4 cloudColorNew = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);\ncloudColor = mix(cloudColor, cloudColorNew, fadeFactor);\n}\nfloat totalTransmittance = length(cloudColor.rgb) == 0.0 ?\n1.0 :\nclamp(cloudColor.a * cloudsOpacity + (1.0 - cloudsOpacity), 0.0 , 1.0);\nreturn vec4(cloudColor.rgb, totalTransmittance);\n}`)}const C=(t.radius+r)**2;export{h as CloudsParallaxShading};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../core/shaderModules/glsl.js\";function o(o){o.code.add(e`vec3 tonemapACES(vec3 x) {\nreturn clamp((x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14), 0.0, 1.0);\n}`)}export{o as ToneMapping};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{FoamColor as e}from\"./FoamRendering.glsl.js\";import{Gamma as o}from\"./Gamma.glsl.js\";import{PhysicallyBasedRenderingWater as t}from\"./PhysicallyBasedRendering.glsl.js\";import{distanceFadeStart as r,distanceFadeEnd as i}from\"./ScreenSpaceConstants.js\";import{ScreenSpaceReflections as n}from\"./ScreenSpaceReflections.glsl.js\";import{CloudsParallaxShading as a}from\"../util/CloudsParallaxShading.glsl.js\";import{FloatBindUniform as l}from\"../../shaderModules/FloatBindUniform.js\";import{glsl as d}from\"../../shaderModules/glsl.js\";import{Matrix4BindUniform as c}from\"../../shaderModules/Matrix4BindUniform.js\";import{Texture2DBindUniform as s}from\"../../shaderModules/Texture2DBindUniform.js\";import{ToneMapping as f}from\"../../../shaders/ToneMapping.glsl.js\";function m(m,v){m.include(t,v),m.include(o),m.include(e),v.cloudReflections&&m.include(a),m.include(n,v);const u=m.fragment;u.include(f),u.constants.add(\"fresnelSky\",\"vec3\",[.02,1,15]),u.constants.add(\"fresnelMaterial\",\"vec2\",[.02,.1]),u.constants.add(\"roughness\",\"float\",.015),u.constants.add(\"foamIntensityExternal\",\"float\",1.7),u.constants.add(\"ssrIntensity\",\"float\",.65),u.constants.add(\"ssrHeightFadeStart\",\"float\",r),u.constants.add(\"ssrHeightFadeEnd\",\"float\",i),u.constants.add(\"waterDiffusion\",\"float\",.92),u.constants.add(\"waterSeaColorMod\",\"float\",.8),u.constants.add(\"correctionViewingPowerFactor\",\"float\",.4),u.constants.add(\"skyZenitColor\",\"vec3\",[.52,.68,.9]),u.constants.add(\"skyColor\",\"vec3\",[.67,.79,.9]),u.constants.add(\"cloudFresnelModifier\",\"vec2\",[1.2,.01]),u.code.add(d`PBRShadingWater shadingInfo;\nvec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {\nfloat exponent = pow((1.0 - cosTheta), fresnelSky[2]);\nreturn mix(zenit, horizon, exponent);\n}`),u.uniforms.add(new l(\"lightingSpecularStrength\",(e=>e.lighting.mainLight.specularStrength)),new l(\"lightingEnvironmentStrength\",(e=>e.lighting.mainLight.environmentStrength))),u.code.add(d`vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 viewPosition, vec3 position) {\nfloat reflectionHit = 0.0;\nfloat reflectionHitDiffused = 0.0;\nvec3 seaWaterColor = linearizeGamma(color);\nvec3 h = normalize(l + v);\nshadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);\nshadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);\nshadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);\nshadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);\nshadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);\nfloat upDotV = max(dot(localUp,v), 0.0);\nvec3 skyHorizon = linearizeGamma(skyColor);\nvec3 skyZenit = linearizeGamma(skyZenitColor);\nvec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );\nfloat upDotL = max(dot(localUp,l),0.0);\nfloat daytimeMod = 0.1 + upDotL * 0.9;\nskyColor *= daytimeMod;\nfloat shadowModifier = clamp(shadow, 0.8, 1.0);\nvec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);\nvec3 reflSky = lightingEnvironmentStrength * fresnelModifier * skyColor * shadowModifier;\nvec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;\nvec3 specular = vec3(0.0);\nif(upDotV > 0.0 && upDotL > 0.0) {\nvec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);\nvec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;\nfloat NdotL = clamp(dot(n, l), 0.0, 1.0);\nspecular = lightingSpecularStrength * NdotL * incidentLight * specularSun;\n}\nvec3 foam = vec3(0.0);\nif(upDotV > 0.0) {\nfoam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);\n}\nfloat correctionViewingFactor = pow(max(dot(v, localUp), 0.0), correctionViewingPowerFactor);\nvec3 normalCorrectedClouds = mix(localUp, n, correctionViewingFactor);\nvec3 reflectedWorld = normalize(reflect(-v, normalCorrectedClouds));`),v.cloudReflections&&u.uniforms.add(new l(\"cloudsOpacity\",(e=>e.clouds.opacity))).code.add(d`vec4 cloudsColor = renderClouds(reflectedWorld, position);\ncloudsColor.a = 1.0 - cloudsColor.a;\ncloudsColor = pow(cloudsColor, vec4(GAMMA));\ncloudsColor *= clamp(fresnelModifier.y * cloudFresnelModifier[0] - cloudFresnelModifier[1], 0.0, 1.0) * cloudsOpacity;`),v.screenSpaceReflections?u.uniforms.add(new c(\"view\",(e=>e.camera.viewMatrix)),new s(\"lastFrameColorTexture\",(e=>e.ssr.lastFrameColor?.getTexture())),new l(\"fadeFactorSSR\",(e=>e.ssr.fadeFactor))).code.add(d`vec3 viewDir = normalize(viewPosition);\nvec4 viewNormalVectorCoordinate = view * vec4(n, 0.0);\nvec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);\nvec4 viewUp = view * vec4(localUp, 0.0);\nvec3 viewNormalCorrectedSSR = mix(viewUp.xyz, viewNormal, correctionViewingFactor);\nvec3 reflected = normalize(reflect(viewDir, viewNormalCorrectedSSR));\nvec3 hitCoordinate = screenSpaceIntersection(reflected, viewPosition, viewDir, viewUp.xyz);\nvec3 reflectedColor = vec3(0.0);\nif (hitCoordinate.z > 0.0)\n{\nvec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);\nvec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));\nfloat heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -viewPosition.z);\nreflectionHit = clamp(1.0 - (1.3 * dCoords.y), 0.0, 1.0) * heightMod * fadeFactorSSR;\nreflectionHitDiffused = waterDiffusion * reflectionHit;\nreflectedColor = linearizeGamma(texture(lastFrameColorTexture, reprojectedCoordinate).xyz) *\nreflectionHitDiffused * fresnelModifier.y * ssrIntensity;\n}\nfloat seaColorMod =  mix(waterSeaColorMod, waterSeaColorMod * 0.5, reflectionHitDiffused);\nvec3 waterRenderedColor = tonemapACES((1.0 - reflectionHitDiffused) * reflSky + reflectedColor +\nreflSea * seaColorMod + specular + foam);`):u.code.add(d`vec3 waterRenderedColor = tonemapACES(reflSky + reflSea * waterSeaColorMod + specular + foam);`),v.cloudReflections?v.screenSpaceReflections?u.code.add(d`return waterRenderedColor * (1.0 - (1.0 - reflectionHit) * cloudsColor.a) + (1.0 - reflectionHit) * cloudsColor.xyz;\n}`):u.code.add(d`return waterRenderedColor * (1.0 - cloudsColor.a) + cloudsColor.xyz;\n}`):u.code.add(d`return waterRenderedColor;\n}`)}export{m as Water};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{VertexAttribute as e}from\"./VertexAttribute.js\";import{DataType as r}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as t}from\"../../../webgl/VertexElementDescriptor.js\";const O=[],o=[new t(e.POSITION,3,r.FLOAT,0,12)],m=[new t(e.POSITION,2,r.FLOAT,0,8)],n=[new t(e.POSITION,2,r.FLOAT,0,16),new t(e.UV0,2,r.FLOAT,8,16)];export{O as NoVertex,m as Pos2,n as Pos2Tex,o as Pos3};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar E,I;!function(E){E[E.ADD=0]=\"ADD\",E[E.UPDATE=1]=\"UPDATE\",E[E.REMOVE=2]=\"REMOVE\"}(E||(E={})),function(E){E[E.NONE=0]=\"NONE\",E[E.VISIBILITY=1]=\"VISIBILITY\",E[E.GEOMETRY=2]=\"GEOMETRY\",E[E.TRANSFORMATION=4]=\"TRANSFORMATION\",E[E.HIGHLIGHT=8]=\"HIGHLIGHT\",E[E.OCCLUDEE=16]=\"OCCLUDEE\"}(I||(I={}));export{E as DirtyOperation,I as DirtyState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{generateUID as t}from\"../../../../core/uid.js\";import{copy as r,multiply as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as e}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as s}from\"../../../../chunks/vec32.js\";import{N as o,c as n,a as h}from\"../../../../chunks/sphere.js\";import{maxScale as a}from\"../../support/mathUtils.js\";class g{constructor(r,i={}){this.geometry=r,this.screenToWorldRatio=1,this._transformation=e(),this._shaderTransformation=null,this._boundingSphere=null,this.id=t(),this.layerUid=i.layerUid,this.graphicUid=i.graphicUid,this.castShadow=i.castShadow??!1,i.objectShaderTransformation&&this.objectShaderTransformationChanged(i.objectShaderTransformation)}get transformation(){return this._transformation}set transformation(t){r(this._transformation,t),this._boundingSphere=null}get boundingInfo(){return this.geometry.boundingInfo}objectShaderTransformationChanged(t){null==t?this._shaderTransformation=null:(this._shaderTransformation??=e(),i(this._shaderTransformation,t,this.geometry.transformation)),this._boundingSphere=null}get boundingSphere(){return this.boundingInfo?(null==this._boundingSphere&&(this._boundingSphere??=n(),s(h(this._boundingSphere),this.boundingInfo.center,this.shaderTransformation),this._boundingSphere[3]=this.boundingInfo.radius*a(this.shaderTransformation)),this._boundingSphere):o}get material(){return this.geometry.material}get type(){return this.geometry.type}get shaderTransformation(){return this._shaderTransformation??this.transformation}get attributes(){return this.geometry.attributes}get highlight(){return this.geometry.highlights}foreachHighlightOptions(t){this.geometry.foreachHighlightOptions(t)}get hasHighlights(){return this.geometry.hasHighlights}get occludees(){return this.geometry.occludees}get visible(){return this.geometry.visible}set visible(t){this.geometry.visible=t}}class m extends g{}export{g as RenderGeometry,m as ValidatedRenderGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ZEROS as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{isColorOrColorEmission as r,ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as s}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as l}from\"../lib/OITPass.js\";import{blending as o,oitDepthTest as n,depthWrite as a,getDrawBuffers as c,getOITPolygonOffset as p}from\"../lib/OrderIndependentTransparency.js\";import{stencilWriteMaskOn as u,stencilToolMaskBaseParams as m,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{VisualVariablePassParameters as d}from\"../materials/VisualVariablePassParameters.js\";import{C as h}from\"../../../../chunks/ColorMaterial.glsl.js\";import{SpecialDrawBuffers as b}from\"../../../webgl/enums.js\";import{makePipelineState as j,cullingParams as P,defaultColorWrite as g}from\"../../../webgl/renderState.js\";class O extends d{constructor(){super(...arguments),this.color=e}}class S extends i{constructor(e,r){super(e,r,new s(h,(()=>import(\"./ColorMaterial.glsl.js\"))))}_createPipeline(e,s){const{oitPass:i,output:d,transparent:h,cullFace:O,draped:S,hasOccludees:_,polygonOffset:w,enableOffset:x}=e,y=i===l.NONE,N=i===l.FrontFace;return j({blending:r(d)&&h?o(i):null,culling:P(O),depthTest:S?null:{func:n(i)},depthWrite:a(e),drawBuffers:d===t.Depth?{buffers:[b.NONE]}:c(i,d),colorWrite:g,stencilWrite:_?u:null,stencilTest:_?s?m:f:null,polygonOffset:y||N?w?T:null:p(x)})}initializePipeline(e){return this._occludeePipelineState=this._createPipeline(e,!0),this._createPipeline(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}const T={factor:1,units:1};export{O as ColorMaterialPassParameters,S as ColorMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as e}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends i{constructor(){super(...arguments),this.cullFace=s.None,this.hasVertexColors=!1,this.transparent=!1,this.discardInvisibleFragments=!1,this.polygonOffset=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.objectAndLayerIdColorInstanced=!1,this.vvColor=!1,this.draped=!1,this.textureCoordinateType=e.None,this.emissionSource=o.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.vvSize=!1,this.vvOpacity=!1}}t([r({count:s.COUNT})],a.prototype,\"cullFace\",void 0),t([r()],a.prototype,\"hasVertexColors\",void 0),t([r()],a.prototype,\"transparent\",void 0),t([r()],a.prototype,\"discardInvisibleFragments\",void 0),t([r()],a.prototype,\"polygonOffset\",void 0),t([r()],a.prototype,\"enableOffset\",void 0),t([r()],a.prototype,\"writeDepth\",void 0),t([r()],a.prototype,\"hasOccludees\",void 0),t([r()],a.prototype,\"terrainDepthTest\",void 0),t([r()],a.prototype,\"cullAboveTerrain\",void 0),t([r()],a.prototype,\"objectAndLayerIdColorInstanced\",void 0),t([r()],a.prototype,\"vvColor\",void 0),t([r()],a.prototype,\"draped\",void 0);export{a as ColorMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ZEROS as t}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newLayout as r}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmissionOrOID as e,isDepth as s,is2DGeometryOutput as i,isColorOrColorEmission as a,ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{olidEnabled as n}from\"../effects/geometry/olidUtils.js\";import{CullFaceOptions as h}from\"../lib/basicInterfaces.js\";import p from\"../lib/GLMaterial.js\";import{OITPolygonOffsetLimit as l}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as f}from\"./DefaultBufferWriter.js\";import{TriangleMaterial as m}from\"./TriangleMaterial.js\";import{VisualVariablePassParameters as _}from\"./VisualVariablePassParameters.js\";import{ColorMaterialTechnique as g}from\"../shaders/ColorMaterialTechnique.js\";import{ColorMaterialTechniqueConfiguration as T}from\"../shaders/ColorMaterialTechniqueConfiguration.js\";import{alphaCutoff as O}from\"../../../../webscene/support/AlphaCutoff.js\";class A extends m{constructor(t){super(t,P),this._configuration=new T,this.supportsEdges=!0,this.produces=new Map([[u.OPAQUE_MATERIAL,t=>this._isOpaqueMaterialPass(t)],[u.OPAQUE_MATERIAL_WITHOUT_NORMALS,t=>this._isOpaqueNoSSAODepthPass(t)],[u.TRANSPARENT_MATERIAL,t=>e(t)&&this._transparent&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_NORMALS,t=>s(t)&&this._transparent&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,t=>e(t)&&this._transparent&&!this.parameters.writeDepth],[u.DRAPED_MATERIAL,t=>i(t)]])}getConfiguration(t,r){return this._configuration.output=t,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._transparent,this._configuration.discardInvisibleFragments=this._transparent&&!this._isOpaquePass(t)&&this.parameters.discardInvisibleFragments,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=r.hasOccludees,this._configuration.oitPass=r.oitPass,this._configuration.enableOffset=r.camera.relativeElevation<l,this._configuration.terrainDepthTest=r.terrainDepthTest&&a(t),this._configuration.cullAboveTerrain=r.cullAboveTerrain,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.draped=this.parameters.draped,this._configuration}get visible(){return this.parameters.color[3]>=O}get _transparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}_isOpaquePass(t){return this._isOpaqueMaterialPass(t)||this._isOpaqueNoSSAODepthPass(t)}_isOpaqueMaterialPass(t){return t===o.Highlight||e(t)&&!this._transparent}_isOpaqueNoSSAODepthPass(t){return s(t)&&this.parameters.writeDepth&&!this._transparent}createGLMaterial(t){return new d(t)}createBufferWriter(){const t=r().vec3f(c.POSITION);return n()&&t.vec4u8(c.OBJECTANDLAYERIDCOLOR),this.parameters.vvColor?t.f32(c.COLORFEATUREATTRIBUTE):t.vec4u8(c.COLOR),new f(t)}}class d extends p{beginSlot(t){return this.getTechnique(g,t)}}class P extends _{constructor(){super(...arguments),this.color=t,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=h.None,this.draped=!1,this.discardInvisibleFragments=!1}}export{A as ColorMaterial,P as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const t=e().vec3f(O.POSITION),f=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec4u8(O.COLOR),I=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OBJECTANDLAYERIDCOLOR);export{r as PositionColorLayout,t as PositionLayout,f as PositionUVLayout,I as PositionUVLayoutObjectAndLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as t}from\"../lib/RayIntersections.js\";class e extends r{intersect(r,e,i,s,o,n){return t(r,i,s,o,void 0,n)}}export{e as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst t={dash:[4,3],dot:[1,3],\"long-dash\":[8,3],\"short-dash\":[4,1],\"short-dot\":[1,1]},o={dash:t.dash,\"dash-dot\":[...t.dash,...t.dot],dot:t.dot,\"long-dash\":t[\"long-dash\"],\"long-dash-dot\":[...t[\"long-dash\"],...t.dot],\"long-dash-dot-dot\":[...t[\"long-dash\"],...t.dot,...t.dot],none:null,\"short-dash\":t[\"short-dash\"],\"short-dash-dot\":[...t[\"short-dash\"],...t[\"short-dot\"]],\"short-dash-dot-dot\":[...t[\"short-dash\"],...t[\"short-dot\"],...t[\"short-dot\"]],\"short-dot\":t[\"short-dot\"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return\"style\"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}export{h as createStipplePatternSimple,n as getStipplePatternForLinePattern,l as getStipplePatternForPatternStyle};\n"],"names":["c","m","b","vertex","u","fragment","w","attributes","p","varyings","f","vvColor","h","hasVertexColors","C","d","include","r","i","s","o","e","v","l","add","g","POSITION","COLORFEATUREATTRIBUTE","uniforms","n","color","main","a","t","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","highlightTexture","highlightOptionsTexture","pixelRatio","occludedFactor","highlights","length","constants","code","outputs","input","Math","ceil","HighlightDownsampleDrawParameters","blurSize","gridCellPixelSize","outlineSize","highlightLevel","constructor","super","arguments","this","overlayIndex","INNER","opacity","texture","OverlayCompositingPassParameters","singleHighlightBlurTexture","blurInput","SingleHighlightBlurDrawParameters","TextureOnlyPassParameters","_outer","Map","clear","empty","size","get","getInner","set","delete","forEach","forAll","values","EnableFastUpdates","DisableFastUpdates","UpdateFastLocalOrigin","style","type","x","y","src","width","height","url","xscale","yscale","xoffset","yoffset","Promise","resolve","responseType","then","data","naturalWidth","naturalHeight","document","createElement","getContext","fillStyle","fillRect","globalCompositeOperation","drawImage","toDataURL","put","outline","cap","join","miterLimit","dashArray","split","map","Number","has","entries","max","replaceAll","symbolLayers","at","some","resource","href","material","toRgba","j","async","k","S","z","E","R","resourceSize","symbolSize","computeObjectLayerResourceSize","depth","O","U","L","D","font","J","tilt","roll","heading","angle","M","effects","filter","toJSON","N","running","Idle","Rendering","Ready","Fading","RG","BA","COUNT","A","startTime","_data","_readChannels","parallax","parallaxNew","_anchorPoint","_","_fadeState","HIDE","_fadeFactor","readChannels","fadeState","fadeFactor","FADE_OUT","FADE_IN","SHOW","CROSS_FADE","fade","isFading","H","_endFade","_evaluateState","_updateParallax","relativeElevation","_updateAnchorPoint","P","I","_startFade","state","eye","radiusCurvatureCorrection","sqrt","radius","anchorPoint","transform","requestFade","_switchReadChannels","F","cloudCover","clone","cloudy","json","write","isRequired","prototype","nonNullable","range","min","fogStrength","foggy","precipitation","rainy","snowCover","snowy","sunny","key","base","typeMap","keys","mapPositions","attributeData","position","removeDuplicateStartEnd","Array","slice","push","indices","colorFeature","COLOR","sizeFeature","SIZE","normal","NORMAL","T","SIZEFEATUREATTRIBUTE","opacityFeature","OPACITYFEATUREATTRIBUTE","overlayInfo","renderCoordsHelper","viewingMode","Global","spatialReference","isGeographic","DISTANCETOSTART","Line","CCW_IS_HOLE","NONE","rings","paths","outlines","hasZ","lines","projectionSuccess","sampledElevation","index","count","_extent","resolution","renderLocalOrigin","mapUnitsPerPixel","canvasGeometries","extent","setupGeometryViewsCyclical","setupGeometryView","extents","numViews","hasSomeSizedView","Color","ColorNoRasterImage","Highlight","WaterNormal","Occluded","ObjectAndLayerIdColor","_fbos","_format","_name","valid","_handle","getTexture","dispose","bind","fbo","release","acquire","bindFramebuffer","generateMipMap","descriptor","hasMipmap","generateMipmap","RGBA_MIPMAP","output","content","targets","Normal","RGBA","computeValidity","reduce","Material","ShadowMap","ViewshedShadowMap","Disabled","Enabled","EnabledWithWater","initializePipeline","blending","colorWrite","verticalCellCount","horizontalCellCount","produces","HIGHLIGHTS","consumes","required","_useMultipleHighlights","_downsampleDrawParameters","_passParameters","_singleHighlightBlurDrawParameters","_grid","initialize","addHandles","_updateOptionsTexture","destroy","coverage","vao","internalFormat","q","samplingMode","NEAREST","renderingContext","setData","Uint8Array","haloColor","fillOpacity","haloOpacity","view","requestRender","UPDATE","precompile","techniques","render","find","name","bindParameters","decorations","compiled","_gridUpdateResources","_gridComputeCoverage","coverageTexture","bindVAO","drawElementsInstanced","TRIANGLES","UNSIGNED_BYTE","camera","setViewport4fv","fullViewport","_renderMultiple","_renderSingle","bindTechnique","fboCache","fullWidth","fullHeight","_stage","renderView","renderer","hasHighlightOptions","setClearColor","setViewport","unbindTexture","colorTexture","createIndex","STATIC_DRAW","createVertex","screen","draw","test","viewportWidth","viewportHeight","G","_textures","_techniques","materialChanged","_id2glMaterialRef","_ownMaterial","id","createGLMaterial","textures","ref","glMaterial","unref","referenced","repository","getLogger","error","_refCnt","Immediate","FadeWithWeather","shadowMap","slot","OPAQUE_MATERIAL","slicePlane","hasOccludees","enableFillLights","oitPass","alignPixelEnabled","overlayStretch","viewshedEnabled","_camera","_inverseViewport","_oldLighting","_newLighting","_fadedLighting","_lighting","ssr","terrainDepthTest","cullAboveTerrain","highlightOrderMap","highlightMixOrigin","highlightMixTexture","hudRenderStyle","hudOccludedFragmentOpacity","clouds","shadowHighlightsVisible","inverseViewport","lighting","fadeLighting","lerpLighting","copyFrom","updateLighting","noonFactor","globalFactor","highlight","reprojectionMatrix","rctx","lastFrameCamera","renderOccludedMask","Occlude","OccludeAndTransparent","OccludeAndTransparentStencil","_projectionMatrix","projectionMatrix","readOnly","ExcludeHighlight","lightMat","maxNumCascadesHighQuality","maxNumCascadesLowQuality","textureSizeModHighQuality","textureSizeModLowQuality","splitSchemeLambda","X","_viewingMode","_enabled","_snapshots","_textureHeight","_numCascades","settings","_projectionView","_projectionViewInverse","_modelViewLight","_cascadeDistances","_usedCascadeDistances","_cascades","_lastOrigin","_maxTextureWidth","parameters","maxTextureSize","enabled","disposeOffscreenBuffers","depthTexture","_textureWidth","numCascades","cascadeDistances","_discardSnapshots","maxCascades","floor","ready","cascades","it","start","V","near","far","Tt","_computeCascadeDistances","_computeTextureHeight","_setupMatrices","viewMatrix","_constructCascade","finish","detachDepth","getShadowMapMatrices","rt","moveSnapshot","copySnapshot","RGBA4","_bindFbo","bindTexture","TEXTURE_UNIT_FOR_UPDATES","gl","copyTexSubImage2D","TEXTURE_2D","getSnapshot","_ensureFbo","W","DEPTH","window","devicePixelRatio","Q","acquireDepth","DEPTH16_BUFFER","_discardSnapshot","abs","K","et","sin","ht","ot","nt","ct","lt","dt","mt","ut","_t","ft","B","gt","Y","Z","$","tt","st","wt","Mt","pt","bt","Ct","jt","viewport","yt","concat","xt","hasAlpha","_overlays","_renderTargets","_overlayParameters","hasHighlights","_hasWater","_renderers","_sortedDrapeSourceRenderersDirty","_sortedRenderers","_materials","_screenToWorldRatio","_localOriginFactory","unloadedMemory","ignoresMemoryFactor","events","longitudeCyclical","DRAPED_MATERIAL","DRAPED_WATER","_hasTargetWithoutRasterImage","_hasDrapedFeatureSource","_hasDrapedRasterSource","_view","waterTextures","_renderContext","_rctx","updating","emit","allLayerViews","shadowOpacity","shadowDifference","shadowColor","_bindParameters","_updateHighlights","resourceController","scheduler","registerTask","STAGE","notifyChange","mainDepth","disposeOverlays","parent","materials","screenToWorldRatio","localOriginFactory","pluginContext","_pluginContext","initializeRenderContext","uninitializeRenderContext","acquireTechniques","hasOverlays","getMaterialRenderer","layers","_updateSortedDrapeSourceRenderers","drapeSource","layer","updateHighlights","createDrapeSourceRenderer","rendererContext","fullOpacity","removeDrapeSourceRenderer","removeHandles","releaseRenderTargets","overlays","ensureDrapeTargets","drapeTargetType","WithoutRasterImage","ensureDrapeSources","drapeSourceType","Features","RasterImage","_needsColorWithoutRasterImage","ensureOverlays","runTask","_processDrapeSources","done","destroyed","commitChanges","madeProgress","processSyncDrapeSources","updatePolicy","SYNC","isEmpty","OVERLAY_DRAW_DEBUG_TEXTURE","hasWater","rendersOccludedDraped","se","precompiling","renders","mode","updateAnimation","BACKGROUND","updateDrapeSourceOrder","precompileShaders","drawOverlays","_drawTarget","OUTER","contentPixelRatio","screenToPCSRatio","worldToPCSRatio","_bindTargetFBO","ie","_setViewParameters","_ensureDebugPatternResources","re","_resolution","getBoundFramebufferObject","clearFramebuffer","_renderAllGeometry","_bindTemporaryFBO","notifyContentChanged","intersect","allLayers","indexOf","renderGroup","MapLayer","ViewLayer","ee","sort","constructOnly","Boolean","te","REGULAR","HAS_NORTH_POLE","HAS_SOUTH_POLE","HAS_BOTH_POLES","FADING","IMMEDIATE","UNFADED","Pass","setUniform2iv","float","screenSpaceReflections","nearFar","attachment","highStepCount","Bind","cubeMap","cloudReflections","mainLight","specularStrength","environmentStrength","lastFrameColor","FLOAT","UV0","ADD","REMOVE","VISIBILITY","GEOMETRY","TRANSFORMATION","HIGHLIGHT","OCCLUDEE","geometry","_transformation","_shaderTransformation","_boundingSphere","layerUid","graphicUid","castShadow","objectShaderTransformation","objectShaderTransformationChanged","transformation","boundingInfo","boundingSphere","center","shaderTransformation","foreachHighlightOptions","occludees","visible","_createPipeline","transparent","cullFace","draped","polygonOffset","enableOffset","FrontFace","culling","depthTest","func","depthWrite","drawBuffers","Depth","buffers","stencilWrite","stencilTest","_occludeePipelineState","getPipeline","factor","units","None","discardInvisibleFragments","writeDepth","objectAndLayerIdColorInstanced","textureCoordinateType","emissionSource","occlusionPass","hasVvInstancing","vvSize","vvOpacity","_configuration","supportsEdges","_isOpaqueMaterialPass","OPAQUE_MATERIAL_WITHOUT_NORMALS","_isOpaqueNoSSAODepthPass","TRANSPARENT_MATERIAL","_transparent","TRANSPARENT_MATERIAL_WITHOUT_NORMALS","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","getConfiguration","hasSlicePlane","_isOpaquePass","forceTransparentMode","createBufferWriter","vec3f","vec4u8","OBJECTANDLAYERIDCOLOR","f32","beginSlot","getTechnique","vec2f","dash","dot","none","solid","pattern"],"sourceRoot":""}