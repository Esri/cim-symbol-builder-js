{"version":3,"file":"static/js/60540.900a3315.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/lumina/dist/proxyExports-Cdzj7WL_.js","../node_modules/@arcgis/lumina/dist/controllers/index.js","../node_modules/@esri/calcite-components/dist/chunks/Validation.js","../node_modules/@esri/calcite-components/dist/chunks/XButton.js","../node_modules/@esri/calcite-components/dist/chunks/component.js","../node_modules/@esri/calcite-components/dist/chunks/core.js","../node_modules/@esri/calcite-components/dist/chunks/form.js","../node_modules/@esri/calcite-components/dist/chunks/interactive.js","../node_modules/@esri/calcite-components/dist/chunks/label.js","../node_modules/@esri/calcite-components/dist/chunks/logger.js","../node_modules/@esri/calcite-components/dist/chunks/observers.js","../node_modules/@esri/calcite-components/dist/chunks/openCloseComponent.js","../node_modules/@esri/calcite-components/dist/chunks/useT9n.js","../node_modules/@esri/calcite-components/dist/chunks/utils3.js","../node_modules/@esri/calcite-components/dist/components/calcite-combobox/customElement.js","../node_modules/lit-html/src/directives/keyed.ts"],"sourcesContent":["import { d as setParentController, e as retrieveParentControllers, o as setAmbientChildController, t as trackKey, h as bypassReadOnly } from \"./Controller-BQOv8BAL.js\";\nconst proxyExports = (Class) => (...args) => {\n  const ambientControllers = retrieveParentControllers();\n  const instance = new Class(...args);\n  const initialExports = instance.exports;\n  setParentController(ambientControllers.at(-1));\n  const manager = instance.component.manager;\n  manager.W(instance, initialExports);\n  instance.watchExports(manager.W.bind(manager, instance));\n  setAmbientChildController(instance);\n  const hostCandidates = [instance.component, ...ambientControllers].reverse();\n  return trackKey(\n    hostCandidates,\n    (resolution) => resolution === void 0 ? void 0 : setProxy(instance, resolution, initialExports),\n    initialExports\n  );\n};\nconst setProxy = (controller, { host, key, isReactive: assignedToProp }, initialExports) => {\n  const genericHost = host;\n  const controllerValueChanged = genericHost[key] !== controller.exports;\n  const hostValueChanged = genericHost[key] !== initialExports;\n  const controllerUpdatedExports = initialExports !== controller.exports;\n  if (controllerValueChanged && !hostValueChanged && controllerUpdatedExports) {\n    genericHost[key] = controller.exports;\n  }\n  const isProxyExportsOnComponent = host === controller.component;\n  if (isProxyExportsOnComponent) {\n    if (assignedToProp) {\n      const manager = controller.component.manager;\n      if (hostValueChanged) {\n        manager.W(controller, genericHost[key]);\n      }\n      controller.onUpdate((changes) => {\n        if (changes.has(key)) {\n          const value = genericHost[key];\n          if (value !== controller.exports) {\n            manager.W(controller, value);\n          }\n        }\n      });\n    }\n    controller.O = assignedToProp ? void 0 : key;\n  }\n  const isReadOnly = controller.component.constructor.elementProperties.get(key)?.readOnly;\n  controller.watchExports(() => {\n    if (genericHost[key] === controller.exports) {\n      return;\n    }\n    if (isReadOnly) {\n      bypassReadOnly(() => {\n        genericHost[key] = controller.exports;\n      });\n    } else {\n      genericHost[key] = controller.exports;\n    }\n  });\n};\nexport {\n  proxyExports as p\n};\n","import { C as Controller, s as setAmbientComponent, i as isPromise, d as setParentController, e as retrieveParentControllers, t as trackKey, r as retrieveComponent, f as createEventFactory } from \"../Controller-BQOv8BAL.js\";\nimport { G, h, g, c, n, m, k, l, j } from \"../Controller-BQOv8BAL.js\";\nimport { p as proxyExports } from \"../proxyExports-Cdzj7WL_.js\";\nimport { isServer } from \"lit\";\nimport { observeAncestorsMutation, isEsriInternalEnv, getElementAttribute, getElementLocales, startLocaleObserver } from \"@arcgis/components-utils\";\nconst makeController = (constructor) => proxy(void 0, constructor);\nconst makeGenericController = (constructor) => (component) => proxy(\n  component,\n  /**\n   * GenericController is identical to Controller, in all except for typing.\n   * So dying a type-cast here so as not to needlessly add one more object\n   * to the prototype chain\n   */\n  constructor\n);\nclass FunctionalController extends Controller {\n  constructor(component, constructor) {\n    super(component);\n    const originalExports = this.exports;\n    try {\n      setAmbientComponent(this.component);\n      const value = constructor(this.component, this);\n      const constructorChangedExports = this.exports !== originalExports;\n      if (isPromise(value)) {\n        if (!constructorChangedExports) {\n          this.setProvisionalExports(value);\n        }\n        const resolved = value.then((result) => {\n          this.exports = result;\n          super.catchUpLifecycle();\n        }).catch((error) => {\n          this.P.reject(error);\n          console.error(error);\n        });\n        this.onLoad(async () => await resolved);\n      } else {\n        if (!constructorChangedExports || value !== void 0) {\n          this.exports = value;\n        }\n        queueMicrotask(() => super.catchUpLifecycle());\n      }\n    } catch (error) {\n      this.P.reject(error);\n      console.error(error);\n    }\n  }\n  /** Noop - will be called in the constructor instead */\n  catchUpLifecycle() {\n    return;\n  }\n}\nconst proxy = proxyExports(FunctionalController);\nconst useWatchAttributes = (attributes, callback) => new AttributeWatchController(attributes, callback);\nclass AttributeWatchController extends Controller {\n  #observer;\n  #attributes;\n  #callback;\n  constructor(attributes, callback) {\n    super();\n    if (isServer) {\n      return;\n    }\n    this.#attributes = attributes;\n    this.#callback = callback;\n    this.#observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        if (attributes.includes(mutation.attributeName)) {\n          callback.call(\n            this.component,\n            this.component.el.getAttribute(mutation.attributeName),\n            mutation.oldValue,\n            mutation.attributeName\n          );\n        }\n      });\n    });\n  }\n  hostConnected() {\n    this.#attributes.forEach((attribute) => {\n      if (this.component.el.hasAttribute(attribute)) {\n        this.#callback.call(this.component, null, this.component.el.getAttribute(attribute), attribute);\n      }\n    });\n    this.#observer.observe(this.component.el, {\n      attributes: true,\n      attributeOldValue: true,\n      attributeFilter: this.#attributes\n    });\n  }\n  hostDisconnected() {\n    this.#observer.disconnect();\n  }\n}\nconst load = makeController;\nconst toFunction = (Class) => (...args) => {\n  const ambientControllers = retrieveParentControllers();\n  const instance = new Class(...args);\n  setParentController(ambientControllers.at(-1));\n  return instance;\n};\nconst useMedia = (query) => makeController((_component, controller) => {\n  const media = globalThis.matchMedia(query);\n  const changed = () => {\n    controller.exports = media.matches;\n  };\n  changed();\n  controller.onLifecycle(() => {\n    media.addEventListener(\"change\", changed);\n    return () => media.removeEventListener(\"change\", changed);\n  });\n  return void 0;\n});\nconst defaultDirection = \"ltr\";\nconst useDirection = () => makeController((component, controller) => {\n  controller.exports = defaultDirection;\n  controller.onLifecycle(() => {\n    const callback = () => {\n      const dir = getElementAttribute(component.el, \"dir\", defaultDirection);\n      controller.exports = dir === \"rtl\" ? \"rtl\" : \"ltr\";\n    };\n    callback();\n    return observeAncestorsMutation(component.el, [\"dir\"], callback);\n  });\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n    trackKey(\n      component,\n      (resolved) => {\n        if (resolved?.key === \"dir\") {\n          throw new Error(\n            `Do not assign this controller to a prop called \\`dir\\` as that will overwrite the \\`dir\\` attribute on the host element - component should not be setting the \\`dir\\` attribute on itself. Instead, assign this controller to a property called \\`direction\\`.`\n          );\n        }\n      },\n      controller.exports\n    );\n  }\n  return void 0;\n});\nconst makeT9nController = (getAssetPath) => (options = {}) => (\n  // eslint-disable-next-line @typescript-eslint/promise-function-async\n  makeController((component, controller) => {\n    const locale = getElementLocales(component.el);\n    const pending = { [\"_lang\"]: locale.lang, [\"_t9nLocale\"]: locale.t9nLocale, [\"_loading\"]: true };\n    const componentWithOverrides = component;\n    controller.onLifecycle(\n      () => startLocaleObserver(\n        component.el,\n        () => getAssetPath(\"./assets\"),\n        ({ t9nLocale, t9nStrings, lang }) => {\n          const withoutOverrides = {\n            ...t9nStrings,\n            [\"_lang\"]: lang,\n            [\"_t9nLocale\"]: t9nLocale,\n            [\"_loading\"]: false\n          };\n          controller.exports = withoutOverrides;\n          const label = t9nStrings.componentLabel;\n          if (typeof label === \"string\" && \"label\" in component && component.label == null) {\n            component.label ??= label;\n          }\n          applyOverrides(componentWithOverrides.messageOverrides);\n        },\n        options.name\n      )\n    );\n    const applyOverrides = (messageOverrides) => {\n      const currentValue = controller.exports;\n      const rawMessages = currentValue[\"_original\"] ?? currentValue;\n      const updated = deepMerge(rawMessages, messageOverrides);\n      if (messageOverrides) {\n        updated[\"_original\"] = rawMessages;\n      }\n      controller.exports = updated;\n    };\n    if (\"messageOverrides\" in componentWithOverrides) {\n      controller.onUpdate((changes) => {\n        if (changes.has(\"messageOverrides\")) {\n          applyOverrides(componentWithOverrides.messageOverrides);\n        }\n      });\n    }\n    if (options.blocking) {\n      controller.setProvisionalExports(pending, false);\n      return controller.ready;\n    } else {\n      return pending;\n    }\n  })\n);\nconst deepMerge = (original, overwrites) => {\n  if (!overwrites) {\n    return original;\n  }\n  const merged = { ...original };\n  Object.entries(overwrites).forEach(([key, value]) => {\n    if (typeof value === \"object\") {\n      merged[key] = deepMerge(original[key], value);\n    } else {\n      merged[key] = value ?? original[key];\n    }\n  });\n  return merged;\n};\nconst usePropertyChange = (_component) => propertyChangeController;\nconst eventName = \"arcgisPropertyChange\";\nconst propertyChangeController = (...toWatch) => {\n  const component = retrieveComponent();\n  const eventEmitter = createEventFactory(eventName, void 0, component);\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n    toWatch.forEach((prop) => {\n      const descriptor = component.constructor.elementProperties.get(prop);\n      const isProp = descriptor !== void 0 && descriptor.state !== true;\n      if (!isProp) {\n        throw new Error(\n          `For usePropertyChange to emit event on \"${prop}\" property change, you should add @property() to ${prop} in ${component.el.localName}`\n        );\n      }\n    });\n  }\n  let isFirst = true;\n  component.manager.onUpdated((changes) => {\n    if (isFirst || !component.el.isConnected) {\n      isFirst = false;\n      return;\n    }\n    for (const name of toWatch) {\n      if (changes.has(name)) {\n        eventEmitter.emit({ name });\n      }\n    }\n  });\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n    trackKey(\n      component,\n      (resolution) => {\n        if (resolution === void 0 || resolution.isReactive || resolution.key !== eventName) {\n          throw new Error(\n            `For consistency, usePropertyChange must be assigned to an arcgisPropertyChange property and that property should not have @property() or @state() decorators: arcgisPropertyChange = usePropertyChange<this>()(\"prop1\", \"prop2\");`\n          );\n        }\n      },\n      eventEmitter\n    );\n  }\n  return eventEmitter;\n};\nexport {\n  Controller,\n  G as GenericController,\n  h as bypassReadOnly,\n  g as bypassSetter,\n  c as controllerSymbol,\n  n as getControllersCount,\n  m as isController,\n  k as keyTrackResolve,\n  load,\n  makeController,\n  makeGenericController,\n  makeT9nController,\n  proxyExports,\n  retrieveComponent,\n  toFunction,\n  trackKey,\n  l as trackPropKey,\n  j as trackPropertyKey,\n  useDirection,\n  useMedia,\n  usePropertyChange,\n  useWatchAttributes\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { ref } from \"lit-html/directives/ref.js\";\nimport { nothing, html } from \"lit-html\";\nimport { safeClassMap } from \"@arcgis/lumina\";\nconst CSS = {\n  validationContainer: \"validation-container\"\n};\nconst validationReference = () => {\n  return;\n};\nconst Validation = ({ scale, status, id, icon, message, ref: ref$1 }) => html`<div class=${safeClassMap(CSS.validationContainer)} ${ref(ref$1 ? ref$1 : validationReference)}><calcite-input-message aria-live=polite .icon=${icon} id=${id ?? nothing} .scale=${scale} .status=${status}>${message}</calcite-input-message></div>`;\nexport {\n  Validation as V\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { ref } from \"lit-html/directives/ref.js\";\nimport { keyed } from \"lit-html/directives/keyed.js\";\nimport { nothing, html } from \"lit-html\";\nimport { safeClassMap } from \"@arcgis/lumina\";\nimport { g as getIconScale } from \"./component.js\";\nconst CSS = {\n  button: \"x-button\",\n  buttonRound: \"x-button--round\"\n};\nconst XButton = ({ disabled, focusable, key, label, onClick, ref: ref$1, round = true, scale, title }) => keyed(key, html`<button .ariaLabel=${label} class=${safeClassMap({\n  [((scale2) => `x-button--${scale2}`)(scale)]: true,\n  [CSS.button]: true,\n  [CSS.buttonRound]: round\n})} .disabled=${disabled} @click=${onClick} .tabIndex=${focusable ? 0 : -1} title=${title ?? nothing} type=button ${ref(ref$1)}><calcite-icon icon=x .scale=${getIconScale(scale)}></calcite-icon></button>`);\nexport {\n  CSS as C,\n  XButton as X\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { l as logger } from \"./logger.js\";\nfunction getIconScale(componentScale) {\n  return componentScale === \"l\" ? \"m\" : \"s\";\n}\nfunction warnIfMissingRequiredProp(component, newProp, deprecatedProp) {\n  if (!component[newProp] && !component[deprecatedProp]) {\n    logger.warn(`[${component.el.localName}] \"${newProp.toString()}\" or \"${deprecatedProp.toString()}\" is required.`);\n  }\n}\nfunction isHidden(el) {\n  return el.hidden || el.itemHidden;\n}\nasync function componentFocusable(component) {\n  await component.componentOnReady();\n  await component.updateComplete;\n}\nexport {\n  componentFocusable as c,\n  getIconScale as g,\n  isHidden as i,\n  warnIfMissingRequiredProp as w\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nconst calciteSize24 = \"24px\";\nconst calciteSize32 = \"32px\";\nconst calciteSize44 = \"44px\";\nconst calciteSize48 = \"48px\";\nexport {\n  calciteSize32 as a,\n  calciteSize44 as b,\n  calciteSize24 as c,\n  calciteSize48 as d\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { html, isServer } from \"lit\";\nimport { q as queryElementRoots, l as closestElementCrossShadowBoundary } from \"./dom.js\";\nconst componentsWithInputEvent = [\n  \"calcite-input\",\n  \"calcite-input-number\",\n  \"calcite-input-text\",\n  \"calcite-text-area\"\n];\nfunction getClearValidationEventName(componentTag) {\n  const componentTagCamelCase = componentTag.split(\"-\").map((part, index) => index === 0 ? part : `${part[0].toUpperCase()}${part.slice(1)}`).join(\"\");\n  const clearValidationEvent = `${componentTagCamelCase}${componentsWithInputEvent.includes(componentTag) ? \"Input\" : \"Change\"}`;\n  return clearValidationEvent;\n}\nconst hiddenFormInputSlotName = \"hidden-form-input\";\nfunction isCheckable(component) {\n  return \"checked\" in component;\n}\nconst onFormResetMap = /* @__PURE__ */ new WeakMap();\nconst formComponentSet = /* @__PURE__ */ new WeakSet();\nfunction hasRegisteredFormComponentParent(form, formComponentEl) {\n  const hasParentComponentWithFormIdSet = closestElementCrossShadowBoundary(formComponentEl.parentElement, \"[form]\");\n  if (hasParentComponentWithFormIdSet) {\n    return true;\n  }\n  const formComponentRegisterEventName = \"calciteInternalFormComponentRegister\";\n  let hasRegisteredFormComponentParent2 = false;\n  form.addEventListener(formComponentRegisterEventName, (event) => {\n    hasRegisteredFormComponentParent2 = event.composedPath().some((element) => formComponentSet.has(element));\n    event.stopPropagation();\n  }, { once: true });\n  formComponentEl.dispatchEvent(new CustomEvent(formComponentRegisterEventName, {\n    bubbles: true,\n    composed: true\n  }));\n  return hasRegisteredFormComponentParent2;\n}\nfunction displayValidationMessage(component, { status, message, icon }) {\n  if (\"status\" in component) {\n    component.status = status;\n  }\n  if (\"validationIcon\" in component && typeof component.validationIcon !== \"string\") {\n    component.validationIcon = icon;\n  }\n  if (\"validationMessage\" in component && !component.validationMessage) {\n    component.validationMessage = message;\n  }\n}\nfunction getValidationComponent(el) {\n  if (el.nodeName === \"CALCITE-RADIO-BUTTON\") {\n    return closestElementCrossShadowBoundary(el, \"calcite-radio-button-group\");\n  }\n  return el;\n}\nconst invalidEvent = new CustomEvent(\"calciteInvalid\", { bubbles: true, composed: true });\nfunction invalidHandler(event) {\n  const hiddenInput = event?.target;\n  const hiddenInputMessage = hiddenInput?.validationMessage;\n  const formComponent = getValidationComponent(hiddenInput?.parentElement);\n  if (!formComponent) {\n    return;\n  }\n  const componentTag = formComponent?.nodeName?.toLowerCase();\n  const componentTagParts = componentTag?.split(\"-\");\n  if (componentTagParts.length < 2 || componentTagParts[0] !== \"calcite\") {\n    return;\n  }\n  event?.preventDefault();\n  if (\"validity\" in formComponent) {\n    formComponent.validity = hiddenInput?.validity;\n  }\n  formComponent.dispatchEvent(invalidEvent);\n  displayValidationMessage(formComponent, {\n    message: hiddenInputMessage,\n    icon: true,\n    status: \"invalid\"\n  });\n  const clearValidationEvent = getClearValidationEventName(componentTag);\n  formComponent.addEventListener(clearValidationEvent, () => {\n    if (\"status\" in formComponent) {\n      formComponent.status = \"idle\";\n    }\n    if (\"validationIcon\" in formComponent && (formComponent.validationIcon === \"\" || formComponent.validationIcon === true)) {\n      formComponent.validationIcon = false;\n    }\n    if (\"validationMessage\" in formComponent && formComponent.validationMessage === hiddenInputMessage) {\n      formComponent.validationMessage = \"\";\n    }\n    if (\"validity\" in formComponent) {\n      formComponent.validity = hiddenInput?.validity;\n    }\n  }, { once: true });\n}\nfunction submitForm(component) {\n  const { formEl } = component;\n  if (!formEl) {\n    return false;\n  }\n  formEl.addEventListener(\"invalid\", invalidHandler, true);\n  formEl.requestSubmit();\n  formEl.removeEventListener(\"invalid\", invalidHandler, true);\n  requestAnimationFrame(() => {\n    const invalidEls = formEl.querySelectorAll(\"[status=invalid]\");\n    for (const el of invalidEls) {\n      if (el?.validationMessage) {\n        el?.setFocus();\n        break;\n      }\n    }\n  });\n  return true;\n}\nfunction resetForm(component) {\n  component.formEl?.reset();\n}\nfunction connectForm(component) {\n  const { el, value } = component;\n  const associatedForm = findAssociatedForm(component);\n  if (!associatedForm || hasRegisteredFormComponentParent(associatedForm, el)) {\n    return;\n  }\n  component.formEl = associatedForm;\n  component.defaultValue = value;\n  if (isCheckable(component)) {\n    component.defaultChecked = component.checked;\n  }\n  const boundOnFormReset = onFormReset.bind(component);\n  associatedForm.addEventListener(\"reset\", boundOnFormReset);\n  onFormResetMap.set(component.el, boundOnFormReset);\n  formComponentSet.add(el);\n}\nfunction findAssociatedForm(component) {\n  const { el, form } = component;\n  return form ? queryElementRoots(el, { id: form }) : closestElementCrossShadowBoundary(el, \"form\");\n}\nfunction onFormReset() {\n  if (\"status\" in this) {\n    this.status = \"idle\";\n  }\n  if (\"validationIcon\" in this) {\n    this.validationIcon = false;\n  }\n  if (\"validationMessage\" in this) {\n    this.validationMessage = \"\";\n  }\n  if (isCheckable(this)) {\n    this.checked = this.defaultChecked;\n    return;\n  }\n  this.value = this.defaultValue;\n  this.onFormReset?.();\n}\nfunction disconnectForm(component) {\n  const { el, formEl } = component;\n  if (!formEl) {\n    return;\n  }\n  const boundOnFormReset = onFormResetMap.get(el);\n  formEl.removeEventListener(\"reset\", boundOnFormReset);\n  onFormResetMap.delete(el);\n  component.formEl = null;\n  formComponentSet.delete(el);\n}\nfunction afterConnectDefaultValueSet(component, value) {\n  component.defaultValue = value;\n}\nconst internalHiddenInputInputEvent = \"calciteInternalHiddenInputInput\";\nconst hiddenInputInputHandler = (event) => {\n  event.target.dispatchEvent(new CustomEvent(internalHiddenInputInputEvent, { bubbles: true }));\n};\nconst removeHiddenInputChangeEventListener = (input) => input.removeEventListener(\"input\", hiddenInputInputHandler);\nfunction syncHiddenFormInput(component) {\n  const { el, formEl, name, value } = component;\n  const { ownerDocument } = el;\n  if (isServer) {\n    return;\n  }\n  const inputs = el.querySelectorAll(`input[slot=\"${hiddenFormInputSlotName}\"]`);\n  if (!formEl || !name) {\n    inputs.forEach((input) => {\n      removeHiddenInputChangeEventListener(input);\n      input.remove();\n    });\n    return;\n  }\n  const values = Array.isArray(value) ? value : [value];\n  const extra = [];\n  const seen = /* @__PURE__ */ new Set();\n  inputs.forEach((input) => {\n    const valueMatch = values.find((val) => (\n      /* intentional non-strict equality check */\n      val == input.value\n    ));\n    if (valueMatch != null) {\n      seen.add(valueMatch);\n      defaultSyncHiddenFormInput(component, input, valueMatch);\n    } else {\n      extra.push(input);\n    }\n  });\n  let docFrag;\n  values.forEach((value2) => {\n    if (seen.has(value2)) {\n      return;\n    }\n    let input = extra.pop();\n    if (!input) {\n      input = ownerDocument.createElement(\"input\");\n      input.ariaHidden = \"true\";\n      input.slot = hiddenFormInputSlotName;\n    }\n    if (!docFrag) {\n      docFrag = ownerDocument.createDocumentFragment();\n    }\n    docFrag.append(input);\n    input.addEventListener(\"input\", hiddenInputInputHandler);\n    defaultSyncHiddenFormInput(component, input, value2);\n  });\n  if (docFrag) {\n    el.append(docFrag);\n  }\n  extra.forEach((input) => {\n    removeHiddenInputChangeEventListener(input);\n    input.remove();\n  });\n}\nfunction defaultSyncHiddenFormInput(component, input, value) {\n  const { defaultValue, disabled, form, name, required } = component;\n  input.defaultValue = defaultValue;\n  input.disabled = disabled;\n  input.name = name;\n  input.required = required;\n  input.tabIndex = -1;\n  if (form) {\n    input.setAttribute(\"form\", form);\n  } else {\n    input.removeAttribute(\"form\");\n  }\n  if (isCheckable(component)) {\n    input.checked = component.checked;\n    input.defaultChecked = component.defaultChecked;\n    input.value = component.checked ? value || \"on\" : \"\";\n  } else {\n    input.value = value || \"\";\n  }\n  component.syncHiddenFormInput?.(input);\n  const validationComponent = getValidationComponent(component.el);\n  if (validationComponent && \"validity\" in validationComponent) {\n    for (const key in { ...input?.validity }) {\n      validationComponent.validity[key] = input.validity[key];\n    }\n  }\n}\nconst HiddenFormInputSlot = ({ component }) => {\n  syncHiddenFormInput(component);\n  return html`<slot name=${hiddenFormInputSlotName}></slot>`;\n};\nexport {\n  HiddenFormInputSlot as H,\n  afterConnectDefaultValueSet as a,\n  connectForm as c,\n  disconnectForm as d,\n  findAssociatedForm as f,\n  internalHiddenInputInputEvent as i,\n  resetForm as r,\n  submitForm as s\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { html } from \"lit-html\";\nimport { safeClassMap } from \"@arcgis/lumina\";\nfunction interceptedClick() {\n  const { disabled } = this;\n  if (!disabled) {\n    HTMLElement.prototype.click.call(this);\n  }\n}\nfunction onPointerDown(event) {\n  const interactiveElement = event.target;\n  if (interactiveElement.disabled) {\n    event.preventDefault();\n  }\n}\nconst nonBubblingWhenDisabledMouseEvents = [\"mousedown\", \"mouseup\", \"click\"];\nfunction onNonBubblingWhenDisabledMouseEvent(event) {\n  const interactiveElement = event.target;\n  if (interactiveElement.disabled) {\n    event.stopImmediatePropagation();\n    event.preventDefault();\n  }\n}\nconst captureOnlyOptions = { capture: true };\nfunction updateHostInteraction(component) {\n  if (component.disabled) {\n    component.el.setAttribute(\"aria-disabled\", \"true\");\n    if (component.el.contains(document.activeElement)) {\n      document.activeElement.blur();\n    }\n    blockInteraction(component);\n    return;\n  }\n  restoreInteraction(component);\n  component.el.removeAttribute(\"aria-disabled\");\n}\nfunction blockInteraction(component) {\n  component.el.click = interceptedClick;\n  addInteractionListeners(component.el);\n}\nfunction addInteractionListeners(element) {\n  element.addEventListener(\"pointerdown\", onPointerDown, captureOnlyOptions);\n  nonBubblingWhenDisabledMouseEvents.forEach((event) => element.addEventListener(event, onNonBubblingWhenDisabledMouseEvent, captureOnlyOptions));\n}\nfunction restoreInteraction(component) {\n  delete component.el.click;\n  removeInteractionListeners(component.el);\n}\nfunction removeInteractionListeners(element) {\n  element.removeEventListener(\"pointerdown\", onPointerDown, captureOnlyOptions);\n  nonBubblingWhenDisabledMouseEvents.forEach((event) => element.removeEventListener(event, onNonBubblingWhenDisabledMouseEvent, captureOnlyOptions));\n}\nconst CSS = {\n  container: \"interaction-container\"\n};\nconst InteractiveContainer = ({ children, disabled }) => html`<div class=${safeClassMap(CSS.container)} .inert=${disabled}>${children}</div>`;\nexport {\n  InteractiveContainer as I,\n  updateHostInteraction as u\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { q as queryElementRoots, l as closestElementCrossShadowBoundary, m as isBefore } from \"./dom.js\";\nconst labelClickEvent = \"calciteInternalLabelClick\";\nconst labelConnectedEvent = \"calciteInternalLabelConnected\";\nconst labelDisconnectedEvent = \"calciteInternalLabelDisconnected\";\nconst labelTagName = \"calcite-label\";\nconst labelToLabelables = /* @__PURE__ */ new WeakMap();\nconst onLabelClickMap = /* @__PURE__ */ new WeakMap();\nconst onLabelConnectedMap = /* @__PURE__ */ new WeakMap();\nconst onLabelDisconnectedMap = /* @__PURE__ */ new WeakMap();\nconst unlabeledComponents = /* @__PURE__ */ new Set();\nconst findLabelForComponent = (componentEl) => {\n  const { id } = componentEl;\n  const forLabel = id && queryElementRoots(componentEl, { selector: `${labelTagName}[for=\"${id}\"]` });\n  if (forLabel) {\n    return forLabel;\n  }\n  const parentLabel = closestElementCrossShadowBoundary(componentEl, labelTagName);\n  if (!parentLabel || // labelable components within other custom elements are not considered labelable\n  hasAncestorCustomElements(parentLabel, componentEl)) {\n    return null;\n  }\n  return parentLabel;\n};\nfunction hasAncestorCustomElements(label, componentEl) {\n  let traversedElements;\n  const customElementAncestorCheckEventType = \"custom-element-ancestor-check\";\n  const listener = (event) => {\n    event.stopImmediatePropagation();\n    const composedPath = event.composedPath();\n    traversedElements = composedPath.slice(composedPath.indexOf(componentEl), composedPath.indexOf(label));\n  };\n  label.addEventListener(customElementAncestorCheckEventType, listener, { once: true });\n  componentEl.dispatchEvent(new CustomEvent(customElementAncestorCheckEventType, { composed: true, bubbles: true }));\n  label.removeEventListener(customElementAncestorCheckEventType, listener);\n  const ancestorCustomElements = traversedElements.filter((el) => el !== componentEl && el !== label).filter((el) => el.tagName?.includes(\"-\"));\n  return ancestorCustomElements.length > 0;\n}\nfunction connectLabel(component) {\n  if (!component) {\n    return;\n  }\n  const labelEl = findLabelForComponent(component.el);\n  if (onLabelClickMap.has(labelEl) && labelEl === component.labelEl || !labelEl && unlabeledComponents.has(component)) {\n    return;\n  }\n  const boundOnLabelDisconnected = onLabelDisconnected.bind(component);\n  if (labelEl) {\n    component.labelEl = labelEl;\n    const labelables = labelToLabelables.get(labelEl) || [];\n    labelables.push(component);\n    labelToLabelables.set(labelEl, labelables.sort(sortByDOMOrder));\n    if (!onLabelClickMap.has(component.labelEl)) {\n      onLabelClickMap.set(component.labelEl, onLabelClick);\n      component.labelEl.addEventListener(labelClickEvent, onLabelClick);\n    }\n    unlabeledComponents.delete(component);\n    document.removeEventListener(labelConnectedEvent, onLabelConnectedMap.get(component));\n    onLabelDisconnectedMap.set(component, boundOnLabelDisconnected);\n    document.addEventListener(labelDisconnectedEvent, boundOnLabelDisconnected);\n  } else if (!unlabeledComponents.has(component)) {\n    boundOnLabelDisconnected();\n    document.removeEventListener(labelDisconnectedEvent, onLabelDisconnectedMap.get(component));\n  }\n}\nfunction disconnectLabel(component) {\n  if (!component) {\n    return;\n  }\n  unlabeledComponents.delete(component);\n  document.removeEventListener(labelConnectedEvent, onLabelConnectedMap.get(component));\n  document.removeEventListener(labelDisconnectedEvent, onLabelDisconnectedMap.get(component));\n  onLabelConnectedMap.delete(component);\n  onLabelDisconnectedMap.delete(component);\n  if (!component.labelEl) {\n    return;\n  }\n  const labelables = labelToLabelables.get(component.labelEl);\n  if (labelables.length === 1) {\n    component.labelEl.removeEventListener(labelClickEvent, onLabelClickMap.get(component.labelEl));\n    onLabelClickMap.delete(component.labelEl);\n  }\n  labelToLabelables.set(\n    component.labelEl,\n    labelables.filter((labelable) => labelable !== component).sort(sortByDOMOrder)\n  );\n  component.labelEl = null;\n}\nfunction sortByDOMOrder(a, b) {\n  return isBefore(a.el, b.el) ? -1 : 1;\n}\nfunction getLabelText(component) {\n  return component.label || component.labelEl?.textContent?.trim() || \"\";\n}\nfunction onLabelClick(event) {\n  const labelClickTarget = event.detail.sourceEvent.target;\n  const labelables = labelToLabelables.get(this);\n  const clickedLabelable = labelables.find((labelable) => labelable.el === labelClickTarget);\n  const labelableChildClicked = labelables.includes(clickedLabelable);\n  if (labelableChildClicked) {\n    return;\n  }\n  const firstLabelable = labelables[0];\n  if (firstLabelable.disabled) {\n    return;\n  }\n  firstLabelable.onLabelClick(event);\n}\nfunction onLabelConnected() {\n  if (unlabeledComponents.has(this)) {\n    connectLabel(this);\n  }\n}\nfunction onLabelDisconnected() {\n  unlabeledComponents.add(this);\n  const boundOnLabelConnected = onLabelConnectedMap.get(this) || onLabelConnected.bind(this);\n  onLabelConnectedMap.set(this, boundOnLabelConnected);\n  document.addEventListener(labelConnectedEvent, boundOnLabelConnected);\n}\nasync function associateExplicitLabelToUnlabeledComponent(label) {\n  await label.componentOnReady();\n  const alreadyLabeled = labelToLabelables.has(label);\n  if (alreadyLabeled) {\n    return;\n  }\n  const forComponentEl = label.ownerDocument?.getElementById(label.for);\n  if (!forComponentEl) {\n    return;\n  }\n  requestAnimationFrame(() => {\n    for (const labelable of unlabeledComponents) {\n      if (labelable.el === forComponentEl) {\n        connectLabel(labelable);\n        break;\n      }\n    }\n  });\n}\nexport {\n  associateExplicitLabelToUnlabeledComponent as a,\n  labelDisconnectedEvent as b,\n  connectLabel as c,\n  disconnectLabel as d,\n  getLabelText as g,\n  labelConnectedEvent as l\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { l as logLevel } from \"./runtime.js\";\nconst loggedDeprecations = /* @__PURE__ */ new Set();\nconst logLevels = {\n  trace: 0,\n  debug: 1,\n  info: 2,\n  warn: 4,\n  error: 8,\n  off: 10\n};\nfunction willLog(level) {\n  return logLevels[level] >= logLevels[logLevel];\n}\nfunction forwardToConsole(level, ...data) {\n  if (!willLog(level)) {\n    return;\n  }\n  const badgeTemplate = \"%ccalcite\";\n  const badgeStyle = \"background: #007AC2; color: #fff; border-radius: 4px; padding: 2px 4px;\";\n  console[level].call(this, badgeTemplate, badgeStyle, ...data);\n}\nlet listFormatter;\nconst logger = {\n  debug: (message) => forwardToConsole(\"debug\", message),\n  info: (message) => forwardToConsole(\"info\", message),\n  warn: (message) => forwardToConsole(\"warn\", message),\n  error: (message) => forwardToConsole(\"error\", message),\n  trace: (message) => forwardToConsole(\"trace\", message),\n  deprecated\n};\nfunction deprecated(context, { component, name, suggested, removalVersion }) {\n  const key = `${context}:${context === \"component\" ? \"\" : component}${name}`;\n  if (loggedDeprecations.has(key)) {\n    return;\n  }\n  loggedDeprecations.add(key);\n  const multiSuggestions = Array.isArray(suggested);\n  if (multiSuggestions && !listFormatter) {\n    listFormatter = new Intl.ListFormat(\"en\", { style: \"long\", type: \"disjunction\" });\n  }\n  const message = `[${name}] ${context} is deprecated and will be removed in ${removalVersion === \"future\" ? `a future version` : `v${removalVersion}`}.${suggested ? ` Use ${multiSuggestions ? listFormatter.format(suggested.map((suggestion) => `\"${suggestion}\"`)) : `\"${suggested}\"`} instead.` : \"\"}`;\n  forwardToConsole(\"warn\", message);\n}\nexport {\n  logger as l\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { isServer } from \"lit\";\nfunction createObserver(type, callback, options) {\n  if (isServer) {\n    return void 0;\n  }\n  const Observer = getObserver(type);\n  return new Observer(callback, options);\n}\nfunction getObserver(type) {\n  class ExtendedMutationObserver extends window.MutationObserver {\n    constructor(callback) {\n      super(callback);\n      this.observedEntry = [];\n      this.callback = callback;\n    }\n    observe(target, options) {\n      this.observedEntry.push({ target, options });\n      return super.observe(target, options);\n    }\n    unobserve(target) {\n      const newObservedEntries = this.observedEntry.filter((observed) => observed.target !== target);\n      this.observedEntry = [];\n      this.callback(super.takeRecords(), this);\n      this.disconnect();\n      newObservedEntries.forEach((observed) => this.observe(observed.target, observed.options));\n    }\n  }\n  return function() {\n    return type === \"intersection\" ? window.IntersectionObserver : type === \"mutation\" ? ExtendedMutationObserver : window.ResizeObserver;\n  }();\n}\nexport {\n  createObserver as c\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { w as whenTransitionDone } from \"./dom.js\";\nfunction isOpen(component) {\n  return component[component.openProp || \"open\"];\n}\nfunction onToggleOpenCloseComponent(component) {\n  requestAnimationFrame(() => {\n    if (!component.transitionEl) {\n      return;\n    }\n    whenTransitionDone(\n      component.transitionEl,\n      component.transitionProp,\n      () => {\n        if (isOpen(component)) {\n          component.onBeforeOpen();\n        } else {\n          component.onBeforeClose();\n        }\n      },\n      () => {\n        if (isOpen(component)) {\n          component.onOpen();\n        } else {\n          component.onClose();\n        }\n      }\n    );\n  });\n}\nexport {\n  onToggleOpenCloseComponent as o\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { makeT9nController } from \"@arcgis/lumina/controllers\";\nimport { g as getAssetPath } from \"./runtime.js\";\nconst useT9n = makeT9nController(getAssetPath);\nexport {\n  useT9n as u\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { isServer } from \"lit\";\nimport { n as nodeListToArray } from \"./dom.js\";\nconst ComboboxItemSelector = \"CALCITE-COMBOBOX-ITEM\";\nconst ComboboxItemGroupSelector = \"CALCITE-COMBOBOX-ITEM-GROUP\";\nconst AllComboboxChildrenSelector = `${ComboboxItemSelector}, ${ComboboxItemGroupSelector}`;\nconst CSS = {\n  allSelected: \"all-selected\",\n  chip: \"chip\",\n  chipInvisible: \"chip--invisible\",\n  icon: \"icon\",\n  input: \"input\",\n  inputHidden: \"input--hidden\",\n  label: \"label\",\n  labelIcon: \"label--icon\",\n  listContainer: \"list-container\",\n  placeholderIcon: \"placeholder-icon\",\n  selectAll: \"select-all\",\n  selectionDisplayFit: \"selection-display--fit\",\n  selectionDisplaySingle: \"selection-display--single\",\n  selectedIcon: \"selected-icon\",\n  floatingUIContainer: \"floating-ui-container\",\n  screenReadersOnly: \"screen-readers-only\",\n  wrapper: \"wrapper\",\n  wrapperSingle: \"wrapper--single\",\n  wrapperActive: \"wrapper--active\"\n};\nconst IDS = {\n  validationMessage: \"comboboxValidationMessage\"\n};\nfunction getAncestors(element) {\n  const parent = element.parentElement?.closest(AllComboboxChildrenSelector);\n  const grandparent = parent?.parentElement?.closest(AllComboboxChildrenSelector);\n  return [parent, grandparent].filter((el) => el);\n}\nfunction getItemAncestors(item) {\n  return item.ancestors?.filter((el) => el.nodeName === \"CALCITE-COMBOBOX-ITEM\") || [];\n}\nfunction getItemChildren(item) {\n  return nodeListToArray(item.querySelectorAll(\"calcite-combobox-item\"));\n}\nfunction hasActiveChildren(node) {\n  const items = nodeListToArray(node.querySelectorAll(\"calcite-combobox-item\"));\n  return items.filter((item) => item.selected).length > 0;\n}\nfunction getDepth(element) {\n  if (isServer) {\n    return 0;\n  }\n  const result = document.evaluate(\n    \"ancestor::calcite-combobox-item | ancestor::calcite-combobox-item-group\",\n    element,\n    null,\n    XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,\n    null\n  );\n  const depth = result.snapshotLength;\n  if (depth > 0 && element.nodeName === ComboboxItemSelector) {\n    for (let i = 0; i < depth; i++) {\n      const parent = result.snapshotItem(i);\n      if (parent.nodeName === ComboboxItemGroupSelector) {\n        return depth;\n      }\n    }\n  } else if (element.nodeName === ComboboxItemGroupSelector) {\n    return depth;\n  }\n  return depth + 1;\n}\nfunction isSingleLike(selectionMode) {\n  return selectionMode.includes(\"single\");\n}\nfunction getLabel(item) {\n  return item.shortHeading || item.heading || item.textLabel;\n}\nexport {\n  CSS as C,\n  IDS as I,\n  getDepth as a,\n  ComboboxItemSelector as b,\n  ComboboxItemGroupSelector as c,\n  getLabel as d,\n  getItemAncestors as e,\n  getItemChildren as f,\n  getAncestors as g,\n  hasActiveChildren as h,\n  isSingleLike as i\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { D as DEBOUNCE, c as customElement } from \"../../chunks/runtime.js\";\nimport { keyed } from \"lit-html/directives/keyed.js\";\nimport { live } from \"lit-html/directives/live.js\";\nimport { debounce, escapeRegExp } from \"lodash-es\";\nimport { d as calciteSize48 } from \"../../chunks/core.js\";\nimport { nothing, html } from \"lit\";\nimport { createRef, ref } from \"lit-html/directives/ref.js\";\nimport { LitElement, createEvent, stringOrBoolean, safeClassMap } from \"@arcgis/lumina\";\nimport { f as filter } from \"../../chunks/filter.js\";\nimport { B as getElementWidth, A as getTextWidth } from \"../../chunks/dom.js\";\nimport { b as defaultMenuPlacement, r as reposition, c as connectFloatingUI, a as disconnectFloatingUI, f as filterValidFlipPlacements, h as hideFloatingUI, F as FloatingCSS } from \"../../chunks/floating-ui.js\";\nimport { c as connectForm, a as afterConnectDefaultValueSet, d as disconnectForm, s as submitForm, H as HiddenFormInputSlot } from \"../../chunks/form.js\";\nimport { g as guid } from \"../../chunks/guid.js\";\nimport { u as updateHostInteraction, I as InteractiveContainer } from \"../../chunks/interactive.js\";\nimport { c as connectLabel, d as disconnectLabel, g as getLabelText } from \"../../chunks/label.js\";\nimport { i as isHidden, c as componentFocusable, g as getIconScale } from \"../../chunks/component.js\";\nimport { c as createObserver } from \"../../chunks/observers.js\";\nimport { o as onToggleOpenCloseComponent } from \"../../chunks/openCloseComponent.js\";\nimport { C as CSS, X as XButton } from \"../../chunks/XButton.js\";\nimport { V as Validation } from \"../../chunks/Validation.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nimport { h as hasActiveChildren, i as isSingleLike, C as CSS$1, b as ComboboxItemSelector, c as ComboboxItemGroupSelector, d as getLabel, e as getItemAncestors, f as getItemChildren, I as IDS } from \"../../chunks/utils3.js\";\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nconst styles = css`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:block}:host([scale=s]){font-size:var(--calcite-font-size--2);--calcite-internal-combobox-spacing-unit-l: .5rem;--calcite-internal-combobox-spacing-unit-s: .25rem;--calcite-combobox-input-height: 1rem;--calcite-internal-combobox-input-margin-block: calc(.25rem - 1px) ;--calcite-internal-close-size: 1rem}:host([scale=s]) .x-button{margin-inline:.5rem}:host([scale=m]){font-size:var(--calcite-font-size--1);--calcite-internal-combobox-spacing-unit-l: .75rem;--calcite-internal-combobox-spacing-unit-s: .5rem;--calcite-combobox-input-height: 1rem;--calcite-internal-combobox-input-margin-block: calc(.5rem - 1px) ;--calcite-internal-close-size: 1.5rem}:host([scale=m]) .x-button{margin-inline-end:.75rem}:host([scale=l]){font-size:var(--calcite-font-size-0);--calcite-internal-combobox-spacing-unit-l: 1rem;--calcite-internal-combobox-spacing-unit-s: .75rem;--calcite-combobox-input-height: 1.5rem;--calcite-internal-combobox-input-margin-block: calc(.625rem - 1px) ;--calcite-internal-close-size: 2rem}:host([scale=l]) .x-button{margin-inline-end:1rem}.x-button{align-self:center}.wrapper{display:flex;border-width:1px;border-style:solid;outline-color:transparent;padding-block:calc(var(--calcite-internal-combobox-spacing-unit-s) / 4);padding-inline:var(--calcite-internal-combobox-spacing-unit-l);background-color:var(--calcite-combobox-input-background-color, var(--calcite-color-foreground-1));color:var(--calcite-combobox-input-text-color, var(--calcite-color-text-1));border-color:var(--calcite-combobox-input-border-color, var(--calcite-color-border-input))}.wrapper:hover .icon{color:var(--calcite-combobox-icon-color-hover, var(--calcite-color-text-1))}:host(:focus-within) .wrapper,.wrapper--active{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([read-only]) .wrapper{background-color:var(--calcite-color-background)}:host([read-only]) .label{font-weight:var(--calcite-font-weight-medium)}:host([status=invalid]) .wrapper{border-color:var(--calcite-color-status-danger)}:host([status=invalid]:focus-within) .wrapper{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.wrapper--single{padding-block:0;padding-inline:var(--calcite-internal-combobox-spacing-unit-l);cursor:pointer;flex-wrap:nowrap}.grid-input{position:relative;display:flex;flex-grow:1;flex-wrap:wrap;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0;gap:var(--calcite-internal-combobox-spacing-unit-s);margin-inline-end:var(--calcite-internal-combobox-spacing-unit-s)}.grid-input.selection-display--fit,.grid-input.selection-display--single{flex-wrap:nowrap;overflow:hidden}.input{flex-grow:1;appearance:none;overflow:hidden;text-overflow:ellipsis;border-style:none;background-color:transparent;padding:0;font-family:inherit;color:var(--calcite-color-text-1);font-size:inherit;block-size:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height);inline-size:100%;margin-block-end:var(--calcite-internal-combobox-spacing-unit-s);min-inline-size:4.8125rem}.input:focus{outline:2px solid transparent;outline-offset:2px}.input:placeholder-shown{text-overflow:ellipsis}.input--single{padding:0;margin-block:var(--calcite-internal-combobox-input-margin-block)}.wrapper--active .input-single{cursor:text}.input--hidden{pointer-events:none;width:0px;min-width:0px;opacity:0}.input--icon{padding-block:0;padding-inline:var(--calcite-internal-combobox-spacing-unit-l)}.placeholder-icon{color:var(--calcite-combobox-icon-color, var(--calcite-color-text-3))}.input-wrap{display:flex;flex-grow:1;align-items:center}.input-wrap--single{flex:1 1 0%;overflow:hidden}.label{pointer-events:none;max-width:100%;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0;font-weight:var(--calcite-font-weight-normal);block-size:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height)}.label--icon{padding-inline:var(--calcite-internal-combobox-spacing-unit-l)}.icon-end,.icon-start{display:flex;cursor:pointer;align-items:center}.icon-end{flex:none}.icon-end .icon{color:var(--calcite-combobox-icon-color, var(--calcite-color-text-3))}.floating-ui-container{--calcite-floating-ui-z-index: var(--calcite-z-index-dropdown);inline-size:max-content;display:none;max-inline-size:100vw;max-block-size:100vh;inset-block-start:0;left:0;z-index:var(--calcite-floating-ui-z-index)}.floating-ui-container .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:inset,left,opacity;opacity:0;box-shadow:0 0 16px #00000029;z-index:var(--calcite-z-index);border-radius:.25rem}.floating-ui-container[data-placement^=bottom] .calcite-floating-ui-anim{inset-block-start:-5px}.floating-ui-container[data-placement^=top] .calcite-floating-ui-anim{inset-block-start:5px}.floating-ui-container[data-placement^=left] .calcite-floating-ui-anim{left:5px}.floating-ui-container[data-placement^=right] .calcite-floating-ui-anim{left:-5px}.floating-ui-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;inset-block-start:0;left:0}@media (forced-colors: active){.wrapper,.floating-ui-container{border:1px solid canvasText}}.screen-readers-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.list-container{max-height:45vh;overflow-y:auto;inline-size:var(--calcite-dropdown-width, 100%);background-color:var(--calcite-combobox-background-color, var(--calcite-color-foreground-1))}.list{margin:0;display:block;padding:0}.list--hide{height:0px;overflow:hidden}calcite-chip{--calcite-animation-timing: 0}.chip{margin-block:calc(var(--calcite-internal-combobox-spacing-unit-s) / 4);max-inline-size:100%}.chip--invisible{visibility:hidden;position:absolute}.item{display:block}.select-all{background-color:var(--calcite-combobox-item-background-color-active, var(--calcite-color-foreground-1));border-block-end-color:var(--calcite-combobox-item-border-color, var(--calcite-color-border-3));border-block-end-style:solid;border-block-end-width:var(--calcite-border-width-sm);inset-block-start:0;position:sticky;z-index:var(--calcite-z-index-sticky)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.x-button{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;border-style:none;cursor:pointer;outline-color:transparent;align-items:center;margin:0;background-color:var(--calcite-close-background-color, var(--calcite-color-foreground-2));-webkit-appearance:none;display:flex;align-content:center;justify-content:center;color:var(--calcite-close-icon-color, var(--calcite-color-text-3));block-size:var(--calcite-internal-close-size, 1.5rem);inline-size:var(--calcite-internal-close-size, 1.5rem);min-block-size:var(--calcite-internal-close-size, 1.5rem);min-inline-size:var(--calcite-internal-close-size, 1.5rem);padding:0}.x-button:hover,.x-button:focus{background-color:var(--calcite-close-background-color-hover, var(--calcite-color-foreground-3))}.x-button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.x-button:active{background-color:var(--calcite-close-background-color-press, var(--calcite-color-transparent-press))}.x-button calcite-icon{color:inherit}.x-button--round{border-radius:9999px}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}::slotted(calcite-combobox-item-group:not(:first-child)){padding-block-start:var(--calcite-internal-combobox-spacing-unit-l)}::placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-input-placeholder-text-color, var(--calcite-color-text-3))}`;\nconst itemUidPrefix = \"combobox-item-\";\nconst chipUidPrefix = \"combobox-chip-\";\nconst labelUidPrefix = \"combobox-label-\";\nconst listboxUidPrefix = \"combobox-listbox-\";\nconst inputUidPrefix = \"combobox-input-\";\nclass Combobox extends LitElement {\n  constructor() {\n    super();\n    this.closeButtonEl = createRef();\n    this.filterItems = (() => {\n      const find = (item, filteredData) => item && filteredData.some(({ el }) => item === el);\n      return debounce((text, setOpenToEmptyState = false, emit = true) => {\n        const filteredData = filter([...this.data, ...this.groupData], text, this.effectiveFilterProps);\n        const itemsAndGroups = this.getItemsAndGroups();\n        const matchAll = text === \"\";\n        itemsAndGroups.forEach((item) => {\n          if (matchAll) {\n            item.itemHidden = false;\n            return;\n          }\n          const hidden = !find(item, filteredData);\n          item.itemHidden = hidden;\n          const [parent, grandparent] = item.ancestors;\n          if (find(parent, filteredData) || find(grandparent, filteredData)) {\n            item.itemHidden = false;\n          }\n          if (!hidden) {\n            item.ancestors.forEach((ancestor) => ancestor.itemHidden = false);\n          }\n        });\n        this.filterTextMatchPattern = this.filterText && new RegExp(`(${escapeRegExp(this.filterText)})`, \"i\");\n        this.filteredItems.forEach((item) => {\n          item.filterTextMatchPattern = this.filterTextMatchPattern;\n        });\n        if (setOpenToEmptyState) {\n          this.open = this.filterText.trim().length > 0 && this.filteredItems.length > 0;\n        }\n        if (emit) {\n          this.calciteComboboxFilterChange.emit();\n        }\n      }, DEBOUNCE.filter);\n    })();\n    this._filterText = \"\";\n    this.getSelectedItems = () => {\n      if (!this.isMulti()) {\n        const match = this.items.find(({ selected }) => selected);\n        return match ? [match] : [];\n      }\n      return this.items.filter((item) => item.selected && (this.selectionMode !== \"ancestors\" || !hasActiveChildren(item))).sort((a, b) => {\n        const aIdx = this.selectedItems.indexOf(a);\n        const bIdx = this.selectedItems.indexOf(b);\n        if (aIdx > -1 && bIdx > -1) {\n          return aIdx - bIdx;\n        }\n        return bIdx - aIdx;\n      });\n    };\n    this.groupItems = [];\n    this.guid = guid();\n    this.ignoreSelectedEventsFlag = false;\n    this.inputHeight = 0;\n    this.internalValueChangeFlag = false;\n    this.mutationObserver = createObserver(\"mutation\", () => this.updateItems());\n    this.onLabelClick = () => {\n      this.setFocus();\n    };\n    this.transitionProp = \"opacity\";\n    this.placement = defaultMenuPlacement;\n    this.resizeObserver = createObserver(\"resize\", () => {\n      this.setMaxScrollerHeight();\n      this.refreshSelectionDisplay();\n    });\n    this._selectedItems = [];\n    this.textInput = createRef();\n    this._value = null;\n    this.messages = useT9n();\n    this.activeChipIndex = -1;\n    this.activeDescendant = \"\";\n    this.activeItemIndex = -1;\n    this.compactSelectionDisplay = false;\n    this.selectedHiddenChipsCount = 0;\n    this.selectedVisibleChipsCount = 0;\n    this.items = [];\n    this.clearDisabled = false;\n    this.disabled = false;\n    this.maxItems = 0;\n    this.open = false;\n    this.overlayPositioning = \"absolute\";\n    this.placeholderIconFlipRtl = false;\n    this.readOnly = false;\n    this.required = false;\n    this.scale = \"m\";\n    this.selectAllEnabled = false;\n    this.selectionDisplay = \"all\";\n    this.selectionMode = \"multiple\";\n    this.status = \"idle\";\n    this.validity = {\n      valid: false,\n      badInput: false,\n      customError: false,\n      patternMismatch: false,\n      rangeOverflow: false,\n      rangeUnderflow: false,\n      stepMismatch: false,\n      tooLong: false,\n      tooShort: false,\n      typeMismatch: false,\n      valueMissing: false\n    };\n    this.calciteComboboxBeforeClose = createEvent({ cancelable: false });\n    this.calciteComboboxBeforeOpen = createEvent({ cancelable: false });\n    this.calciteComboboxChange = createEvent({ cancelable: false });\n    this.calciteComboboxChipClose = createEvent({ cancelable: false });\n    this.calciteComboboxClose = createEvent({ cancelable: false });\n    this.calciteComboboxFilterChange = createEvent({ cancelable: false });\n    this.calciteComboboxOpen = createEvent({ cancelable: false });\n    this.listenOn(document, \"click\", this.documentClickHandler);\n    this.listen(\"calciteComboboxItemChange\", this.calciteComboboxItemChangeHandler);\n    this.listen(\"calciteInternalComboboxItemChange\", this.calciteInternalComboboxItemChangeHandler);\n    this.listen(\"click\", this.comboboxFocusHandler);\n  }\n  static {\n    this.properties = { activeChipIndex: [16, {}, { state: true }], activeDescendant: [16, {}, { state: true }], activeItemIndex: [16, {}, { state: true }], compactSelectionDisplay: [16, {}, { state: true }], selectedHiddenChipsCount: [16, {}, { state: true }], selectedVisibleChipsCount: [16, {}, { state: true }], selectAllComboboxItemReferenceEl: [16, {}, { state: true }], items: [16, {}, { state: true }], allSelected: [16, {}, { state: true }], indeterminate: [16, {}, { state: true }], keyboardNavItems: [16, {}, { state: true }], allowCustomValues: [7, {}, { reflect: true, type: Boolean }], clearDisabled: [7, {}, { reflect: true, type: Boolean }], disabled: [7, {}, { reflect: true, type: Boolean }], filterText: [3, {}, { reflect: true }], filterProps: [0, {}, { attribute: false }], filteredItems: [32, {}, { attribute: false, readOnly: true }], flipPlacements: [0, {}, { attribute: false }], form: [3, {}, { reflect: true }], label: 1, maxItems: [11, {}, { reflect: true, type: Number }], messageOverrides: [0, {}, { attribute: false }], name: [3, {}, { reflect: true }], open: [7, {}, { reflect: true, type: Boolean }], overlayPositioning: [3, {}, { reflect: true }], placeholder: 1, placeholderIcon: [3, {}, { reflect: true }], placeholderIconFlipRtl: [7, {}, { reflect: true, type: Boolean }], readOnly: [7, {}, { reflect: true, type: Boolean }], required: [7, {}, { reflect: true, type: Boolean }], scale: [3, {}, { reflect: true }], selectAllEnabled: [7, {}, { reflect: true, type: Boolean }], selectedItems: [0, {}, { attribute: false }], selectionDisplay: [3, {}, { reflect: true }], selectionMode: [3, {}, { reflect: true }], status: [3, {}, { reflect: true }], validationIcon: [3, { converter: stringOrBoolean }, { reflect: true }], validationMessage: 1, validity: [0, {}, { attribute: false }], value: 1 };\n  }\n  static {\n    this.styles = styles;\n  }\n  get allSelected() {\n    return this.selectedItems.length === this.items.length;\n  }\n  get indeterminate() {\n    return this.selectedItems.length > 0 && !this.allSelected;\n  }\n  get keyboardNavItems() {\n    const { selectAllComboboxItemReferenceEl, items } = this;\n    if (selectAllComboboxItemReferenceEl) {\n      return [selectAllComboboxItemReferenceEl, ...items.filter((item) => !item.disabled)];\n    }\n    return items.filter((item) => !item.disabled);\n  }\n  get filterText() {\n    return this._filterText;\n  }\n  set filterText(filterText) {\n    const oldFilterText = this._filterText;\n    if (filterText !== oldFilterText) {\n      this._filterText = filterText;\n      this.filterTextChange(filterText);\n    }\n  }\n  get filteredItems() {\n    return this.keyboardNavItems.filter((item) => !isHidden(item));\n  }\n  get selectedItems() {\n    return this._selectedItems;\n  }\n  set selectedItems(selectedItems) {\n    const oldSelectedItems = this._selectedItems;\n    if (selectedItems !== oldSelectedItems) {\n      this._selectedItems = selectedItems;\n      this.selectedItemsHandler();\n    }\n  }\n  get value() {\n    return this._value;\n  }\n  set value(value) {\n    const oldValue = this._value;\n    if (value !== oldValue) {\n      this._value = value;\n      this.valueHandler(value);\n    }\n  }\n  async reposition(delayed = false) {\n    const { floatingEl, referenceEl, placement, overlayPositioning, filteredFlipPlacements } = this;\n    return reposition(this, {\n      floatingEl,\n      referenceEl,\n      overlayPositioning,\n      placement,\n      flipPlacements: filteredFlipPlacements,\n      type: \"menu\"\n    }, delayed);\n  }\n  async setFocus() {\n    await componentFocusable(this);\n    this.textInput.value?.focus();\n    this.activeChipIndex = -1;\n    this.activeItemIndex = -1;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    connectLabel(this);\n    connectForm(this);\n    this.internalValueChangeFlag = true;\n    this.value = this.getValue();\n    this.internalValueChangeFlag = false;\n    this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n    this.setFilteredPlacements();\n    connectFloatingUI(this);\n  }\n  willUpdate(changes) {\n    if (changes.has(\"open\") && (this.hasUpdated || this.open !== false)) {\n      this.openHandler();\n    }\n    if (changes.has(\"disabled\") && (this.hasUpdated || this.disabled !== false)) {\n      this.handleDisabledChange(this.disabled);\n    }\n    if (changes.has(\"maxItems\") && (this.hasUpdated || this.maxItems !== 0)) {\n      this.setMaxScrollerHeight();\n    }\n    if (changes.has(\"overlayPositioning\") && (this.hasUpdated || this.overlayPositioning !== \"absolute\")) {\n      this.reposition(true);\n    }\n    if (changes.has(\"selectionMode\") || changes.has(\"scale\")) {\n      this.updateItems();\n    }\n    if (changes.has(\"flipPlacements\")) {\n      this.flipPlacementsHandler();\n    }\n  }\n  updated() {\n    if (this.el.offsetHeight !== this.inputHeight) {\n      this.reposition(true);\n      this.inputHeight = this.el.offsetHeight;\n    }\n    updateHostInteraction(this);\n    this.refreshSelectionDisplay();\n  }\n  loaded() {\n    afterConnectDefaultValueSet(this, this.getValue());\n    connectFloatingUI(this);\n    this.updateItems();\n    this.filterItems(this.filterText, false, false);\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.mutationObserver?.disconnect();\n    this.resizeObserver?.disconnect();\n    disconnectLabel(this);\n    disconnectForm(this);\n    disconnectFloatingUI(this);\n  }\n  emitComboboxChange() {\n    this.calciteComboboxChange.emit();\n  }\n  get effectiveFilterProps() {\n    if (!this.filterProps) {\n      return [\"description\", \"label\", \"metadata\", \"shortHeading\", \"textLabel\"];\n    }\n    return this.filterProps.filter((prop) => prop !== \"el\");\n  }\n  get showingInlineIcon() {\n    const { placeholderIcon, selectionMode, selectedItems, open } = this;\n    const selectedItem = selectedItems[0];\n    const selectedIcon = selectedItem?.icon;\n    const singleSelectionMode = isSingleLike(selectionMode);\n    return !open && selectedItem ? !!selectedIcon && singleSelectionMode : !!placeholderIcon && (!selectedItem || singleSelectionMode);\n  }\n  filterTextChange(value) {\n    this.updateActiveItemIndex(-1);\n    this.filterItems(value, true);\n  }\n  openHandler() {\n    onToggleOpenCloseComponent(this);\n    if (this.disabled) {\n      return;\n    }\n    this.setMaxScrollerHeight();\n  }\n  handleDisabledChange(value) {\n    if (!value) {\n      this.open = false;\n    }\n  }\n  valueHandler(value) {\n    if (!this.internalValueChangeFlag) {\n      this.getItems().forEach((item) => {\n        item.selected = Array.isArray(value) ? value.includes(item.value) : value === item.value;\n      });\n      this.updateItems();\n    }\n  }\n  flipPlacementsHandler() {\n    this.setFilteredPlacements();\n    this.reposition(true);\n  }\n  selectedItemsHandler() {\n    this.internalValueChangeFlag = true;\n    this.value = this.getValue();\n    this.internalValueChangeFlag = false;\n  }\n  async documentClickHandler(event) {\n    if (this.disabled || event.composedPath().includes(this.el)) {\n      return;\n    }\n    await this.componentOnReady();\n    if (!this.allowCustomValues && this.filterText) {\n      this.clearInputValue();\n      this.filterItems(\"\");\n      this.updateActiveItemIndex(-1);\n    }\n    if (this.allowCustomValues && this.filterText.trim().length) {\n      this.addCustomChip(this.filterText);\n    }\n    this.open = false;\n  }\n  handleSelectAll(isSelectAllTarget) {\n    if (isSelectAllTarget) {\n      this.toggleSelectAll();\n    }\n    if (this.allSelected) {\n      this.selectedItems.forEach((item) => {\n        const chipEl = this.referenceEl.querySelector(`#${chipUidPrefix}${item.guid}`);\n        if (chipEl) {\n          this.hideChip(chipEl);\n        }\n      });\n    }\n  }\n  calciteComboboxItemChangeHandler(event) {\n    if (this.ignoreSelectedEventsFlag) {\n      return;\n    }\n    const target = event.target;\n    const isSelectAllTarget = event.composedPath().includes(this.selectAllComboboxItemReferenceEl);\n    if (this.selectAllEnabled) {\n      this.handleSelectAll(isSelectAllTarget);\n    }\n    const newIndex = this.filteredItems.indexOf(target);\n    this.updateActiveItemIndex(newIndex);\n    this.toggleSelection(target, target.selected);\n    this.selectedItems = this.getSelectedItems();\n  }\n  calciteInternalComboboxItemChangeHandler(event) {\n    event.stopPropagation();\n    if (this.hasUpdated) {\n      this.updateItems();\n    }\n  }\n  clearValue() {\n    this.ignoreSelectedEventsFlag = true;\n    this.items.forEach((el) => el.selected = false);\n    this.ignoreSelectedEventsFlag = false;\n    this.selectedItems = [];\n    this.emitComboboxChange();\n    this.open = false;\n    this.updateActiveItemIndex(-1);\n    this.resetText();\n    this.filterItems(\"\");\n    this.setFocus();\n  }\n  clearInputValue() {\n    this.textInput.value.value = \"\";\n    this.filterText = \"\";\n  }\n  setFilteredPlacements() {\n    const { el, flipPlacements } = this;\n    this.filteredFlipPlacements = flipPlacements ? filterValidFlipPlacements(flipPlacements, el) : null;\n  }\n  getValue() {\n    const items = this.selectedItems.map((item) => item.value?.toString());\n    return items.length ? items.length > 1 ? items : items[0] : \"\";\n  }\n  comboboxInViewport() {\n    const bounding = this.el.getBoundingClientRect();\n    return bounding.top >= 0 && bounding.left >= 0 && bounding.right <= (window.innerWidth || document.documentElement.clientWidth) && bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight);\n  }\n  toggleSelectAll() {\n    const toggledValue = !this.allSelected;\n    this.selectedItems = this.items.filter((item) => {\n      item.selected = toggledValue;\n      return toggledValue;\n    });\n    this.emitComboboxChange();\n  }\n  keyDownHandler(event) {\n    if (this.readOnly) {\n      return;\n    }\n    const { key } = event;\n    switch (key) {\n      case \"Tab\":\n        this.activeChipIndex = -1;\n        this.activeItemIndex = -1;\n        if (this.allowCustomValues && this.filterText) {\n          this.addCustomChip(this.filterText, true);\n          event.preventDefault();\n        } else if (this.open) {\n          this.open = false;\n          event.preventDefault();\n        } else if (!this.allowCustomValues && this.filterText) {\n          this.clearInputValue();\n          this.filterItems(\"\");\n          this.updateActiveItemIndex(-1);\n        }\n        break;\n      case \"ArrowLeft\":\n        if (this.activeChipIndex !== -1 || this.textInput.value.selectionStart === 0) {\n          this.previousChip();\n          event.preventDefault();\n        }\n        break;\n      case \"ArrowRight\":\n        if (this.activeChipIndex !== -1) {\n          this.nextChip();\n          event.preventDefault();\n        }\n        break;\n      case \"ArrowUp\":\n        if (this.filteredItems.length) {\n          event.preventDefault();\n          if (this.open) {\n            this.shiftActiveItemIndex(-1);\n          }\n          this.scrollToActiveOrSelectedItem();\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n        }\n        this.scrollToActiveOrSelectedItem();\n        break;\n      case \"ArrowDown\":\n        if (this.filteredItems.length) {\n          event.preventDefault();\n          if (this.open) {\n            this.shiftActiveItemIndex(1);\n          } else {\n            this.open = true;\n            this.ensureRecentSelectedItemIsActive();\n          }\n          this.scrollToActiveOrSelectedItem();\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n        }\n        break;\n      case \" \":\n        if (!this.textInput.value.value && !event.defaultPrevented) {\n          if (!this.open) {\n            this.open = true;\n            this.shiftActiveItemIndex(1);\n          }\n          event.preventDefault();\n        }\n        break;\n      case \"Home\":\n        if (!this.open) {\n          return;\n        }\n        event.preventDefault();\n        this.updateActiveItemIndex(0);\n        this.scrollToActiveOrSelectedItem();\n        if (!this.comboboxInViewport()) {\n          this.el.scrollIntoView();\n        }\n        break;\n      case \"End\":\n        if (!this.open) {\n          return;\n        }\n        event.preventDefault();\n        this.updateActiveItemIndex(this.filteredItems.length - 1);\n        this.scrollToActiveOrSelectedItem();\n        if (!this.comboboxInViewport()) {\n          this.el.scrollIntoView();\n        }\n        break;\n      case \"Escape\":\n        if (!this.clearDisabled && !this.open) {\n          this.clearValue();\n        }\n        this.open = false;\n        event.preventDefault();\n        break;\n      case \"Enter\":\n        if (this.open && this.activeItemIndex > -1) {\n          const item = this.filteredItems[this.activeItemIndex];\n          this.toggleSelection(item, !item.selected);\n          event.preventDefault();\n          if (this.selectAllEnabled) {\n            this.handleSelectAll(item === this.selectAllComboboxItemReferenceEl);\n          }\n        } else if (this.activeChipIndex > -1) {\n          this.removeActiveChip();\n          event.preventDefault();\n        } else if (this.allowCustomValues && this.filterText) {\n          this.addCustomChip(this.filterText, true);\n          event.preventDefault();\n        } else if (!event.defaultPrevented) {\n          if (submitForm(this)) {\n            event.preventDefault();\n          }\n        }\n        break;\n      case \"Delete\":\n      case \"Backspace\": {\n        const notDeletable = this.selectionDisplay === \"single\" || this.selectionDisplay === \"fit\" && this.selectedHiddenChipsCount > 0;\n        if (notDeletable) {\n          return;\n        }\n        if (this.activeChipIndex > -1) {\n          event.preventDefault();\n          this.removeActiveChip();\n        } else if (!this.filterText && this.isMulti()) {\n          event.preventDefault();\n          this.removeLastChip();\n        }\n        break;\n      }\n    }\n  }\n  onBeforeOpen() {\n    this.scrollToActiveOrSelectedItem();\n    this.calciteComboboxBeforeOpen.emit();\n  }\n  onOpen() {\n    this.scrollToActiveOrSelectedItem(true);\n    this.calciteComboboxOpen.emit();\n  }\n  onBeforeClose() {\n    this.calciteComboboxBeforeClose.emit();\n  }\n  onClose() {\n    this.calciteComboboxClose.emit();\n    hideFloatingUI(this);\n  }\n  async setMaxScrollerHeight() {\n    const { listContainerEl, open, referenceEl } = this;\n    if (!listContainerEl || !open) {\n      return;\n    }\n    await this.reposition(true);\n    const maxScrollerHeight = this.getMaxScrollerHeight();\n    listContainerEl.style.maxBlockSize = maxScrollerHeight > 0 ? `${maxScrollerHeight}px` : \"\";\n    listContainerEl.style.inlineSize = `${referenceEl.clientWidth}px`;\n    await this.reposition(true);\n  }\n  calciteChipCloseHandler(comboboxItem) {\n    this.open = false;\n    const selection = this.items.find((item) => item === comboboxItem);\n    if (selection) {\n      this.toggleSelection(selection, false);\n    }\n    this.calciteComboboxChipClose.emit();\n  }\n  clickHandler(event) {\n    if (this.readOnly) {\n      return;\n    }\n    const composedPath = event.composedPath();\n    if (composedPath.some((node) => node.tagName === \"CALCITE-CHIP\")) {\n      this.open = false;\n      event.preventDefault();\n      return;\n    }\n    if (composedPath.some((node) => node.classList?.contains(CSS.button))) {\n      this.clearValue();\n      event.preventDefault();\n      return;\n    }\n    this.open = !this.open;\n    this.ensureRecentSelectedItemIsActive();\n  }\n  ensureRecentSelectedItemIsActive() {\n    const { selectedItems } = this;\n    const targetIndex = selectedItems.length === 0 ? 0 : this.items.indexOf(selectedItems[selectedItems.length - 1]);\n    this.updateActiveItemIndex(targetIndex);\n  }\n  hideChip(chipEl) {\n    chipEl.classList.add(CSS$1.chipInvisible);\n  }\n  showChip(chipEl) {\n    chipEl.classList.remove(CSS$1.chipInvisible);\n  }\n  refreshChipDisplay({ chipEls, availableHorizontalChipElSpace, chipContainerElGap }) {\n    chipEls.forEach((chipEl) => {\n      if (!chipEl.selected) {\n        this.hideChip(chipEl);\n      } else {\n        const chipElWidth = getElementWidth(chipEl);\n        if (chipElWidth && chipElWidth < availableHorizontalChipElSpace) {\n          availableHorizontalChipElSpace -= chipElWidth + chipContainerElGap;\n          this.showChip(chipEl);\n          return;\n        }\n      }\n      this.hideChip(chipEl);\n    });\n  }\n  async refreshSelectionDisplay() {\n    this.componentOnReady();\n    if (isSingleLike(this.selectionMode)) {\n      return;\n    }\n    if (!this.textInput.value) {\n      return;\n    }\n    const { allSelectedIndicatorChipEl, chipContainerEl, selectionDisplay, placeholder, selectedIndicatorChipEl, textInput: { value: textInput } } = this;\n    const chipContainerElGap = parseInt(getComputedStyle(chipContainerEl).gap.replace(\"px\", \"\"));\n    const chipContainerElWidth = getElementWidth(chipContainerEl);\n    const { fontSize, fontFamily } = getComputedStyle(textInput);\n    const inputTextWidth = getTextWidth(placeholder, `${fontSize} ${fontFamily}`);\n    const inputWidth = (inputTextWidth || parseInt(calciteSize48)) + chipContainerElGap;\n    const allSelectedIndicatorChipElWidth = getElementWidth(allSelectedIndicatorChipEl);\n    const selectedIndicatorChipElWidth = getElementWidth(selectedIndicatorChipEl);\n    const largestSelectedIndicatorChipWidth = Math.max(allSelectedIndicatorChipElWidth, selectedIndicatorChipElWidth);\n    this.setCompactSelectionDisplay({\n      chipContainerElGap,\n      chipContainerElWidth,\n      inputWidth,\n      largestSelectedIndicatorChipWidth\n    });\n    if (this.allSelected && this.selectAllEnabled) {\n      this.selectedItems.forEach((item) => {\n        const chipEl = this.referenceEl.querySelector(`#${chipUidPrefix}${item.guid}`);\n        if (chipEl) {\n          this.hideChip(chipEl);\n        }\n      });\n    }\n    if (this.indeterminate) {\n      this.selectedItems.forEach((item) => {\n        const chipEl = this.referenceEl.querySelector(`#${chipUidPrefix}${item.guid}`);\n        if (chipEl) {\n          this.showChip(chipEl);\n        }\n      });\n    }\n    if (selectionDisplay === \"fit\") {\n      const chipEls = Array.from(this.el.shadowRoot.querySelectorAll(\"calcite-chip\")).filter((chipEl) => chipEl.closable);\n      const availableHorizontalChipElSpace = Math.round(chipContainerElWidth - ((this.selectedHiddenChipsCount > 0 ? selectedIndicatorChipElWidth : 0) + chipContainerElGap + inputWidth + chipContainerElGap));\n      this.refreshChipDisplay({ availableHorizontalChipElSpace, chipContainerElGap, chipEls });\n      this.setVisibleAndHiddenChips(chipEls);\n    }\n  }\n  setFloatingEl(el) {\n    this.floatingEl = el;\n    connectFloatingUI(this);\n  }\n  setCompactSelectionDisplay({ chipContainerElGap, chipContainerElWidth, inputWidth, largestSelectedIndicatorChipWidth }) {\n    const newCompactBreakpoint = Math.round(largestSelectedIndicatorChipWidth + chipContainerElGap + inputWidth);\n    if (!this.maxCompactBreakpoint || this.maxCompactBreakpoint < newCompactBreakpoint) {\n      this.maxCompactBreakpoint = newCompactBreakpoint;\n    }\n    this.compactSelectionDisplay = chipContainerElWidth < this.maxCompactBreakpoint;\n  }\n  setContainerEl(el) {\n    if (!el) {\n      return;\n    }\n    this.resizeObserver?.observe(el);\n    this.listContainerEl = el;\n    this.transitionEl = el;\n  }\n  setChipContainerEl(el) {\n    if (el) {\n      this.resizeObserver?.observe(el);\n    }\n    this.chipContainerEl = el;\n  }\n  setReferenceEl(el) {\n    this.referenceEl = el;\n    connectFloatingUI(this);\n  }\n  setSelectAllComboboxItemReferenceEl(el) {\n    this.selectAllComboboxItemReferenceEl = el;\n  }\n  setAllSelectedIndicatorChipEl(el) {\n    this.allSelectedIndicatorChipEl = el;\n  }\n  setSelectedIndicatorChipEl(el) {\n    this.selectedIndicatorChipEl = el;\n  }\n  setVisibleAndHiddenChips(chipEls) {\n    let newSelectedVisibleChipsCount = 0;\n    chipEls.forEach((chipEl) => {\n      if (chipEl.selected && !chipEl.classList.contains(CSS$1.chipInvisible)) {\n        newSelectedVisibleChipsCount++;\n      }\n    });\n    if (newSelectedVisibleChipsCount !== this.selectedVisibleChipsCount) {\n      this.selectedVisibleChipsCount = newSelectedVisibleChipsCount;\n    }\n    const newSelectedHiddenChipsCount = this.getSelectedItems().length - newSelectedVisibleChipsCount;\n    if (newSelectedHiddenChipsCount !== this.selectedHiddenChipsCount) {\n      this.selectedHiddenChipsCount = newSelectedHiddenChipsCount;\n    }\n  }\n  getMaxScrollerHeight() {\n    const allItemsAndGroups = [...this.groupItems, ...this.getItems(true)];\n    const items = allItemsAndGroups.filter((item) => !isHidden(item));\n    const { maxItems } = this;\n    let itemsToProcess = 0;\n    let maxScrollerHeight = 0;\n    if (items.length >= maxItems) {\n      items.forEach((item) => {\n        if (itemsToProcess < maxItems) {\n          const height = this.calculateScrollerHeight(item);\n          maxScrollerHeight += height;\n          itemsToProcess += 1;\n        }\n      });\n    }\n    return maxScrollerHeight;\n  }\n  calculateScrollerHeight(item) {\n    if (!item) {\n      return 0;\n    }\n    const parentHeight = item.getBoundingClientRect().height;\n    const DirectComboboxChildrenSelector = `:scope > ${ComboboxItemSelector}, :scope > ${ComboboxItemGroupSelector}`;\n    const childrenTotalHeight = Array.from(item.querySelectorAll(DirectComboboxChildrenSelector)).reduce((total, child) => total + child.getBoundingClientRect().height, 0);\n    return parentHeight - childrenTotalHeight;\n  }\n  inputHandler(event) {\n    const value = event.target.value;\n    this.filterText = value;\n  }\n  getItemsAndGroups() {\n    return [...this.groupItems, ...this.items];\n  }\n  toggleSelection(item, value) {\n    if (!item || this.selectionMode === \"single-persist\" && item.selected && item.value === this.value && !value) {\n      return;\n    }\n    if (this.isMulti()) {\n      this.handleMultiSelection(item, value);\n    } else {\n      this.handleSingleSelection(item, value);\n    }\n  }\n  handleMultiSelection(item, value) {\n    item.selected = value;\n    this.updateAncestors(item);\n    this.selectedItems = this.getSelectedItems();\n    this.emitComboboxChange();\n    this.resetText();\n    this.filterItems(\"\");\n  }\n  handleSingleSelection(item, value) {\n    this.ignoreSelectedEventsFlag = true;\n    this.items.forEach((el) => el.selected = el === item ? value : false);\n    this.ignoreSelectedEventsFlag = false;\n    this.selectedItems = this.getSelectedItems();\n    this.emitComboboxChange();\n    if (this.textInput.value) {\n      this.textInput.value.value = getLabel(item);\n    }\n    this.open = false;\n    this.updateActiveItemIndex(-1);\n    this.resetText();\n    this.filterItems(\"\");\n  }\n  updateAncestors(item) {\n    if (this.selectionMode !== \"ancestors\") {\n      return;\n    }\n    const ancestors = getItemAncestors(item);\n    const children = getItemChildren(item);\n    if (item.selected) {\n      ancestors.forEach((el) => {\n        el.selected = true;\n      });\n    } else {\n      children.forEach((el) => el.selected = false);\n      [...ancestors].forEach((el) => {\n        if (!hasActiveChildren(el)) {\n          el.selected = false;\n        }\n      });\n    }\n  }\n  updateItems() {\n    this.items = this.getItems();\n    this.groupItems = this.getGroupItems();\n    this.data = this.getData();\n    this.groupData = this.getGroupData();\n    this.updateItemProps();\n    this.selectedItems = this.getSelectedItems();\n  }\n  updateItemProps() {\n    this.getItems(true).forEach((item) => {\n      item.selectionMode = this.selectionMode;\n      item.scale = this.scale;\n    });\n    this.groupItems.forEach((groupItem) => groupItem.scale = this.scale);\n    if (!this.allowCustomValues) {\n      this.setMaxScrollerHeight();\n    }\n    this.groupItems.forEach((groupItem, index, items) => {\n      if (index === 0) {\n        groupItem.afterEmptyGroup = false;\n      }\n      const nextGroupItem = items[index + 1];\n      if (nextGroupItem) {\n        nextGroupItem.afterEmptyGroup = groupItem.children.length === 0;\n      }\n    });\n  }\n  getData() {\n    return this.items.map((item) => ({\n      description: item.description,\n      filterDisabled: item.filterDisabled,\n      label: item.heading,\n      metadata: item.metadata,\n      shortHeading: item.shortHeading,\n      textLabel: item.textLabel,\n      el: item\n      // used for matching items to data\n    }));\n  }\n  getGroupData() {\n    return this.groupItems.map((groupItem) => ({\n      label: groupItem.label,\n      el: groupItem\n    }));\n  }\n  resetText() {\n    if (this.textInput.value) {\n      this.textInput.value.value = \"\";\n    }\n    this.filterText = \"\";\n  }\n  getItems(withDisabled = false) {\n    const items = Array.from(this.el.querySelectorAll(ComboboxItemSelector));\n    return items.filter((item) => withDisabled || !item.disabled);\n  }\n  getGroupItems() {\n    return Array.from(this.el.querySelectorAll(ComboboxItemGroupSelector));\n  }\n  addCustomChip(value, focus) {\n    const existingItem = this.items.find((el) => (el.heading || el.textLabel) === value);\n    if (existingItem) {\n      this.toggleSelection(existingItem, true);\n    } else {\n      const item = document.createElement(\n        // TODO: [MIGRATION] If this is dynamically creating a web component, please read the docs: https://qawebgis.esri.com/arcgis-components/?path=/docs/lumina-jsx--docs#rendering-jsx-outside-the-component\n        \"calcite-combobox-item\"\n      );\n      item.value = value;\n      item.heading = value;\n      this.el.prepend(item);\n      this.updateItems();\n      this.toggleSelection(item, true);\n      this.open = true;\n      if (focus) {\n        this.setFocus();\n      }\n    }\n  }\n  removeActiveChip() {\n    this.toggleSelection(this.selectedItems[this.activeChipIndex], false);\n    this.setFocus();\n  }\n  removeLastChip() {\n    this.toggleSelection(this.selectedItems[this.selectedItems.length - 1], false);\n    this.setFocus();\n  }\n  previousChip() {\n    const length = this.selectedItems.length - 1;\n    const active = this.activeChipIndex;\n    this.activeChipIndex = active === -1 ? length : Math.max(active - 1, 0);\n    this.updateActiveItemIndex(-1);\n    this.focusChip();\n  }\n  nextChip() {\n    const last = this.selectedItems.length - 1;\n    const newIndex = this.activeChipIndex + 1;\n    if (newIndex > last) {\n      this.activeChipIndex = -1;\n      this.setFocus();\n    } else {\n      this.activeChipIndex = newIndex;\n      this.focusChip();\n    }\n    this.updateActiveItemIndex(-1);\n  }\n  focusChip() {\n    const guid2 = this.selectedItems[this.activeChipIndex]?.guid;\n    const chip = guid2 ? this.referenceEl.querySelector(`#${chipUidPrefix}${guid2}`) : null;\n    chip?.setFocus();\n  }\n  scrollToActiveOrSelectedItem(scrollToSelected = false) {\n    const item = scrollToSelected && this.selectedItems?.length ? this.selectedItems[0] : this.filteredItems[this.activeItemIndex];\n    if (!item) {\n      return;\n    }\n    item.scrollIntoView({ block: \"nearest\" });\n    const stickyElement = this.selectAllComboboxItemReferenceEl;\n    const stickyHeight = stickyElement?.offsetHeight || 0;\n    const listContainer = this.listContainerEl;\n    const itemRect = item.getBoundingClientRect();\n    const containerRect = listContainer.getBoundingClientRect();\n    if (itemRect.top < containerRect.top + stickyHeight) {\n      listContainer.scrollTop -= containerRect.top + stickyHeight - itemRect.top;\n    }\n  }\n  shiftActiveItemIndex(delta) {\n    const { length } = this.filteredItems;\n    const newIndex = (this.activeItemIndex + length + delta) % length;\n    this.updateActiveItemIndex(newIndex);\n    this.scrollToActiveOrSelectedItem();\n  }\n  updateActiveItemIndex(index) {\n    this.activeItemIndex = index;\n    let activeDescendant = null;\n    this.filteredItems.forEach((el, i) => {\n      if (i === index) {\n        el.active = true;\n        activeDescendant = `${itemUidPrefix}${el.guid}`;\n      } else {\n        el.active = false;\n      }\n    });\n    this.activeDescendant = activeDescendant;\n    if (this.activeItemIndex > -1) {\n      this.activeChipIndex = -1;\n    }\n  }\n  isMulti() {\n    return !isSingleLike(this.selectionMode);\n  }\n  comboboxFocusHandler() {\n    if (this.disabled) {\n      return;\n    }\n    this.textInput.value?.focus();\n  }\n  renderChips() {\n    const { activeChipIndex, readOnly, scale, selectionMode, messages } = this;\n    if (this.selectAllEnabled && this.allSelected) {\n      return null;\n    }\n    return this.selectedItems.map((item, i) => {\n      const chipClasses = {\n        [CSS$1.chip]: true\n      };\n      const ancestors = [...getItemAncestors(item)].reverse();\n      const itemLabel = getLabel(item);\n      const pathLabel = [...ancestors, item].map((el) => getLabel(el));\n      const label = selectionMode !== \"ancestors\" ? itemLabel : pathLabel.join(\" / \");\n      return keyed(itemLabel, html`<calcite-chip .appearance=${readOnly ? \"outline\" : \"solid\"} class=${safeClassMap(chipClasses)} .closable=${!readOnly} data-test-id=${`chip-${i}`} .icon=${item.icon} .iconFlipRtl=${item.iconFlipRtl} id=${(item.guid ? `${chipUidPrefix}${item.guid}` : null) ?? nothing} .label=${label} .messageOverrides=${{ dismissLabel: messages.removeTag }} @focusin=${() => this.activeChipIndex = i} @calciteChipClose=${() => this.calciteChipCloseHandler(item)} .scale=${scale} .selected=${item.selected} .tabIndex=${activeChipIndex === i ? 0 : -1} title=${label ?? nothing} .value=${item.value}>${label}</calcite-chip>`);\n    });\n  }\n  renderAllSelectedIndicatorChip() {\n    const { compactSelectionDisplay, scale, selectedVisibleChipsCount, setAllSelectedIndicatorChipEl } = this;\n    const label = compactSelectionDisplay ? this.messages.all : this.messages.allSelected;\n    return html`<calcite-chip class=${safeClassMap({\n      chip: true,\n      [CSS$1.chipInvisible]: !(this.allSelected && !selectedVisibleChipsCount),\n      [CSS$1.allSelected]: true\n    })} .label=${label} .scale=${scale} title=${label ?? nothing} value ${ref(setAllSelectedIndicatorChipEl)}>${label}</calcite-chip>`;\n  }\n  renderSelectedIndicatorChip() {\n    const { compactSelectionDisplay, selectionDisplay, getSelectedItems, scale, selectedHiddenChipsCount, selectedVisibleChipsCount, setSelectedIndicatorChipEl } = this;\n    let chipInvisible;\n    let label;\n    if (compactSelectionDisplay) {\n      chipInvisible = true;\n    } else {\n      if (selectionDisplay === \"single\") {\n        const selectedItemsCount = getSelectedItems().length;\n        if (this.allSelected) {\n          chipInvisible = true;\n        } else if (selectedItemsCount > 0) {\n          chipInvisible = false;\n        } else {\n          chipInvisible = true;\n        }\n        label = `${selectedItemsCount} ${this.messages.selected}`;\n      } else if (selectionDisplay === \"fit\") {\n        chipInvisible = !!(this.allSelected && selectedVisibleChipsCount === 0 || selectedHiddenChipsCount === 0);\n        label = selectedVisibleChipsCount > 0 ? `+${selectedHiddenChipsCount}` : `${selectedHiddenChipsCount} ${this.messages.selected}`;\n      }\n    }\n    return html`<calcite-chip class=${safeClassMap({\n      chip: true,\n      [CSS$1.chipInvisible]: chipInvisible\n    })} .label=${label} .scale=${scale} title=${label ?? nothing} value ${ref(setSelectedIndicatorChipEl)}>${label}</calcite-chip>`;\n  }\n  renderSelectedIndicatorChipCompact() {\n    const { compactSelectionDisplay, selectionDisplay, getSelectedItems, scale, selectedHiddenChipsCount } = this;\n    let chipInvisible;\n    let label;\n    if (compactSelectionDisplay) {\n      const selectedItemsCount = getSelectedItems().length;\n      if (this.allSelected) {\n        chipInvisible = true;\n      } else if (selectionDisplay === \"fit\") {\n        chipInvisible = !(selectedHiddenChipsCount > 0);\n        label = `${selectedHiddenChipsCount || 0}`;\n      } else if (selectionDisplay === \"single\") {\n        chipInvisible = !(selectedItemsCount > 0);\n        label = `${selectedItemsCount}`;\n      }\n    } else {\n      chipInvisible = true;\n    }\n    return html`<calcite-chip class=${safeClassMap({\n      chip: true,\n      [CSS$1.chipInvisible]: chipInvisible\n    })} .label=${label} .scale=${scale} title=${label ?? nothing} value>${label}</calcite-chip>`;\n  }\n  renderInput() {\n    const { guid: guid2, disabled, placeholder, selectionMode, selectedItems, open } = this;\n    const single = isSingleLike(selectionMode);\n    const selectedItem = selectedItems[0];\n    const showLabel = !open && single && !!selectedItem && !this.filterText;\n    return html`<span class=${safeClassMap({\n      \"input-wrap\": true,\n      \"input-wrap--single\": single\n    })}>${showLabel && keyed(\"label\", html`<span class=${safeClassMap({\n      [CSS$1.label]: true,\n      [CSS$1.labelIcon]: !!selectedItem?.icon\n    })}>${getLabel(selectedItem)}</span>`) || \"\"}${keyed(\"input\", html`<input aria-activedescendant=${this.activeDescendant ?? nothing} aria-controls=${`${listboxUidPrefix}${guid2}`} aria-errormessage=${IDS.validationMessage} aria-owns=${`${listboxUidPrefix}${guid2}`} aria-autocomplete=list .ariaExpanded=${open} aria-haspopup=listbox .ariaInvalid=${this.status === \"invalid\"} .ariaLabel=${getLabelText(this)} class=${safeClassMap({\n      [CSS$1.input]: true,\n      \"input--single\": true,\n      [CSS$1.inputHidden]: showLabel,\n      \"input--icon\": this.showingInlineIcon && !!this.placeholderIcon\n    })} data-test-id=input .disabled=${disabled} .id=${`${inputUidPrefix}${guid2}`} @focus=${this.comboboxFocusHandler} @input=${this.inputHandler} placeholder=${placeholder ?? nothing} .readOnly=${this.readOnly} role=combobox .tabIndex=${this.activeChipIndex === -1 ? 0 : -1} type=text .value=${live(this.filterText ?? \"\")} ${ref(this.textInput)}>`)}</span>`;\n  }\n  renderListBoxOptions() {\n    const mappedListBoxOptions = this.filteredItems.map((item) => {\n      return html`<li .ariaLabel=${item.label} .ariaSelected=${item.selected} id=${(item.guid ? `${itemUidPrefix}${item.guid}` : null) ?? nothing} role=option tabindex=-1>${item.heading || item.textLabel}</li>`;\n    });\n    if (this.selectAllEnabled && this.selectionMode !== \"single\" && this.selectionMode !== \"single-persist\") {\n      const selectAllComboboxItem = html`<li .ariaLabel=${this.messages.selectAll} .ariaSelected=${this.allSelected} .id=${`${this.guid}-select-all-enabled-screen-reader`} role=option tabindex=-1>${this.messages.selectAll}</li>`;\n      if (selectAllComboboxItem) {\n        mappedListBoxOptions.unshift(selectAllComboboxItem);\n      }\n    }\n    return mappedListBoxOptions;\n  }\n  renderFloatingUIContainer() {\n    const { setFloatingEl, setContainerEl, open, scale } = this;\n    const classes = {\n      [CSS$1.listContainer]: true,\n      [FloatingCSS.animation]: true,\n      [FloatingCSS.animationActive]: open\n    };\n    return html`<div aria-hidden=true class=${safeClassMap(CSS$1.floatingUIContainer)} ${ref(setFloatingEl)}><div class=${safeClassMap(classes)} ${ref(setContainerEl)}><ul class=${safeClassMap({ list: true, \"list--hide\": !open })}>${this.selectAllEnabled && this.selectionMode !== \"single\" && this.selectionMode !== \"single-persist\" && html`<calcite-combobox-item class=${safeClassMap(CSS$1.selectAll)} .id=${`${this.guid}-select-all-enabled-interactive`} .indeterminate=${this.indeterminate} .label=${this.messages.selectAll} .scale=${scale} .selected=${this.allSelected} tabindex=-1 text-label=${this.messages.selectAll ?? nothing} value=select-all ${ref(this.setSelectAllComboboxItemReferenceEl)}></calcite-combobox-item>` || \"\"}<slot></slot></ul></div></div>`;\n  }\n  renderSelectedOrPlaceholderIcon() {\n    const { open, placeholderIcon, placeholderIconFlipRtl, selectedItems } = this;\n    const selectedItem = selectedItems[0];\n    const selectedIcon = selectedItem?.icon;\n    const showPlaceholder = placeholderIcon && (open || !selectedItem);\n    return this.showingInlineIcon && keyed(\"selected-placeholder-icon\", html`<span class=\"icon-start\"><calcite-icon class=${safeClassMap({\n      [CSS$1.selectedIcon]: !showPlaceholder,\n      [CSS$1.placeholderIcon]: showPlaceholder\n    })} .flipRtl=${showPlaceholder ? placeholderIconFlipRtl : selectedItem.iconFlipRtl} .icon=${showPlaceholder ? placeholderIcon : selectedIcon} .scale=${getIconScale(this.scale)}></calcite-icon></span>`) || \"\";\n  }\n  renderChevronIcon() {\n    const { open } = this;\n    return keyed(\"chevron\", html`<span class=\"icon-end\"><calcite-icon class=${safeClassMap(CSS$1.icon)} .icon=${open ? \"chevron-up\" : \"chevron-down\"} .scale=${getIconScale(this.scale)}></calcite-icon></span>`);\n  }\n  render() {\n    const { selectionDisplay, guid: guid2, label, open, readOnly } = this;\n    const singleSelectionMode = isSingleLike(this.selectionMode);\n    const allSelectionDisplay = selectionDisplay === \"all\";\n    const singleSelectionDisplay = selectionDisplay === \"single\";\n    const fitSelectionDisplay = !singleSelectionMode && selectionDisplay === \"fit\";\n    const isClearable = !this.clearDisabled && this.value?.length > 0;\n    return InteractiveContainer({ disabled: this.disabled, children: html`<div aria-live=polite class=${safeClassMap({\n      [CSS$1.wrapper]: true,\n      [CSS$1.wrapperSingle]: singleSelectionMode || !this.selectedItems.length,\n      [CSS$1.wrapperActive]: open\n    })} @click=${this.clickHandler} @keydown=${this.keyDownHandler} ${ref(this.setReferenceEl)}>${this.renderSelectedOrPlaceholderIcon()}${keyed(\"grid\", html`<div class=${safeClassMap({\n      \"grid-input\": true,\n      [CSS$1.selectionDisplayFit]: fitSelectionDisplay,\n      [CSS$1.selectionDisplaySingle]: singleSelectionDisplay\n    })} ${ref(this.setChipContainerEl)}>${!singleSelectionMode && !singleSelectionDisplay && this.renderChips() || \"\"}${!singleSelectionMode && !singleSelectionDisplay && this.selectAllEnabled && this.renderAllSelectedIndicatorChip() || \"\"}${!singleSelectionMode && !allSelectionDisplay && [\n      this.renderSelectedIndicatorChip(),\n      this.renderSelectedIndicatorChipCompact(),\n      this.renderAllSelectedIndicatorChip()\n    ] || \"\"}<label class=${safeClassMap(CSS$1.screenReadersOnly)} .htmlFor=${`${inputUidPrefix}${guid2}`} .id=${`${labelUidPrefix}${guid2}`}>${label}</label>${this.renderInput()}</div>`)}${!readOnly && isClearable ? keyed(\"close-button\", XButton({ disabled: this.disabled, label: this.messages.clear, ref: this.closeButtonEl, scale: this.scale })) : null}${!readOnly && this.renderChevronIcon() || \"\"}</div><ul aria-labelledby=${`${labelUidPrefix}${guid2}`} aria-multiselectable=true class=${safeClassMap(CSS$1.screenReadersOnly)} .id=${`${listboxUidPrefix}${guid2}`} role=listbox tabindex=-1>${this.renderListBoxOptions()}</ul>${this.renderFloatingUIContainer()}${HiddenFormInputSlot({ component: this })}${this.validationMessage && this.status === \"invalid\" ? Validation({ icon: this.validationIcon, id: IDS.validationMessage, message: this.validationMessage, scale: this.scale, status: this.status }) : null}` });\n  }\n}\ncustomElement(\"calcite-combobox\", Combobox);\nexport {\n  Combobox\n};\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nimport {nothing} from '../lit-html.js';\nimport {\n  directive,\n  Directive,\n  ChildPart,\n  DirectiveParameters,\n} from '../directive.js';\nimport {setCommittedValue} from '../directive-helpers.js';\n\nclass Keyed extends Directive {\n  key: unknown = nothing;\n\n  render(k: unknown, v: unknown) {\n    this.key = k;\n    return v;\n  }\n\n  override update(part: ChildPart, [k, v]: DirectiveParameters<this>) {\n    if (k !== this.key) {\n      // Clear the part before returning a value. The one-arg form of\n      // setCommittedValue sets the value to a sentinel which forces a\n      // commit the next render.\n      setCommittedValue(part);\n      this.key = k;\n    }\n    return v;\n  }\n}\n\n/**\n * Associates a renderable value with a unique key. When the key changes, the\n * previous DOM is removed and disposed before rendering the next value, even\n * if the value - such as a template - is the same.\n *\n * This is useful for forcing re-renders of stateful components, or working\n * with code that expects new data to generate new HTML elements, such as some\n * animation techniques.\n */\nexport const keyed = directive(Keyed);\n\n/**\n * The type of the class that powers this directive. Necessary for naming the\n * directive's return type.\n */\nexport type {Keyed};\n"],"names":["setProxy","controller","host","key","isReactive","assignedToProp","initialExports","genericHost","controllerValueChanged","exports","hostValueChanged","controllerUpdatedExports","component","manager","W","onUpdate","changes","has","value","O","isReadOnly","constructor","elementProperties","get","readOnly","watchExports","bypassReadOnly","makeController","proxy","makeGenericController","FunctionalController","Controller","super","originalExports","this","setAmbientComponent","constructorChangedExports","isPromise","setProvisionalExports","resolved","then","result","catchUpLifecycle","catch","error","P","reject","console","onLoad","async","queueMicrotask","Class","args","ambientControllers","retrieveParentControllers","instance","setParentController","at","bind","setAmbientChildController","hostCandidates","reverse","trackKey","resolution","useWatchAttributes","attributes","callback","AttributeWatchController","isServer","MutationObserver","mutations","forEach","mutation","includes","attributeName","call","el","getAttribute","oldValue","hostConnected","attribute","hasAttribute","observe","attributeOldValue","attributeFilter","hostDisconnected","disconnect","toFunction","makeT9nController","getAssetPath","options","locale","getElementLocales","pending","lang","t9nLocale","componentWithOverrides","onLifecycle","startLocaleObserver","t9nStrings","withoutOverrides","label","componentLabel","applyOverrides","messageOverrides","name","currentValue","rawMessages","updated","deepMerge","blocking","ready","original","overwrites","merged","Object","entries","CSS","validationReference","Validation","scale","status","id","icon","message","ref","ref$1","html","safeClassMap","nothing","button","buttonRound","XButton","disabled","focusable","onClick","round","title","keyed","scale2","getIconScale","componentScale","warnIfMissingRequiredProp","newProp","deprecatedProp","logger","warn","localName","toString","isHidden","hidden","itemHidden","componentFocusable","componentOnReady","updateComplete","calciteSize24","calciteSize32","calciteSize44","calciteSize48","componentsWithInputEvent","hiddenFormInputSlotName","isCheckable","onFormResetMap","WeakMap","formComponentSet","WeakSet","getValidationComponent","nodeName","closestElementCrossShadowBoundary","invalidEvent","CustomEvent","bubbles","composed","invalidHandler","event","hiddenInput","target","hiddenInputMessage","validationMessage","formComponent","parentElement","componentTag","toLowerCase","componentTagParts","split","length","preventDefault","validity","dispatchEvent","validationIcon","displayValidationMessage","clearValidationEvent","map","part","index","toUpperCase","slice","join","getClearValidationEventName","addEventListener","once","submitForm","formEl","requestSubmit","removeEventListener","requestAnimationFrame","invalidEls","querySelectorAll","setFocus","resetForm","reset","connectForm","associatedForm","findAssociatedForm","form","formComponentEl","formComponentRegisterEventName","hasRegisteredFormComponentParent2","composedPath","some","element","stopPropagation","hasRegisteredFormComponentParent","defaultValue","defaultChecked","checked","boundOnFormReset","onFormReset","set","add","queryElementRoots","disconnectForm","delete","afterConnectDefaultValueSet","internalHiddenInputInputEvent","hiddenInputInputHandler","removeHiddenInputChangeEventListener","input","defaultSyncHiddenFormInput","required","tabIndex","setAttribute","removeAttribute","syncHiddenFormInput","validationComponent","HiddenFormInputSlot","ownerDocument","inputs","remove","values","Array","isArray","extra","seen","Set","docFrag","valueMatch","find","val","push","value2","pop","createElement","ariaHidden","slot","createDocumentFragment","append","interceptedClick","HTMLElement","prototype","click","onPointerDown","nonBubblingWhenDisabledMouseEvents","onNonBubblingWhenDisabledMouseEvent","stopImmediatePropagation","captureOnlyOptions","capture","updateHostInteraction","contains","document","activeElement","blur","blockInteraction","restoreInteraction","InteractiveContainer","children","labelClickEvent","labelConnectedEvent","labelDisconnectedEvent","labelTagName","labelToLabelables","onLabelClickMap","onLabelConnectedMap","onLabelDisconnectedMap","unlabeledComponents","findLabelForComponent","componentEl","forLabel","selector","parentLabel","traversedElements","customElementAncestorCheckEventType","listener","indexOf","ancestorCustomElements","filter","tagName","hasAncestorCustomElements","connectLabel","labelEl","boundOnLabelDisconnected","onLabelDisconnected","labelables","sort","sortByDOMOrder","onLabelClick","disconnectLabel","labelable","a","b","isBefore","getLabelText","textContent","trim","labelClickTarget","detail","sourceEvent","clickedLabelable","firstLabelable","onLabelConnected","boundOnLabelConnected","associateExplicitLabelToUnlabeledComponent","forComponentEl","getElementById","for","loggedDeprecations","logLevels","trace","debug","info","off","forwardToConsole","level","data","logLevel","willLog","listFormatter","deprecated","context","suggested","removalVersion","multiSuggestions","Intl","ListFormat","style","type","format","suggestion","createObserver","Observer","ExtendedMutationObserver","window","observedEntry","unobserve","newObservedEntries","observed","takeRecords","IntersectionObserver","ResizeObserver","getObserver","isOpen","openProp","onToggleOpenCloseComponent","transitionEl","whenTransitionDone","transitionProp","onBeforeOpen","onBeforeClose","onOpen","onClose","useT9n","ComboboxItemSelector","ComboboxItemGroupSelector","AllComboboxChildrenSelector","allSelected","chip","chipInvisible","inputHidden","labelIcon","listContainer","placeholderIcon","selectAll","selectionDisplayFit","selectionDisplaySingle","selectedIcon","floatingUIContainer","screenReadersOnly","wrapper","wrapperSingle","wrapperActive","IDS","getAncestors","parent","closest","grandparent","getItemAncestors","item","ancestors","getItemChildren","nodeListToArray","hasActiveChildren","node","selected","getDepth","evaluate","XPathResult","UNORDERED_NODE_SNAPSHOT_TYPE","depth","snapshotLength","i","snapshotItem","isSingleLike","selectionMode","getLabel","shortHeading","heading","textLabel","styles","css","itemUidPrefix","chipUidPrefix","labelUidPrefix","listboxUidPrefix","inputUidPrefix","Combobox","LitElement","closeButtonEl","createRef","filterItems","filteredData","debounce","text","setOpenToEmptyState","emit","groupData","effectiveFilterProps","itemsAndGroups","getItemsAndGroups","matchAll","ancestor","filterTextMatchPattern","filterText","RegExp","escapeRegExp","filteredItems","open","calciteComboboxFilterChange","DEBOUNCE","_filterText","getSelectedItems","isMulti","match","items","aIdx","selectedItems","bIdx","groupItems","guid","ignoreSelectedEventsFlag","inputHeight","internalValueChangeFlag","mutationObserver","updateItems","placement","defaultMenuPlacement","resizeObserver","setMaxScrollerHeight","refreshSelectionDisplay","_selectedItems","textInput","_value","messages","activeChipIndex","activeDescendant","activeItemIndex","compactSelectionDisplay","selectedHiddenChipsCount","selectedVisibleChipsCount","clearDisabled","maxItems","overlayPositioning","placeholderIconFlipRtl","selectAllEnabled","selectionDisplay","valid","badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing","calciteComboboxBeforeClose","createEvent","cancelable","calciteComboboxBeforeOpen","calciteComboboxChange","calciteComboboxChipClose","calciteComboboxClose","calciteComboboxOpen","listenOn","documentClickHandler","listen","calciteComboboxItemChangeHandler","calciteInternalComboboxItemChangeHandler","comboboxFocusHandler","properties","state","selectAllComboboxItemReferenceEl","indeterminate","keyboardNavItems","allowCustomValues","reflect","Boolean","filterProps","flipPlacements","Number","placeholder","converter","stringOrBoolean","filterTextChange","selectedItemsHandler","valueHandler","reposition","delayed","floatingEl","referenceEl","filteredFlipPlacements","focus","connectedCallback","getValue","childList","subtree","setFilteredPlacements","connectFloatingUI","willUpdate","hasUpdated","openHandler","handleDisabledChange","flipPlacementsHandler","offsetHeight","loaded","disconnectedCallback","disconnectFloatingUI","emitComboboxChange","prop","showingInlineIcon","selectedItem","singleSelectionMode","updateActiveItemIndex","getItems","clearInputValue","addCustomChip","handleSelectAll","isSelectAllTarget","toggleSelectAll","chipEl","querySelector","hideChip","newIndex","toggleSelection","clearValue","resetText","filterValidFlipPlacements","comboboxInViewport","bounding","getBoundingClientRect","top","left","right","innerWidth","documentElement","clientWidth","bottom","innerHeight","clientHeight","toggledValue","keyDownHandler","selectionStart","previousChip","nextChip","shiftActiveItemIndex","scrollToActiveOrSelectedItem","scrollIntoView","ensureRecentSelectedItemIsActive","defaultPrevented","removeActiveChip","removeLastChip","hideFloatingUI","listContainerEl","maxScrollerHeight","getMaxScrollerHeight","maxBlockSize","inlineSize","calciteChipCloseHandler","comboboxItem","selection","clickHandler","classList","targetIndex","CSS$1","showChip","refreshChipDisplay","chipEls","availableHorizontalChipElSpace","chipContainerElGap","chipElWidth","getElementWidth","allSelectedIndicatorChipEl","chipContainerEl","selectedIndicatorChipEl","parseInt","getComputedStyle","gap","replace","chipContainerElWidth","fontSize","fontFamily","inputWidth","getTextWidth","allSelectedIndicatorChipElWidth","selectedIndicatorChipElWidth","largestSelectedIndicatorChipWidth","Math","max","setCompactSelectionDisplay","from","shadowRoot","closable","setVisibleAndHiddenChips","setFloatingEl","newCompactBreakpoint","maxCompactBreakpoint","setContainerEl","setChipContainerEl","setReferenceEl","setSelectAllComboboxItemReferenceEl","setAllSelectedIndicatorChipEl","setSelectedIndicatorChipEl","newSelectedVisibleChipsCount","newSelectedHiddenChipsCount","itemsToProcess","height","calculateScrollerHeight","parentHeight","DirectComboboxChildrenSelector","reduce","total","child","inputHandler","handleMultiSelection","handleSingleSelection","updateAncestors","getGroupItems","getData","getGroupData","updateItemProps","groupItem","afterEmptyGroup","nextGroupItem","description","filterDisabled","metadata","withDisabled","existingItem","prepend","active","focusChip","last","guid2","scrollToSelected","block","stickyElement","stickyHeight","itemRect","containerRect","scrollTop","delta","renderChips","chipClasses","itemLabel","pathLabel","iconFlipRtl","dismissLabel","removeTag","renderAllSelectedIndicatorChip","all","renderSelectedIndicatorChip","selectedItemsCount","renderSelectedIndicatorChipCompact","renderInput","single","showLabel","live","renderListBoxOptions","mappedListBoxOptions","selectAllComboboxItem","unshift","renderFloatingUIContainer","classes","FloatingCSS","animation","animationActive","list","renderSelectedOrPlaceholderIcon","showPlaceholder","renderChevronIcon","render","allSelectionDisplay","singleSelectionDisplay","fitSelectionDisplay","isClearable","clear","customElement","t","e","arguments","r","update","s"],"sourceRoot":""}