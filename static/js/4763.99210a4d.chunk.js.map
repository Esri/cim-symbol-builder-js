{"version":3,"file":"static/js/4763.99210a4d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{px2pt as e,pt2px as t}from\"../../core/screenUtils.js\";import{OverrideHelper as i,CIMSymbolHelper as l}from\"../cim/CIMSymbolHelper.js\";import{CIMSymbolRasterizer as r,GeometryStyle as n}from\"../cim/CIMSymbolRasterizer.js\";import{mapCIMSymbolToGeometryType as o}from\"../cim/utils.js\";import{SymbolSizeDefaults as a}from\"./previewUtils.js\";import{renderSymbol as s}from\"./renderUtils.js\";const c=new r(null,!0),h=e(a.size),m=e(a.maxSize),u=e(a.lineWidth),f=1;function y(e){const t=e?.size;if(\"number\"==typeof t)return{width:t,height:t};return{width:null!=t&&\"object\"==typeof t&&\"width\"in t?t.width:null,height:null!=t&&\"object\"==typeof t&&\"height\"in t?t.height:null}}async function d(e,r={}){const{node:a,opacity:d,symbolConfig:g}=r,p=null!=g&&\"object\"==typeof g&&\"isSquareFill\"in g&&g.isSquareFill,w=r.cimOptions||r,b=w.geometryType||o(e?.data?.symbol),M=y(r),{feature:j,fieldMap:v}=w;if(null==M.width||null==M.height){const t=await i.resolveSymbolOverrides(e.data,j,null,v,b);if(!t)return null;(e=e.clone()).data={type:\"CIMSymbolReference\",symbol:t},e.data.primitiveOverrides=void 0;const r=[];l.fetchResources(t,c.resourceManager,r),l.fetchFonts(t,c.resourceManager,r),r.length>0&&await Promise.all(r);const n=l.getEnvelope(t,null,c.resourceManager),o=n?.width,a=n?.height;M.width=\"esriGeometryPolygon\"===b?h:\"esriGeometryPolyline\"===b?u:null!=o&&isFinite(o)?Math.min(o,m):h,M.height=\"esriGeometryPolygon\"===b?h:null!=a&&isFinite(a)?Math.max(Math.min(a,m),f):h}const S=await c.rasterizeCIMSymbolAsync(e,j,M,p||\"esriGeometryPolygon\"!==b?n.Preview:n.Legend,v,b);if(!S)return null;const{width:C,height:L}=S,I=document.createElement(\"canvas\");I.width=C,I.height=L;I.getContext(\"2d\").putImageData(S,0,0);const P=t(M.width),x=t(M.height),z=new Image(P,x);z.src=I.toDataURL(),z.ariaLabel=r.ariaLabel??null,z.alt=r.ariaLabel??\"\",null!=d&&(z.style.opacity=`${d}`);let F=z;if(null!=r.effectView){const e={shape:{type:\"image\",x:0,y:0,width:P,height:x,src:z.src},fill:null,stroke:null,offset:[0,0]};F=s([[e]],[P,x],{effectView:r.effectView,ariaLabel:r.ariaLabel})}return a&&F&&a.appendChild(F),F}export{d as previewCIMSymbol};\n"],"names":["c","r","h","e","a","m","u","y","t","size","width","height","async","d","node","opacity","symbolConfig","g","p","isSquareFill","w","cimOptions","b","geometryType","o","data","symbol","M","feature","j","fieldMap","v","i","clone","type","primitiveOverrides","l","resourceManager","length","Promise","all","n","isFinite","Math","min","max","S","rasterizeCIMSymbolAsync","C","L","I","document","createElement","getContext","putImageData","P","x","z","Image","src","toDataURL","ariaLabel","alt","style","F","effectView","shape","fill","stroke","offset","s","appendChild"],"sourceRoot":""}