{"version":3,"file":"static/js/64075.5ed6c63b.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/arcade/functions/knowledgegraph.js","../node_modules/@arcgis/core/arcade/portalUtils.js","../node_modules/@arcgis/core/rest/geometryService/project.js","../node_modules/@arcgis/core/rest/knowledgeGraph/Entity.js","../node_modules/@arcgis/core/rest/knowledgeGraph/GraphNamedObject.js","../node_modules/@arcgis/core/rest/knowledgeGraph/GraphObject.js","../node_modules/@arcgis/core/rest/knowledgeGraph/GraphQuery.js","../node_modules/@arcgis/core/rest/knowledgeGraph/GraphQueryStreaming.js","../node_modules/@arcgis/core/rest/knowledgeGraph/ObjectValue.js","../node_modules/@arcgis/core/rest/knowledgeGraph/Path.js","../node_modules/@arcgis/core/rest/knowledgeGraph/Relationship.js","../node_modules/@arcgis/core/rest/support/ProjectParameters.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../config.js\";import r from\"../ArcadePortal.js\";import t from\"../Dictionary.js\";import{ArcadeExecutionError as n,ExecutionErrorCodes as o}from\"../executionError.js\";import{B as a,w as i,o as s,J as p,K as l,e as c,f,g as u,n as m,h as d}from\"../../chunks/languageUtils.js\";import{getPortal as h}from\"../portalUtils.js\";import g from\"../../geometry/Geometry.js\";import{load as w,project as y,isLoaded as j}from\"../../geometry/projectionUtils.js\";import S from\"../../geometry/SpatialReference.js\";import{webMercatorToGeographic as v,geographicToWebMercator as R}from\"../../geometry/support/webMercatorUtils.js\";import G from\"../../portal/Portal.js\";import x from\"../../portal/PortalItem.js\";import{project as k}from\"../../rest/geometryService/project.js\";import P from\"../../rest/knowledgeGraph/Entity.js\";import b from\"../../rest/knowledgeGraph/GraphQueryStreaming.js\";import I from\"../../rest/knowledgeGraph/ObjectValue.js\";import W from\"../../rest/knowledgeGraph/Path.js\";import D from\"../../rest/knowledgeGraph/Relationship.js\";import T from\"../../rest/support/ProjectParameters.js\";import{isString as U,isArray as q,isNumber as A,isDate as J}from\"../../support/guards.js\";let N=null;async function F(r){const t=e.geometryServiceUrl??\"\";if(!t){j()||await w();for(const e of r)e.container[e.indexer]=y(e.container[e.indexer],S.WGS84);return}const n=r.map((e=>e.container[e.indexer])),o=new T({geometries:n,outSpatialReference:S.WGS84}),a=await k(t,o);for(let e=0;e<a.length;e++){const t=r[e];t.container[t.indexer]=a[e]}}async function M(e,r){const t=new x({portal:e,id:r});return await t.load(),null===N&&(N=await import(\"../../rest/knowledgeGraphService.js\")),await N.fetchKnowledgeGraph(t.url)}function Q(e,r,t,n,o){if(null===e)return null;if(U(e)||A(e))return e;if(c(e))return e.toJSDate();if(c(e))return e.toJSDate();if(f(e))return e.toStorageFormat();if(u(e))return e.toStorageString();if(m(e)){const a={};for(const i of e.keys())a[i]=Q(e.field(i),r,t,n,o),a[i]instanceof g&&o.push({container:a,indexer:i});return a}if(q(e)){const a=e.map((e=>Q(e,r,t,n,o)));for(let e=0;e<a.length;e++)a[e]instanceof g&&o.push({container:a,indexer:e});return a}return d(e)?e.spatialReference.isWGS84?e:e.spatialReference.isWebMercator&&r?v(e):e:void 0}function B(e,r){if(!e)return e;if(e.spatialReference.isWGS84&&r.spatialReference.isWebMercator)return R(e);if(e.spatialReference.equals(r.spatialReference))return e;throw new n(r,o.WrongSpatialReference,null)}function E(e,r){if(!e)return null;const t={};for(const n in e)t[n]=K(e[n],r);return t}function K(e,r){return null===e?null:q(e)?e.map((e=>K(e,r))):e instanceof P?{graphTypeName:e.typeName,id:e.id,graphType:\"entity\",properties:E(e.properties,r)}:e instanceof I?{graphType:\"object\",properties:E(e.properties,r)}:e instanceof D?{graphTypeName:e.typeName,id:e.id,graphType:\"relationship\",originId:e.originId??null,destinationId:e.destinationId??null,properties:E(e.properties,r)}:e instanceof W?{graphType:\"path\",path:e.path?e.path.map((e=>K(e,r))):null}:d(e)?B(e,r):U(e)||A(e)||J(e)?e:null}function V(e){\"async\"===e.mode&&(e.functions.knowledgegraphbyportalitem=function(t,s){return e.standardFunctionAsync(t,s,((e,p,l)=>{if(a(l,2,2,t,s),null===l[0])throw new n(t,o.PortalRequired,s);if(l[0]instanceof r){const e=i(l[1]);let r;r=t.services?.portal?t.services.portal:G.getDefault();return M(h(l[0],r),e)}if(!1===U(l[0]))throw new n(t,o.InvalidParameter,s);const c=i(l[0]);return M(t.services?.portal??G.getDefault(),c)}))},e.signatures.push({name:\"knowledgegraphbyportalitem\",min:2,max:2}),e.functions.querygraph=function(r,i){return e.standardFunctionAsync(r,i,(async(e,c,f)=>{a(f,2,4,r,i);const u=f[0];if(!s(u))throw new n(r,o.InvalidParameter,i);const m=f[1];if(!U(m))throw new n(r,o.InvalidParameter,i);null===N&&(N=await import(\"../../rest/knowledgeGraphService.js\"));let d=null;const h=p(f[2],null);if(!(h instanceof t||null===h))throw new n(r,o.InvalidParameter,i);if(h){let e=[];d=Q(h,!0,!1,r,e),e=e.filter((e=>!e.container[e.indexer].spatialReference.isWGS84)),e.length>0&&await F(e)}const g=p(f[3],!1),w=new b({openCypherQuery:m,bindParameters:d,provenanceBehavior:g?\"include\":\"exclude\"});(u?.serviceDefinition?.currentVersion??11.3)>11.2&&(w.outputSpatialReference=r.spatialReference);const y=(await N.executeQueryStreaming(u,w)).resultRowsStream.getReader(),j=[];try{for(;;){const{done:e,value:t}=await y.read();if(e)break;if(q(t))for(const n of t)j.push(K(n,r));else{const e=[];for(const n of t)e.push(K(t[n],r));j.push(e)}}}catch(S){throw S}return t.convertJsonToArcade(j,l(r),!1,!0)}))},e.signatures.push({name:\"querygraph\",min:2,max:4}))}export{V as registerFunctions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport r from\"../portal/Portal.js\";function l(l,t){if(null===l)return t;return new r({url:l.field(\"url\")})}export{l as getPortal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport r from\"../../request.js\";import{ensureType as o}from\"../../core/accessorSupport/ensureType.js\";import{getJsonType as t}from\"../../geometry/support/jsonUtils.js\";import{parseUrl as e,asValidOptions as s}from\"../utils.js\";import{decodeGeometries as p}from\"./utils.js\";import m from\"../support/ProjectParameters.js\";const i=o(m);async function n(o,m,n){m=i(m);const u=e(o),c={...u.query,f:\"json\",...m.toJSON()},j=m.outSpatialReference,a=t(m.geometries[0]),f=s(c,n);return r(u.path+\"/project\",f).then((({data:{geometries:r}})=>p(r,a,j)))}export{n as project};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import e from\"../../geometry/Point.js\";import s from\"./GraphNamedObject.js\";let p=class extends s{constructor(o){super(o),this.layoutGeometry=null}};o([r({type:e,json:{write:!0}})],p.prototype,\"layoutGeometry\",void 0),p=o([t(\"esri.rest.knowledgeGraph.Entity\")],p);export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import e from\"./GraphObject.js\";let s=class extends e{constructor(r){super(r),this.typeName=null,this.id=null}};r([o({type:String,json:{write:!0}})],s.prototype,\"typeName\",void 0),r([o({type:String,json:{write:!0}})],s.prototype,\"id\",void 0),s=r([t(\"esri.rest.knowledgeGraph.GraphNamedObject\")],s);export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import o from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(r){super(r),this.properties=null}};r([s({json:{write:!0}})],t.prototype,\"properties\",void 0),t=r([e(\"esri.rest.knowledgeGraph.GraphObject\")],t);export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import o from\"../../core/Accessor.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends o{constructor(r){super(r),this.openCypherQuery=\"\"}};r([e()],p.prototype,\"openCypherQuery\",void 0),p=r([s(\"esri.rest.knowledgeGraph.GraphQuery\")],p);export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../geometry/SpatialReference.js\";import a from\"./GraphQuery.js\";let s=class extends a{constructor(r){super(r),this.bindParameters=null,this.bindGeometryQuantizationParameters=null,this.outputQuantizationParameters=null,this.outputSpatialReference=null,this.provenanceBehavior=null}};r([e()],s.prototype,\"bindParameters\",void 0),r([e()],s.prototype,\"bindGeometryQuantizationParameters\",void 0),r([e()],s.prototype,\"outputQuantizationParameters\",void 0),r([e({type:o})],s.prototype,\"outputSpatialReference\",void 0),r([e()],s.prototype,\"provenanceBehavior\",void 0),s=r([t(\"esri.rest.knowledgeGraph.GraphQueryStreaming\")],s);export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"./GraphObject.js\";let e=class extends s{constructor(r){super(r)}};e=r([o(\"esri.rest.knowledgeGraph.ObjectValue\")],e);export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import o from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import e from\"./GraphObject.js\";let p=class extends o{constructor(r){super(r),this.path=[]}};r([s({type:[e],json:{write:!0}})],p.prototype,\"path\",void 0),p=r([t(\"esri.rest.knowledgeGraph.Path\")],p);export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import e from\"../../geometry/Polyline.js\";import s from\"./GraphNamedObject.js\";let i=class extends s{constructor(o){super(o),this.originId=null,this.destinationId=null,this.layoutGeometry=null}};o([r({type:String,json:{write:!0}})],i.prototype,\"originId\",void 0),o([r({type:String,json:{write:!0}})],i.prototype,\"destinationId\",void 0),o([r({type:e,json:{write:!0}})],i.prototype,\"layoutGeometry\",void 0),i=o([t(\"esri.rest.knowledgeGraph.Relationship\")],i);export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import o from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"../../geometry/SpatialReference.js\";import{getJsonType as i}from\"../../geometry/support/jsonUtils.js\";import{srToRESTValue as a}from\"../../geometry/support/spatialReferenceUtils.js\";let p=class extends o{constructor(r){super(r),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const r=this.geometries.map((r=>r.toJSON())),o=this.geometries[0],t={};return t.outSR=a(this.outSpatialReference),t.inSR=a(o.spatialReference),t.geometries=JSON.stringify({geometryType:i(o),geometries:r}),this.transformation&&(t.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(t.transformForward=this.transformForward),t}};r([t()],p.prototype,\"geometries\",void 0),r([t({type:s,json:{read:{source:\"outSR\"}}})],p.prototype,\"outSpatialReference\",void 0),r([t()],p.prototype,\"transformation\",void 0),r([t()],p.prototype,\"transformForward\",void 0),p=r([e(\"esri.rest.support.ProjectParameters\")],p);export{p as default};\n"],"names":["N","async","M","e","r","t","x","portal","id","load","fetchKnowledgeGraph","url","Q","n","o","U","A","c","toJSDate","f","toStorageFormat","u","toStorageString","m","a","i","keys","field","g","push","container","indexer","q","map","length","d","spatialReference","isWGS84","isWebMercator","v","E","K","P","graphTypeName","typeName","graphType","properties","I","D","originId","destinationId","W","path","R","equals","WrongSpatialReference","B","J","V","mode","functions","knowledgegraphbyportalitem","s","standardFunctionAsync","p","l","PortalRequired","services","G","getDefault","h","InvalidParameter","signatures","name","min","max","querygraph","filter","geometryServiceUrl","j","w","y","S","WGS84","T","geometries","outSpatialReference","k","F","b","openCypherQuery","bindParameters","provenanceBehavior","serviceDefinition","currentVersion","outputSpatialReference","executeQueryStreaming","resultRowsStream","getReader","done","value","read","convertJsonToArcade","query","toJSON","then","data","constructor","super","this","layoutGeometry","type","json","write","prototype","String","bindGeometryQuantizationParameters","outputQuantizationParameters","transformation","transformForward","outSR","inSR","JSON","stringify","geometryType","wkid","source"],"sourceRoot":""}