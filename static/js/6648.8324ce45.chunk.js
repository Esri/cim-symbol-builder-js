"use strict";(globalThis.webpackChunkmy_app=globalThis.webpackChunkmy_app||[]).push([[6648],{91340:(e,t,s)=>{s.d(t,{aX:()=>I,or:()=>N});var n=s(42265),i=s(10064),r=s(32718),o=s(80885),l=s(29909),a=s(76335),h=s(92975),c=s(81753),u=(s(59486),s(76200)),f=s(77981),p=s(23084);var g=s(35995),y=s(35594);const m=r.Z.getLogger("esri.geometry.support.normalizeUtils");function d(e){return"polygon"===e[0].type}function x(e){return"polyline"===e[0].type}function Z(e,t,s){if(t){const t=function(e,t){if(!(e instanceof l.Z||e instanceof o.Z)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw m.error(e),new i.Z(e)}const s=(0,a.x3)(e),n=[];for(const i of s){const e=[];n.push(e),e.push([i[0][0],i[0][1]]);for(let s=0;s<i.length-1;s++){const n=i[s][0],r=i[s][1],o=i[s+1][0],l=i[s+1][1],a=Math.sqrt((o-n)*(o-n)+(l-r)*(l-r)),h=(l-r)/a,c=(o-n)/a,u=a/t;if(u>1){for(let l=1;l<=u-1;l++){const s=l*t,i=c*s+n,o=h*s+r;e.push([i,o])}const s=(a+Math.floor(u-1)*t)/2,i=c*s+n,o=h*s+r;e.push([i,o])}e.push([o,l])}}return function(e){return"polygon"===e.type}(e)?new o.Z({rings:n,spatialReference:e.spatialReference}):new l.Z({paths:n,spatialReference:e.spatialReference})}(e,1e6);e=(0,c.Sx)(t,!0)}return s&&(e=(0,a.Sy)(e,s)),e}function w(e,t,s){if(Array.isArray(e)){const n=e[0];if(n>t){const s=(0,a.XZ)(n,t);e[0]=n+s*(-2*t)}else if(n<s){const t=(0,a.XZ)(n,s);e[0]=n+t*(-2*s)}}else{const n=e.x;if(n>t){const s=(0,a.XZ)(n,t);e=e.clone().offset(s*(-2*t),0)}else if(n<s){const t=(0,a.XZ)(n,s);e=e.clone().offset(t*(-2*s),0)}}return e}function b(e,t){let s=-1;for(let n=0;n<t.cutIndexes.length;n++){const i=t.cutIndexes[n],r=t.geometries[n],o=(0,a.x3)(r);for(let e=0;e<o.length;e++){const t=o[e];t.some((s=>{if(s[0]<180)return!0;{let s=0;for(let e=0;e<t.length;e++){const n=t[e][0];s=n>s?n:s}s=Number(s.toFixed(9));const n=-360*(0,a.XZ)(s,180);for(let i=0;i<t.length;i++){const t=r.getPoint(e,i);r.setPoint(e,i,t.clone().offset(n,0))}return!0}}))}if(i===s){if(d(e))for(const t of(0,a.x3)(r))e[i]=e[i].addRing(t);else if(x(e))for(const t of(0,a.x3)(r))e[i]=e[i].addPath(t)}else s=i,e[i]=r}return e}async function I(e,t,s){if(!Array.isArray(e))return I([e],t);t&&"string"!=typeof t&&m.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const i="string"==typeof t?t:t?.url??n.Z.geometryServiceUrl;let r,d,x,N,X,R,q,F,S=0;const T=[],L=[];for(const n of e)if(null!=n)if(r||(r=n.spatialReference,d=(0,h.C5)(r),x=r.isWebMercator,R=x?102100:4326,N=a.UZ[R].maxX,X=a.UZ[R].minX,q=a.UZ[R].plus180Line,F=a.UZ[R].minus180Line),d)if("mesh"===n.type)L.push(n);else if("point"===n.type)L.push(w(n.clone(),N,X));else if("multipoint"===n.type){const e=n.clone();e.points=e.points.map((e=>w(e,N,X))),L.push(e)}else if("extent"===n.type){const e=n.clone()._normalize(!1,!1,d);L.push(e.rings?new o.Z(e):e)}else if(n.extent){const e=n.extent,t=(0,a.XZ)(e.xmin,X)*(2*N);let s=0===t?n.clone():(0,a.Sy)(n.clone(),t);e.offset(t,0),e.intersects(q)&&e.xmax!==N?(S=e.xmax>S?e.xmax:S,s=Z(s,x),T.push(s),L.push("cut")):e.intersects(F)&&e.xmin!==X?(S=e.xmax*(2*N)>S?e.xmax*(2*N):S,s=Z(s,x,360),T.push(s),L.push("cut")):L.push(s)}else L.push(n.clone());else L.push(n);else L.push(n);let v=(0,a.XZ)(S,N),J=-90;const M=v,j=new l.Z;for(;v>0;){const e=360*v-180;j.addPath([[e,J],[e,-1*J]]),J*=-1,v--}if(T.length>0&&M>0){const t=b(T,await async function(e,t,s,n){const i=(0,p.en)(e),r=t[0].spatialReference,o={...n,query:{...i.query,f:"json",sr:JSON.stringify(r),target:JSON.stringify({geometryType:(0,f.Ji)(t[0]),geometries:t}),cutter:JSON.stringify(s)}},l=await(0,u.default)(i.path+"/cut",o),{cutIndexes:a,geometries:h=[]}=l.data;return{cutIndexes:a,geometries:h.map((e=>{const t=(0,f.im)(e);return t.spatialReference=r,t}))}}(i,T,j,s)),n=[],r=[];for(let s=0;s<L.length;s++){const i=L[s];if("cut"!==i)r.push(i);else{const i=t.shift(),o=e[s];null!=o&&"polygon"===o.type&&o.rings&&o.rings.length>1&&i.rings.length>=o.rings.length?(n.push(i),r.push("simplify")):r.push(x?(0,c.$)(i):i)}}if(!n.length)return r;const o=await async function(e,t,s){const n="string"==typeof e?(0,g.mN)(e):e,i=t[0].spatialReference,r=(0,f.Ji)(t[0]),o={...s,query:{...n.query,f:"json",sr:i.wkid??JSON.stringify(i),geometries:JSON.stringify((0,y.F)(t))}},{data:l}=await(0,u.default)(n.path+"/simplify",o);return(0,y.o)(l.geometries,r,i)}(i,n,s),l=[];for(let e=0;e<r.length;e++){const t=r[e];"simplify"!==t?l.push(t):l.push(x?(0,c.$)(o.shift()):o.shift())}return l}const G=[];for(let n=0;n<L.length;n++){const e=L[n];if("cut"!==e)G.push(e);else{const e=T.shift();G.push(!0===x?(0,c.$)(e):e)}}return G}function N(e,t){const s=(0,h.C5)(t);if(s){const[t,n]=s.valid,i=n-t;if(e<t)for(;e<t;)e+=i;if(e>n)for(;e>n;)e-=i}return e}},76335:(e,t,s)=>{s.d(t,{Sy:()=>a,UZ:()=>o,XZ:()=>l,x3:()=>h});var n=s(29909),i=s(78952),r=s(77981);const o={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new n.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:i.Z.WebMercator}),minus180Line:new n.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:i.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new n.Z({paths:[[[180,-180],[180,180]]],spatialReference:i.Z.WGS84}),minus180Line:new n.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:i.Z.WGS84})}};function l(e,t){return Math.ceil((e-t)/(2*t))}function a(e,t){const s=h(e);for(const n of s)for(const e of n)e[0]+=t;return e}function h(e){return(0,r.oU)(e)?e.rings:e.paths}},3182:(e,t,s)=>{s.d(t,{S6:()=>i,nd:()=>r,u_:()=>n});class n{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.geometry=e,this.attributes=t,this.centroid=s,this.objectId=n,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const e=new n(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e.geohashX=this.geohashX,e.geohashY=this.geohashY,e}}function i(e){return!(null==e.geometry||!e.geometry.coords||!e.geometry.coords.length)}class r extends n{}},6908:(e,t,s)=>{s.d(t,{Z:()=>n});class n{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const e=new n;return e.objectIdFieldName=this.objectIdFieldName,e.globalIdFieldName=this.globalIdFieldName,e.geohashFieldName=this.geohashFieldName,e.geometryProperties=this.geometryProperties,e.geometryType=this.geometryType,e.spatialReference=this.spatialReference,e.hasZ=this.hasZ,e.hasM=this.hasM,e.features=this.features,e.fields=this.fields,e.transform=this.transform,e.exceededTransferLimit=this.exceededTransferLimit,e.uniqueIdField=this.uniqueIdField,e.queryGeometry=this.queryGeometry,e.queryGeometryType=this.queryGeometryType,e}}},35594:(e,t,s)=>{s.d(t,{F:()=>i,o:()=>r});var n=s(77981);function i(e){return{geometryType:(0,n.Ji)(e[0]),geometries:e.map((e=>e.toJSON()))}}function r(e,t,s){const i=(0,n.q9)(t);return e.map((e=>{const t=i.fromJSON(e);return t.spatialReference=s,t}))}}}]);
//# sourceMappingURL=6648.8324ce45.chunk.js.map