{"version":3,"file":"static/js/42977.be2ce8f2.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/ByteSizeUnit.js","../node_modules/@arcgis/core/layers/TileLayer.js","../node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js","../node_modules/@arcgis/core/layers/support/TileInfoTilemapCache.js","../node_modules/@arcgis/core/layers/support/TilemapCache.js","../node_modules/@arcgis/core/layers/support/Tilemap.js","../node_modules/@arcgis/core/geometry/support/UintArray.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nvar E;!function(E){E[E.KILOBYTES=1024]=\"KILOBYTES\",E[E.MEGABYTES=1048576]=\"MEGABYTES\",E[E.GIGABYTES=1073741824]=\"GIGABYTES\"}(E||(E={}));export{E as ByteSizeUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../request.js\";import t from\"../core/Error.js\";import{loadAll as s}from\"../core/loadAll.js\";import{MultiOriginJSONMixin as i}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as o}from\"../core/promiseUtils.js\";import{urlToObject as a,objectToQuery as l,makeAbsolute as n}from\"../core/urlUtils.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import{cast as c}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{reader as u}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as h}from\"../core/accessorSupport/decorators/writer.js\";import d from\"../geometry/SpatialReference.js\";import y from\"./Layer.js\";import{APIKeyMixin as f}from\"./mixins/APIKeyMixin.js\";import{ArcGISCachedService as v}from\"./mixins/ArcGISCachedService.js\";import{ArcGISMapService as g}from\"./mixins/ArcGISMapService.js\";import{ArcGISService as S}from\"./mixins/ArcGISService.js\";import{BlendLayer as _}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as j}from\"./mixins/CustomParametersMixin.js\";import{OperationalLayer as T}from\"./mixins/OperationalLayer.js\";import{PortalLayer as b}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as w}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as O}from\"./mixins/ScaleRangeLayer.js\";import{SublayersOwner as L}from\"./mixins/SublayersOwner.js\";import{parse as R,isHostedAgolService as U,isArcGISUrl as P}from\"./support/arcgisLayerUrl.js\";import{url as x}from\"./support/commonProperties.js\";import{createTileBitmap as A}from\"./support/imageBitmapUtils.js\";import M from\"./support/Sublayer.js\";var W;const I=[\"Canvas/World_Dark_Gray_Base\",\"Canvas/World_Dark_Gray_Reference\",\"Canvas/World_Light_Gray_Base\",\"Canvas/World_Light_Gray_Reference\",\"Elevation/World_Hillshade\",\"Elevation/World_Hillshade_Dark\",\"Ocean/World_Ocean_Base\",\"Ocean/World_Ocean_Reference\",\"Ocean_Basemap\",\"Reference/World_Boundaries_and_Places\",\"Reference/World_Boundaries_and_Places_Alternate\",\"Reference/World_Transportation\",\"World_Imagery\",\"World_Street_Map\",\"World_Topo_Map\"];let B=W=class extends(_(O(L(v(g(T(b(S(i(w(f(j(y))))))))))))){constructor(...e){super(...e),this.listMode=\"show\",this.isReference=null,this.operationalLayerType=\"ArcGISTiledMapServiceLayer\",this.resampling=!0,this.sourceJSON=null,this.spatialReference=null,this.path=null,this.sublayers=null,this.type=\"tile\",this.url=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){const r=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Map Service\"]},e).catch(o).then((()=>this._fetchService(r)))),Promise.resolve(this)}get attributionDataUrl(){const e=this.parsedUrl?.path.toLowerCase();return e?this._getDefaultAttribution(this._getMapName(e)):null}readSpatialReference(e,r){return(e=e||r.tileInfo?.spatialReference)&&d.fromJSON(e)}writeSublayers(e,r,t,s){if(!this.loaded||!e)return;const i=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray(),o=[],a={writeSublayerStructure:!1,...s};i.forEach((e=>{const r=e.write({},a);o.push(r)}));o.some((e=>Object.keys(e).length>1))&&(r.layers=o)}get tileServers(){return this._getDefaultTileServers(this.parsedUrl?.path)}castTileServers(e){return Array.isArray(e)?e.map((e=>a(e).path)):null}fetchTile(e,t,s,i={}){const{signal:o}=i,a=this.getTileUrl(e,t,s),l={responseType:\"image\",signal:o,query:{...this.refreshParameters}};return r(a,l).then((e=>e.data))}async fetchImageBitmapTile(e,t,s,i={}){const{signal:o}=i;if(this.fetchTile!==W.prototype.fetchTile){const r=await this.fetchTile(e,t,s,i);return A(r,e,t,s,o)}const a=this.getTileUrl(e,t,s),l={responseType:\"blob\",signal:o,query:{...this.refreshParameters}},{data:n}=await r(a,l);return A(n,e,t,s,o)}getTileUrl(e,r,t){const s=!this.capabilities.operations.supportsTileMap&&this.supportsBlankTile,i=l({...this.parsedUrl?.query,blankTile:!s&&null,...this.customParameters,token:this.apiKey}),o=this.tileServers;return`${o&&o.length?o[r%o.length]:this.parsedUrl?.path}/tile/${e}/${r}/${t}${i?\"?\"+i:\"\"}`}loadAll(){return s(this,(e=>{e(this.allSublayers)}))}_fetchService(e){return new Promise(((s,i)=>{if(this.sourceJSON){if(null!=this.sourceJSON.bandCount&&null!=this.sourceJSON.pixelSizeX)throw new t(\"tile-layer:unsupported-url\",\"use ImageryTileLayer to open a tiled image service\");return void s({data:this.sourceJSON})}if(!this.parsedUrl)throw new t(\"tile-layer:undefined-url\",\"layer's url is not defined\");const o=R(this.parsedUrl.path);if(null!=o&&\"ImageServer\"===o.serverType)throw new t(\"tile-layer:unsupported-url\",\"use ImageryTileLayer to open a tiled image service\");r(this.parsedUrl.path,{query:{f:\"json\",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e}).then(s,i)})).then((r=>{let t=this.url;if(r.ssl&&(t=this.url=t.replace(/^http:/i,\"https:\")),this.sourceJSON=r.data,this.read(r.data,{origin:\"service\",url:this.parsedUrl}),10.1===this.version&&!U(t))return this._fetchServerVersion(t,e).then((e=>{this.read({currentVersion:e})})).catch((()=>{}))}))}_fetchServerVersion(e,s){if(!P(e))return Promise.reject();const i=e.replace(/(.*\\/rest)\\/.*/i,\"$1\")+\"/info\";return r(i,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:s}).then((e=>{if(e.data&&e.data.currentVersion)return e.data.currentVersion;throw new t(\"tile-layer:version-not-available\")}))}_getMapName(e){const r=e.match(/^(?:https?:)?\\/\\/(server\\.arcgisonline\\.com|services\\.arcgisonline\\.com|ibasemaps-api\\.arcgis\\.com)\\/arcgis\\/rest\\/services\\/([^\\/]+(\\/[^\\/]+)*)\\/mapserver/i);return r?r[2]:void 0}_getDefaultAttribution(e){if(null==e)return null;let r;e=e.toLowerCase();for(let t=0,s=I.length;t<s;t++)if(r=I[t],r.toLowerCase().includes(e))return n(\"//static.arcgis.com/attribution/\"+r);return null}_getDefaultTileServers(e){if(null==e)return[];const r=-1!==e.search(/^(?:https?:)?\\/\\/server\\.arcgisonline\\.com/i),t=-1!==e.search(/^(?:https?:)?\\/\\/services\\.arcgisonline\\.com/i);return r||t?[e,e.replace(r?/server\\.arcgisonline/i:/services\\.arcgisonline/i,r?\"services.arcgisonline\":\"server.arcgisonline\")]:[]}get hasOverriddenFetchTile(){return!this.fetchTile[C]}};e([p({readOnly:!0})],B.prototype,\"attributionDataUrl\",null),e([p({type:[\"show\",\"hide\",\"hide-children\"]})],B.prototype,\"listMode\",void 0),e([p({json:{read:!0,write:!0}})],B.prototype,\"blendMode\",void 0),e([p({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],B.prototype,\"isReference\",void 0),e([p({readOnly:!0,type:[\"ArcGISTiledMapServiceLayer\"]})],B.prototype,\"operationalLayerType\",void 0),e([p({type:Boolean})],B.prototype,\"resampling\",void 0),e([p()],B.prototype,\"sourceJSON\",void 0),e([p({type:d})],B.prototype,\"spatialReference\",void 0),e([u(\"spatialReference\",[\"spatialReference\",\"tileInfo\"])],B.prototype,\"readSpatialReference\",null),e([p({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],B.prototype,\"path\",void 0),e([p({readOnly:!0})],B.prototype,\"sublayers\",void 0),e([h(\"sublayers\",{layers:{type:[M]}})],B.prototype,\"writeSublayers\",null),e([p({json:{read:!1,write:!1}})],B.prototype,\"popupEnabled\",void 0),e([p()],B.prototype,\"tileServers\",null),e([c(\"tileServers\")],B.prototype,\"castTileServers\",null),e([p({readOnly:!0,json:{read:!1}})],B.prototype,\"type\",void 0),e([p(x)],B.prototype,\"url\",void 0),B=W=e([m(\"esri.layers.TileLayer\")],B);const C=Symbol(\"default-fetch-tile\");B.prototype.fetchTile[C]=!0;const N=B;export{N as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{reader as r}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"../support/TileInfo.js\";import i from\"../support/TileInfoTilemapCache.js\";import{TilemapCache as s}from\"../support/TilemapCache.js\";import a from\"../../geometry/SpatialReference.js\";const p=p=>{let n=class extends p{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(e,o){return null!=o.minLOD&&null!=o.maxLOD?e:0}readMaxScale(e,o){return null!=o.minLOD&&null!=o.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,o,r){const t=o.capabilities?.includes(\"Tilemap\");let{minLOD:a,maxLOD:p,minScale:n,maxScale:c}=o;if(null==a&&null==p&&0!==n&&0!==c){const e=e=>Math.round(1e4*e)/1e4;n=e(n||o.tileInfo.lods[0].scale),c=e(c||o.tileInfo.lods[o.tileInfo.lods.length-1].scale);for(const r of o.tileInfo.lods){const o=e(r.scale);a=o>=n?r.level:a,p=o>=c?r.level:p}}if(t)return new s({layer:this,minLOD:a,maxLOD:p});if(o.tileInfo){const e=new l;return e.read(o.tileInfo,r),new i(e,a,p)}return null}};return e([o({json:{read:{source:\"copyrightText\"}}})],n.prototype,\"copyright\",void 0),e([o()],n.prototype,\"minScale\",void 0),e([r(\"service\",\"minScale\")],n.prototype,\"readMinScale\",null),e([o()],n.prototype,\"maxScale\",void 0),e([r(\"service\",\"maxScale\")],n.prototype,\"readMaxScale\",null),e([o({type:a})],n.prototype,\"spatialReference\",void 0),e([o({readOnly:!0})],n.prototype,\"supportsBlankTile\",null),e([o({type:l})],n.prototype,\"tileInfo\",void 0),e([o()],n.prototype,\"tilemapCache\",void 0),e([r(\"service\",\"tilemapCache\",[\"capabilities\",\"tileInfo\"])],n.prototype,\"readTilemapCache\",null),e([o()],n.prototype,\"version\",void 0),n=e([t(\"esri.layers.mixins.ArcGISCachedService\")],n),n};export{p as ArcGISCachedService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport l from\"../../core/Error.js\";import{waitTick as t,isAbortError as i}from\"../../core/promiseUtils.js\";class e{constructor(l,t=0,i=l.lods[l.lods.length-1].level){this.tileInfo=l,this.minLOD=t,this.maxLOD=i,l.lodAt(t)||(this.minLOD=l.lods[0].level),l.lodAt(i)||(this.maxLOD=l.lods[l.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(l,t,i){const e=this.tileInfo?.lodAt(l);return!e||l<this.minLOD||l>this.maxLOD?\"unavailable\":e.cols&&e.rows?i>=e.cols[0]&&i<=e.cols[1]&&t>=e.rows[0]&&t<=e.rows[1]?\"unknown\":\"unavailable\":\"unknown\"}async fetchAvailability(i,e,o,s){await t(s);const a=this.getAvailability(i,e,o);if(\"unavailable\"===a)throw new l(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:i,row:e,col:o});return a}async fetchAvailabilityUpsample(l,e,o,s,a){await t(a),s.level=l,s.row=e,s.col=o;const n=this.tileInfo;return n.updateTileInfo(s),this.fetchAvailability(l,e,o,a).catch((l=>{if(i(l))throw l;if(n.upsampleTile(s))return this.fetchAvailabilityUpsample(s.level,s.row,s.col,s,a);throw l}))}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import{ByteSizeUnit as r}from\"../../core/ByteSizeUnit.js\";import s from\"../../core/Error.js\";import{makeHandle as l}from\"../../core/handleUtils.js\";import{LRUCache as o}from\"../../core/LRUCache.js\";import a from\"../../core/PooledArray.js\";import{onAbort as n,createAbortError as c,isAbortError as h,isAborted as p}from\"../../core/promiseUtils.js\";import{watch as m,initial as f}from\"../../core/reactiveUtils.js\";import{waitTicks as u}from\"../../core/scheduling.js\";import{objectToQuery as v}from\"../../core/urlUtils.js\";import{property as y}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{TileKey as _}from\"./TileKey.js\";import{tilemapDefinitionId as b,Tilemap as g}from\"./Tilemap.js\";var w;let T=w=class extends i{constructor(e){super(e),this._pendingTilemapRequests={},this.request=t,this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new o(2*r.MEGABYTES),this.addHandles([m((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition()),f)])}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}fetchTilemap(e,t,i,r){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return Promise.reject(new s(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const l=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,i,l);if(o)return Promise.resolve(o);const a=r?.signal;return r={...r,signal:null},new Promise(((e,t)=>{n(a,(()=>t(c())));const i=b(l);let s=this._pendingTilemapRequests[i];if(!s){s=g.fromDefinition(l,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>{delete this._pendingTilemapRequests[i]};this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)}))}getAvailability(e,t,i){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return\"unavailable\";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):\"unknown\"}fetchAvailability(e,t,i,r){return!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD?Promise.reject(new s(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i})):this.fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof g){const l=r.getAvailability(t,i);if(\"unavailable\"===l)throw new s(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i});return l}if(h(r))throw r;return\"unknown\"}))}fetchAvailabilityUpsample(e,t,i,r,s){r.level=e,r.row=t,r.col=i;const l=this.layer.tileInfo;l.updateTileInfo(r);const o=this.fetchAvailability(e,t,i,s).catch((e=>{if(h(e))throw e;if(l.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,s);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,s,o),o}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,s,o){if(!this._prefetchingEnabled||null==e)return;const a=`prefetch-${e}`;if(this.hasHandles(a))return;const n=new AbortController;o.then((()=>n.abort()),(()=>n.abort()));let c=!1;const h=l((()=>{c||(c=!0,n.abort())}));if(this.addHandles(h,a),await u(10,n.signal).catch((()=>{})),c||(c=!0,this.removeHandles(a)),p(n))return;const m=new _(e,t,i,r),f={...s,signal:n.signal},v=this.layer.tileInfo;for(let l=0;w._prefetches.length<w._maxPrefetch&&v.upsampleTile(m);++l){const e=this.fetchAvailability(m.level,m.row,m.col,f);w._prefetches.push(e);const t=()=>{w._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:v({...e.query,...i,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const s=b(r);return this._tilemapCache.get(s)}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,r)=>!!e._tilemapFromCache(t,i,r,e._tmpTilemapDefinition)}}};T._maxPrefetch=4,T._prefetches=new a({initialSize:w._maxPrefetch}),e([y({constructOnly:!0})],T.prototype,\"layer\",void 0),e([y({constructOnly:!0})],T.prototype,\"minLOD\",void 0),e([y({constructOnly:!0})],T.prototype,\"maxLOD\",void 0),e([y({constructOnly:!0})],T.prototype,\"request\",void 0),e([y({constructOnly:!0})],T.prototype,\"size\",void 0),T=w=e([d(\"esri.layers.support.TilemapCache\")],T);export{T as TilemapCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import{constant as i}from\"../../core/arrayUtils.js\";import e from\"../../core/Error.js\";import{clone as a}from\"../../core/lang.js\";import{estimateSize as o}from\"../../core/typedArrayUtil.js\";import{newUintArray as l}from\"../../geometry/support/UintArray.js\";class r{constructor(t){this._validateJSON(t);const{location:i,data:e}=t;this.location=Object.freeze(a(i));const r=this.location.width,n=this.location.height;let s=!0,h=!0;const c=Math.ceil(r*n/32),m=l(c);let f=0;for(let a=0;a<e.length;a++){const t=a%32;e[a]?(h=!1,m[f]|=1<<t):s=!1,31===t&&++f}h?(this._availability=\"unavailable\",this.byteSize=40):s?(this._availability=\"available\",this.byteSize=40):(this._availability=m,this.byteSize=40+o(m))}getAvailability(t,i){if(\"unavailable\"===this._availability||\"available\"===this._availability)return this._availability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%32,o=e>>5,l=this._availability;return o<0||o>l.length?\"unknown\":l[o]&1<<a?\"available\":\"unavailable\"}static fromDefinition(a,o){const l=a.service.request||t,{row:n,col:h,width:c,height:m}=a,f={query:{f:\"json\"}};return o=o?{...f,...o}:f,l(s(a),o).then((t=>t.data)).catch((t=>{if(t&&t.details&&422===t.details.httpStatus)return{location:{top:n,left:h,width:c,height:m},valid:!0,data:i(c*m,0)};throw t})).then((t=>{if(t.location&&(t.location.top!==n||t.location.left!==h||t.location.width!==c||t.location.height!==m))throw new e(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:n,left:h,width:c,height:m}});return r.fromJSON(t)}))}static fromJSON(t){return Object.freeze(new r(t))}_validateJSON(t){if(!t?.location)throw new e(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new e(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new e(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new e(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new e(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}}function n(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function s(t){let i;if(t.service.tileServers?.length){const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}else i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;const e=t.service.query;return e&&(i=`${i}?${e}`),i}export{r as Tilemap,n as tilemapDefinitionId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{nativeArrayMaxSize as r,isArray as n}from\"../../core/typedArrayUtil.js\";function t(n,t=!1){return n<=r?t?new Array(n).fill(0):new Array(n):new Uint32Array(n)}function e(t){return(n(t)?t.length:t.byteLength/8)<=r?Array.from(t):new Uint32Array(t)}function y(r,n,t){return Array.isArray(r)?r.slice(n,n+t):r.subarray(n,n+t)}export{t as newUintArray,e as uintArrayFrom,y as uintSubArray};\n"],"names":["E","KILOBYTES","MEGABYTES","GIGABYTES","W","I","B","_","O","L","v","g","T","b","S","i","w","f","j","y","constructor","super","this","listMode","isReference","operationalLayerType","resampling","sourceJSON","spatialReference","path","sublayers","type","url","normalizeCtorArgs","e","r","load","signal","addResolvingPromise","loadFromPortal","supportedTypes","catch","o","then","_fetchService","Promise","resolve","attributionDataUrl","parsedUrl","toLowerCase","_getDefaultAttribution","_getMapName","readSpatialReference","tileInfo","d","writeSublayers","t","s","loaded","slice","reverse","flatten","toArray","a","writeSublayerStructure","forEach","write","push","some","Object","keys","length","layers","tileServers","_getDefaultTileServers","castTileServers","Array","isArray","map","fetchTile","getTileUrl","l","responseType","query","refreshParameters","data","prototype","A","n","capabilities","operations","supportsTileMap","supportsBlankTile","blankTile","customParameters","token","apiKey","loadAll","allSublayers","bandCount","pixelSizeX","R","serverType","ssl","replace","read","origin","version","U","_fetchServerVersion","currentVersion","P","reject","match","includes","search","hasOverriddenFetchTile","C","p","readOnly","json","Boolean","enabled","overridePolicy","u","String","origins","h","M","c","x","m","Symbol","N","arguments","copyright","minScale","maxScale","tilemapCache","destroy","readMinScale","minLOD","maxLOD","readMaxScale","readTilemapCache","Math","round","lods","scale","level","layer","source","lodAt","effectiveMinLOD","effectiveMaxLOD","getAvailability","cols","rows","row","col","updateTileInfo","fetchAvailability","upsampleTile","fetchAvailabilityUpsample","_validateJSON","location","freeze","width","height","fill","Uint32Array","ceil","_availability","byteSize","top","left","service","request","details","httpStatus","valid","response","definition","fromJSON","_pendingTilemapRequests","size","_prefetchingEnabled","initialize","_tilemapCache","addHandles","_initializeTilemapDefinition","fetchTilemap","_tmpTilemapDefinition","_tilemapFromCache","put","_fetchAvailabilityUpsamplePrefetch","id","hasHandles","AbortController","abort","removeHandles","_prefetches","_maxPrefetch","removeUnordered","clear","get","test","prefetchingEnabled","hasTilemap","initialSize","constructOnly"],"sourceRoot":""}