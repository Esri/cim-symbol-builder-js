{"version":3,"file":"static/js/8226.a6e4f6cb.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js","../node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js","../node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js","../node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js","../node_modules/@arcgis/core/views/layers/ImageryLayerView.js","../node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/graphics/GraphicBoundsRenderer.js","../node_modules/@arcgis/core/views/2d/layers/graphics/BaseGraphicContainer.js","../node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js","../node_modules/@arcgis/core/views/2d/viewStateUtils.js","../node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{unwrapOr as e,unwrap as t,isSome as i}from\"../../../../core/maybe.js\";import{pt2px as s}from\"../../../../core/screenUtils.js\";import{getMetersPerUnitForSR as a}from\"../../../../core/unitUtils.js\";import{meterIn as r}from\"../../../../renderers/support/lengthUtils.js\";import{isDefined as l,isNumber as o}from\"./Utils.js\";import{Technique as n}from\"./techniques/Technique.js\";import{getTechniqueFromRenderer as v}from\"./techniques/utils.js\";import{getWebGLCapabilities as u}from\"../../../webgl/capabilities.js\";function c(e,t){const i=t.length;if(e<t[0].value||1===i)return t[0].size;for(let s=1;s<i;s++)if(e<t[s].value){const i=(e-t[s-1].value)/(t[s].value-t[s-1].value);return t[s-1].size+i*(t[s].size-t[s-1].size)}return t[i-1].size}class h{constructor(){this.symbolLevels=[],this.vvColorValues=new Float32Array(8),this.vvColors=new Float32Array(32),this.vvOpacityValues=new Float32Array(8),this.vvOpacities=new Float32Array(8),this.vvSizeMinMaxValue=new Float32Array(4),this.outsideLabelsVisible=!1,this._vvMaterialParameters={vvSizeEnabled:!1,vvColorEnabled:!1,vvRotationEnabled:!1,vvRotationType:\"geographic\",vvOpacityEnabled:!1},this._technique=n}getSizeVVFieldStops(i){const s=this._vvSizeFieldStops;if(s)switch(s.type){case\"static\":return s;case\"level-dependent\":return e(s.levels[i],(()=>{let e=1/0,a=0;for(const t in s.levels){const s=parseFloat(t),r=Math.abs(i-s);r<e&&(e=r,a=s)}if(e===1/0)return{sizes:new Float32Array([0,0,0,0,0,0]),values:new Float32Array([0,0,0,0,0,0])};const r=2**((i-a)/2),l=t(s.levels[a]),o=new Float32Array(l.values);return o[2]*=r,o[3]*=r,{sizes:t(l.sizes),values:o}}));default:return}}get vvMaterialParameters(){return this._vvMaterialParameters}update(e){i(this._vvInfo)&&this._updateVisualVariables(this._vvInfo.vvRanges,e)}setInfo(e,t,i){this._updateEffects(i),this._vvInfo=t,this._technique=v(e),this.rendererSchema=this._technique.createOrUpdateRendererSchema(this.rendererSchema,e)}getVariation(){return{...this._technique.getVariation(this.rendererSchema),outsideLabelsVisible:this.outsideLabelsVisible,supportsTextureFloat:u(\"2d\").supportsTextureFloat}}getVariationHash(){return this._technique.getVariationHash(this.rendererSchema)<<1|(this.outsideLabelsVisible?1:0)}_updateEffects(e){i(e)?this.outsideLabelsVisible=e.excludedLabelsVisible:this.outsideLabelsVisible=!1}_updateVisualVariables(e,t){const i=this._vvMaterialParameters;if(i.vvOpacityEnabled=!1,i.vvSizeEnabled=!1,i.vvColorEnabled=!1,i.vvRotationEnabled=!1,!e)return;const n=e.size;if(n){if(i.vvSizeEnabled=!0,n.minMaxValue){const e=n.minMaxValue;let i,a;if(l(e.minSize)&&l(e.maxSize))if(o(e.minSize)&&o(e.maxSize))i=s(e.minSize),a=s(e.maxSize);else{const r=t.scale;i=s(c(r,e.minSize.stops)),a=s(c(r,e.maxSize.stops))}this.vvSizeMinMaxValue.set([e.minDataValue,e.maxDataValue,i,a])}if(n.scaleStops&&(this.vvSizeScaleStopsValue=s(c(t.scale,n.scaleStops.stops))),n.unitValue){const e=a(t.spatialReference)/r[n.unitValue.unit];this.vvSizeUnitValueToPixelsRatio=e/t.resolution}n.fieldStops&&(this._vvSizeFieldStops=n.fieldStops)}const v=e.color;v&&(i.vvColorEnabled=!0,this.vvColorValues.set(v.values),this.vvColors.set(v.colors));const u=e.opacity;u&&(i.vvOpacityEnabled=!0,this.vvOpacityValues.set(u.values),this.vvOpacities.set(u.opacities));const h=e.rotation;h&&(i.vvRotationEnabled=!0,i.vvRotationType=h.type)}}export{h as WGLRendererInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{createResolver as e}from\"../../../core/promiseUtils.js\";import t from\"../../../core/Queue.js\";import{AttributeStoreView as r}from\"./webgl/AttributeStoreView.js\";import s from\"./webgl/TileContainer.js\";import{WGLRendererInfo as i}from\"./webgl/WGLRendererInfo.js\";class o extends s{constructor(e){super(e),this._rendererInfo=new i,this._materialItemsRequestQueue=new t,this.attributeView=new r((()=>this.onAttributeStoreUpdate()))}destroy(){this.children.forEach((e=>e.destroy())),this.removeAllChildren(),this.attributeView.destroy(),this._materialItemsRequestQueue.clear()}setRendererInfo(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()}async getMaterialItems(t,r){if(!t||0===t.length)return[];const s=e();return this._materialItemsRequestQueue.push({items:t,abortOptions:r,resolver:s}),this.requestRender(),s.promise}doRender(e){if(e.context.capabilities.enable(\"textureFloat\"),e.context.capabilities.enable(\"vao\"),this._materialItemsRequestQueue.length>0){let t=this._materialItemsRequestQueue.pop();for(;t;)this._processMaterialItemRequest(e,t),t=this._materialItemsRequestQueue.pop()}super.doRender(e)}renderChildren(e){for(const t of this.children)t.commit(e);this._rendererInfo.update(e.state),super.renderChildren(e)}updateTransforms(e){if(this.children.some((e=>e.hasData)))for(const t of this.children)t.setTransform(e)}createRenderParams(e){const t=super.createRenderParams(e);return t.rendererInfo=this._rendererInfo,t.attributeView=this.attributeView,t}onAttributeStoreUpdate(){}_processMaterialItemRequest(e,{items:t,abortOptions:r,resolver:s}){const{painter:i,pixelRatio:o}=e,a=t.map((e=>i.textureManager.rasterizeItem(e.symbol,o,e.glyphIds,r)));Promise.all(a).then((e=>{if(!this.stage)return void s.reject();const r=e.map(((e,r)=>({id:t[r].id,mosaicItem:e})));s.resolve(r)}),s.reject)}}export{o as FeatureContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Graphic.js\";import i from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{isSome as s}from\"../../../../core/maybe.js\";import{isAbortError as a}from\"../../../../core/promiseUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{mosaicPixelData as n}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{BitmapContainer as l}from\"../../engine/BitmapContainer.js\";import{Container as c}from\"../../engine/Container.js\";import h from\"../../engine/ImageryBitmapSource.js\";import m from\"../support/ExportStrategy.js\";let d=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new c,this.updateRequested=!1,this.type=\"imagery\",this._bitmapView=new l}destroy(){this.attached&&(this.detach(),this.attached=!1),this.updateRequested=!1}get updating(){return!this.attached||this.isUpdating()}update(e){this.strategy.update(e).catch((e=>{a(e)||r.getLogger(this.declaredClass).error(e)}))}hitTest(e){return new t({attributes:{},geometry:e.clone(),layer:this.layer})}attach(){this.container.addChild(this._bitmapView);const e=this.layer.version>=10,t=this.layer.version>=10.1?this.layer.imageMaxHeight:2048,i=this.layer.version>=10.1?this.layer.imageMaxWidth:2048;this.strategy=new m({container:this._bitmapView,imageNormalizationSupported:e,imageMaxHeight:t,imageMaxWidth:i,fetchSource:this._fetchImage.bind(this),requestUpdate:()=>this.requestUpdate()})}detach(){this.strategy.destroy(),this._bitmapView.removeAllChildren(),this.container.removeAllChildren(),this.updateRequested=!1}redraw(){this.strategy.updateExports((async e=>{const{source:t}=e;if(!t||t instanceof ImageBitmap)return;const i=await this.layer.applyRenderer({extent:t.extent,pixelBlock:t.originalPixelBlock??t.pixelBlock});t.filter=e=>this.layer.pixelFilter?this.layer.applyFilter(e):{...i,extent:t.extent}})).catch((e=>{a(e)||r.getLogger(this.declaredClass).error(e)}))}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate())}isUpdating(){return this.strategy.updating||this.updateRequested}getPixelData(){if(this.updating)return null;const e=this.strategy.bitmaps;if(1===e.length&&e[0].source)return{extent:e[0].source.extent,pixelBlock:e[0].source.originalPixelBlock};if(e.length>1){const t=this.view.extent,i=e.map((e=>e.source)).filter((e=>e.extent&&e.extent.intersects(t))).map((e=>({extent:e.extent,pixelBlock:e.originalPixelBlock}))),r=n(i,t);return s(r)?{extent:r.extent,pixelBlock:r.pixelBlock}:null}return null}async _fetchImage(e,t,i,r){(r=r||{}).timeExtent=this.timeExtent,r.requestAsImageElement=!0,r.returnImageBitmap=!0;const s=await this.layer.fetchImage(e,t,i,r);if(s.imageBitmap)return s.imageBitmap;const a=await this.layer.applyRenderer(s.pixelData,{signal:r.signal}),o=new h(a.pixelBlock,a.extent?.clone(),s.pixelData.pixelBlock);return o.filter=e=>this.layer.applyFilter(e),o}};e([o()],d.prototype,\"attached\",void 0),e([o()],d.prototype,\"container\",void 0),e([o()],d.prototype,\"layer\",void 0),e([o()],d.prototype,\"strategy\",void 0),e([o()],d.prototype,\"timeExtent\",void 0),e([o()],d.prototype,\"view\",void 0),e([o()],d.prototype,\"updateRequested\",void 0),e([o()],d.prototype,\"updating\",null),e([o()],d.prototype,\"type\",void 0),d=e([p(\"esri.views.2d.layers.imagery.ImageryView2D\")],d);const u=d;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"./BrushVectorField.js\";import{WGLDrawPhase as r}from\"../webgl/enums.js\";import s from\"../webgl/WGLContainer.js\";class t extends s{constructor(){super(...arguments),this.symbolTypes=[\"triangle\"]}get requiresDedicatedFBO(){return!1}prepareRenderPasses(s){const t=s.registerRenderPass({name:\"imagery (vf)\",brushes:[e],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),t]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((r=>{e.renderPass=r,super.doRender(e)}))}}export{t as RasterVFContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{isNone as i}from\"../../../../core/maybe.js\";import{debounce as s,isAbortError as o}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import l from\"../../../../geometry/Extent.js\";import{RasterVFDisplayObject as c}from\"../../engine/imagery/RasterVFDisplayObject.js\";let p=class extends t{constructor(e){super(e),this._loading=null,this.update=s(((e,t)=>this._update(e,t).catch((e=>{o(e)||r.getLogger(this.declaredClass).error(e)}))))}get updating(){return!!this._loading}redraw(e){if(!this.container.children.length)return;const t=this.container.children[0];t.symbolizerParameters=e,t.invalidateVAO(),this.container.symbolTypes=\"wind_speed\"===e.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===e.style?[\"scalar\"]:[\"triangle\"],this.container.requestRender()}async _update(e,t,r){if(!e.stationary)return;const{extent:i,spatialReference:s}=e.state,o=new l({xmin:i.xmin,ymin:i.ymin,xmax:i.xmax,ymax:i.ymax,spatialReference:s}),[a,n]=e.state.size;this._loading=this.fetchPixels(o,a,n,r);const c=await this._loading;this._addToDisplay(c,t,e.state),this._loading=null}_addToDisplay(e,t,r){if(i(e.pixelBlock))return this.container.children.forEach((e=>e.destroy())),void this.container.removeAllChildren();const{extent:s,pixelBlock:o}=e,a=new c(o);a.offset=[0,0],a.symbolizerParameters=t,a.rawPixelData=e,a.invalidateVAO(),a.x=s.xmin,a.y=s.ymax,a.pixelRatio=r.pixelRatio,a.rotation=r.rotation,a.resolution=r.resolution,a.width=o.width*t.symbolTileSize,a.height=o.height*t.symbolTileSize,this.container.children.forEach((e=>e.destroy())),this.container.removeAllChildren(),this.container.symbolTypes=\"wind_speed\"===t.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===t.style?[\"scalar\"]:[\"triangle\"],this.container.addChild(a)}};e([a()],p.prototype,\"fetchPixels\",void 0),e([a()],p.prototype,\"container\",void 0),e([a()],p.prototype,\"_loading\",void 0),e([a()],p.prototype,\"updating\",null),p=e([n(\"esri.views.2d.layers.imagery.ImageryVFStrategy\")],p);const m=p;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import r from\"../../../../request.js\";import{HandleOwner as i}from\"../../../../core/HandleOwner.js\";import{isSome as s,isNone as a,unwrap as o}from\"../../../../core/maybe.js\";import{watch as n,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../../geometry/Extent.js\";import{projectExtent as h}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{snapImageToSymbolTile as y,convertVectorFieldData as u}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFContainer as d}from\"../../engine/imagery/RasterVFContainer.js\";import x from\"./ImageryVFStrategy.js\";let f=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new d,this.type=\"imageryVF\",this._dataParameters={exportParametersVersion:0,bbox:\"\",symbolTileSize:0,time:\"\"},this._fetchpixels=async(t,e,r,i)=>{const n=await this._projectFullExtentPromise,{symbolTileSize:l}=this.layer.renderer,{extent:m,width:c,height:p}=y(t,e,r,l,n);if(s(n)&&!n.intersects(t))return{extent:m,pixelBlock:null};const h={bbox:`${m.xmin}, ${m.ymin}, ${m.xmax}, ${m.ymax}`,exportParametersVersion:this.layer.exportImageServiceParameters.version,symbolTileSize:l,time:JSON.stringify(this.timeExtent||\"\")};if(this._canReuseVectorFieldData(h)){const t=this.getPixelData();if(s(t)){if(`${t.extent.xmin}, ${t.extent.ymin}, ${t.extent.xmax}, ${t.extent.ymax}`===h.bbox)return t}}const{pixelData:d}=await this.layer.fetchImage(m,c,p,{timeExtent:this.timeExtent,requestAsImageElement:!1,signal:i});this._dataParameters=h;const x=d?.pixelBlock;if(a(x))return{extent:m,pixelBlock:null};return{extent:m,pixelBlock:\"vector-uv\"===this.layer.rasterInfo.dataType?o(u(x,\"vector-uv\")):x}}}get updating(){return!this.attached||this._strategy.updating}attach(){this._projectFullExtentPromise=this._getProjectedFullExtent(this.view.spatialReference),this._strategy=new x({container:this.container,fetchPixels:this._fetchpixels}),this.handles.add(n((()=>this.layer.renderer),(t=>this._updateSymbolizerParams(t)),l),\"attach\")}detach(){this._strategy.destroy(),this.container.children.forEach((t=>t.destroy())),this.container.removeAllChildren(),this.handles.remove(\"attach\"),this._strategy=this.container=this._projectFullExtentPromise=null}getPixelData(){const t=this.container.children[0]?.rawPixelData;if(this.updating||!t)return null;const{extent:e,pixelBlock:r}=t;return{extent:e,pixelBlock:r}}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}update(t){this._strategy.update(t,this._symbolizerParams)}redraw(){const{renderer:t}=this.layer;t&&(this._updateSymbolizerParams(t),this._strategy.redraw(this._symbolizerParams))}_canReuseVectorFieldData(t){const e=this._dataParameters.exportParametersVersion===t.exportParametersVersion,r=this._dataParameters.time===t.time,i=this._dataParameters.symbolTileSize===t.symbolTileSize,s=this._dataParameters.bbox===t.bbox;return e&&r&&i&&s}async _getProjectedFullExtent(t){try{return await h(this.layer.fullExtent,t)}catch(e){try{const e=(await r(this.layer.url,{query:{option:\"footprints\",outSR:t.wkid||JSON.stringify(t.toJSON()),f:\"json\"}})).data.featureCollection.layers[0].layerDefinition.extent;return e?p.fromJSON(e):null}catch{return null}}}_updateSymbolizerParams(t){\"vector-field\"===t.type&&(this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null}))}};t([m()],f.prototype,\"attached\",void 0),t([m()],f.prototype,\"container\",void 0),t([m()],f.prototype,\"layer\",void 0),t([m()],f.prototype,\"timeExtent\",void 0),t([m()],f.prototype,\"type\",void 0),t([m()],f.prototype,\"view\",void 0),t([m()],f.prototype,\"updating\",null),f=t([c(\"esri.views.2d.layers.imagery.VectorFieldView2D\")],f);const g=f;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{isNone as t,isSome as o}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Point.js\";import{combinedViewLayerTimeExtentProperty as a}from\"../../layers/support/commonProperties.js\";import n from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as u}from\"./support/popupUtils.js\";const m=m=>{let c=class extends m{constructor(){super(...arguments),this.view=null}async fetchPopupFeatures(e,s){const{layer:p}=this;if(!e)throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:p});const{popupEnabled:a}=p,m=u(p,s);if(!a||t(m))throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:a,popupTemplate:m});const c=await m.getRequiredFields(),l=new n;l.timeExtent=this.timeExtent,l.geometry=e,l.outFields=c,l.outSpatialReference=e.spatialReference;const{resolution:y,spatialReference:d}=this.view,w=\"2d\"===this.view.type?new i(y,y,d):new i(.5*y,.5*y,d),{returnTopmostRaster:f,showNoDataRecords:h}=m.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},R={returnDomainValues:!0,returnTopmostRaster:f,pixelSize:w,showNoDataRecords:h,signal:o(s)?s.signal:null};return p.queryVisibleRasters(l,R).then((e=>e))}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([s()],c.prototype,\"layer\",void 0),e([s()],c.prototype,\"suspended\",void 0),e([s(a)],c.prototype,\"timeExtent\",void 0),e([s()],c.prototype,\"view\",void 0),c=e([p(\"esri.views.layers.ImageryLayerView\")],c),c};export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Collection.js\";import{watch as r,syncAndInitial as s,sync as a}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{GraphicsCollection as n}from\"../../../support/GraphicsCollection.js\";import l from\"../engine/flow/FlowView2D.js\";import{LayerView2DMixin as c}from\"./LayerView2D.js\";import w from\"./graphics/GraphicsView2D.js\";import p from\"./graphics/HighlightGraphicContainer.js\";import u from\"./imagery/ImageryView2D.js\";import d from\"./imagery/VectorFieldView2D.js\";import m from\"../../layers/ImageryLayerView.js\";import y from\"../../layers/LayerView.js\";import v from\"../../layers/RefreshableLayerView.js\";let g=class extends(m(v(c(y)))){constructor(){super(...arguments),this._exportImageVersion=-1,this._highlightGraphics=new n,this._highlightView=void 0,this.layer=null,this.subview=null}get pixelData(){const{subview:e}=this;return this.updating||!e?null:\"getPixelData\"in e?e.getPixelData():null}async hitTest(e,t){return this.subview?[{type:\"graphic\",graphic:this.subview.hitTest(e),layer:this.layer,mapPoint:e}]:null}update(e){this.subview?.update(e)}attach(){this.layer.increaseRasterJobHandlerUsage(),this._setSubView(),this.view&&(this._highlightView=new w({view:this.view,graphics:this._highlightGraphics,requestUpdateCallback:()=>this.requestUpdate(),container:new p(this.view.featuresTilingScheme)}),this.container.addChild(this._highlightView.container)),this.addAttachHandles([r((()=>this.layer.blendMode??\"normal\"),(e=>this.subview&&(this.subview.container.blendMode=e)),s),r((()=>this.layer.effect??null),(e=>this.subview&&(this.subview.container.effect=e)),s),r((()=>this.layer.exportImageServiceParameters.version),(e=>{e&&this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())}),a),r((()=>this.timeExtent),(e=>{const{subview:t}=this;t&&(t.timeExtent=e,\"redraw\"in t?this.requestUpdate():t.redrawOrRefetch())}),a),this.layer.on(\"redraw\",(()=>{const{subview:e}=this;e&&(\"redraw\"in e?e.redraw():e.redrawOrRefetch())})),r((()=>this.layer.renderer),(()=>this._setSubView()))])}detach(){this.layer.decreaseRasterJobHandlerUsage(),this.container.removeAllChildren(),this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null,this._highlightView?.destroy(),this._exportImageVersion=-1}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}highlight(e,r){if(!((Array.isArray(e)?e[0]:i.isCollection(e)?e.getItemAt(0):e)instanceof t))return{remove:()=>{}};let s=[];return Array.isArray(e)||i.isCollection(e)?s=e.map((e=>e.clone())):e instanceof t&&(s=[e.clone()]),this._highlightGraphics.addMany(s),{remove:()=>{this._highlightGraphics.removeMany(s)}}}async doRefresh(){this.requestUpdate()}isUpdating(){return!this.subview||this.subview.updating}_setSubView(){if(!this.view)return;const e=this.layer.renderer?.type;let t=\"imagery\";if(\"vector-field\"===e?t=\"imageryVF\":\"flow\"===e&&(t=\"flow\"),this.subview){const{type:e}=this.subview;if(e===t)return this._attachSubview(this.subview),void(\"flow\"===e?this.subview.redrawOrRefetch():\"imagery\"===e&&\"lerc\"===this.layer.format?this.subview.redraw():this.requestUpdate());this._detachSubview(this.subview),this.subview?.destroy()}this.subview=\"imagery\"===t?new u({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):\"imageryVF\"===t?new d({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):new l({layer:this.layer,layerView:this}),this._attachSubview(this.subview),this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0),e.container.blendMode=this.layer.blendMode,e.container.effect=this.layer.effect)}_detachSubview(e){e?.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}};e([h()],g.prototype,\"pixelData\",null),e([h()],g.prototype,\"subview\",void 0),g=e([o(\"esri.views.2d.layers.ImageryLayerView2D\")],g);const b=g;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t}from\"../../../../core/maybe.js\";import{g as e,m as r,h as s,d as i,r as o}from\"../../../../chunks/mat3.js\";import{c as a}from\"../../../../chunks/mat3f32.js\";import{f as n}from\"../../../../chunks/vec2f32.js\";import{f}from\"../../../../chunks/vec3f32.js\";import{normalizeMapX as l}from\"../../../../geometry/support/normalizeUtils.js\";import{DisplayObject as u}from\"../../engine/DisplayObject.js\";import{createProgramDescriptor as _}from\"../../engine/webgl/Utils.js\";import{BufferObject as c}from\"../../../webgl/BufferObject.js\";import{BlendFactor as h,PrimitiveType as m,DataType as d,Usage as p}from\"../../../webgl/enums.js\";import{VertexArrayObject as g}from\"../../../webgl/VertexArrayObject.js\";const v=Math.PI/180,x=4;class b extends u{constructor(t){super(),this._program=null,this._vao=null,this._vertexBuffer=null,this._indexBuffer=null,this._dvsMat3=a(),this._localOrigin={x:0,y:0},this._getBounds=t}destroy(){this._vao&&(this._vao.dispose(!0),this._vao=null,this._vertexBuffer=null,this._indexBuffer=null),this._program=t(this._program)}doRender(t){const{context:e}=t,r=this._getBounds();if(r.length<1)return;this._createShaderProgram(e),this._updateMatricesAndLocalOrigin(t),this._updateBufferData(e,r),e.setBlendingEnabled(!0),e.setDepthTestEnabled(!1),e.setStencilWriteMask(0),e.setStencilTestEnabled(!1),e.setBlendFunction(h.ONE,h.ONE_MINUS_SRC_ALPHA),e.setColorMask(!0,!0,!0,!0);const s=this._program;e.bindVAO(this._vao),e.useProgram(s),s.setUniformMatrix3fv(\"u_dvsMat3\",this._dvsMat3),e.gl.lineWidth(1),e.drawElements(m.LINES,8*r.length,d.UNSIGNED_INT,0),e.bindVAO()}_createTransforms(){return{dvs:a()}}_createShaderProgram(t){if(this._program)return;const e=\"precision highp float;\\n        uniform mat3 u_dvsMat3;\\n\\n        attribute vec2 a_position;\\n\\n        void main() {\\n          mediump vec3 pos = u_dvsMat3 * vec3(a_position, 1.0);\\n          gl_Position = vec4(pos.xy, 0.0, 1.0);\\n        }\",r=\"precision mediump float;\\n      void main() {\\n        gl_FragColor = vec4(0.75, 0.0, 0.0, 0.75);\\n      }\";this._program=t.programCache.acquire(e,r,y().attributes)}_updateMatricesAndLocalOrigin(t){const{state:a}=t,{displayMat3:u,size:_,resolution:c,pixelRatio:h,rotation:m,viewpoint:d}=a,p=v*m,{x:g,y:x}=d.targetGeometry,b=l(g,a.spatialReference);this._localOrigin.x=b,this._localOrigin.y=x;const y=h*_[0],B=h*_[1],M=c*y,j=c*B,A=e(this._dvsMat3);r(A,A,u),s(A,A,n(y/2,B/2)),i(A,A,f(_[0]/M,-B/j,1)),o(A,A,-p)}_updateBufferData(t,e){const{x:r,y:s}=this._localOrigin,i=2*x*e.length,o=new Float32Array(i),a=new Uint32Array(8*e.length);let n=0,f=0;for(const l of e)l&&(o[2*n+0]=l[0]-r,o[2*n+1]=l[1]-s,o[2*n+2]=l[0]-r,o[2*n+3]=l[3]-s,o[2*n+4]=l[2]-r,o[2*n+5]=l[3]-s,o[2*n+6]=l[2]-r,o[2*n+7]=l[1]-s,a[f+0]=n+0,a[f+1]=n+3,a[f+2]=n+3,a[f+3]=n+2,a[f+4]=n+2,a[f+5]=n+1,a[f+6]=n+1,a[f+7]=n+0,n+=4,f+=8);if(this._vertexBuffer?this._vertexBuffer.setData(o.buffer):this._vertexBuffer=c.createVertex(t,p.DYNAMIC_DRAW,o.buffer),this._indexBuffer?this._indexBuffer.setData(a):this._indexBuffer=c.createIndex(t,p.DYNAMIC_DRAW,a),!this._vao){const e=y();this._vao=new g(t,e.attributes,e.bufferLayouts,{geometry:this._vertexBuffer},this._indexBuffer)}}}const y=()=>_(\"bounds\",{geometry:[{location:0,name:\"a_position\",count:2,type:d.FLOAT}]});export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e}from\"../../../../core/maybe.js\";import{FeatureContainer as t}from\"../../engine/FeatureContainer.js\";import r from\"./GraphicBoundsRenderer.js\";import{CompareFunction as s}from\"../../../webgl/enums.js\";let n=class extends t{constructor(e){super(e),this.hasHighlight=()=>!0}destroy(){super.destroy(),this._boundsRenderer=e(this._boundsRenderer)}enableRenderingBounds(e){this._boundsRenderer=new r(e),this.requestRender()}get hasLabels(){return!1}onTileData(e,t){e.patch(t),this.contains(e)||this.addChild(e),this.requestRender()}onTileError(e){e.clear(),this.contains(e)||this.addChild(e)}_renderChildren(e,t){for(const r of this.children)r.isReady&&r.hasData&&(r.commit(e),e.context.setStencilFunction(s.EQUAL,r.stencilRef,255),r.getDisplayList().replay(e,r,t))}};export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/Error.js\";import\"../../../../core/has.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WGLDrawPhase as s}from\"../../engine/webgl/enums.js\";import t from\"./BaseGraphicContainer.js\";import{ClearBufferBit as o}from\"../../../webgl/enums.js\";let i=class extends t{doRender(e){e.drawPhase===s.HIGHLIGHT&&super.doRender(e)}renderChildren(e){if(this.attributeView.update(),!this.children.some((e=>e.hasData)))return;this.attributeView.bindTextures(e.context),super.renderChildren(e);const{painter:r}=e,s=r.effects.highlight;s.bind(e),e.context.setColorMask(!0,!0,!0,!0),e.context.clear(o.COLOR_BUFFER_BIT),this._renderChildren(e,s.defines.concat([\"highlightAll\"])),s.draw(e),s.unbind()}};i=e([r(\"esri.views.2d.layers.support.HighlightGraphicContainer\")],i);const n=i;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst t=Math.PI/180;function n(n){return n*t}function o(t,o){const a=n(o.rotation),r=Math.abs(Math.cos(a)),s=Math.abs(Math.sin(a)),[u,c]=o.size;return t[0]=Math.round(c*s+u*r),t[1]=Math.round(c*r+u*s),t}function a(t,n,o,a){const[r,s]=n,[u,c]=a,h=.5*o;return t[0]=r-h*u,t[1]=s-h*c,t[2]=r+h*u,t[3]=s+h*c,t}export{a as getBBox,o as getOuterSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import\"../../../../core/has.js\";import{debounce as i,throwIfAborted as o,throwIfAbortError as r,eachAlways as s}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as p,toExtent as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{getInfo as l}from\"../../../../geometry/support/spatialReferenceUtils.js\";import d from\"../../../../layers/support/TileInfo.js\";import{getOuterSize as h,getBBox as c}from\"../../viewStateUtils.js\";import{Bitmap as u}from\"../../engine/Bitmap.js\";import g from\"../../tiling/TileInfoView.js\";import f from\"../../tiling/TileKey.js\";const y=p(),x=[0,0],S=new f(0,0,0,0),_={container:null,fetchSource:null,requestUpdate:null,imageMaxWidth:2048,imageMaxHeight:2048,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1};let w=class extends e{constructor(t){super(t),this._imagePromise=null,this.bitmaps=[],this.hidpi=_.hidpi,this.imageMaxWidth=_.imageMaxWidth,this.imageMaxHeight=_.imageMaxHeight,this.imageRotationSupported=_.imageRotationSupported,this.imageNormalizationSupported=_.imageNormalizationSupported,this.update=i((async(t,e)=>{if(o(e),!t.stationary||this.destroyed)return;const i=t.state,s=l(i.spatialReference),a=this.hidpi?t.pixelRatio:1,n=this.imageNormalizationSupported&&i.worldScreenWidth&&i.worldScreenWidth<i.size[0],p=this.imageMaxWidth??0,m=this.imageMaxHeight??0;n?(x[0]=i.worldScreenWidth,x[1]=i.size[1]):this.imageRotationSupported?(x[0]=i.size[0],x[1]=i.size[1]):h(x,i);const d=Math.floor(x[0]*a)>p||Math.floor(x[1]*a)>m,c=s&&(i.extent.xmin<s.valid[0]||i.extent.xmax>s.valid[1]),u=!this.imageNormalizationSupported&&c,g=!d&&!u,f=this.imageRotationSupported?i.rotation:0,y=this.container.children.slice();if(g){const t=n?i.paddedViewState.center:i.center;this._imagePromise&&console.error(\"Image promise was not defined!\"),this._imagePromise=this._singleExport(i,x,t,i.resolution,f,a,e)}else{let t=Math.min(p,m);u&&(t=Math.min(i.worldScreenWidth,t)),this._imagePromise=this._tiledExport(i,t,a,e)}try{const t=await this._imagePromise??[];o(e);const i=[];if(this._imagePromise=null,this.destroyed)return;this.bitmaps=t;for(const e of y)t.includes(e)||i.push(e.fadeOut().then((()=>{e.remove(),e.destroy()})));for(const e of t)i.push(e.fadeIn());await Promise.all(i)}catch(S){this._imagePromise=null,r(S)}}),5e3),this.updateExports=i((async t=>{const e=[];for(const i of this.container.children){if(!i.visible||!i.stage)return;e.push(t(i).then((()=>{i.invalidateTexture(),i.requestRender()})))}this._imagePromise=s(e).then((()=>this._imagePromise=null)),await this._imagePromise}))}destroy(){this.bitmaps.forEach((t=>t.destroy())),this.bitmaps=[]}get updating(){return!this.destroyed&&null!==this._imagePromise}async _export(t,e,i,r,s,a){const n=await this.fetchSource(t,Math.floor(e*s),Math.floor(i*s),{rotation:r,pixelRatio:s,signal:a});o(a);const p=new u(null,{immutable:!0,requestRenderOnSourceChangedEnabled:!0});return p.x=t.xmin,p.y=t.ymax,p.resolution=t.width/e,p.rotation=r,p.pixelRatio=s,p.opacity=0,this.container.addChild(p),await p.setSourceAsync(n,a),o(a),p}async _singleExport(t,e,i,o,r,s,a){c(y,i,o,e);const n=m(y,t.spatialReference);return[await this._export(n,e[0],e[1],r,s,a)]}_tiledExport(t,e,i,o){const r=d.create({size:e,spatialReference:t.spatialReference,scales:[t.scale]}),s=new g(r),a=s.getTileCoverage(t);if(!a)return null;const n=[];return a.forEach(((r,a,p,l)=>{S.set(r,a,p,0),s.getTileBounds(y,S);const d=m(y,t.spatialReference);n.push(this._export(d,e,e,0,i,o).then((t=>(0!==l&&(S.set(r,a,p,l),s.getTileBounds(y,S),t.x=y[0],t.y=y[3]),t))))})),Promise.all(n)}};t([a()],w.prototype,\"_imagePromise\",void 0),t([a()],w.prototype,\"bitmaps\",void 0),t([a()],w.prototype,\"container\",void 0),t([a()],w.prototype,\"fetchSource\",void 0),t([a()],w.prototype,\"hidpi\",void 0),t([a()],w.prototype,\"imageMaxWidth\",void 0),t([a()],w.prototype,\"imageMaxHeight\",void 0),t([a()],w.prototype,\"imageRotationSupported\",void 0),t([a()],w.prototype,\"imageNormalizationSupported\",void 0),t([a()],w.prototype,\"requestUpdate\",void 0),t([a()],w.prototype,\"updating\",null),w=t([n(\"esri.views.2d.layers.support.ExportStrategy\")],w);const v=w;export{v as default};\n"],"names":["c","e","t","i","length","value","size","s","h","constructor","this","symbolLevels","vvColorValues","Float32Array","vvColors","vvOpacityValues","vvOpacities","vvSizeMinMaxValue","outsideLabelsVisible","_vvMaterialParameters","vvSizeEnabled","vvColorEnabled","vvRotationEnabled","vvRotationType","vvOpacityEnabled","_technique","n","getSizeVVFieldStops","_vvSizeFieldStops","type","levels","a","parseFloat","r","Math","abs","sizes","values","l","o","vvMaterialParameters","update","_vvInfo","_updateVisualVariables","vvRanges","setInfo","_updateEffects","v","rendererSchema","createOrUpdateRendererSchema","getVariation","supportsTextureFloat","u","getVariationHash","excludedLabelsVisible","minMaxValue","minSize","maxSize","scale","stops","set","minDataValue","maxDataValue","scaleStops","vvSizeScaleStopsValue","unitValue","spatialReference","unit","vvSizeUnitValueToPixelsRatio","resolution","fieldStops","color","colors","opacity","opacities","rotation","super","_rendererInfo","_materialItemsRequestQueue","attributeView","onAttributeStoreUpdate","destroy","children","forEach","removeAllChildren","clear","setRendererInfo","requestRender","push","items","abortOptions","resolver","promise","doRender","context","capabilities","enable","pop","_processMaterialItemRequest","renderChildren","commit","state","updateTransforms","some","hasData","setTransform","createRenderParams","rendererInfo","painter","pixelRatio","map","textureManager","rasterizeItem","symbol","glyphIds","Promise","all","then","stage","reject","id","mosaicItem","resolve","d","arguments","attached","container","updateRequested","_bitmapView","detach","updating","isUpdating","strategy","catch","declaredClass","error","hitTest","attributes","geometry","clone","layer","attach","addChild","version","imageMaxHeight","imageMaxWidth","m","imageNormalizationSupported","fetchSource","_fetchImage","bind","requestUpdate","redraw","updateExports","async","source","ImageBitmap","applyRenderer","extent","pixelBlock","originalPixelBlock","filter","pixelFilter","applyFilter","view","getPixelData","bitmaps","intersects","timeExtent","requestAsImageElement","returnImageBitmap","fetchImage","imageBitmap","pixelData","signal","prototype","p","symbolTypes","requiresDedicatedFBO","prepareRenderPasses","registerRenderPass","name","brushes","target","drawPhase","visible","renderPass","_loading","_update","symbolizerParameters","invalidateVAO","style","stationary","xmin","ymin","xmax","ymax","fetchPixels","_addToDisplay","offset","rawPixelData","x","y","width","symbolTileSize","height","f","_dataParameters","exportParametersVersion","bbox","time","_fetchpixels","_projectFullExtentPromise","renderer","exportImageServiceParameters","JSON","stringify","_canReuseVectorFieldData","rasterInfo","dataType","_strategy","_getProjectedFullExtent","handles","add","_updateSymbolizerParams","remove","_symbolizerParams","fullExtent","url","query","option","outSR","wkid","toJSON","data","featureCollection","layers","layerDefinition","symbolizer","generateWebGLParameters","g","popupEnabled","popupTemplate","getRequiredFields","outFields","outSpatialReference","w","returnTopmostRaster","showNoDataRecords","layerOptions","R","returnDomainValues","pixelSize","queryVisibleRasters","canResume","isEmpty","_exportImageVersion","_highlightGraphics","_highlightView","subview","graphic","mapPoint","increaseRasterJobHandlerUsage","_setSubView","graphics","requestUpdateCallback","featuresTilingScheme","addAttachHandles","blendMode","effect","redrawOrRefetch","on","decreaseRasterJobHandlerUsage","_detachSubview","moveStart","viewChange","moveEnd","highlight","Array","isArray","getItemAt","addMany","removeMany","_attachSubview","format","layerView","addChildAt","removeChild","b","PI","_program","_vao","_vertexBuffer","_indexBuffer","_dvsMat3","_localOrigin","_getBounds","dispose","_createShaderProgram","_updateMatricesAndLocalOrigin","_updateBufferData","setBlendingEnabled","setDepthTestEnabled","setStencilWriteMask","setStencilTestEnabled","setBlendFunction","setColorMask","bindVAO","useProgram","setUniformMatrix3fv","gl","lineWidth","drawElements","_createTransforms","dvs","programCache","acquire","displayMat3","_","viewpoint","targetGeometry","B","M","j","A","Uint32Array","setData","buffer","bufferLayouts","location","count","hasHighlight","_boundsRenderer","enableRenderingBounds","hasLabels","onTileData","patch","contains","onTileError","_renderChildren","isReady","setStencilFunction","stencilRef","getDisplayList","replay","bindTextures","effects","defines","concat","draw","unbind","cos","sin","round","S","_imagePromise","hidpi","imageRotationSupported","destroyed","worldScreenWidth","floor","valid","slice","paddedViewState","center","console","_singleExport","min","_tiledExport","includes","fadeOut","fadeIn","invalidateTexture","immutable","requestRenderOnSourceChangedEnabled","setSourceAsync","_export","scales","getTileCoverage","getTileBounds"],"sourceRoot":""}