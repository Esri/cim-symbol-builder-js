{"version":3,"file":"static/js/88386.2ee426d6.chunk.js","mappings":"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","sources":["../node_modules/@esri/calcite-components/dist/chunks/array.js","../node_modules/@esri/calcite-components/dist/chunks/resources2.js","../node_modules/@esri/calcite-components/dist/chunks/resources7.js","../node_modules/@esri/calcite-components/dist/components/calcite-action-group/customElement.js","../node_modules/@esri/calcite-components/dist/components/calcite-action-menu/customElement.js"],"sourcesContent":["/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nfunction getRoundRobinIndex(index, total) {\n  return (index + total) % total;\n}\nexport {\n  getRoundRobinIndex as g\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nconst CSS = {\n  menu: \"menu\",\n  defaultTrigger: \"default-trigger\"\n};\nconst SLOTS = {\n  tooltip: \"tooltip\",\n  trigger: \"trigger\"\n};\nconst ICONS = {\n  menu: \"ellipsis\"\n};\nconst activeAttr = \"data-active\";\nexport {\n  CSS as C,\n  ICONS as I,\n  SLOTS as S,\n  activeAttr as a\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nconst SLOTS = {\n  menuActions: \"menu-actions\",\n  menuTooltip: \"menu-tooltip\"\n};\nconst ICONS = {\n  menu: \"ellipsis\"\n};\nconst CSS = {\n  container: \"container\"\n};\nexport {\n  CSS as C,\n  ICONS as I,\n  SLOTS as S\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { html } from \"lit\";\nimport { LitElement, safeClassMap } from \"@arcgis/lumina\";\nimport { c as componentFocusable } from \"../../chunks/component.js\";\nimport { S as SLOTS } from \"../../chunks/resources2.js\";\nimport { h as focusFirstTabbable, a as slotChangeHasAssignedElement } from \"../../chunks/dom.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nimport { I as ICONS, S as SLOTS$1, C as CSS } from \"../../chunks/resources7.js\";\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nconst styles = css`:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{display:flex;flex-direction:column;padding:0;background-color:transparent;border-color:var(--calcite-action-group-border-color, var(--calcite-color-border-3));border-style:solid;border-width:0}.container{display:flex;flex-grow:1;flex-direction:column}:host([columns=\"1\"]){--calcite-internal-action-group-columns: 1}:host([columns=\"2\"]){--calcite-internal-action-group-columns: 2}:host([columns=\"3\"]){--calcite-internal-action-group-columns: 3}:host([columns=\"4\"]){--calcite-internal-action-group-columns: 4}:host([columns=\"5\"]){--calcite-internal-action-group-columns: 5}:host([columns=\"6\"]){--calcite-internal-action-group-columns: 6}:host(:first-child){padding-block-start:0px}:host([layout=horizontal]),:host([layout=horizontal]) .container{flex-direction:row}:host([layout=grid]){display:grid}:host([layout=grid]) .container{display:grid;place-content:stretch;background-color:transparent;grid-template-columns:repeat(var(--calcite-action-group-columns, var(--calcite-internal-action-group-columns, 3)),auto);gap:var(--calcite-action-group-gap, 1px);padding:var(--calcite-action-group-gap, 1px)}:host([layout=horizontal]) ::slotted(calcite-action-group){border-inline-end:var(--calcite-size-px)}:host([hidden]){display:none}[hidden]{display:none}`;\nclass ActionGroup extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.messages = useT9n();\n    this.hasMenuActions = false;\n    this.expanded = false;\n    this.layout = \"vertical\";\n    this.menuOpen = false;\n    this.overlayPositioning = \"absolute\";\n    this.scale = \"m\";\n  }\n  static {\n    this.properties = { hasMenuActions: [16, {}, { state: true }], columns: [11, {}, { type: Number, reflect: true }], expanded: [7, {}, { reflect: true, type: Boolean }], label: 1, layout: [3, {}, { reflect: true }], menuFlipPlacements: [0, {}, { attribute: false }], menuOpen: [7, {}, { reflect: true, type: Boolean }], menuPlacement: [3, {}, { reflect: true }], messageOverrides: [0, {}, { attribute: false }], overlayPositioning: [3, {}, { reflect: true }], scale: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.shadowRootOptions = { mode: \"open\", delegatesFocus: true };\n  }\n  static {\n    this.styles = styles;\n  }\n  async setFocus() {\n    await componentFocusable(this);\n    focusFirstTabbable(this.el);\n  }\n  willUpdate(changes) {\n    if (changes.has(\"expanded\") && (this.hasUpdated || this.expanded !== false)) {\n      this.menuOpen = false;\n    }\n  }\n  setMenuOpen(event) {\n    this.menuOpen = !!event.currentTarget.open;\n  }\n  handleMenuActionsSlotChange(event) {\n    this.hasMenuActions = slotChangeHasAssignedElement(event);\n  }\n  renderMenu() {\n    const { expanded, menuOpen, scale, layout, messages, overlayPositioning, hasMenuActions, menuFlipPlacements, menuPlacement } = this;\n    return html`<calcite-action-menu .expanded=${expanded} .flipPlacements=${menuFlipPlacements ?? (layout === \"horizontal\" ? [\"top\", \"bottom\"] : [\"left\", \"right\"])} .hidden=${!hasMenuActions} .label=${messages.more} @calciteActionMenuOpen=${this.setMenuOpen} .open=${menuOpen} .overlayPositioning=${overlayPositioning} .placement=${menuPlacement ?? (layout === \"horizontal\" ? \"bottom-start\" : \"leading-start\")} .scale=${scale}><calcite-action .icon=${ICONS.menu} .scale=${scale} slot=${SLOTS.trigger} .text=${messages.more} .textEnabled=${expanded}></calcite-action><slot name=${SLOTS$1.menuActions} @slotchange=${this.handleMenuActionsSlotChange}></slot><slot name=${SLOTS$1.menuTooltip} slot=${SLOTS.tooltip}></slot></calcite-action-menu>`;\n  }\n  render() {\n    return html`<div .ariaLabel=${this.label} class=${safeClassMap(CSS.container)} role=group><slot></slot>${this.renderMenu()}</div>`;\n  }\n}\ncustomElement(\"calcite-action-group\", ActionGroup);\nexport {\n  ActionGroup\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { ref } from \"lit-html/directives/ref.js\";\nimport { html, nothing } from \"lit\";\nimport { LitElement, createEvent, safeClassMap } from \"@arcgis/lumina\";\nimport { g as getRoundRobinIndex } from \"../../chunks/array.js\";\nimport { b as focusElement, t as toAriaBoolean } from \"../../chunks/dom.js\";\nimport { g as guid } from \"../../chunks/guid.js\";\nimport { i as isActivationKey } from \"../../chunks/key.js\";\nimport { c as componentFocusable } from \"../../chunks/component.js\";\nimport { a as activeAttr, S as SLOTS, I as ICONS, C as CSS } from \"../../chunks/resources2.js\";\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nconst styles = css`:host{box-sizing:border-box;display:flex;flex-direction:column;font-size:var(--calcite-font-size-1)}::slotted(calcite-action-group:not(:last-of-type)){border-block-end-width:var(--calcite-border-width-sm)}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{display:flex;max-block-size:45vh;flex-direction:column;flex-wrap:nowrap;overflow-y:auto;overflow-x:hidden;outline:2px solid transparent;outline-offset:2px;gap:var(--calcite-action-menu-items-space, 0)}:host([hidden]){display:none}[hidden]{display:none}`;\nconst SUPPORTED_MENU_NAV_KEYS = [\"ArrowUp\", \"ArrowDown\", \"End\", \"Home\"];\nclass ActionMenu extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.guid = `calcite-action-menu-${guid()}`;\n    this.actionElements = [];\n    this.menuButtonClick = () => {\n      this.toggleOpen();\n    };\n    this.menuButtonId = `${this.guid}-menu-button`;\n    this.menuButtonKeyDown = (event) => {\n      const { key } = event;\n      const { actionElements, activeMenuItemIndex, open } = this;\n      if (!actionElements.length) {\n        return;\n      }\n      if (isActivationKey(key)) {\n        event.preventDefault();\n        if (!open) {\n          this.toggleOpen();\n          return;\n        }\n        const action = actionElements[activeMenuItemIndex];\n        if (action) {\n          action.click();\n        } else {\n          this.toggleOpen(false);\n        }\n      }\n      if (key === \"Tab\") {\n        this.open = false;\n        return;\n      }\n      if (key === \"Escape\") {\n        this.toggleOpen(false);\n        event.preventDefault();\n        return;\n      }\n      this.handleActionNavigation(event, key, actionElements);\n    };\n    this.menuId = `${this.guid}-menu`;\n    this._open = false;\n    this.updateAction = (action, index) => {\n      const { guid: guid2, activeMenuItemIndex } = this;\n      const id = `${guid2}-action-${index}`;\n      action.tabIndex = -1;\n      action.setAttribute(\"role\", \"menuitem\");\n      if (!action.id) {\n        action.id = id;\n      }\n      action.toggleAttribute(activeAttr, index === activeMenuItemIndex);\n    };\n    this.activeMenuItemIndex = -1;\n    this.appearance = \"solid\";\n    this.expanded = false;\n    this.overlayPositioning = \"absolute\";\n    this.placement = \"auto\";\n    this.scale = \"m\";\n    this.calciteActionMenuOpen = createEvent({ cancelable: false });\n  }\n  static {\n    this.properties = { activeMenuItemIndex: [16, {}, { state: true }], menuButtonEl: [16, {}, { state: true }], appearance: [3, {}, { reflect: true }], expanded: [7, {}, { reflect: true, type: Boolean }], flipPlacements: [0, {}, { attribute: false }], label: 1, open: [7, {}, { reflect: true, type: Boolean }], overlayPositioning: [3, {}, { reflect: true }], placement: [3, {}, { reflect: true }], scale: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  get open() {\n    return this._open;\n  }\n  set open(open) {\n    const oldOpen = this._open;\n    if (open !== oldOpen) {\n      this._open = open;\n      this.openHandler(open);\n    }\n  }\n  async setFocus() {\n    await componentFocusable(this);\n    return focusElement(this.menuButtonEl);\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.connectMenuButtonEl();\n  }\n  willUpdate(changes) {\n    if (changes.has(\"expanded\") && (this.hasUpdated || this.expanded !== false)) {\n      this.expandedHandler();\n    }\n    if (changes.has(\"activeMenuItemIndex\") && (this.hasUpdated || this.activeMenuItemIndex !== -1)) {\n      this.updateActions(this.actionElements);\n    }\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.disconnectMenuButtonEl();\n  }\n  expandedHandler() {\n    this.open = false;\n    this.setTooltipReferenceElement();\n  }\n  openHandler(open) {\n    if (this.menuButtonEl) {\n      this.menuButtonEl.active = open;\n    }\n    if (this.popoverEl) {\n      this.popoverEl.open = open;\n    }\n    this.activeMenuItemIndex = this.open ? 0 : -1;\n    this.calciteActionMenuOpen.emit();\n    this.setTooltipReferenceElement();\n  }\n  connectMenuButtonEl() {\n    const { menuButtonId, menuId, open, label } = this;\n    const menuButtonEl = this.slottedMenuButtonEl || this.defaultMenuButtonEl;\n    if (this.menuButtonEl === menuButtonEl) {\n      return;\n    }\n    this.disconnectMenuButtonEl();\n    this.menuButtonEl = menuButtonEl;\n    this.setTooltipReferenceElement();\n    if (!menuButtonEl) {\n      return;\n    }\n    menuButtonEl.active = open;\n    menuButtonEl.setAttribute(\"aria-controls\", menuId);\n    menuButtonEl.setAttribute(\"aria-expanded\", toAriaBoolean(open));\n    menuButtonEl.setAttribute(\"aria-haspopup\", \"true\");\n    if (!menuButtonEl.id) {\n      menuButtonEl.id = menuButtonId;\n    }\n    if (!menuButtonEl.label) {\n      menuButtonEl.label = label;\n    }\n    if (!menuButtonEl.text) {\n      menuButtonEl.text = label;\n    }\n    menuButtonEl.addEventListener(\"click\", this.menuButtonClick);\n    menuButtonEl.addEventListener(\"keydown\", this.menuButtonKeyDown);\n  }\n  disconnectMenuButtonEl() {\n    const { menuButtonEl } = this;\n    if (!menuButtonEl) {\n      return;\n    }\n    menuButtonEl.removeEventListener(\"click\", this.menuButtonClick);\n    menuButtonEl.removeEventListener(\"keydown\", this.menuButtonKeyDown);\n    this.menuButtonEl = null;\n  }\n  setMenuButtonEl(event) {\n    const actions = event.target.assignedElements({\n      flatten: true\n    }).filter((el) => el?.matches(\"calcite-action\"));\n    this.slottedMenuButtonEl = actions[0];\n    this.connectMenuButtonEl();\n  }\n  setDefaultMenuButtonEl(el) {\n    this.defaultMenuButtonEl = el;\n    if (el) {\n      this.connectMenuButtonEl();\n    }\n  }\n  setPopoverEl(el) {\n    if (!el) {\n      return;\n    }\n    this.popoverEl = el;\n    el.open = this.open;\n  }\n  handleCalciteActionClick() {\n    this.open = false;\n    this.setFocus();\n  }\n  updateTooltip(event) {\n    const tooltips = event.target.assignedElements({\n      flatten: true\n    }).filter((el) => el?.matches(\"calcite-tooltip\"));\n    this.tooltipEl = tooltips[0];\n    this.setTooltipReferenceElement();\n  }\n  setTooltipReferenceElement() {\n    const { tooltipEl, expanded, menuButtonEl, open } = this;\n    if (tooltipEl) {\n      tooltipEl.referenceElement = !expanded && !open ? menuButtonEl : null;\n    }\n  }\n  updateActions(actions) {\n    actions?.forEach(this.updateAction);\n  }\n  handleDefaultSlotChange(event) {\n    const actions = event.target.assignedElements({\n      flatten: true\n    }).reduce((previousValue, currentValue) => {\n      if (currentValue?.matches(\"calcite-action\")) {\n        previousValue.push(currentValue);\n        return previousValue;\n      }\n      if (currentValue?.matches(\"calcite-action-group\")) {\n        return previousValue.concat(Array.from(currentValue.querySelectorAll(\"calcite-action\")));\n      }\n      return previousValue;\n    }, []);\n    this.actionElements = actions.filter((action) => !action.disabled && !action.hidden);\n  }\n  isValidKey(key, supportedKeys) {\n    return !!supportedKeys.find((k) => k === key);\n  }\n  handleActionNavigation(event, key, actions) {\n    if (!this.isValidKey(key, SUPPORTED_MENU_NAV_KEYS)) {\n      return;\n    }\n    event.preventDefault();\n    if (!this.open) {\n      this.toggleOpen();\n      if (key === \"Home\" || key === \"ArrowDown\") {\n        this.activeMenuItemIndex = 0;\n      }\n      if (key === \"End\" || key === \"ArrowUp\") {\n        this.activeMenuItemIndex = actions.length - 1;\n      }\n      return;\n    }\n    if (key === \"Home\") {\n      this.activeMenuItemIndex = 0;\n    }\n    if (key === \"End\") {\n      this.activeMenuItemIndex = actions.length - 1;\n    }\n    const currentIndex = this.activeMenuItemIndex;\n    if (key === \"ArrowUp\") {\n      this.activeMenuItemIndex = getRoundRobinIndex(Math.max(currentIndex - 1, -1), actions.length);\n    }\n    if (key === \"ArrowDown\") {\n      this.activeMenuItemIndex = getRoundRobinIndex(currentIndex + 1, actions.length);\n    }\n  }\n  toggleOpen(value = !this.open) {\n    this.open = value;\n  }\n  handlePopoverOpen(event) {\n    event.stopPropagation();\n    this.open = true;\n    this.setFocus();\n  }\n  handlePopoverClose(event) {\n    event.stopPropagation();\n    this.open = false;\n  }\n  renderMenuButton() {\n    const { appearance, label, scale, expanded } = this;\n    const menuButtonSlot = html`<slot name=${SLOTS.trigger} @slotchange=${this.setMenuButtonEl}><calcite-action .appearance=${appearance} class=${safeClassMap(CSS.defaultTrigger)} .icon=${ICONS.menu} .scale=${scale} .text=${label} .textEnabled=${expanded} ${ref(this.setDefaultMenuButtonEl)}></calcite-action></slot>`;\n    return menuButtonSlot;\n  }\n  renderMenuItems() {\n    const { actionElements, activeMenuItemIndex, menuId, menuButtonEl, label, placement, overlayPositioning, flipPlacements } = this;\n    const activeAction = actionElements[activeMenuItemIndex];\n    const activeDescendantId = activeAction?.id || null;\n    return html`<calcite-popover auto-close .flipPlacements=${flipPlacements} focus-trap-disabled .label=${label} offset-distance=0 @calcitePopoverClose=${this.handlePopoverClose} @calcitePopoverOpen=${this.handlePopoverOpen} .overlayPositioning=${overlayPositioning} .placement=${placement} pointer-disabled .referenceElement=${menuButtonEl} trigger-disabled ${ref(this.setPopoverEl)}><div aria-activedescendant=${activeDescendantId ?? nothing} aria-labelledby=${menuButtonEl?.id ?? nothing} class=${safeClassMap(CSS.menu)} id=${menuId ?? nothing} @click=${this.handleCalciteActionClick} role=menu tabindex=-1><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></calcite-popover>`;\n  }\n  render() {\n    return html`${this.renderMenuButton()}${this.renderMenuItems()}<slot name=${SLOTS.tooltip} @slotchange=${this.updateTooltip}></slot>`;\n  }\n}\ncustomElement(\"calcite-action-menu\", ActionMenu);\nexport {\n  ActionMenu\n};\n"],"names":["getRoundRobinIndex","index","total","CSS","menu","defaultTrigger","SLOTS","tooltip","trigger","ICONS","activeAttr","menuActions","menuTooltip","container","styles","css","ActionGroup","LitElement","constructor","super","arguments","this","messages","useT9n","hasMenuActions","expanded","layout","menuOpen","overlayPositioning","scale","properties","state","columns","type","Number","reflect","Boolean","label","menuFlipPlacements","attribute","menuPlacement","messageOverrides","shadowRootOptions","mode","delegatesFocus","setFocus","componentFocusable","focusFirstTabbable","el","willUpdate","changes","has","hasUpdated","setMenuOpen","event","currentTarget","open","handleMenuActionsSlotChange","slotChangeHasAssignedElement","renderMenu","html","more","SLOTS$1","render","safeClassMap","customElement","SUPPORTED_MENU_NAV_KEYS","ActionMenu","guid","actionElements","menuButtonClick","toggleOpen","menuButtonId","menuButtonKeyDown","key","activeMenuItemIndex","length","isActivationKey","preventDefault","action","click","handleActionNavigation","menuId","_open","updateAction","guid2","id","tabIndex","setAttribute","toggleAttribute","appearance","placement","calciteActionMenuOpen","createEvent","cancelable","menuButtonEl","flipPlacements","openHandler","focusElement","connectedCallback","connectMenuButtonEl","expandedHandler","updateActions","disconnectedCallback","disconnectMenuButtonEl","setTooltipReferenceElement","active","popoverEl","emit","slottedMenuButtonEl","defaultMenuButtonEl","toAriaBoolean","text","addEventListener","removeEventListener","setMenuButtonEl","actions","target","assignedElements","flatten","filter","matches","setDefaultMenuButtonEl","setPopoverEl","handleCalciteActionClick","updateTooltip","tooltips","tooltipEl","referenceElement","forEach","handleDefaultSlotChange","reduce","previousValue","currentValue","push","concat","Array","from","querySelectorAll","disabled","hidden","isValidKey","supportedKeys","find","k","currentIndex","Math","max","value","handlePopoverOpen","stopPropagation","handlePopoverClose","renderMenuButton","ref","renderMenuItems","activeAction","activeDescendantId","nothing"],"sourceRoot":""}