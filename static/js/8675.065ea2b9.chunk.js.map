{"version":3,"file":"static/js/8675.065ea2b9.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{px2pt as e,pt2px as t}from\"../../core/screenUtils.js\";import{CIMSymbolHelper as i}from\"../cim/CIMSymbolHelper.js\";import{CIMSymbolRasterizer as l}from\"../cim/CIMSymbolRasterizer.js\";import{OverrideHelper as r}from\"../cim/OverrideHelper.js\";import{mapCIMSymbolToGeometryType as n}from\"../cim/utils.js\";import{SymbolSizeDefaults as a}from\"./previewUtils.js\";import{renderSymbol as o}from\"./renderUtils.js\";const s=new l(null),c=e(a.size),m=e(a.maxSize),u=e(a.lineWidth),f=1;async function h(e,t,i){const l=t?.size;let r=null!=l&&\"object\"==typeof l&&\"width\"in l?l.width:l,n=null!=l&&\"object\"==typeof l&&\"height\"in l?l.height:l;if(null==r||null==n)if(\"esriGeometryPolygon\"===i)r=c,n=c;else{const l=await y(e,t,i);l&&(r=l.width,n=l.height),\"esriGeometryPolyline\"===i&&(r=u),r=null!=r&&isFinite(r)?Math.min(r,m):c,n=null!=n&&isFinite(n)?Math.max(Math.min(n,m),f):c}return\"legend\"===t.style&&\"esriGeometryPolyline\"===i&&(r=u),{width:r,height:n}}async function y(e,t,l){const{feature:n,fieldMap:a,viewParams:o}=t.cimOptions||t,c=await r.resolveSymbolOverrides(e.data,n,null,a,l,null,o);if(!c)return null;(e=e.clone()).data={type:\"CIMSymbolReference\",symbol:c},e.data.primitiveOverrides=void 0;const m=[];return i.fetchResources(c,s.resourceManager,m),i.fetchFonts(c,s.resourceManager,m),m.length>0&&await Promise.all(m),i.getEnvelope(c,null,s.resourceManager)}async function p(e,i={}){const{node:l,opacity:r,symbolConfig:a}=i,c=null!=a&&\"object\"==typeof a&&\"isSquareFill\"in a&&a.isSquareFill,m=i.cimOptions||i,u=m.geometryType||n(e?.data?.symbol),f=await h(e,i,u),{feature:y,fieldMap:p}=m,d=c||\"esriGeometryPolygon\"!==u?\"preview\":\"legend\",g=await s.rasterizeCIMSymbolAsync(e,y,f,d,p,u,null,m.viewParams,m.allowScalingUp);if(!g)return null;const{width:w,height:b}=g,v=document.createElement(\"canvas\");v.width=w,v.height=b;v.getContext(\"2d\").putImageData(g,0,0);const M=t(f.width),j=t(f.height),S=new Image(M,j);S.src=v.toDataURL(),S.ariaLabel=i.ariaLabel??null,S.alt=i.ariaLabel??\"\",null!=r&&(S.style.opacity=`${r}`);let C=S;if(null!=i.effectView){const e={shape:{type:\"image\",x:0,y:0,width:M,height:j,src:S.src},fill:null,stroke:null,offset:[0,0]};C=o([[e]],[M,j],{effectView:i.effectView,ariaLabel:i.ariaLabel})}return l&&C&&l.appendChild(C),C}export{p as previewCIMSymbol};\n"],"names":["s","l","c","e","a","size","m","maxSize","u","lineWidth","f","async","h","t","i","r","width","n","height","feature","fieldMap","viewParams","o","cimOptions","resolveSymbolOverrides","data","clone","type","symbol","primitiveOverrides","fetchResources","resourceManager","fetchFonts","length","Promise","all","getEnvelope","y","isFinite","Math","min","max","style","p","node","opacity","symbolConfig","isSquareFill","geometryType","d","g","rasterizeCIMSymbolAsync","allowScalingUp","w","b","v","document","createElement","getContext","putImageData","M","j","S","Image","src","toDataURL","ariaLabel","alt","C","effectView","shape","x","fill","stroke","offset","appendChild"],"sourceRoot":""}