{"version":3,"file":"static/js/19854.d4f06e0c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/libs/basisu/TextureFormat.js","../node_modules/@arcgis/core/libs/basisu/BasisUEncoder.js","../node_modules/@arcgis/core/libs/dxtEncoder/DXTEncoder.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureCompressionWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar _;!function(_){_[_.ETC1_RGB=0]=\"ETC1_RGB\",_[_.ETC2_RGBA=1]=\"ETC2_RGBA\",_[_.BC1_RGB=2]=\"BC1_RGB\",_[_.BC3_RGBA=3]=\"BC3_RGBA\",_[_.BC4_R=4]=\"BC4_R\",_[_.BC5_RG=5]=\"BC5_RG\",_[_.BC7_M6_RGB=6]=\"BC7_M6_RGB\",_[_.BC7_M5_RGBA=7]=\"BC7_M5_RGBA\",_[_.PVRTC1_4_RGB=8]=\"PVRTC1_4_RGB\",_[_.PVRTC1_4_RGBA=9]=\"PVRTC1_4_RGBA\",_[_.ASTC_4x4_RGBA=10]=\"ASTC_4x4_RGBA\",_[_.ATC_RGB=11]=\"ATC_RGB\",_[_.ATC_RGBA=12]=\"ATC_RGBA\",_[_.FXT1_RGB=17]=\"FXT1_RGB\",_[_.PVRTC2_4_RGB=18]=\"PVRTC2_4_RGB\",_[_.PVRTC2_4_RGBA=19]=\"PVRTC2_4_RGBA\",_[_.ETC2_EAC_R11=20]=\"ETC2_EAC_R11\",_[_.ETC2_EAC_RG11=21]=\"ETC2_EAC_RG11\",_[_.RGBA32=13]=\"RGBA32\",_[_.RGB565=14]=\"RGB565\",_[_.BGR565=15]=\"BGR565\",_[_.RGBA4444=16]=\"RGBA4444\"}(_||(_={}));export{_ as TextureFormat};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as s}from\"../../assets.js\";function i(){return t??=(async()=>{const i=await import(\"../../chunks/basis_encoder.js\"),t=await i.default({locateFile:i=>s(`esri/libs/basisu/${i}`)});return t.initializeBasis(),t})(),t}let t;export{i as getBasisEncoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as t}from\"../../assets.js\";function e(){return r??=(async()=>{const e=await import(\"../../chunks/dxt_encoder.js\");return await e.default({locateFile:e=>t(`esri/libs/dxtEncoder/${e}`)})})(),r}let r;export{e as getDXTEncoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getBasisEncoder as e}from\"../../../../libs/basisu/BasisUEncoder.js\";import{TextureFormat as t}from\"../../../../libs/basisu/TextureFormat.js\";import{getDXTEncoder as n}from\"../../../../libs/dxtEncoder/DXTEncoder.js\";import{CompressedTextureFormat as r}from\"../../../webgl/enums.js\";let s,a,l=null,i=null;class o{constructor(e,t){this.internalFormat=e,this.compressedTexture=t}}async function c(e){const t=m(e.data,e.flipped);if(e.hasS3TC){i||await f();const n=new Uint8Array(t.length);i?.encode(new Uint8Array(t),e.width,e.height,n);const r=R(n,!0),s=[n.buffer];return{result:new o(r?.internalFormat??null,r?.textureData??null),transferList:s}}if(e.hasETC){l||await u();const n=await h(t,e.width,e.height,e.hasMipmap),r=n?await d(n):null,s=r?.compressedTexture?.levels.map((e=>e.buffer))||[];return{result:new o(r?.internalFormat??null,r?.compressedTexture??null),transferList:s}}return{result:new o(null,null)}}async function u(){l||(l=await(s??=e()))}async function f(){i||(i=await(a??=n()))}async function h(e,t,n,r,s=255,a=0,i=!1,o=!1){if(!l)return null;const c=new l.BasisEncoder;c.setPerceptual(!o),c.setCheckForAlpha(!0),c.setForceAlpha(!1),c.setRenormalize(o),c.setMipGen(r),c.setMipSRGB(!o),c.setCreateKTX2File(!0),c.setKTX2SRGBTransferFunc(!o),c.setQualityLevel(s),c.setCompressionLevel(a);const u=new Uint8Array(e.byteLength);c.setSliceSourceImage(0,new Uint8Array(e),t,n,i);const f=c.encode(u),h=new Uint8Array(u.buffer,0,f),d=new l.KTX2File(new Uint8Array(h));return d.isValid()?(c.delete(),h):(d.close(),d.delete(),c.delete(),null)}async function d(e){if(!l)return new o(null,null);const n=new l.KTX2File(new Uint8Array(e));n.startTranscoding();const[s,a]=n.getHasAlpha()?[t.ETC2_RGBA,r.COMPRESSED_RGBA8_ETC2_EAC]:[t.ETC1_RGB,r.COMPRESSED_RGB8_ETC2],i=n.getLevels(),c=[];for(let t=0;t<i;t++)c.push(new Uint8Array(n.getImageTranscodedSizeInBytes(t,0,0,s))),n.transcodeImage(c[t],t,0,0,s,0,-1,-1);return n.close(),n.delete(),{internalFormat:a,compressedTexture:{type:\"compressed\",levels:c}}}function m(e,t=!1){const n=new OffscreenCanvas(e.width,e.height),r=n.getContext(\"2d\");t&&r.scale(1,-1),r.drawImage(e,0,t?-e.height:0);return r.getImageData(0,0,n.width,n.height).data}const w=31,T=1,p=2,C=3,E=4,y=7,A=21,g=131072;function S(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}const _=S(\"DXT1\"),b=S(\"DXT3\"),D=S(\"DXT5\");function R(e,t){const n=new Int32Array(e.buffer,e.byteOffset,w);let s,a;switch(n[A]){case _:s=8,a=r.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case b:s=16,a=r.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case D:s=16,a=r.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}let l=1,i=n[E],o=n[C];(3&i||3&o)&&(i=i+3&-4,o=o+3&-4);const c=i,u=o;let f,h;n[p]&g&&!1!==t&&(l=Math.max(1,n[y]));let d=e.byteOffset+n[T]+4;const m=[];for(let r=0;r<l;++r)h=(i+3>>2)*(o+3>>2)*s,f=new Uint8Array(e.buffer,d,h),m.push(f),d+=h,i=Math.max(1,i>>1),o=Math.max(1,o>>1);return{textureData:{type:\"compressed\",levels:m},internalFormat:a,width:c,height:u}}export{o as TextureCompressionWorkerOutput,c as compress,h as compressRGBADataToKTX2,d as createTextureDataKTX2,u as initializeBasisEncoder,f as initializeDXTEncoder};\n"],"names":["_","ETC1_RGB","ETC2_RGBA","BC1_RGB","BC3_RGBA","BC4_R","BC5_RG","BC7_M6_RGB","BC7_M5_RGBA","PVRTC1_4_RGB","PVRTC1_4_RGBA","ASTC_4x4_RGBA","ATC_RGB","ATC_RGBA","FXT1_RGB","PVRTC2_4_RGB","PVRTC2_4_RGBA","ETC2_EAC_R11","ETC2_EAC_RG11","RGBA32","RGB565","BGR565","RGBA4444","t","r","s","a","l","i","o","constructor","e","this","internalFormat","compressedTexture","async","c","n","OffscreenCanvas","width","height","getContext","scale","drawImage","getImageData","data","m","flipped","hasS3TC","f","Uint8Array","length","encode","Int32Array","buffer","byteOffset","w","A","COMPRESSED_RGB_S3TC_DXT1_EXT","b","COMPRESSED_RGBA_S3TC_DXT3_EXT","D","COMPRESSED_RGBA_S3TC_DXT5_EXT","E","C","u","h","p","g","Math","max","y","d","T","push","textureData","type","levels","R","result","transferList","hasETC","hasMipmap","map","default","locateFile","initializeBasis","BasisEncoder","setPerceptual","setCheckForAlpha","setForceAlpha","setRenormalize","setMipGen","setMipSRGB","setCreateKTX2File","setKTX2SRGBTransferFunc","setQualityLevel","setCompressionLevel","byteLength","setSliceSourceImage","KTX2File","isValid","delete","close","startTranscoding","getHasAlpha","COMPRESSED_RGBA8_ETC2_EAC","COMPRESSED_RGB8_ETC2","getLevels","getImageTranscodedSizeInBytes","transcodeImage","S","charCodeAt"],"sourceRoot":""}