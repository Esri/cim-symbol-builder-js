/*! For license information please see 82354.cbf59ad7.chunk.js.LICENSE.txt */
"use strict";(globalThis.webpackChunkmy_app=globalThis.webpackChunkmy_app||[]).push([[82354],{35125:(t,e,n)=>{n.d(e,{a:()=>a,c:()=>s});var i=n(30697);async function a(t){await t.componentOnReady()}async function s(t){if(await t.componentOnReady(),(0,i.i)())return t.requestUpdate(),new Promise((t=>requestAnimationFrame((()=>t()))))}},82354:(t,e,n)=>{n.r(e),n.d(e,{ColorPickerHexInput:()=>x});var i=n(30697),a=n(80526),s=n(49469),l=n(78598),h=n(37022),o=n(5417),r=n(50965),u=n(35125),c=n(94161);const p="container",d="hex-input",I="opacity-input",v=c.AH`:host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:100px;margin-inline-start:-1px}:host([hidden]){display:none}[hidden]{display:none}`,C=(0,l.C)();class x extends o.WF{constructor(){super(...arguments),this.internalColor=C,this.alphaChannel=!1,this.allowEmpty=!1,this.hexLabel="Hex",this.scale="m",this.value=(0,l.n)((0,l.h)(C,this.alphaChannel),this.alphaChannel,!0),this.calciteColorPickerHexInputChange=(0,o.lh)({cancelable:!1})}static{this.properties={internalColor:16,alphaChannel:5,allowEmpty:5,hexLabel:1,messages:0,numberingSystem:1,scale:3,value:3}}static{this.styles=v}async setFocus(){return await(0,u.c)(this),(0,r.b)(this.hexInputNode)}connectedCallback(){super.connectedCallback(),this.previousNonNullValue=this.value;const{allowEmpty:t,alphaChannel:e,value:n}=this;if(n){const t=(0,l.n)(n,e);(0,l.i)(t,e)&&this.internalSetValue(t,t,!1)}else t&&this.internalSetValue(void 0,void 0,!1)}load(){}willUpdate(t){t.has("value")&&(this.hasUpdated||this.value!==(0,l.n)((0,l.h)(C,this.alphaChannel),this.alphaChannel,!0))&&this.internalSetValue(this.value,t.get("value"),!1)}loaded(){}onHexInputBlur(){const t=this.hexInputNode,e=t.value,n=`#${e}`,{allowEmpty:i,internalColor:a}=this,s=i&&!e,h=(0,l.a)(n);((0,l.b)(n,!0)||(0,l.b)(n,!1))&&this.onHexInputChange(),!(s||(0,l.i)(n)&&h)&&(t.value=i&&!a?"":this.formatHexForInternalInput((0,l.r)(a.object())))}onOpacityInputBlur(){const t=this.opacityInputNode,e=t.value,{allowEmpty:n,internalColor:i}=this;n&&!e||(t.value=n&&!i?"":this.formatOpacityForInternalInput(i))}onOpacityInputInput(){this.onOpacityInputChange()}onHexInputChange(){let t=this.hexInputNode.value;if(t){const e=(0,l.n)(t,!1);if((0,l.i)(e)&&this.alphaChannel&&this.internalColor){t=`${e+(0,l.n)(this.internalColor.hexa(),!0).slice(-2)}`}}this.internalSetValue(t,this.value)}onOpacityInputChange(){const t=this.opacityInputNode;let e;if(t.value){const n=(0,l.o)(Number(t.value));e=this.internalColor?.alpha(n).hexa()}else e=t.value;this.internalSetValue(e,this.value)}onInputFocus(t){"calciteInternalInputTextFocus"===t.type?this.hexInputNode.selectText():this.opacityInputNode.selectText()}onHexInputInput(){const t=`#${this.hexInputNode.value}`,e=this.value;(0,l.i)(t,this.alphaChannel)&&(0,l.a)(t,this.alphaChannel)&&this.internalSetValue(t,e)}onInputKeyDown(t){const{altKey:e,ctrlKey:n,metaKey:i,shiftKey:a}=t,{alphaChannel:s,hexInputNode:h,internalColor:o,value:r}=this,{key:u}=t,c=t.composedPath();if("Tab"===u&&(0,l.b)(r,this.alphaChannel)||"Enter"===u)return c.includes(h)?this.onHexInputChange():this.onOpacityInputChange(),void("Enter"===u&&t.preventDefault());const p="ArrowDown"===u||"ArrowUp"===u,d=this.value;if(p){if(!r)return this.internalSetValue(this.previousNonNullValue,d),void t.preventDefault();const e="ArrowUp"===u?1:-1,n=a?10:1;return this.internalSetValue((0,l.h)(this.nudgeRGBChannels(o,n*e,c.includes(h)?"rgb":"a"),s),d),void t.preventDefault()}const I=e||n||i,v=1===u.length,C=l.d.test(u);v&&!I&&!C&&t.preventDefault()}onHexInputPaste(t){const e=t.clipboardData.getData("text");(0,l.i)(e,this.alphaChannel)&&(0,l.a)(e,this.alphaChannel)&&(t.preventDefault(),this.hexInputNode.value=e.slice(1),this.internalSetValue(e,this.value))}internalSetValue(t,e,n=!0){if(t){const{alphaChannel:e}=this,i=(0,l.n)(t,e,e);if((0,l.i)(i,e)){const{internalColor:t}=this,a=(0,l.C)(i),s=(0,l.n)((0,l.h)(a,e),e),h=!t||s!==(0,l.n)((0,l.h)(t,e),e);return this.internalColor=a,this.previousNonNullValue=s,this.value=s,void(h&&n&&this.calciteColorPickerHexInputChange.emit())}}else if(this.allowEmpty)return this.internalColor=void 0,this.value=void 0,void(n&&this.calciteColorPickerHexInputChange.emit());this.value=e}storeHexInputRef(t){this.hexInputNode=t}storeOpacityInputRef(t){this.opacityInputNode=t}formatHexForInternalInput(t){return t?t.replace("#","").slice(0,6):""}formatOpacityForInternalInput(t){return t?`${(0,l.c)(t.alpha())}`:""}nudgeRGBChannels(t,e,n){let i;const a=t.array(),s=a.slice(0,3);if("rgb"===n)i=[...s.map((t=>t+e)),this.alphaChannel?a[3]:void 0];else{const n=(0,l.o)((0,l.c)(t.alpha())+e);i=[...s,n]}return(0,l.C)(i)}render(){const{alphaChannel:t,hexLabel:e,internalColor:n,messages:i,scale:r,value:u}=this,c=this.formatHexForInternalInput(u),v=this.formatOpacityForInternalInput(n),C="l"===r?"m":"s";return h.qy`<div class=${(0,o.CP)(p)}><calcite-input-text class=${(0,o.CP)(d)} .label=${i?.hex||e} .maxLength=${this.alphaChannel?8:6} @keydown=${this.onInputKeyDown} @paste=${this.onHexInputPaste} @calciteInputTextChange=${this.onHexInputChange} @calciteInputTextInput=${this.onHexInputInput} @calciteInternalInputTextBlur=${this.onHexInputBlur} @calciteInternalInputTextFocus=${this.onInputFocus} prefix-text=# .scale=${C} .value=${c} ${(0,a.K)(this.storeHexInputRef)}></calcite-input-text>${t?(0,s.D)("opacity-input",h.qy`<calcite-input-number class=${(0,o.CP)(I)} .label=${i?.opacity} .max=${l.O.max} max-length=3 .min=${l.O.min} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.onInputKeyDown} @calciteInputNumberInput=${this.onOpacityInputInput} @calciteInternalInputNumberBlur=${this.onOpacityInputBlur} @calciteInternalInputNumberFocus=${this.onInputFocus} .scale=${C} suffix-text=% .value=${v} ${(0,a.K)(this.storeOpacityInputRef)}></calcite-input-number>`):null}</div>`}}(0,i.c)("calcite-color-picker-hex-input",x)},49469:(t,e,n)=>{n.d(e,{D:()=>l});var i=n(28531),a=n(30533),s=n(70885);const l=(0,a.u$)(class extends a.WL{constructor(){super(...arguments),this.key=i.s6}render(t,e){return this.key=t,e}update(t,[e,n]){return e!==this.key&&((0,s.mY)(t),this.key=e),n}})},80526:(t,e,n)=>{n.d(e,{_:()=>d,K:()=>C});var i=n(28531),a=n(70885),s=n(30533);const l=(t,e)=>{const n=t._$AN;if(void 0===n)return!1;for(const i of n)i._$AO?.(e,!1),l(i,e);return!0},h=t=>{let e,n;do{if(void 0===(e=t._$AM))break;n=e._$AN,n.delete(t),t=e}while(0===n?.size)},o=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(void 0===n)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),c(e)}};function r(t){void 0!==this._$AN?(h(this),this._$AM=t,o(this)):this._$AM=t}function u(t,e=!1,n=0){const i=this._$AH,a=this._$AN;if(void 0!==a&&0!==a.size)if(e)if(Array.isArray(i))for(let s=n;s<i.length;s++)l(i[s],!1),h(i[s]);else null!=i&&(l(i,!1),h(i));else l(this,t)}const c=t=>{t.type==s.OA.CHILD&&(t._$AP??=u,t._$AQ??=r)};class p extends s.WL{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,n){super._$AT(t,e,n),o(this),this.isConnected=t._$AU}_$AO(t,e=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),e&&(l(this,t),h(this))}setValue(t){if((0,a.Rt)(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}const d=()=>new I;class I{}const v=new WeakMap,C=(0,s.u$)(class extends p{render(t){return i.s6}update(t,[e]){const n=e!==this.Y;return n&&void 0!==this.Y&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.Y=e,this.ht=t.options?.host,this.rt(this.ct=t.element)),i.s6}rt(t){if(this.isConnected||(t=void 0),"function"==typeof this.Y){const e=this.ht??globalThis;let n=v.get(e);void 0===n&&(n=new WeakMap,v.set(e,n)),void 0!==n.get(this.Y)&&this.Y.call(this.ht,void 0),n.set(this.Y,t),void 0!==t&&this.Y.call(this.ht,t)}else this.Y.value=t}get lt(){return"function"==typeof this.Y?v.get(this.ht??globalThis)?.get(this.Y):this.Y?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}})}}]);
//# sourceMappingURL=82354.cbf59ad7.chunk.js.map