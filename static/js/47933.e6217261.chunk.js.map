{"version":3,"file":"static/js/47933.e6217261.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/QueueProcessor.js","../node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{removeMaybe as e}from\"./maybe.js\";import{onAbort as s,onAbortOrThrow as t,createResolver as r,createAbortError as i,isPromiseLike as h}from\"./promiseUtils.js\";import o from\"./Queue.js\";import n from\"./ReactiveMap.js\";import{schedule as c}from\"./scheduling.js\";import{signal as l}from\"./signal.js\";class u{constructor(e,s){this.item=e,this.controller=s,this.promise=null}}class _{constructor(e){this._schedule=null,this._deferreds=new n,this._controllers=new n,this._processingItems=new n,this._pausedSignal=l(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new o(e.peeker),this.process=e.process}destroy(){this.clear(),this._schedule=e(this._schedule)}get updating(){return this.running}get length(){return this._processingItems.size+this._queue.length}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}abort(e){const s=this._controllers.get(e);s&&s.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach((s=>e.push(s))),this._controllers.clear(),e.forEach((e=>e.abort())),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach(((s,t)=>e(t)))}get(e){const s=this._deferreds.get(e);return s?s.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,h){const o=this.get(e);if(o)return o;const n=new AbortController;let c=null;h&&(c=s(h,(()=>n.abort())));const l=()=>{const s=this._processingItems.get(e);s&&s.controller.abort(),u(),a.reject(i())},u=()=>{_.remove(),null!=c&&c.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},_=t(n.signal,l),a=r();return this._deferreds.set(e,a),this._controllers.set(e,n),a.promise.then(u,u),this._queue.push(e),this._scheduleNext(),a.promise}last(){return this._queue.last()}lastPromise(){const e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){const e=this._queue.popLast();return e&&(this._deferreds.get(e)?.reject(i()),this._removeItem(e)),e}reset(){const e=Array.from(this._processingItems.values());this._processingItems.clear();for(const s of e)this._queue.push(s.item),s.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._pausedSignal.value||this._schedule||(this._schedule=c((()=>{this._schedule=null,this._next()})))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(s))}_processError(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(s))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(null==e)return;let s;const t=new AbortController,r=new u(e,t);this._processingItems.set(e,r);try{s=this.process(e,t.signal)}catch(i){this._processError(r,i)}h(s)?(r.promise=s,s.then((e=>this._processResult(r,e)),(e=>this._processError(r,e)))):this._processResult(r,s)}}export{_ as QueueProcessor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{Integer as n,ensureClass as o}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{enumeration as a}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as l}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as m}from\"../../core/accessorSupport/decorators/subclass.js\";import u from\"../../geometry/Point.js\";import p from\"../../geometry/SpatialReference.js\";import{getInfo as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{sanitizeUrl as d}from\"../support/arcgisLayerUrl.js\";import{url as h}from\"../support/commonProperties.js\";import f from\"../support/DimensionalDefinition.js\";import y from\"../support/MultidimensionalSubset.js\";import{interpolationKebab as g}from\"../support/rasterEnums.js\";import b from\"../support/RasterFunction.js\";import R from\"../support/TileInfo.js\";import{isFunctionRaster as I}from\"../support/rasterDatasets/datasetUtils.js\";import x from\"../support/rasterDatasets/FunctionRaster.js\";import{getEffectiveMultidimensionalDefinition as S,getDefaultVariableInfo as v,isMultiSliceOrRangeDefinition as w,convertOleDateTimeToEpoch as F,getSubsetVariablesFromMdInfo as _,getDefaultMultidimensionalDefinition as j}from\"../support/rasterDatasets/multidimensionalUtils.js\";import{snapToRaster as D,clip as J}from\"../support/rasterFunctions/clipUtils.js\";import{create as N}from\"../support/rasterFunctions/rasterFunctionHelper.js\";import{load as T,projectExtent as O,projectPolygon as z}from\"../support/rasterFunctions/rasterProjectionHelper.js\";import{computeStatisticsHistograms as H}from\"../support/rasterFunctions/stretchUtils.js\";import{getVariableRasterInfo as P,getDefaultInterpolation as E,matchPresetRenderer as C,getDefaultBandCombination as M,getFunctionColorRamp as U,createDefaultRenderer as q,normalizeRendererJSON as L}from\"../../renderers/support/rasterRendererHelper.js\";import k from\"../../renderers/support/RasterSymbolizer.js\";import{websceneRasterRendererTypes as B,rasterRendererTypes as A,read as V}from\"../../renderers/support/rasterTypeUtils.js\";import $ from\"../../rest/support/ImageHistogramParameters.js\";import G from\"../../rest/support/ImageSample.js\";import W from\"../../rest/support/ImageSampleParameters.js\";import K from\"../../rest/support/ImageSampleResult.js\";const Q=1e3,X=X=>{let Y=class extends X{constructor(...e){super(...e),this._isConstructedFromFunctionRaster=!1,this.bandIds=null,this.copyright=null,this.interpolation=null,this.multidimensionalSubset=null,this.raster=null,this.serviceRasterInfo=null,this.sourceJSON=null,this.spatialReference=null,this.symbolizer=null,this._isConstructedFromFunctionRaster=I(e[0]?.raster)}destroy(){this._shutdownJobHandler()}get fullExtent(){return this.serviceRasterInfo?.extent}set multidimensionalDefinition(e){this._set(\"multidimensionalDefinition\",e),this.updateRenderer()}set rasterFunction(e){\"none\"===e?.functionName?.toLowerCase()&&(e=void 0),this._set(\"rasterFunction\",e),this.updateRasterFunction()}set url(e){this._set(\"url\",d(e,r.getLogger(this)))}get renderer(){if(\"imagery-tile\"!==this.type)return this.internalRenderer;const{activePresetRendererName:e,presetRenderers:t}=this;if(e){const i=t?.find((({name:t})=>t===e));return i?.renderer.clone()}return this.internalRenderer}set renderer(e){\"imagery-tile\"===this.type&&(this.activePresetRendererName=null),this.internalRenderer=e}set internalRenderer(e){null==e&&null==this.rasterFunction?this._configDefaultRenderer(\"override\"):(this._set(\"internalRenderer\",e),this.updateRenderer())}readRenderer(e,t,i){const r=t?.layerDefinition?.drawingInfo?.renderer;return V(r,i)||void 0}async computeStatisticsHistograms(e,t){await this.load(t),e=o($,e).clone();const{serviceRasterInfo:r}=this;if(null==r)throw new i(\"imagery-tile-mixin:compute-statistics-histograms\",\"serviceRasterInfo must be specified\");const{geometry:s}=e;if(null==s)throw new i(\"imagery-tile-mixin:compute-statistics-histograms\",\"geometry must be specified\");let n=s;const{spatialReference:a}=r;if(!s.spatialReference.equals(a)){await T();const e=\"extent\"===s.type?O(s,a):z(s,a);if(null==e)throw new i(\"imagery-tile-mixin:compute-statistics-histograms\",\"geometry cannot be projected to the data source\");n=e}const l=e.pixelSize??new u({x:r.pixelSize.x,y:r.pixelSize.y,spatialReference:a}),{extent:m,width:p,height:c}=D(r,n,l),d=await this.fetchPixels(m,p,c,{...t,interpolation:\"nearest\"});if(null==d.pixelBlock)throw new i(\"imagery-tile-mixin:compute-statistics-histograms\",\"failed to fetch pixels\");const h=await J(d.pixelBlock,m,n),f=this._rasterJobHandler;return f?f.computeStatisticsHistograms({pixelBlock:h},t):H(h)}normalizeRasterFetchOptions(e){const{multidimensionalInfo:t}=this.serviceRasterInfo??{};if(null==t)return e;const i=S({rasterInfo:this.raster.rasterInfo,multidimensionalDefinition:e.multidimensionalDefinition||this.multidimensionalDefinition,timeExtent:e.timeExtent??this.timeExtent,multidimensionalSubset:this.multidimensionalSubset});return{...e,multidimensionalDefinition:i,timeExtent:void 0}}async updateRasterFunction(){return this.loaded&&\"imagery-tile\"===this.type&&(this.rasterFunction||this._cachedRasterFunctionJson)&&JSON.stringify(this.rasterFunction)!==JSON.stringify(this._cachedRasterFunctionJson)?(this._cachedRasterFunctionJson=this.rasterFunction?.toJSON(),this._rasterFunctionUpdatePromise=this._updateRasterFunction(),this._rasterFunctionUpdatePromise):this._rasterFunctionUpdatePromise}async updateRenderer(){const{loaded:e,symbolizer:t,renderer:i}=this;if(!e||!t||!i)return;const{rasterInfo:r}=this.raster,s=v(r,{multidimensionalDefinition:this.multidimensionalDefinition,multidimensionalSubset:this.multidimensionalSubset}),n=s?.name,o=P(r,n);return this._updateSymbolizer(t,i,n,o)}async applyRenderer(e,t,i){const r=e?.pixelBlock;if(!(null!=r&&r.pixels&&r.pixels.length>0))return null;await this.updateRenderer();const s=this.bandIds??[],{pixelBlock:n}=await this._symbolize({pixelData:e,simpleStretchParams:t,bandIds:s,symbolizer:this.symbolizer},i);return n}getTileUrl(e,t,i){return\"RasterTileServer\"===this.raster.datasetFormat?`${this.url}/tile/${e}/${t}/${i}`:\"\"}getCompatibleTileInfo(e,t,i=!1){if(!this.loaded||null==t)return null;if(i&&e.equals(this.spatialReference))return this.tileInfo;const r=c(e);return R.create({size:256,spatialReference:e,origin:r?{x:r.origin[0],y:r.origin[1]}:{x:t.xmin,y:t.ymax}})}getCompatibleFullExtent(e){return this.loaded?(this._compatibleFullExtent?.spatialReference.equals(e)||(this._compatibleFullExtent=this.raster.computeExtent(e)),this._compatibleFullExtent):null}async fetchTile(e,i,r,s={}){if(Z(this),s.requestAsImageElement){const n=this.getTileUrl(e,i,r);return t(n,{responseType:\"image\",query:{...this.refreshParameters,...this.raster.ioConfig.customFetchParameters},signal:s.signal}).then((e=>e.data))}const{serviceRasterInfo:n}=this;if(null!=n.multidimensionalInfo&&null==(s=this.normalizeRasterFetchOptions(s)).multidimensionalDefinition){const t=s.tileInfo||n.storageInfo.tileInfo;return{extent:this.raster.getTileExtentFromTileInfo(e,i,r,t),pixelBlock:null}}return await this._initJobHandler(),await this.updateRasterFunction(),\"raster-shaded-relief\"===this.renderer?.type&&(s={...s,buffer:{cols:1,rows:1}}),this.raster.fetchTile(e,i,r,s)}async fetchPixels(e,t,i,r={}){return null!=this.serviceRasterInfo.multidimensionalInfo&&null==(r=this.normalizeRasterFetchOptions(r)).multidimensionalDefinition?{extent:e,pixelBlock:null}:(await this._initJobHandler(),await this.updateRasterFunction(),t=Math.round(t),i=Math.round(i),this.raster.fetchPixels(e,t,i,r))}async getSamples(e,t){if(await this.load(),(e=o(W,e).clone()).interpolation&&\"nearest\"!==e.interpolation)throw new i(\"imagery-tile-mixin:get-samples\",\"only nearest interpolation is currently supported\");const r=e.mosaicRule?.multidimensionalDefinition,s={...t,multidimensionalDefinition:r},n=(await this._getSampleLocations(e)).map((e=>this.identify(e,s).then((t=>(t.location=e,t))))),a=(await Promise.all(n)).flatMap(((e,t)=>this._convertRasterIdentifyResultToSample(e,t)));return new K({samples:a})}async identify(e,t={}){await this.load();const{raster:r,serviceRasterInfo:s}=this;if(null!=s?.multidimensionalInfo){if(!(s.hasMultidimensionalTranspose&&!(!w(t.multidimensionalDefinition)&&!t.transposedVariableName))&&null==(t=this.normalizeRasterFetchOptions(t)).multidimensionalDefinition)return{location:e,value:null}}const n=this.multidimensionalSubset?.areaOfInterest;if(n&&!n.contains(e))throw new i(\"imagery-tile-mixin:identify\",\"the request cannot be fulfilled when falling outside of the multidimensional subset\");const o=this.serviceRasterInfo?.storageInfo.isBsqTile&&this.bandIds?.length?this.bandIds:void 0;return r.identify(e,{...t,bandIds:o})}hasStandardTime(){const e=this.serviceRasterInfo?.multidimensionalInfo;if(null==e||\"standard-time\"!==this.serviceRasterInfo?.dataType)return!1;const t=this.multidimensionalDefinition,i=t?.[0]?.variableName;return e.variables.some((e=>e.name===i&&(!t?.[0].dimensionName||e.dimensions.some((e=>\"StdTime\"===e.name)))))}getStandardTimeValue(e){return new Date(F(e)).toISOString()}getMultidimensionalSubsetVariables(e){const t=e??this.serviceRasterInfo?.multidimensionalInfo;return _(this.multidimensionalSubset,t)}_configDefaultSettings(){this._configDefaultInterpolation(),this.multidimensionalDefinition||(this.multidimensionalDefinition=j(this.raster.rasterInfo,{multidimensionalSubset:this.multidimensionalSubset})),this.rasterFunction&&I(this.raster)&&(this._cachedRasterFunctionJson=this.rasterFunction.toJSON()),this._configDefaultRenderer()}async _initJobHandler(){if(!this._rasterJobHandler)return super._initJobHandler().then((async()=>{if(!this._rasterJobHandler)return;Z(this);const{raster:e}=this;e.rasterJobHandler=this._rasterJobHandler,I(e)&&e.syncJobHandler(),this.rasterFunction&&await this.updateRasterFunction().catch((()=>{})),this.renderer&&this.updateRenderer()})).catch((()=>{}))}_shutdownJobHandler(){super._shutdownJobHandler(),this.raster&&(this.raster.rasterJobHandler=null)}async _getSampleLocations(e){const{geometry:t}=e;if(\"point\"===t.type)return[t];const{spatialReference:i,type:r}=t;if(\"multipoint\"===r)return t.points.map((e=>new u({x:e[0],y:e[1],spatialReference:i})));if(\"polyline\"===r){let r=t;if(e.sampleCount||e.sampleDistance){const i=await import(\"../../geometry/operators/densifyOperator.js\"),s=(await import(\"../../geometry/operators/lengthOperator.js\")).execute(t,{unit:\"meters\"}),n=Math.min(e.sampleCount||100,Q);let o=e.sampleDistance;if(!o){o=s/(n+(2===r.paths[0].length?1:0))}r=i.execute(t,o,{unit:\"meters\"})}return r.paths.flatMap((e=>e.map((e=>new u({x:e[0],y:e[1],spatialReference:i})))))}const s=Math.min(e.sampleCount||100,Q),n=\"extent\"===t.type,o=n?t:t.extent,a=Math.sqrt(o.width*o.height/s),l=o.height/a,m=o.width/a,{xmin:p,ymax:c}=o,d=[];for(let h=0;h<l;h++)for(let e=0;e<m;e++){const r=new u({x:p+(e+.5)*a,y:c-(h+.5)*a,spatialReference:i});(n||t.contains(r))&&d.push(r)}return d}_configDefaultInterpolation(){if(null==this.interpolation){Z(this);const{raster:e}=this,t=E(e.rasterInfo,e.tileType,this.sourceJSON?.defaultResamplingMethod);this._set(\"interpolation\",t)}}_configDefaultRenderer(e=\"no\"){Z(this);const{rasterInfo:t}=this.raster,i=v(t,{multidimensionalDefinition:this.multidimensionalDefinition,multidimensionalSubset:this.multidimensionalSubset}),s=i?.name,n=C({variableName:s,rasterFunctionName:this.rasterFunction?.functionName,presetRenderers:this.presetRenderers});if(!this.bandIds&&t.bandCount>1&&(this.bandIds=n?.bandIds??M(t)),!this.renderer||\"override\"===e){const e=U(this.raster),i=n?.renderer??q(t,{bandIds:this.bandIds,variableName:s,rasterFunctionColorRamp:e}),r=t.statistics,o=r&&r.length>0?r[0]:null,a=o?.max??0,l=o?.min??0;\"WCSServer\"===this.raster.datasetFormat&&\"raster-stretch\"===i.type&&(a>1e24||l<-1e24)&&(i.dynamicRangeAdjustment=!0,i.customStatistics=null,\"none\"===i.stretchType&&(i.stretchType=\"min-max\")),this.renderer=i}const o=L({...this.renderer.toJSON(),variableName:s}),a=P(t,s);this.symbolizer?(this.symbolizer.rendererJSON=o,this.symbolizer.rasterInfo=a):this.symbolizer=new k({rendererJSON:o,rasterInfo:a});const l=this.symbolizer.bind();if(l.success){if(\"auto\"===e){const{colormap:e}=this.raster.rasterInfo,t=this.renderer;if(null!=e&&\"raster-colormap\"===t.type){const e=q(this.raster.rasterInfo);JSON.stringify(e)!==JSON.stringify(t)&&this._configDefaultRenderer(\"override\")}else if(\"raster-stretch\"===t.type){const e=this.bandIds?.length,i=t.customStatistics?.length;!t.dynamicRangeAdjustment&&i&&e&&i!==e&&this._configDefaultRenderer(\"override\")}}}else r.getLogger(this).warn(\"imagery-tile-mixin\",l.error||\"The given renderer is not supported by the layer.\"),\"auto\"===e&&this._configDefaultRenderer(\"override\")}async _updateRasterFunction(){if(this._isConstructedFromFunctionRaster&&I(this.raster)){const e=this.raster.rasterFunction.toJSON();return void(!this.rasterFunction&&e&&this._set(\"rasterFunction\",b.fromJSON(e)))}let e,t=this.raster,i=!1;I(t)?(e=t.primaryRasters.rasters,t=e[0],i=!0):e=[t];const{rasterFunction:r}=this;if(r){const i={raster:t};e.length>1&&e.forEach((e=>i[e.url]=e));const s=N(r.functionDefinition?.toJSON()??r.toJSON(),i),n=new x({rasterFunction:s});n.rasterJobHandler=this._rasterJobHandler,await n.open(),this.raster=n}else this.raster=t,await t.open();if(this._cachedRendererJson=void 0,!i&&!r)return;const{bandIds:s}=this,{bandCount:n}=this.raster.rasterInfo,o=s?.length?s.some((e=>e>=n)):n>=3;s&&(o||this.renderer&&\"raster-stretch\"!==this.renderer.type)&&this._set(\"bandIds\",null),this._configDefaultRenderer(\"auto\")}_convertRasterIdentifyResultToSample(e,t){const{rasterInfo:i}=this.raster,r=i.storageInfo.pyramidScalingFactor**(e.pyramidLevel??0),s=(i.pixelSize.x+i.pixelSize.y)/2*r;if(!e.dataSeries?.length)return[new G({location:e.location,pixelValue:e.value,locationId:t,resolution:s})];const n=[];return e.dataSeries.forEach((({value:i,multidimensionalDefinition:r},o)=>{const a={Variables:r[0].variableName,Dimensions:r.flatMap((({dimensionName:e})=>e)).join(\",\")};for(const{dimensionName:e,values:t}of r){a[e]=Array.isArray(t[0])?t[0][0]:t[0];const i=t[t.length-1];a[`${e}_Max`]=Array.isArray(i)?i[i.length-1]:i}const l=new G({location:e.location,pixelValue:i,rasterId:o,locationId:t,resolution:s,attributes:a});n.push(l)})),n}};function Z(e){if(!e.raster||!e.serviceRasterInfo)throw new i(\"imagery-tile\",\"no raster\")}return e([s({clonable:!1})],Y.prototype,\"_cachedRasterFunctionJson\",void 0),e([s({clonable:!1})],Y.prototype,\"_compatibleFullExtent\",void 0),e([s({clonable:!1})],Y.prototype,\"_isConstructedFromFunctionRaster\",void 0),e([s({clonable:!1})],Y.prototype,\"_rasterFunctionUpdatePromise\",void 0),e([s({type:[n],json:{write:{overridePolicy(){return{enabled:!this.loaded||\"Raster\"===this.raster.tileType||\"0,1,2\"!==this.bandIds?.join(\",\")}}}}})],Y.prototype,\"bandIds\",void 0),e([s({json:{origins:{service:{read:{source:\"copyrightText\"}}}}})],Y.prototype,\"copyright\",void 0),e([s({json:{read:!1}})],Y.prototype,\"fullExtent\",null),e([s({json:{write:{overridePolicy(){return{enabled:!this.loaded||\"Raster\"===this.raster.tileType||\"bilinear\"!==this.interpolation}}}}}),a(g)],Y.prototype,\"interpolation\",void 0),e([s()],Y.prototype,\"ioConfig\",void 0),e([s({type:[f],json:{write:!0}})],Y.prototype,\"multidimensionalDefinition\",null),e([s({type:y,json:{write:!0}})],Y.prototype,\"multidimensionalSubset\",void 0),e([s()],Y.prototype,\"raster\",void 0),e([s({type:b})],Y.prototype,\"rasterFunction\",null),e([s()],Y.prototype,\"serviceRasterInfo\",void 0),e([s()],Y.prototype,\"sourceJSON\",void 0),e([s({readOnly:!0,type:p,json:{read:!1}})],Y.prototype,\"spatialReference\",void 0),e([s({type:R})],Y.prototype,\"tileInfo\",void 0),e([s(h)],Y.prototype,\"url\",null),e([s()],Y.prototype,\"renderer\",null),e([s({types:A,json:{name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy(){const e=\"raster-stretch\"===this.renderer?.type&&\"none\"===this.renderer.stretchType&&!this.renderer.useGamma;return{enabled:!this.loaded||\"Raster\"===this.raster.tileType||!e}}},origins:{\"web-scene\":{types:B,name:\"layerDefinition.drawingInfo.renderer\",write:{overridePolicy:e=>({enabled:e&&\"vector-field\"!==e.type&&\"flow\"!==e.type})}}}}})],Y.prototype,\"internalRenderer\",null),e([l(\"internalRenderer\")],Y.prototype,\"readRenderer\",null),e([s({clonable:!1})],Y.prototype,\"symbolizer\",void 0),Y=e([m(\"esri.layers.mixins.ImageryTileMixin\")],Y),Y};export{X as ImageryTileMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../request.js\";import i from\"../../../core/Error.js\";import o from\"../../../core/JSONSupport.js\";import r from\"../../../core/Logger.js\";import{onAbort as n}from\"../../../core/promiseUtils.js\";import{QueueProcessor as s}from\"../../../core/QueueProcessor.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import{ensureClass as a}from\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import f from\"../../../geometry/Extent.js\";import m from\"../../../geometry/Point.js\";import u from\"../../../geometry/SpatialReference.js\";import{sanitizeUrl as h}from\"../arcgisLayerUrl.js\";import{url as p}from\"../commonProperties.js\";import d from\"../DimensionalDefinition.js\";import x from\"../LOD.js\";import y from\"../RasterStorageInfo.js\";import g from\"../TileInfo.js\";import{isFunctionRaster as I}from\"./datasetUtils.js\";import{isMultiSliceOrRangeDefinition as R,getSliceIndex as w,createSlices as S,getSliceIds as k}from\"./multidimensionalUtils.js\";import{getRasterId as v,getBlock as T,putBlock as b,deleteBlock as P,decreaseRefCount as B}from\"./RawBlockCache.js\";import{convertNoDataToMask as _}from\"../rasterFormats/pixelRangeUtils.js\";import{decode as M}from\"../rasterFormats/RasterCodec.js\";import{mosaic as C,approximateTransform as W,getLocalArithmeticNorthRotations as j}from\"../rasterFunctions/pixelUtils.js\";import{getWorldWidth as z,load as H,projectPoint as L,snapPyramid as E,shiftExtent as D,getWorldWrapCount as O,projectExtent as F,getProjectionOffsetGrid as A,getRasterDatasetAlignmentInfo as G,projectResolution as q}from\"../rasterFunctions/rasterProjectionHelper.js\";import{convertToLocalDirections as N,uvComponentToVector as J}from\"../rasterFunctions/vectorFieldUtils.js\";const V=8,U=256;let Q=0,$=class extends o{constructor(){super(...arguments),this._tileFetchQueue=new s({concurrency:32,process:(e,t)=>this._fetchRawTile(e.pyramidLevel,e.row,e.col,{...e.options,signal:t})}),this.datasetName=null,this.datasetFormat=null,this.hasUniqueSourceStorageInfo=!0,this.rasterInfo=null,this.ioConfig={sampling:\"closest\"}}normalizeCtorArgs(e){return e?.ioConfig&&(e={...e,ioConfig:{resolution:null,bandIds:null,sampling:\"closest\",tileInfo:g.create(),...e.ioConfig}}),e}get _isGlobalWrappableSource(){const{rasterInfo:e}=this,t=z(e.spatialReference);return null!=t&&e.extent.width>=t/2}get _hasNoneOrGCSShiftTransform(){const{transform:e}=this.rasterInfo;return null==e||\"gcs-shift\"===e.type}set rasterJobHandler(e){this._set(\"rasterJobHandler\",e),I(this)&&this.primaryRasters?.rasters?.forEach((t=>t.rasterJobHandler=e))}get rasterId(){return this.url||\"rasterId-\"+Q++}set url(e){this._set(\"url\",h(e,r.getLogger(this)))}async open(e){return this._openPromise??=H().then((()=>this._open(e))),this._openPromise}async fetchTile(e,t,i,o={}){const r=o.tileInfo||this.rasterInfo.storageInfo.tileInfo,n=this.getTileExtentFromTileInfo(e,t,i,r);return o={noClip:!0,...o},this.fetchPixels(n,r.size[0],r.size[1],o)}async identify(e,t={}){e=a(m,e).clone().normalize();const{multidimensionalDefinition:i,timeExtent:o}=t,{rasterInfo:r}=this,{hasMultidimensionalTranspose:n,multidimensionalInfo:s}=r;let{transposedVariableName:l}=t;const c=null!=s&&n&&(null!=o||R(i));if(c&&!l){l=null!=i&&i.length>0?i[0].variableName??void 0:s.variables[0].name,t={...t,transposedVariableName:l}}t=this._getRequestOptionsWithSliceId(t);const{spatialReference:u,extent:h}=r,{datumTransformation:p}=t;let d=L(e,u,p);if(!h.intersects(d))return{location:d,value:null};if(null!=r.transform){const e=r.transform.inverseTransform(d);if(!r.nativeExtent.intersects(e))return{location:e,value:null};d=e}let x=0;const y=null!=l&&null!=s&&r.hasMultidimensionalTranspose;if(I(this)){const e=this.primaryRasters.rasters[0];if(y)return e.identify(d,t);const{pixelSize:o}=r,n=3,s=o.x*n/2,l=o.y*n/2,a=new f({xmin:d.x-s,xmax:d.x+s,ymin:d.y-l,ymax:d.y+l,spatialReference:u}),c={interpolation:\"nearest\",multidimensionalDefinition:i,sliceId:t.sliceId},{pixelBlock:m}=await e.fetchPixels(a,n,n,c),{pixelBlock:h}=await this.fetchPixels(a,n,n,c);if(null==m)return{location:d,value:null};const p=Math.floor(n*n*.5),x=!m.mask||m.mask[p]?m.pixels.map((e=>e[p])):null;let g;return null!=h&&(g=!h.mask||h.mask[p]?h.pixels.map((e=>e[p])):void 0),{location:d,value:x,processedValue:g,pyramidLevel:0}}if(!y)if(t.srcResolution){x=E(t.srcResolution,r,this.ioConfig.sampling).pyramidLevel}else if(x=await this.computeBestPyramidLevelForLocation(e,t),null==x)return{location:d,value:null};const g=this.identifyPixelLocation(d,x,null,y);if(null===g)return{location:d,value:null};const{row:w,col:S,rowOffset:k,colOffset:v,blockWidth:T}=g,b=await this._tileFetchQueue.push({pyramidLevel:x,row:w,col:S,options:t},{signal:t.signal});if(!b?.pixels?.length)return{location:d,value:null};const P=k*T+v;return this._processIdentifyResult(b,{srcLocation:d,position:P,pyramidLevel:x,useTransposedTile:!!y,requestSomeSlices:c,identifyOptions:t})}async fetchPixels(e,t,i,o={}){e=D(e),o=this._getRequestOptionsWithSliceId(o);const{_hasNoneOrGCSShiftTransform:r}=this;if(o.requestRawData&&r)return this._fetchPixels(e,t,i,o);const n=z(e.spatialReference),s=O(e);if(null==n||0===s||1===s&&this._isGlobalWrappableSource&&r)return this._fetchPixels(e,t,i,o);if(s>=3)return{extent:e,pixelBlock:null};const l=[],{xmin:a,xmax:c}=e,m=Math.round(n/(c-a)*t),u=m-Math.round((n/2-a)/(c-a)*t);let h=0;const p=[];for(let g=0;g<=s;g++){const r=new f({xmin:0===g?a:-n/2,xmax:g===s?c-n*g:n/2,ymin:e.ymin,ymax:e.ymax,spatialReference:e.spatialReference}),d=0===g?m-u:g===s?t-h:m;h+=d,p.push(d);const x=o.disableWrapAround&&g>0?null:this._fetchPixels(r,d,i,o);l.push(x)}const d=(await Promise.all(l)).map((e=>e?.pixelBlock));let x=null;const y={width:t,height:i};if(this.rasterJobHandler){x=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:d,srcMosaicSize:y,destDimension:null,coefs:null,sampleSpacing:null,interpolation:\"nearest\",alignmentInfo:null,blockWidths:p},o)).pixelBlock}else x=C(d,y,{blockWidths:p});return{extent:e,srcExtent:F(e,this.rasterInfo.spatialReference,o.datumTransformation),pixelBlock:x}}async fetchRawPixels(e,t,i,o={}){t={x:Math.floor(t.x),y:Math.floor(t.y)};const r=await this._fetchRawTiles(e,t,i,o),{nativeExtent:n,nativePixelSize:s,storageInfo:l}=this.rasterInfo,a=2**e,c=s.x*a,m=s.y*a,u=new f({xmin:n.xmin+c*t.x,xmax:n.xmin+c*(t.x+i.width-1),ymin:n.ymax-m*(t.y+i.height-1),ymax:n.ymax-m*t.y,spatialReference:n.spatialReference});if(!r)return{extent:u,srcExtent:u,pixelBlock:null};const{pixelBlocks:h,mosaicSize:p}=r;if(1===h.length&&null!=h[0]&&h[0].width===i.width&&h[0].height===i.height)return{extent:u,srcExtent:u,pixelBlock:r.pixelBlocks[0]};const d=e>0?l.pyramidBlockWidth:l.blockWidth,x=e>0?l.pyramidBlockHeight:l.blockHeight,y={x:t.x%d,y:t.y%x};let g;if(this.rasterJobHandler){g=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:h,srcMosaicSize:p,destDimension:i,clipOffset:y,clipSize:i,coefs:null,sampleSpacing:null,interpolation:o.interpolation,alignmentInfo:null,blockWidths:null},o)).pixelBlock}else g=C(h,p,{clipOffset:y,clipSize:i});return{extent:u,srcExtent:u,pixelBlock:g}}fetchRawTile(e,t,o,r){throw new i(\"BaseRaster:read-not-implemented\",\"fetchRawTile() is not implemented\")}computeExtent(e){return F(this.rasterInfo.extent,e)}decodePixelBlock(e,t){return!this.rasterJobHandler||t.useCanvas?M(e,t):this.rasterJobHandler.decode({data:e,options:t})}async request(e,i,o=0){const{customFetchParameters:r}=this.ioConfig,{range:n,query:s,headers:l}=i;o=o??i.retryCount??this.ioConfig.retryCount;const a=n?{Range:`bytes=${n.from}-${n.to}`}:null;try{return await t(e,{...i,query:{...s,...r},headers:{...l,...a}})}catch(c){if(o>0)return o--,this.request(e,i,o);throw c}}getSliceIndex(e){const{multidimensionalInfo:t}=this.rasterInfo;return null==t||null==e||0===e.length?null:w(e,t)}getTileExtentFromTileInfo(e,t,i,o){const r=o.lodAt(e);return this.getTileExtent({x:r.resolution,y:r.resolution},t,i,o.origin,o.spatialReference,o.size)}updateTileInfo(){const{storageInfo:e,spatialReference:t,extent:i,pixelSize:o}=this.rasterInfo,{pyramidResolutions:r}=e;if(!e.tileInfo){const n=[],s=e.maximumPyramidLevel||0;let l=(o.x+o.y)/2,a=1/.0254*96*l;for(let e=0;e<=s&&(n.unshift(new x({level:s-e,resolution:l,scale:a})),e!==s);e++)if(r){const t=(r[e].x+r[e].y)/2;a*=t/l,l=t}else l*=2,a*=2;const c=new m({x:i.xmin,y:i.ymax,spatialReference:t});e.tileInfo=new g({origin:c,size:[e.blockWidth,e.blockHeight],spatialReference:t,lods:n}),e.isVirtualTileInfo=!0}}createRemoteDatasetStorageInfo(e,t=512,i=512,o){const{width:r,height:n,nativeExtent:s,pixelSize:l,spatialReference:a}=e,c=new m({x:s.xmin,y:s.ymax,spatialReference:a});null==o&&(o=Math.max(0,Math.round(Math.log(Math.max(r,n))/Math.LN2-8)));const f=this.computeBlockBoundary(s,512,512,{x:s.xmin,y:s.ymax},[l],o);e.storageInfo=new y({blockWidth:t,blockHeight:i,pyramidBlockWidth:t,pyramidBlockHeight:i,origin:c,firstPyramidLevel:1,maximumPyramidLevel:o,blockBoundary:f})}async computeBestPyramidLevelForLocation(e,t={}){return 0}computeBlockBoundary(e,t,i,o,r,n=0,s=2){if(1===r.length&&n>0){r=[...r];let{x:e,y:t}=r[0];for(let i=0;i<n;i++)e*=s,t*=s,r.push({x:e,y:t})}const l=[],{x:a,y:c}=o;for(let f=0;f<r.length;f++){const{x:o,y:n}=r[f];l.push({minCol:Math.floor((e.xmin-a+.1*o)/t/o),maxCol:Math.floor((e.xmax-a-.1*o)/t/o),minRow:Math.floor((c-e.ymax+.1*n)/i/n),maxRow:Math.floor((c-e.ymin-.1*n)/i/n)})}return l}getPyramidPixelSize(e){const{nativePixelSize:t}=this.rasterInfo,{pyramidResolutions:i,pyramidScalingFactor:o}=this.rasterInfo.storageInfo;if(0===e)return t;if(null!=i&&i.length)return i[e-1];const r=o**e;return{x:t.x*r,y:t.y*r}}identifyPixelLocation(e,t,i,o){const{spatialReference:r,nativeExtent:n,storageInfo:s}=this.rasterInfo,{maximumPyramidLevel:l,origin:a,transposeInfo:c}=s,f=o&&null!=c?c.tileSize[0]:s.blockWidth,m=o&&null!=c?c.tileSize[1]:s.blockHeight,u=L(e,r,i);if(!n.intersects(u))return null;if(t<0||t>l)return null;const h=this.getPyramidPixelSize(t),{x:p,y:d}=h,x=(a.y-u.y)/d/m,y=(u.x-a.x)/p/f,g=Math.min(m-1,Math.floor((x-Math.floor(x))*m)),I=Math.min(f-1,Math.floor((y-Math.floor(y))*f));return{pyramidLevel:t,row:Math.floor(x),col:Math.floor(y),rowOffset:g,colOffset:I,blockWidth:f,srcLocation:u}}getTileExtent(e,t,i,o,r,n){const[s,l]=n,a=o.x+i*s*e.x,c=a+s*e.x,m=o.y-t*l*e.y,u=m-l*e.y;return new f({xmin:a,xmax:c,ymin:u,ymax:m,spatialReference:r})}getBlockWidthHeight(e){return{blockWidth:e>0?this.rasterInfo.storageInfo.pyramidBlockWidth:this.rasterInfo.storageInfo.blockWidth,blockHeight:e>0?this.rasterInfo.storageInfo.pyramidBlockHeight:this.rasterInfo.storageInfo.blockHeight}}isBlockOutside(e,t,i){const o=this.rasterInfo.storageInfo.blockBoundary[e];return!o||o.maxRow<t||o.maxCol<i||o.minRow>t||o.minCol>i}updateImageSpaceRasterInfo(e){const{pixelSize:t}=e,{width:i,height:o}=e,r=u.WebMercator;e.spatialReference=r,e.extent=e.nativeExtent=new f({xmin:-.5,ymax:.5,xmax:i-.5,ymin:.5-o,spatialReference:r}),e.isPseudoSpatialReference=!0,e.transform=null,e.pixelSize=new m({x:1,y:1,spatialReference:r});const{extent:n,storageInfo:s}=e;if(s){s.origin=new m({x:n.xmin,y:n.ymax,spatialReference:r});const{pyramidResolutions:i,tileInfo:o}=s;if(i&&i.forEach((e=>{e.x/=t.x,e.y/=t.y})),o){o.origin=s.origin;const t=(e.nativePixelSize.x+e.nativePixelSize.y)/2;o.lods.forEach(((e,i)=>{e.resolution=t*2**i,e.scale=96*e.resolution/.0254}))}}}async _fetchPixels(e,t,i,o={}){let r=O(e);if(r>=2)return{extent:e,pixelBlock:null};const n=this._getSourceDataInfo(e,t,i,o),{pyramidLevel:s,srcResolution:l,srcExtent:a,srcWidth:c,srcHeight:f,ul:u}=n;if(0===c||0===f)return{extent:e,srcExtent:a,pixelBlock:null};const{rasterInfo:h}=this,p=h.transform,d=\"gcs-shift\"===p?.type,x=null!=z(e.spatialReference);!d&&x||(r=O(n.srcExtent,d));const y=await this._fetchRawTiles(s,u,{width:c,height:f,wrapCount:r},o);if(!y)return{extent:e,srcExtent:a,pixelBlock:null};const g=h.storageInfo,I=s>0?g.pyramidBlockWidth:g.blockWidth,R=s>0?g.pyramidBlockHeight:g.blockHeight;let{x:w,y:S}=h.pixelSize;if(s>0){const{pyramidResolutions:e,pyramidScalingFactor:t}=g;if(null!=e&&e[s-1])({x:w,y:S}=e[s-1]);else{const e=t**s;w*=e,S*=e}}const k=h.spatialReference,v=new m({x:w,y:S,spatialReference:k}),T=I===c&&R===f&&u.x%I===0&&u.y%R===0,b=new m({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/i,spatialReference:e.spatialReference}),P=!e.spatialReference.equals(k),B=k.isGeographic?1e-9:1e-4,{datumTransformation:_}=o;if(!P&&T&&1===y.pixelBlocks.length&&I===t&&R===i&&X(l,b,B))return{extent:e,srcExtent:a,srcTilePixelSize:v,pixelBlock:y.pixelBlocks[0]};const M=x&&null!=z(a.spatialReference)&&this._hasNoneOrGCSShiftTransform,L=o.requestProjectedLocalDirections&&this.rasterInfo.dataType.startsWith(\"vector\");L&&!this.rasterJobHandler&&await H();const E=this.rasterJobHandler?await this.rasterJobHandler.getProjectionOffsetGrid({projectedExtent:e,srcBufferExtent:y.extent,pixelSize:b.toJSON(),datumTransformation:_,rasterTransform:p,hasWrapAround:r>0||M,isAdaptive:!1!==this.ioConfig.optimizeProjectionAccuracy,includeGCSGrid:L},o):A({projectedExtent:e,srcBufferExtent:y.extent,pixelSize:b,datumTransformation:_,rasterTransform:p,hasWrapAround:r>0||M,isAdaptive:!1,includeGCSGrid:L});let D;const F=!o.requestRawData,G={rows:E.spacing[0],cols:E.spacing[1]},q=this._hasNoneOrGCSShiftTransform?this._getRasterTileAlignmentInfo(s,y.extent.xmin):void 0,{pixelBlocks:J,mosaicSize:V,isPartiallyFilled:U}=y;let Q=null;if(this.rasterJobHandler){const e=await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:J,srcMosaicSize:V,destDimension:F?{width:t,height:i}:null,coefs:F?E.coefficients:null,sampleSpacing:F?G:null,projectDirections:L,gcsGrid:L?E.gcsGrid:null,isUV:\"vector-uv\"===this.rasterInfo.dataType,interpolation:o.interpolation,alignmentInfo:q,blockWidths:null},o);({pixelBlock:D,localNorthDirections:Q}=e)}else{const e=C(J,V,{alignmentInfo:q});D=F?W(e,{width:t,height:i},E.coefficients,G,o.interpolation):e,L&&E.gcsGrid&&(Q=j({width:t,height:i},E.gcsGrid),D=N(D,this.rasterInfo.dataType,Q))}return o.requestRawData||L?{extent:e,srcExtent:a,srcTilePixelSize:v,pixelBlock:D,transformGrid:E,localNorthDirections:Q,isPartiallyFilled:U}:{extent:e,srcExtent:a,srcTilePixelSize:v,pixelBlock:D}}async _fetchRawTiles(e,t,i,o){const{origin:r,blockBoundary:n}=this.rasterInfo.storageInfo,{blockWidth:s,blockHeight:l}=this.getBlockWidthHeight(e);let{x:a,y:c}=t,{width:m,height:u,wrapCount:h}=i;const p=this._getRasterTileAlignmentInfo(e,0);o.buffer&&(a-=o.buffer.cols,c-=o.buffer.rows,m+=2*o.buffer.cols,u+=2*o.buffer.rows);let d=0,x=0,y=0;if(h&&null!=p){({worldColumnCountFromOrigin:x,originColumnOffset:y,rightPadding:d}=p);x*p.blockWidth-d>=a+m&&(d=0)}const g=Math.floor(a/s),I=Math.floor(c/l),R=Math.floor((a+m+d-1)/s),w=Math.floor((c+u+d-1)/l),S=n[e];if(!S)return null;const{minRow:k,minCol:v,maxCol:T,maxRow:b}=S;if(0===h&&(w<k||R<v||I>b||g>T))return null;const P=new Array;let B=!1;const _=null==this.ioConfig.allowPartialFill?o.allowPartialFill:this.ioConfig.allowPartialFill;for(let f=I;f<=w;f++)for(let t=g;t<=R;t++){let i=t;if(!o.disableWrapAround&&h&&null!=p&&x<=t&&(i=t-x-y),f>=k&&i>=v&&b>=f&&T>=i){const t=this._tileFetchQueue.push({pyramidLevel:e,row:f,col:i,options:o},{signal:o.signal});_?P.push(new Promise((e=>{t.then((t=>e(t))).catch((()=>{B=!0,e(null)}))}))):P.push(t)}else P.push(Promise.resolve(null))}if(0===P.length)return null;const M=await Promise.all(P),C={height:(w-I+1)*l,width:(R-g+1)*s},{spatialReference:W}=this.rasterInfo,j=this.getPyramidPixelSize(e),{x:z,y:H}=j;return{extent:new f({xmin:r.x+g*s*z,xmax:r.x+(R+1)*s*z,ymin:r.y-(w+1)*l*H,ymax:r.y-I*l*H,spatialReference:W}),pixelBlocks:M,mosaicSize:C,isPartiallyFilled:B}}_fetchRawTile(e,t,i,o){const{storageInfo:r}=this.rasterInfo,s=null!=r.transposeInfo&&!!o.transposedVariableName;if(!s){const o=r.blockBoundary[e];if(!o)return Promise.resolve(null);const{minRow:n,minCol:s,maxCol:l,maxRow:a}=o;if(t<n||i<s||t>a||i>l)return Promise.resolve(null)}const l=s?o.transposeVariableName:o.sliceId,a=this.rasterInfo.storageInfo.isBsqTile?o.bandIds:null,c=v(this.rasterId,l,a),f=`${e}/${t}/${i}`;let m=T(c,o.registryId,f);if(null==m){const r=new AbortController;m=this.fetchRawTile(e,t,i,{...o,signal:r.signal}),b(c,o.registryId,f,m,r),m.catch((()=>P(c,o.registryId,f)))}return o.signal&&n(o,(()=>{B(c,o.registryId,f)})),m}_computeMagDirValues(e){const{bandCount:t,dataType:i}=this.rasterInfo;if(!(2===t&&\"vector-magdir\"===i||\"vector-uv\"===i)||2!==e?.length||!e[0]?.length)return null;const o=e[0].length;if(\"vector-magdir\"===i){const t=e[1].map((e=>(e+360)%360));return[e[0],t]}const[r,n]=e,s=[],l=[];for(let a=0;a<o;a++){const[e,t]=J([r[a],n[a]]);s.push(e),l.push(t)}return[s,l]}_getRasterTileAlignmentInfo(e,t){return null==this._rasterTileAlignmentInfo&&(this._rasterTileAlignmentInfo=G(this.rasterInfo)),null==this._rasterTileAlignmentInfo.pyramidsInfo?null:{startX:t,halfWorldWidth:this._rasterTileAlignmentInfo.halfWorldWidth,hasGCSSShiftTransform:this._rasterTileAlignmentInfo.hasGCSSShiftTransform,...this._rasterTileAlignmentInfo.pyramidsInfo[e]}}_getSourceDataInfo(e,t,i,o={}){const r={datumTransformation:o.datumTransformation,pyramidLevel:0,pyramidResolution:null,srcExtent:null,srcHeight:0,srcResolution:null,srcWidth:0,ul:{x:0,y:0}};o.srcResolution&&(r.srcResolution=o.srcResolution,this._updateSourceDataInfo(e,r));const n=this.rasterInfo.storageInfo.maximumPyramidLevel||0,{srcWidth:s,srcHeight:l,pyramidLevel:a}=r,c=s/t,f=l/i,u=a<n&&c*f>=16,h=a===n&&this._requireTooManySrcTiles(s,l,t,i);if(u||h||(0===s||0===l)){const s=new m({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/i,spatialReference:e.spatialReference});let l=q(s,this.rasterInfo.spatialReference,e,r.datumTransformation);const h=!l||o.srcResolution&&l.x+l.y<o.srcResolution.x+o.srcResolution.y;if(u&&o.srcResolution&&h){const e=Math.round(Math.log(Math.max(c,f))/Math.LN2)-1;if(n-a+3>=e){const t=2**e;l={x:o.srcResolution.x*t,y:o.srcResolution.y*t}}}l&&(r.srcResolution=l,this._updateSourceDataInfo(e,r))}return this._requireTooManySrcTiles(r.srcWidth,r.srcHeight,t,i)&&(r.srcWidth=0,r.srcHeight=0),r}_requireTooManySrcTiles(e,t,i,o){const{tileInfo:r}=this.rasterInfo.storageInfo,n=Math.ceil(e/r.size[0])*Math.ceil(t/r.size[1]),s=e/i,l=t/o,a=Math.max(1,(i+o)/1024);return n>=U*a||s>V||l>V}_updateSourceDataInfo(e,t){t.srcWidth=0,t.srcHeight=0;const{rasterInfo:i}=this,o=i.spatialReference,{srcResolution:r,datumTransformation:n}=t,{pyramidLevel:s,pyramidResolution:l,excessiveReading:a}=E(r,i,this.ioConfig.sampling);if(a)return;let c=t.srcExtent||F(e,o,n);if(null==c)return;const f=i.transform;f&&(c=f.inverseTransform(c)),t.srcExtent=c;const{x:m,y:u}=i.storageInfo.origin,h=Math.floor((c.xmin-m)/l.x+.1),p=Math.floor((u-c.ymax)/l.y+.1),d=Math.floor((c.xmax-m)/l.x-.1),x=Math.floor((u-c.ymin)/l.y-.1),y=c.width<.1*l.x?0:d-h+1,g=c.height<.1*l.y?0:x-p+1;t.pyramidLevel=s,t.pyramidResolution=l,t.srcWidth=y,t.srcHeight=g,t.ul={x:h,y:p}}_getRequestOptionsWithSliceId(e){return null!=this.rasterInfo.multidimensionalInfo&&null==e.sliceId&&(e={...e,sliceId:this.getSliceIndex(e.multidimensionalDefinition)}),e}_processIdentifyResult(e,t){const{srcLocation:i,position:o,pyramidLevel:r,useTransposedTile:n}=t,s=e.pixels[0].length/e.width/e.height;if(!(!e.mask||e.mask[o]))return{location:i,value:null};const{multidimensionalInfo:l}=this.rasterInfo;if(null==l||!n){const t=e.pixels.map((e=>e[o])),n={location:i,value:t,pyramidLevel:r},s=this._computeMagDirValues(t.map((e=>[e])));return s?.length&&(n.magdirValue=s.map((e=>e[0]))),n}let a=e.pixels.map((e=>e.slice(o*s,o*s+s))),c=this._computeMagDirValues(a);const{requestSomeSlices:f,identifyOptions:m}=t;let u=S(l,m.transposedVariableName);if(f){const e=k(u,m.multidimensionalDefinition,m.timeExtent);a=a.map((t=>e.map((e=>t[e])))),c=c?.map((t=>e.map((e=>t[e])))),u=e.map((e=>u[e]))}const h=e.noDataValues||this.rasterInfo.noDataValue,p={pixels:a,pixelType:e.pixelType};let x;null!=h&&(_(p,h),x=p.mask);return{location:i,value:null,dataSeries:u.map(((e,t)=>{const i={value:0===x?.[t]?null:a.map((e=>e[t])),multidimensionalDefinition:e.multidimensionalDefinition.map((e=>new d({...e,isSlice:!0})))};return c?.length&&(i.magdirValue=[c[0][t],c[1][t]]),i})),pyramidLevel:r}}};function X(e,t,i){return Math.abs(e.x-t.x)<i&&Math.abs(e.y-t.y)<i}e([l()],$.prototype,\"_rasterTileAlignmentInfo\",void 0),e([l()],$.prototype,\"_tileFetchQueue\",void 0),e([l({readOnly:!0})],$.prototype,\"_isGlobalWrappableSource\",null),e([l({readOnly:!0})],$.prototype,\"_hasNoneOrGCSShiftTransform\",null),e([l()],$.prototype,\"_openPromise\",void 0),e([l()],$.prototype,\"rasterJobHandler\",null),e([l({readOnly:!0})],$.prototype,\"rasterId\",null),e([l(p)],$.prototype,\"url\",null),e([l({type:String,json:{write:!0}})],$.prototype,\"datasetName\",void 0),e([l({type:String,json:{write:!0}})],$.prototype,\"datasetFormat\",void 0),e([l()],$.prototype,\"hasUniqueSourceStorageInfo\",void 0),e([l()],$.prototype,\"rasterInfo\",void 0),e([l()],$.prototype,\"ioConfig\",void 0),e([l()],$.prototype,\"sourceJSON\",void 0),$=e([c(\"esri.layers.support.rasterDatasets.BaseRaster\")],$);export{$ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Error.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../geometry/Polygon.js\";import o from\"./BaseRaster.js\";import{clip as a}from\"../rasterFunctions/clipUtils.js\";import{approximateTransform as n}from\"../rasterFunctions/pixelUtils.js\";import{projectPolygon as l}from\"../rasterFunctions/rasterProjectionHelper.js\";import c from\"../../../rest/support/FeatureSet.js\";const p=40;let m=class extends o{constructor(){super(...arguments),this.datasetFormat=\"Function\",this.tileType=\"Raster\",this.rasterFunction=null,this._clippingGeometry=new Map}async fetchPixels(t,e,r,s={}){const{rasters:i,rasterIds:o}=this.primaryRasters;let l=!1;const{interpolation:c}=s,p=this.rasterFunction.flatWebGLFunctionChain?.hasFocalFunction;!s.requestRawData&&p&&(l=1===i.length&&!s.skipRasterFunction,s={...s,interpolation:\"bilinear\",requestRawData:l});const m=i.map((i=>i.fetchPixels(t,e,r,s))),u=await Promise.all(m),h=u.map((t=>t.pixelBlock)),f=l||s.requestRawData?u.map((t=>t.srcTilePixelSize)):null;if(s.skipRasterFunction||h.every((t=>null==t)))return u[0];const d=u.find((t=>null!=t.pixelBlock))?.extent??t;let y=this.rasterJobHandler?await this.rasterJobHandler.process({extent:d,primaryPixelBlocks:h,primaryPixelSizes:f,primaryRasterIds:o}):this.rasterFunction.process({extent:d,primaryPixelBlocks:h,primaryPixelSizes:f,primaryRasterIds:o});const{transformGrid:g}=u[0];if(!l||null==y||null==g){const t=s.noClip?null:this.getClippingGeometry(d.spatialReference);return s.noClip||s.requestRawData||null==y||!t||(y=await a(y,d,t)),{...u[0],pixelBlock:y}}const x={rows:g.spacing[0],cols:g.spacing[1]};let R;if(this.rasterJobHandler){R=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:[y],srcMosaicSize:{width:y.width,height:y.height},destDimension:{width:e,height:r},coefs:g.coefficients,sampleSpacing:x,projectDirections:!1,gcsGrid:null,isUV:!1,interpolation:c,alignmentInfo:void 0,blockWidths:null},s)).pixelBlock}else R=n(y,{width:e,height:r},g.coefficients,x,c);const w=s.noClip?null:this.getClippingGeometry(t.spatialReference);return s.noClip||s.requestRawData||null==R||null==w||(R=await a(R,t,w)),{extent:t,srcExtent:u[0].srcExtent,pixelBlock:R}}getClippingGeometry(t){const e=this._clippingGeometry.get(\"0\");if(!t||!e)return e;const r=h(t);let s=this._clippingGeometry.get(r);return null!=s||(s=t.equals(e.spatialReference)?e:l(e,t),this._clippingGeometry.set(r,s)),s}async _open(t){const{rasterFunction:r}=this;r.isRoot=!0,this.primaryRasters?.rasters?.length?r.sourceRasters=this.primaryRasters.rasters:(this.primaryRasters=r.getPrimaryRasters(),this.rasterJobHandler&&this.primaryRasters.rasters?.forEach((t=>t.rasterJobHandler=this.rasterJobHandler)));const{rasters:s,rasterIds:i}=this.primaryRasters,o=s.map((e=>e.rasterInfo?void 0:e.open(t)));await Promise.all(o);const a=s.map((({rasterInfo:t})=>t)),n=r.bind({rasterInfos:a,rasterIds:i});if(r.rawSourceRasterInfos=a,!n.success||0===a.length)throw new e(\"raster-function:open\",`cannot bind the function: ${n.error??\"\"}`);const l=\"Table\"===r.functionName?r:r.functionArguments?.raster;\"Table\"===l?.functionName&&(r.rasterInfo.attributeTable=c.fromJSON(l.functionArguments.attributeTableAsRecordSet)),await this.syncJobHandler();const p=a[0];this.hasUniqueSourceStorageInfo=1===a.length||a.slice(1).every((t=>u(t,p))),this.set(\"sourceJSON\",s[0].sourceJSON),this.set(\"rasterInfo\",r.rasterInfo),await this._updateClipGeometry()}async syncJobHandler(){return this.rasterJobHandler?.updateRasterFunction(this.rasterFunction)}async _updateClipGeometry(){const t=this.rasterFunction.getClippingGeometries()[0];let e=t?.clippingGeometry;if(e&&\"inside\"===t.clippingType){const{extent:t}=this.rasterInfo,r=await import(\"../../../geometry/operators/densifyOperator.js\"),s=await import(\"../../../geometry/operators/differenceOperator.js\");let o=r.execute(i.fromExtent(t),2*(t.width+t.height)/p);o=l(o,e.spatialReference),e=s.execute(o,e)}this._clippingGeometry.clear(),e&&this._clippingGeometry.set(\"0\",e)}};function u(t,e){const{storageInfo:r,pixelSize:s,spatialReference:i,extent:o}=t,{storageInfo:a,pixelSize:n,spatialReference:l,extent:c}=e;return s.x===n.x&&s.y===n.y&&i.equals(l)&&o.equals(c)&&r.blockHeight===a.blockHeight&&r.blockWidth===a.blockWidth&&r.maximumPyramidLevel===a.maximumPyramidLevel}function h(t){return String(t.wkid??t.wkt??t.wkt2)}t([r({type:String,json:{write:!0}})],m.prototype,\"datasetFormat\",void 0),t([r()],m.prototype,\"tileType\",void 0),t([r()],m.prototype,\"rasterFunction\",void 0),t([r()],m.prototype,\"primaryRasters\",void 0),m=t([s(\"esri.layers.support.rasterDatasets.FunctionRaster\")],m);export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../geometry/Point.js\";import n from\"./EphemeralBlockCache.js\";import{projectExtent as t,projectResolution as o,snapPyramid as l}from\"../rasterFunctions/rasterProjectionHelper.js\";const r=new Map,c=new n;function i(e,n,t){const o=[];return null!=n&&o.push(`sliceId=${n}`),null!=t&&o.push(`bandIds=${t.join(\",\")}`),o.length?`${e}?${o.join(\"&\")}`:e}function u(e,n){const t={extent:null,rasterInfo:n,cache:new Map},o=r.get(e);return o?(o.push(t),o.length-1):(r.set(e,[t]),0)}function a(e,n){const t=r.get(e);t&&(t[n]=null,t.some((e=>null!=e))||r.delete(e))}function f(e){r.delete(e)}function s(e,n,t){const o=r.get(e);if(!o)return null==n?c.decreaseRefCount(e,t):0;if(null==n||null==o[n])return c.decreaseRefCount(e,t);const l=o[n]?.cache,i=l?.get(t);if(l&&i){if(i.refCount--,0===i.refCount){l.delete(t);for(let e=0;e<o.length;e++)o[e]?.cache.delete(t);i.controller&&i.controller.abort()}return i.refCount}return 0}function m(e,n,t){const o=r.get(e);if(!o)return null==n?c.getBlock(e,t):null;if(null==n||null==o[n]){for(let e=0;e<o.length;e++){const n=o[e]?.cache.get(t);if(n)return n.refCount++,n.block}return c.getBlock(e,t)}const l=o[n]?.cache.get(t);if(l)return l.refCount++,l.block;for(let r=0;r<o.length;r++){if(r===n||!o[r])continue;const e=o[r]?.cache,l=e?.get(t);if(e&&l)return l.refCount++,e.set(t,l),l.block}return null}function h(e,n,t,o,l=null){const i=r.get(e);if(!i)return void(null==n&&c.putBlock(e,t,o,l));if(null==n||null==i[n])return void c.putBlock(e,t,o,l);const u={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:l};o.then((()=>u.isResolved=!0)).catch((()=>u.isRejected=!0)),i[n]?.cache.set(t,u)}function x(e,n,t){const o=r.get(e);o?null!=n&&null!=o[n]?o[n]?.cache.delete(t):c.deleteBlock(e,t):null==n&&c.deleteBlock(e,t)}function d(e,n){const t=r.get(e);return t?t[n]??null:null}function g(n,r,c,i,u,a,f=null){const s=d(n,r);if(!s)return;const m=s.extent,{cache:h,rasterInfo:x}=s;if(m&&m.xmin===c.xmin&&m.xmax===c.xmax&&m.ymin===c.ymin&&m.ymax===c.ymax)return;i=i??0;const g=c.clone().normalize(),{spatialReference:p,transform:y}=x,k=new Set;for(let d=0;d<g.length;d++){const n=g[d];if(n.xmax-n.xmin<=i||n.ymax-n.ymin<=i)continue;let r=t(n,p,f);if(null==r)continue;if(null!=y&&(r=y.inverseTransform(r),null==r))continue;const c=new e({x:i,y:i,spatialReference:n.spatialReference});if(null==u&&!(u=o(c,p,n,f)))return;const{pyramidLevel:s,pyramidResolution:m,excessiveReading:h}=l(u,x,a||\"closest\");if(h)return;const{storageInfo:M}=x,{origin:R}=M,{x:C,y:B}=m,b=Math.max(0,Math.floor((r.xmin-R.x)/C)),j=Math.max(0,Math.floor((R.y-r.ymax)/B)),v=Math.ceil(r.width/C-.1),w=Math.ceil(r.height/B-.1),$=s>0?M.pyramidBlockWidth:M.blockWidth,I=s>0?M.pyramidBlockHeight:M.blockHeight,H=M.blockBoundary[s];if(!H)continue;const E=1,P=Math.max(H.minCol,Math.floor(b/$)-E),W=Math.max(H.minRow,Math.floor(j/I)-E),z=Math.min(H.maxCol,Math.floor((b+v-1)/$)+E),F=Math.min(H.maxRow,Math.floor((j+w-1)/I)+E);for(let e=W;e<=F;e++)for(let n=P;n<=z;n++)k.add(`${s}/${e}/${n}`)}h.forEach(((e,n)=>{if(!k.has(n)){const e=h.get(n);(null==e||e.isResolved||e.isRejected)&&h.delete(n)}})),s.extent={xmin:c.xmin,ymin:c.ymin,xmax:c.xmax,ymax:c.ymax}}export{s as decreaseRefCount,x as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,h as putBlock,u as register,a as unregister,g as update};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this._trim(),this._updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this._trim()}empty(){this._cachedBlocks.clear(),this._clearTimer()}getCurrentSize(){return this._cachedBlocks.size}_updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this._clearTimer()}),this._interval)}_trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}_clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nfunction n(e,t){if(!e||!t)return[];let l=t;t.includes(\"/\")?(l=t.slice(0,t.indexOf(\"/\")),t=t.slice(t.indexOf(\"/\")+1)):t=\"\";const r=[];if(t){const u=n(e,l);for(let e=0;e<u.length;e++){n(u[e],t).forEach((n=>r.push(n)))}return r}const u=e.getElementsByTagNameNS(\"*\",l);if(!u||0===u.length)return[];for(let n=0;n<u.length;n++)r.push(u[n]||u.item(n));return r}function e(t,l){if(!t||!l)return null;let r=l;l.includes(\"/\")?(r=l.slice(0,l.indexOf(\"/\")),l=l.slice(l.indexOf(\"/\")+1)):l=\"\";const u=n(t,r);return u.length>0?l?e(u[0],l):u[0]:null}function t(n,t=null){const l=t?e(n,t):n;let r;return l?(r=l.textContent||l.nodeValue,r?r.trim():null):null}function l(e,t){const l=n(e,t),r=[];let u;for(let n=0;n<l.length;n++)u=l[n].textContent||l[n].nodeValue,u&&(u=u.trim(),\"\"!==u&&r.push(u));return r}function r(n,e=null){const l=t(n,e);return l?.split(\" \").map((n=>Number(n)))??[]}function u(n,e){return l(n,e).map((n=>Number(n)))}function o(n,e){const l=t(n,e);return Number(l)}function i(n,e){const t=n?.nodeName?.toLowerCase(),l=e.toLowerCase();return t.slice(t.lastIndexOf(\":\")+1)===l}function c(n){return n.nodeName.slice(n.nodeName.lastIndexOf(\":\")+1)}export{e as getElement,o as getElementNumericValue,u as getElementNumericValues,t as getElementValue,l as getElementValues,n as getElements,c as getNodeNameIgnoreNS,r as getSpaceDelimitedNumericValues,i as isSameTagIgnoreNS};\n"],"names":["u","constructor","e","s","this","item","controller","promise","_","_schedule","_deferreds","n","_controllers","_processingItems","_pausedSignal","l","concurrency","_queue","o","peeker","process","destroy","clear","updating","running","length","size","value","abort","get","forEach","push","_cancelNext","t","isOngoing","has","pause","h","AbortController","c","remove","_removeItem","_scheduleNext","signal","a","reject","i","r","set","then","last","lastPromise","peek","popLast","reset","Array","from","values","resume","takeAll","pop","delete","_next","_process","_processResult","_canProcessFulfillment","resolve","_processError","X","Y","super","_isConstructedFromFunctionRaster","bandIds","copyright","interpolation","multidimensionalSubset","raster","serviceRasterInfo","sourceJSON","spatialReference","symbolizer","I","_shutdownJobHandler","fullExtent","extent","multidimensionalDefinition","_set","updateRenderer","rasterFunction","functionName","toLowerCase","updateRasterFunction","url","d","getLogger","renderer","type","internalRenderer","activePresetRendererName","presetRenderers","find","name","clone","_configDefaultRenderer","readRenderer","layerDefinition","drawingInfo","V","computeStatisticsHistograms","load","$","geometry","equals","T","O","z","pixelSize","x","y","m","width","p","height","D","fetchPixels","pixelBlock","J","f","_rasterJobHandler","H","normalizeRasterFetchOptions","multidimensionalInfo","S","rasterInfo","timeExtent","loaded","_cachedRasterFunctionJson","JSON","stringify","toJSON","_rasterFunctionUpdatePromise","_updateRasterFunction","v","P","_updateSymbolizer","applyRenderer","pixels","_symbolize","pixelData","simpleStretchParams","getTileUrl","datasetFormat","getCompatibleTileInfo","tileInfo","R","create","origin","xmin","ymax","getCompatibleFullExtent","_compatibleFullExtent","computeExtent","fetchTile","Z","requestAsImageElement","responseType","query","refreshParameters","ioConfig","customFetchParameters","data","storageInfo","getTileExtentFromTileInfo","_initJobHandler","buffer","cols","rows","Math","round","getSamples","W","mosaicRule","_getSampleLocations","map","identify","location","Promise","all","flatMap","_convertRasterIdentifyResultToSample","K","samples","hasMultidimensionalTranspose","w","transposedVariableName","areaOfInterest","contains","isBsqTile","hasStandardTime","dataType","variableName","variables","some","dimensionName","dimensions","getStandardTimeValue","Date","F","toISOString","getMultidimensionalSubsetVariables","_configDefaultSettings","_configDefaultInterpolation","j","async","rasterJobHandler","syncJobHandler","catch","points","sampleCount","sampleDistance","execute","unit","min","paths","sqrt","E","tileType","defaultResamplingMethod","C","rasterFunctionName","bandCount","M","U","q","rasterFunctionColorRamp","statistics","max","dynamicRangeAdjustment","customStatistics","stretchType","L","rendererJSON","k","bind","success","colormap","warn","error","b","fromJSON","primaryRasters","rasters","N","functionDefinition","open","_cachedRendererJson","pyramidScalingFactor","pyramidLevel","dataSeries","G","pixelValue","locationId","resolution","Variables","Dimensions","join","isArray","rasterId","attributes","clonable","prototype","json","write","overridePolicy","enabled","origins","service","read","source","g","readOnly","types","A","useGamma","B","Q","arguments","_tileFetchQueue","_fetchRawTile","row","col","options","datasetName","hasUniqueSourceStorageInfo","sampling","normalizeCtorArgs","_isGlobalWrappableSource","_hasNoneOrGCSShiftTransform","transform","_openPromise","_open","noClip","normalize","_getRequestOptionsWithSliceId","datumTransformation","intersects","inverseTransform","nativeExtent","xmax","ymin","sliceId","floor","mask","processedValue","srcResolution","computeBestPyramidLevelForLocation","identifyPixelLocation","rowOffset","colOffset","blockWidth","_processIdentifyResult","srcLocation","position","useTransposedTile","requestSomeSlices","identifyOptions","requestRawData","_fetchPixels","disableWrapAround","mosaicAndTransform","srcPixelBlocks","srcMosaicSize","destDimension","coefs","sampleSpacing","alignmentInfo","blockWidths","srcExtent","fetchRawPixels","_fetchRawTiles","nativePixelSize","pixelBlocks","mosaicSize","pyramidBlockWidth","pyramidBlockHeight","blockHeight","clipOffset","clipSize","fetchRawTile","decodePixelBlock","useCanvas","decode","request","range","headers","retryCount","Range","to","getSliceIndex","lodAt","getTileExtent","updateTileInfo","pyramidResolutions","maximumPyramidLevel","unshift","level","scale","lods","isVirtualTileInfo","createRemoteDatasetStorageInfo","log","LN2","computeBlockBoundary","firstPyramidLevel","blockBoundary","minCol","maxCol","minRow","maxRow","getPyramidPixelSize","transposeInfo","tileSize","getBlockWidthHeight","isBlockOutside","updateImageSpaceRasterInfo","WebMercator","isPseudoSpatialReference","_getSourceDataInfo","srcWidth","srcHeight","ul","wrapCount","isGeographic","abs","srcTilePixelSize","requestProjectedLocalDirections","startsWith","getProjectionOffsetGrid","projectedExtent","srcBufferExtent","rasterTransform","hasWrapAround","isAdaptive","optimizeProjectionAccuracy","includeGCSGrid","spacing","_getRasterTileAlignmentInfo","isPartiallyFilled","coefficients","projectDirections","gcsGrid","isUV","localNorthDirections","transformGrid","worldColumnCountFromOrigin","originColumnOffset","rightPadding","allowPartialFill","transposeVariableName","registryId","_computeMagDirValues","_rasterTileAlignmentInfo","pyramidsInfo","startX","halfWorldWidth","hasGCSSShiftTransform","pyramidResolution","_updateSourceDataInfo","_requireTooManySrcTiles","ceil","excessiveReading","magdirValue","slice","noDataValues","noDataValue","pixelType","isSlice","String","_clippingGeometry","Map","rasterIds","flatWebGLFunctionChain","hasFocalFunction","skipRasterFunction","every","primaryPixelBlocks","primaryPixelSizes","primaryRasterIds","getClippingGeometry","wkid","wkt","wkt2","isRoot","sourceRasters","getPrimaryRasters","rasterInfos","rawSourceRasterInfos","functionArguments","attributeTable","attributeTableAsRecordSet","_updateClipGeometry","getClippingGeometries","clippingGeometry","clippingType","fromExtent","_timer","_cachedBlocks","_size","_duration","_interval","decreaseRefCount","refCount","getBlock","ts","now","block","putBlock","_trim","_updateTimer","deleteBlock","updateMaxSize","empty","_clearTimer","getCurrentSize","setInterval","clearInterval","cache","isResolved","isRejected","Set","add","includes","indexOf","getElementsByTagNameNS","textContent","nodeValue","trim","split","Number","nodeName","lastIndexOf"],"sourceRoot":""}