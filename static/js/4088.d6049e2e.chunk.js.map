{"version":3,"file":"static/js/4088.d6049e2e.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/symbols/support/previewSymbol2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{getColorLuminance as t}from\"../../core/colorUtils.js\";import a from\"../../core/Error.js\";import{loadFont as o}from\"../../core/fontUtils.js\";import{pt2px as i}from\"../../core/screenUtils.js\";import{getFill as l,getStroke as n,getDashArray as s,getPatternUrlWithColor as r}from\"./gfxUtils.js\";import{SymbolSizeDefaults as c,shapes as h,adjustColorBrightness as u}from\"./previewUtils.js\";import{renderSymbol as m}from\"./renderUtils.js\";import{backgroundPadding as p}from\"./textUtils.js\";const d=\"picture-fill\",f=\"picture-marker\",y=\"simple-fill\",g=\"simple-line\",w=\"simple-marker\",v=\"text\",x=\"Aa\",b=c.size,M=c.maxSize,k=c.maxOutlineSize,L=c.lineWidth,z=225,j=document.createElement(\"canvas\");function C(e,t){const a=j.getContext(\"2d\"),o=[];t&&(t.weight&&o.push(t.weight),t.size&&o.push(t.size+\"px\"),t.family&&o.push(t.family)),a.font=o.join(\" \");const{width:i,actualBoundingBoxLeft:l,actualBoundingBoxRight:n,actualBoundingBoxAscent:s,actualBoundingBoxDescent:r}=a.measureText(e);return{width:Math.ceil(Math.max(i,l+n)),height:Math.ceil(s+r),x:Math.floor(l),y:Math.floor((s-r)/2)}}function S(e){const t=e?.size;return{width:null!=t&&\"object\"==typeof t&&\"width\"in t?i(t.width):null,height:null!=t&&\"object\"==typeof t&&\"height\"in t?i(t.height):null}}async function B(e,t){const a=t.fill,o=e.color;if(\"pattern\"===a?.type&&o&&e.type!==d){const e=await r(a.src,o.toCss(!0));a.src=e,t.fill=a}}async function U(e,t,a,i){if(!(\"font\"in e)||!e.font||\"text\"!==t.shape.type)return;try{await o(e.font)}catch{}const{width:l,height:n}=S(i);if(!/[\\uE600-\\uE6FF]/.test(t.shape.text)){const{width:o,height:s,x:r,y:c}=C(t.shape.text,{weight:t.font?.weight,size:t.font?.size,family:t.font?.family});a[0]=l??o,a[1]=n??s,t.shape.x=r,t.shape.y=c;let h=\"angle\"in e?e.angle:null;if(null!=i?.rotation&&(h=(h??0)+i.rotation),h){const e=h*(Math.PI/180),t=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));a[1]=a[0]*t+a[1]*o}}}function E(e,t,a,o,l){if(null!=e.haloColor&&null!=e.haloSize){l.masking??=a.map((()=>[]));const n=i(e.haloSize);o[0]+=n,o[1]+=n,a.unshift([{...t,fill:null,stroke:{color:e.haloColor,width:2*n,join:\"round\",cap:\"round\"}}]),l.masking.unshift([{shape:{type:\"rect\",x:0,y:0,width:o[0]+2*p,height:o[1]+2*p},fill:[255,255,255],stroke:null},{...t,fill:[0,0,0,0],stroke:null}])}null==e.backgroundColor&&null==e.borderLineColor||(o[0]+=2*p,o[1]+=2*p,a.unshift([{shape:{type:\"rect\",x:0,y:0,width:o[0],height:o[1]},fill:e.backgroundColor,stroke:{color:e.borderLineColor,width:i(e.borderLineSize)}}]),l.masking?.unshift([]))}function F(e,t){return e>t?\"dark\":\"light\"}function D(e,t){const a=\"number\"==typeof t?.size?t?.size:null,o=null!=a?i(a):null,r=null!=t?.maxSize?i(t.maxSize):null;let c=\"angle\"in e?e.angle:null;null!=t?.rotation&&(c=(c??0)+t.rotation);const u=l(e);let m=n(e);\"dark\"!==A(e,245)||t?.ignoreWhiteSymbols||(m={width:.75,...m,color:\"#bdc3c7\"});const p={shape:null,fill:u,stroke:m,offset:[0,0]};m?.width&&(m.width=Math.min(m.width,k));const z=m?.width||0;let j=null!=t?.size&&(null==t?.scale||t?.scale),B=0,U=0,E=!1;switch(e.type){case w:{const a=e.style,{width:l,height:n}=S(t),s=l===n&&null!=l?l:null!=o?o:Math.min(i(e.size),r||M);switch(B=s,U=s,a){case\"circle\":p.shape={type:\"circle\",cx:0,cy:0,r:.5*s},j||(B+=z,U+=z);break;case\"cross\":p.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*U]},{command:\"L\",values:[B,.5*U]},{command:\"M\",values:[.5*B,0]},{command:\"L\",values:[.5*B,U]}]};break;case\"diamond\":p.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*U]},{command:\"L\",values:[.5*B,0]},{command:\"L\",values:[B,.5*U]},{command:\"L\",values:[.5*B,U]},{command:\"Z\",values:[]}]},j||(B+=z,U+=z);break;case\"square\":p.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[B,0]},{command:\"L\",values:[B,U]},{command:\"L\",values:[0,U]},{command:\"Z\",values:[]}]},j||(B+=z,U+=z),c&&(E=!0);break;case\"triangle\":p.shape={type:\"path\",path:[{command:\"M\",values:[.5*B,0]},{command:\"L\",values:[B,U]},{command:\"L\",values:[0,U]},{command:\"Z\",values:[]}]},j||(B+=z,U+=z),c&&(E=!0);break;case\"x\":p.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[B,U]},{command:\"M\",values:[B,0]},{command:\"L\",values:[0,U]}]},c&&(E=!0);break;case\"path\":p.shape={type:\"path\",path:e.path||\"\"},j||(B+=z,U+=z),c&&(E=!0),j=!0}break}case g:{const{width:e,height:a}=S(t),i=s(m).reduce(((e,t)=>e+t),0),l=i&&Math.ceil(L/i),n=a??o??z,r=e??(i*l||L);m&&(m.width=n),B=r,U=n,j=!0,p.shape={type:\"path\",path:[{command:\"M\",values:[n/2,U/2]},{command:\"L\",values:[B-n/2,U/2]}]};break}case d:case y:{const e=\"object\"==typeof t?.symbolConfig&&!!t?.symbolConfig?.isSquareFill,{width:a,height:i}=S(t);B=!e&&a!==i||null==a?null!=o?o:b:a,U=!e&&a!==i||null==i?B:i,j||(B+=z,U+=z),j=!0,p.shape=e?{type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[B,0]},{command:\"L\",values:[B,U]},{command:\"L\",values:[0,U]},{command:\"L\",values:[0,0]},{command:\"Z\",values:[]}]}:h.fill[0];break}case f:{const a=Math.min(i(e.width),r||M),l=Math.min(i(e.height),r||M),{width:n,height:s}=S(t),h=n===s&&null!=n?n:null!=o?o:Math.max(a,l),u=a/l;B=u<=1?Math.ceil(h*u):h,U=u<=1?h:Math.ceil(h/u),p.shape={type:\"image\",x:-Math.round(B/2),y:-Math.round(U/2),width:B,height:U,src:e.url||\"\"},c&&(E=!0);break}case v:{const a=e,l=t?.overrideText||a.text||x,n=a.font,{width:s,height:c}=S(t),h=null!=c?c:null!=o?o:Math.min(i(n.size),r||M),{width:u,height:m}=C(l,{weight:n.weight,size:h,family:n.family}),d=/[\\uE600-\\uE6FF]/.test(l);B=s??(d?h:u),U=d?h:m;let f=.5*(d?h:m);d&&(f+=5),p.shape={type:\"text\",text:l,x:a.xoffset||0,y:a.yoffset||f,align:\"middle\",alignBaseline:a.verticalAlignment,decoration:n&&n.decoration,rotated:a.rotated,kerning:a.kerning},p.font=n&&{size:h,style:n.style,decoration:n.decoration,weight:n.weight,family:n.family};break}}return{shapeDescriptor:p,size:[B,U],renderOptions:{node:t?.node,scale:j,opacity:t?.opacity,rotations:[c],useRotationSize:E,effectView:t?.effectView,ariaLabel:t?.ariaLabel}}}async function Z(e,t){const{shapeDescriptor:o,size:i,renderOptions:l}=D(e,t);if(!o.shape)throw new a(\"symbolPreview: renderPreviewHTML2D\",\"symbol not supported.\");await B(e,o),await U(e,o,i,t);const n=[[o]];if(\"object\"==typeof t?.symbolConfig&&t?.symbolConfig?.applyColorModulation){const e=.6*i[0];n.unshift([{...o,offset:[-e,0],fill:u(o.fill,-.3)}]),n.push([{...o,offset:[e,0],fill:u(o.fill,.3)}]),i[0]+=2*e,l.scale=!1}return\"text\"===e.type&&E(e,o,n,i,l),m(n,i,l)}function A(a,o=z){const i=l(a),s=n(a),r=!i||\"type\"in i?null:new e(i),c=s?.color?new e(s?.color):null,h=r?F(t(r),o):null,u=c?F(t(c),o):null;return u?h?h===u?h:o>=z?\"light\":\"dark\":u:h}export{A as getContrastingBackgroundTheme,D as getRenderSymbolParameters,Z as previewSymbol2D};\n"],"names":["d","f","y","g","w","v","x","b","c","size","M","maxSize","k","maxOutlineSize","L","lineWidth","z","j","document","createElement","C","e","t","a","getContext","o","weight","push","family","font","join","width","i","actualBoundingBoxLeft","l","actualBoundingBoxRight","n","actualBoundingBoxAscent","s","actualBoundingBoxDescent","r","measureText","Math","ceil","max","height","floor","S","F","async","Z","shapeDescriptor","renderOptions","angle","rotation","u","m","A","ignoreWhiteSymbols","color","p","shape","fill","stroke","offset","min","scale","B","U","E","type","style","cx","cy","path","command","values","reduce","symbolConfig","isSquareFill","h","round","src","url","overrideText","text","test","xoffset","yoffset","align","alignBaseline","verticalAlignment","decoration","rotated","kerning","node","opacity","rotations","useRotationSize","effectView","ariaLabel","D","toCss","PI","abs","sin","cos","applyColorModulation","unshift","haloColor","haloSize","masking","map","cap","backgroundColor","borderLineColor","borderLineSize"],"sourceRoot":""}