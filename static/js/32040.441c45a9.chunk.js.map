{"version":3,"file":"static/js/32040.441c45a9.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js","../node_modules/@arcgis/core/smartMapping/renderers/support/referenceSizeUtils.js","../node_modules/@arcgis/core/smartMapping/renderers/support/spikeUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{pt2px as e,px2pt as t}from\"../../core/screenUtils.js\";import{CIMSymbolHelper as i}from\"../cim/CIMSymbolHelper.js\";import{CIMSymbolRasterizer as o}from\"../cim/CIMSymbolRasterizer.js\";import{OverrideHelper as l}from\"../cim/OverrideHelper.js\";import{mapCIMSymbolToGeometryType as r}from\"../cim/utils.js\";import{SymbolSizeDefaults as n}from\"./previewUtils.js\";import{renderSymbol as a}from\"./renderUtils.js\";const s=new o(null),m=t(n.size),h=t(n.maxSize),c=t(n.lineWidth),y=1;async function u(e,t,i){const o=t?.size;let l=null!=o&&\"object\"==typeof o&&\"width\"in o?o.width:o,r=null!=o&&\"object\"==typeof o&&\"height\"in o?o.height:o;if(!l||!r)if(\"esriGeometryPolygon\"===i)l=r=t.maxSize?Math.min(t.maxSize,m):m;else{const o=await g(e,t,i);o&&(l=o.width,r=o.height),\"esriGeometryPolyline\"===i&&(l=t.maxSize?Math.min(t.maxSize,c):c),l=null!=l&&isFinite(l)?Math.min(l,h):m,r=null!=r&&isFinite(r)?Math.max(Math.min(r,h),y):m}return\"legend\"===t.style&&\"esriGeometryPolyline\"===i&&(l=c),{width:l,height:r}}async function g(e,t={},o){const n=t.cimOptions||t;o??=n.geometryType||r(e?.data?.symbol);const{feature:a,fieldMap:m,viewParams:h}=n,c=await l.resolveSymbolOverrides(e.data,a,null,m,o,null,h);if(!c)return null;(e=e.clone()).data={type:\"CIMSymbolReference\",symbol:c},e.data.primitiveOverrides=void 0;const y=[];return i.fetchResources(c,s.resourceManager,y),i.fetchFonts(c,s.resourceManager,y),y.length>0&&await Promise.all(y),i.getEnvelope(c,null,s.resourceManager)}async function d(i,o={}){const{node:l,opacity:n,symbolConfig:m}=o,h=null!=m&&\"object\"==typeof m&&\"isSquareFill\"in m&&m.isSquareFill,c=o.cimOptions||o,y=c.geometryType||r(i?.data?.symbol),g=await u(i,o,y),{feature:d,fieldMap:f}=c,p=o?.geometry||h||\"esriGeometryPolygon\"!==y?\"preview\":\"legend\";let w=g;const b=g;if(o?.geometry&&(\"esriGeometryPolygon\"===y||\"esriGeometryPolyline\"===y)){const i=200;if(e(g.width)<i||e(g.height)<i){const e=g.width>g.height?t(i)*g.height/g.width:t(i);w={width:g.width>g.height?t(i):t(i)*g.width/g.height,height:e}}}const M=await s.rasterizeCIMSymbolAsync(i,d,w,p,f,y,null,c.viewParams,c.allowScalingUp,o?.geometry?.toJSON());if(!M)return null;const{width:S,height:v}=M,j=document.createElement(\"canvas\");j.width=S,j.height=v;j.getContext(\"2d\").putImageData(M,0,0);const x=e(b.width),z=e(b.height),P=new Image(x,z);P.src=j.toDataURL(),P.ariaLabel=o.ariaLabel??null,P.alt=o.ariaLabel??\"\",null!=n&&(P.style.opacity=`${n}`);let C=P;if(null!=o.effectView){const e={shape:{type:\"image\",x:0,y:0,width:x,height:z,src:P.src},fill:null,stroke:null,offset:[0,0]};C=a([[e]],[x,z],o)}return l&&C&&l.appendChild(C),C}export{g as getCIMSymbolPreviewSize,d as previewCIMSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../core/lang.js\";import r from\"../../../symbols/CIMSymbol.js\";import{PlacementPolygonCenterMethod as n}from\"../../../symbols/cim/enums.js\";var t;function o(e){const{view:r,field:n,normalizationField:o,sizeStops:i,sizeByScaleEnabled:a}=e,{value:l,size:s}=i[0],{value:c,size:m}=i[1];let y,u=0;n&&(u=`$feature[\"${n}\"]`,y=`\\n      if(!HasValue($feature, \"${n}\")){\\n        return 0;\\n      }\\n      $feature[\"${n}\"];\\n    `),o&&(u=`$feature[\"${n}\"] / $feature[\"${o}\"]`,y=`if(!HasValue($feature, \"${n}\") || !HasValue($feature, \"${o}\") || $feature[\"${o}\"] <= 0){\\n        return 0;\\n      }\\n      $feature[\"${n}\"];\\n      $feature[\"${o}\"];`);const p={type:\"CIMExpressionInfo\",title:\"Size in pixels of outer ring\",expression:a?`\\n      ${y}\\n      var maxSize = ${m};\\n      var referenceScale = ${r.scale};\\n      return (maxSize * (referenceScale / $view.scale));\\n    `:`${y}\\n      return ${m}`,returnType:\"Default\"},f={type:\"CIMExpressionInfo\",title:\"Size in pixels of inner ring\",expression:`\\n        ${y}\\n        var value = ${u};\\n\\n        var referenceScale = ${r.scale};\\n        var referenceScaleRatio = ${a?\"(referenceScale / $view.scale)\":1};\\n        var maxSize = ${m} * referenceScaleRatio;\\n        var minSize = ${s} * referenceScaleRatio;\\n\\n        var minDataValue = ${l};\\n        var maxDataValue = ${c};\\n\\n        var ratio = Constrain(( value - minDataValue ) / ( maxDataValue - minDataValue ), 0, 1);\\n\\n        var innerDotSize = Constrain(maxSize * ratio, minSize, maxSize);\\n        return innerDotSize;\\n      `,returnType:\"Default\"};return[{type:\"CIMPrimitiveOverride\",primitiveName:t.OuterRing,propertyName:\"Size\",valueExpressionInfo:p},{type:\"CIMPrimitiveOverride\",primitiveName:t.InnerDot,propertyName:\"Size\",valueExpressionInfo:f}]}function i(e){switch(e){case\"circle\":return{rings:[[[8.5,.2],[7.06,.33],[5.66,.7],[4.35,1.31],[3.16,2.14],[2.14,3.16],[1.31,4.35],[.7,5.66],[.33,7.06],[.2,8.5],[.33,9.94],[.7,11.34],[1.31,12.65],[2.14,13.84],[3.16,14.86],[4.35,15.69],[5.66,16.3],[7.06,16.67],[8.5,16.8],[9.94,16.67],[11.34,16.3],[12.65,15.69],[13.84,14.86],[14.86,13.84],[15.69,12.65],[16.3,11.34],[16.67,9.94],[16.8,8.5],[16.67,7.06],[16.3,5.66],[15.69,4.35],[14.86,3.16],[13.84,2.14],[12.65,1.31],[11.34,.7],[9.94,.33],[8.5,.2]]]};case\"square\":return{rings:[[[.5,.5],[.5,16.5],[16.5,16.5],[16.5,.5],[.5,.5]]]};case\"diamond\":return{rings:[[[8.5,.5],[.2,8.5],[8.5,16.5],[16.5,8.5],[8.5,.5]]]};case\"hexagon-pointy\":return{rings:[[[15.86,12.75],[15.86,4.25],[8.5,0],[1.14,4.25],[1.14,12.75],[8.5,17],[15.86,12.75]]]};case\"hexagon-flat\":return{rings:[[[12.75,15.86],[17,8.5],[12.75,1.14],[4.25,1.14],[0,8.5],[4.25,15.86],[12.75,15.86]]]}}}function a(e){const{type:r,color:o,colorLocked:a}=e;return{type:\"CIMVectorMarker\",enable:!0,colorLocked:!1,anchorPoint:{x:0,y:0},anchorPointUnits:\"Relative\",primitiveName:t.OuterRing,frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:i(r),symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:o.toArray(),colorLocked:!!a,effects:[{type:\"CIMGeometricEffectDonut\",width:.75}]}]}}],scaleSymbolsProportionally:!1,respectFrame:!0,markerPlacement:{type:\"CIMMarkerPlacementPolygonCenter\",placePerPart:!1,method:n.OnPolygon,offsetX:0,offsetY:0,clipAtBoundary:!1},size:20}}function l(e){const{type:r,color:o}=e;return{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:\"Relative\",primitiveName:t.InnerDot,frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:i(r),symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:o.toArray()}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:\"CIMMarkerPlacementPolygonCenter\",placePerPart:!1,method:n.OnPolygon,offsetX:0,offsetY:0,clipAtBoundary:!1},size:10}}function s(e){const{primitiveOverrides:n}=e;return new r({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[a(e),l(e)]},primitiveOverrides:n}})}function c(e){return\"CIMVectorMarker\"===e?.type?e.markerGraphics?.[0]:void 0}function m(e){return\"CIMPolygonSymbol\"===e?.symbol?.type?e.symbol.symbolLayers?.[0]:void 0}function y(e,r){\"CIMVectorMarker\"===e?.type&&null!=r&&(e.size=r)}function u(e,r){const n=c(e);n&&null!=r&&(n.geometry=i(r))}function p(e,r){const n=m(c(e));n&&null!=r&&(n.color=r.toArray())}function f(e,r,n){const t=m(c(e));t&&null!=r&&n&&(t.colorLocked=r)}function v(r,n){const{outerRingSize:o,innerDotSize:i,type:a,color:l,colorLocked:s,primitiveOverrides:c}=n,m=\"CIMPolygonSymbol\"===r.data.symbol?.type?r.data.symbol.symbolLayers:null;if(2===m?.length)for(const e of m){const r=e.primitiveName===t.OuterRing;y(e,r?o:i),u(e,a),p(e,l),f(e,s,r)}return null!=o&&null!=i&&(r.data.primitiveOverrides=null),void 0!==c&&(r.data.primitiveOverrides=e(c)),r}!function(e){e.OuterRing=\"reference-size-outer-ring\",e.InnerDot=\"reference-size-inner-dot\"}(t||(t={}));export{o as createPrimitiveOverrides,s as createReferenceSizeSymbol,v as updateReferenceSizeSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{clone as o}from\"../../../core/lang.js\";import{px2pt as t}from\"../../../core/screenUtils.js\";import r from\"../../../symbols/CIMSymbol.js\";import{Simple3DLineStyle as i,LineJoinStyle as n,LineCapStyle as l}from\"../../../symbols/cim/enums.js\";const a=\"spike-height-override\",s=t(8),m=t(20),u=\"triangle-solid-fill-open-outline\";function c(e){const{field:o,normalizationField:t,sizeStops:r}=e,{value:i,size:n}=r[0],{value:l,size:s}=r[1];let m,u=0;o&&(u=`$feature[\"${o}\"]`,m=`\\n      if(!HasValue($feature, \"${o}\")){\\n        return 0;\\n      }\\n      $feature[\"${o}\"];\\n    `),t&&(u=`$feature[\"${o}\"] / $feature[\"${t}\"]`,m=`if(!HasValue($feature, \"${o}\") || !HasValue($feature, \"${t}\") || $feature[\"${t}\"] <= 0){\\n        return 0;\\n      }\\n      $feature[\"${o}\"];\\n      $feature[\"${t}\"];`);return[{type:\"CIMPrimitiveOverride\",primitiveName:a,propertyName:\"Length\",valueExpressionInfo:{type:\"CIMExpressionInfo\",title:\"Custom\",expression:`\\n        ${m}\\n        var value = ${u};\\n\\n        var maxSize = ${s};\\n        var minSize = ${n};\\n\\n        var minDataValue = ${i};\\n        var maxDataValue = ${l};\\n\\n        var ratio = Constrain(( value - minDataValue ) / ( maxDataValue - minDataValue ), 0, 1);\\n\\n        var size = Constrain(maxSize * ratio, minSize, maxSize);\\n        return size;\\n      `,returnType:\"Default\"}}]}function p(e){const{primitiveOverrides:o,baseWidth:t,defaultHeight:i}=e,n=f(e);return new r({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMPointSymbol\",effects:[{type:\"CIMGeometricEffectRadial\",primitiveName:a,angle:90,length:i??m},{type:\"CIMGeometricEffectTaperedPolygon\",fromWidth:t??s,toWidth:1,length:5}],symbolLayers:n,haloSize:1,scaleX:1,angleAlignment:\"Display\"},primitiveOverrides:o}})}function f(e){const o=[d(e)],t=C(e);return t&&o.push(t),o}function d(e){const{strokeColor:o,strokeWidth:r,symbolStyle:a}=e,s=a?.includes(\"solid-fill\")||a?.includes(\"gradient-fill\");let m=o?.toArray(),u=!1;return a?.includes(\"outline\")&&s?u=!0:m=e.color?.toArray(),{type:\"CIMSolidStroke\",effects:y(a),enable:!0,colorLocked:u,capStyle:l.Round,joinStyle:n.Round,lineStyle3D:i.Strip,miterLimit:4,width:r??t(1),color:m}}function y(e){if(!e?.includes(\"closed\"))return[{type:\"CIMGeometricEffectAddControlPoints\",angleTolerance:90,primitiveName:\"spike-control-points\"},{type:\"CIMGeometricEffectSuppress\",suppress:!0,invert:!0,primitiveName:\"spike-stroke-suppress\"}]}function C(e){const{color:o,symbolStyle:t}=e,r=t?.includes(\"solid-fill\"),i=t?.includes(\"gradient-fill\");if(!r&&!i||!o)return;if(r)return{type:\"CIMSolidFill\",enable:!0,colorLocked:!1,color:o?.toArray()};const n=o.clone();return n.a=0,{type:\"CIMGradientFill\",enable:!0,angle:90,colorRamp:{type:\"CIMMultipartColorRamp\",colorRamps:[{type:\"CIMLinearContinuousColorRamp\",fromColor:o.toArray(),toColor:n.toArray()}],weights:[1]},gradientMethod:\"Linear\",gradientSize:70,gradientSizeUnits:\"Relative\",gradientType:\"Continuous\"}}function v(t,r){const{defaultHeight:i,baseWidth:n,color:l,strokeColor:s,primitiveOverrides:m,symbolStyle:u,strokeWidth:c}=r,p=\"CIMPointSymbol\"===t.data.symbol?.type?t.data.symbol:null;if(!p)return t;const d=p.effects,y=d?.find((e=>\"CIMGeometricEffectTaperedPolygon\"===e.type)),C=d?.find((e=>\"CIMGeometricEffectRadial\"===e.type&&e.primitiveName===a));null!=n&&y&&(y.fromWidth=n),null!=i&&C&&(C.length=i);const v=p.symbolLayers,S=v?.find((e=>\"CIMSolidStroke\"===e.type)),$=v?.find((e=>\"CIMSolidFill\"===e.type)),M=v?.find((e=>\"CIMGradientFill\"===e.type)),I=\"CIMMultipartColorRamp\"===M?.colorRamp?.type&&\"CIMLinearContinuousColorRamp\"===M.colorRamp.colorRamps[0]?.type?M.colorRamp.colorRamps[0]:null;if(u){const o=$?.color??I?.fromColor??S?.color,t=S?.color??o;p.symbolLayers=f({color:l??(o?new e(o):void 0),strokeColor:s??(t?new e(t):void 0),strokeWidth:c??S?.width,symbolStyle:u})}else if(S&&s&&(S.color=s.toArray()),$&&l&&($.color=l.toArray()),I&&l){const e=l.clone();e.a=0,I.fromColor=l.toArray(),I.toColor=e.toArray()}return void 0!==m&&(t.data.primitiveOverrides=o(m)),t}export{c as createPrimitiveOverrides,p as createSpikeSymbol,u as defaultSpikeSymbolStyle,v as updateSpikeSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{getColorLuminance as t}from\"../../../core/colorUtils.js\";import{round as l,numDigits as o,percentChange as i}from\"../../../renderers/support/numberUtils.js\";import{updateReferenceSizeSymbol as n}from\"../../../smartMapping/renderers/support/referenceSizeUtils.js\";import{updateSpikeSymbol as r}from\"../../../smartMapping/renderers/support/spikeUtils.js\";import s from\"../../../symbols/SimpleLineSymbol.js\";import a from\"../../../symbols/SimpleMarkerSymbol.js\";import{applyCIMSymbolColor as u}from\"../../../symbols/support/cimSymbolUtils.js\";import{getCIMSymbolPreviewSize as c}from\"../../../symbols/support/previewCIMSymbol.js\";import{isSymbol3D as m}from\"../../../symbols/support/typeUtils.js\";import{isVolumetricSymbol as p,getSymbolOutlineSize as f}from\"../../../symbols/support/utils.js\";import{getAuthoringInfoVisualVariableByTheme as y,getSymbolForFlowRenderer as b,createStopLabel as d}from\"./utils.js\";import\"../../support/widgetUtils.js\";import{isDarkMode as h}from\"../../../support/modeUtils.js\";const w=30,S=12,g=24,v=[255,255,255],z=[200,200,200],k=[128,128,128],j=20,I=5;function V(e){return\"esri.symbols.SimpleMarkerSymbol\"===e.declaredClass}function x(e){return\"esri.symbols.PictureMarkerSymbol\"===e.declaredClass}function M(e){return\"esri.symbols.SimpleLineSymbol\"===e.declaredClass}function U(e){return\"esri.symbols.TextSymbol\"===e.declaredClass}function C(e,t){const l=e.length-1;return e.map(((e,o)=>d(e,o,l,t)))}async function L(e,t,o,i,n,r,s){const a=t.legendOptions,u=a?.customValues,m=s||await B(e,o),b=t.stops,d=!!m,h=!!u,w=null!=t.minSize&&null!=t.maxSize,S=b&&b.length>1,v=!!t.target;if(!d||!h&&!(w||S&&!v))return;const z=p(m);let k=!1,j=null,I=null;j=z&&!S?l([t.minDataValue,t.maxDataValue]):u??await H(t,m,i,n?.type);const V=e?.authoringInfo,x=\"univariate-color-size\"===V?.type,M=x&&\"above-and-below\"===V?.univariateTheme,U=!!y(e,\"reference-size\"),L=!!y(e,\"spike\");if(!j&&S&&(j=b.map((e=>e.value)),k=b.some((e=>!!e.label)),\"flow\"===e.type&&(j=l(j)),k&&(I=b.map((e=>e.label)))),z&&null!=j&&j?.length>2&&!M&&(j=[j[0],j[j.length-1]]),!j)return null;x&&5!==j?.length&&(j=O({minSize:j[0],maxSize:j[j.length-1]}));const T=z?D(e,j):null,q=f(m),E=k?null:C(j,r),P=await Promise.all(j.map((async(l,o)=>{let r=z?T[o]:await G(t,m,l,i,n?.type),s=r;U&&(r*=g/t.maxSize||1,s=g);const a=J(m,r,e,o);L&&\"cim\"===a.type&&(s=await c(a));return{value:l,symbol:a,label:k?I[o]:E[o],size:s,outlineSize:q}})));return P.reverse()}function D(e,t){const l=e?.authoringInfo,o=\"univariate-color-size\"===l?.type;let i=[S,w];if(o){const e=t[0],l=t[t.length-1],o=S,n=w;i=t.map((t=>o+(t-e)/(l-e)*(n-o)))}return o&&\"below\"===l?.univariateTheme&&i.reverse(),i}function T(t,l,o,i){const r=\"class-breaks\"===t.type,s=r?t.classBreakInfos?.[0]?.symbol?.clone():t.uniqueValueInfos?.[0]?.symbol?.clone();return s&&\"type\"in s&&\"cim\"===s.type?(n(s,{color:i??(r?null:new e(z)),innerDotSize:l*(g/o)||1,outerRingSize:g}),s):null}function q(e,t){const l=e.classBreakInfos,o=l.length,i=o<2||!(t>=2)?l[0].symbol.clone():l[o-1].symbol.clone(),n=e.visualVariables?.some((e=>\"color\"===e.type));return n&&(i.type.includes(\"3d\")?P(i):R(i)),i}async function B(l,o){if(\"flow\"===l.type)return b(l,o);if(\"pie-chart\"===l.type)return new a({color:null,outline:l.outline?.width?l.outline:new s});let i=null,u=null;if(\"simple\"===l.type)i=l.symbol;else if(\"class-breaks\"===l.type){const e=l.classBreakInfos;i=e&&e[0]&&e[0].symbol,u=e.length>1}else if(\"unique-value\"===l.type){const e=l.uniqueValueInfos;i=e?.[0]?.symbol,u=null!=e&&e.length>1}if(!i||E(i))return null;if(i=i.clone(),o||u)if(i.type.includes(\"3d\"))P(i);else if(y(l,\"reference-size\")&&\"cim\"===i.type)n(i,{color:o??(\"class-breaks\"!==l.type?new e(z):null)});else if(y(l,\"spike\")&&\"cim\"===i.type){const l=new e(z),n=new e(k),s=\"CIMPointSymbol\"===i.data.symbol?.type?i.data.symbol:null,a=!!s?.symbolLayers?.find((({type:e})=>\"CIMSolidStroke\"===e))?.colorLocked;let u,c=o??void 0;if(c){const e=t(c),o=h();(!o&&e>225||o&&e<25)&&(c=l,u=a?n:l)}else c=l,u=a?n:l;r(i,{color:c,strokeColor:u})}else R(i);return i}function E(e){return m(e)?e.symbolLayers?.some((e=>\"fill\"===e?.type))??!1:e?.type.includes(\"fill\")??!1}function P(e){\"line-3d\"===e.type?e.symbolLayers.forEach((e=>{e.material={color:k}})):e.symbolLayers.forEach((e=>{\"icon\"!==e.type||e.resource?.href?e.material={color:z}:(e.material={color:v},e.outline={color:k,size:1.5})}))}function R(t){const l=h();if(\"cim\"===t.type)u(t,new e(z));else if(t.type.includes(\"line\"))t.color=k;else if(t.color=l?k:v,\"simple-marker\"===t.type)if(t.outline){const e=t.outline?.color?.toHex();\"#ffffff\"===e&&(t.outline.color=k)}else t.outline={color:k,width:1.5}}async function H(e,t,o,i){const n=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSizeRangeAtScale(e,o,i),r=n&&O(n);if(!n||!r)return;let s=r.map((t=>A(t,e,n)));s=l(s);for(let l=1;l<s.length-1;l++){const n=await F(e,t,s[l],s[l-1],o,i);n&&(s[l]=n[0],r[l]=n[1])}return s}function O(e){const t=e.minSize,l=e.maxSize,o=I,i=(l-t)/(o-1),n=[];for(let r=0;r<o;r++)n.push(t+i*r);return n}function A(e,t,l){const o=l.minSize,i=l.maxSize,n=t.minDataValue,r=t.maxDataValue;let s;if(e<=o)s=n;else if(e>=i)s=r;else{s=(e-o)/(i-o)*(r-n)+n}return s}async function F(e,t,n,r,s,a){const u=await G(e,t,n,s,a),c=await G(e,t,r,s,a),m=o(n),p=m.fractional,f=j;let y=m.integer,b=null,d=null;n>0&&n<1&&(b=10**p,y=o(n*=b).integer);for(let o=y-1;o>=0;o--){const r=10**o;let m=Math.floor(n/r)*r,p=Math.ceil(n/r)*r;null!=b&&(m/=b,p/=b);let y=(m+p)/2;[,y]=l([m,y,p],{indexes:[1]});const h=await G(e,t,m,s,a),w=await G(e,t,p,s,a),S=await G(e,t,y,s,a),g=i(u,h,c,null),v=i(u,w,c,null),z=i(u,S,c,null);let k=g.previous<=f,j=v.previous<=f;if(k&&j&&(g.previous<=v.previous?(k=!0,j=!1):(j=!0,k=!1)),k?d=[m,h]:j?d=[p,w]:z.previous<=f&&(d=[y,S]),d)break}return d}async function G(e,t,l,o,i){const{getSize:n}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return n(e,l,{scale:o,view:i,shape:\"simple-marker\"===t.type?t.style:null})}function J(e,t,l,o){\"univariate-color-size\"===l?.authoringInfo?.type&&\"above-and-below\"===l?.authoringInfo?.univariateTheme&&\"class-breaks\"===l.type&&(e=q(l,o));const i=e.clone();if(m(i))p(i)||i.symbolLayers.forEach((e=>{\"fill\"!==e.type&&(e.size=t)}));else if(V(i))i.size=t;else if(x(i)){const e=i.width,l=i.height;i.height=t,i.width=t*(e/l)}else M(i)?i.width=t:U(i)?i.font&&(i.font.size=t):\"cim\"===i.type&&y(l,\"reference-size\")?n(i,{innerDotSize:t,outerRingSize:g}):\"cim\"===i.type&&y(l,\"spike\")&&r(i,{defaultHeight:t,primitiveOverrides:null});return i}export{L as getRampStops,T as getReferenceSizeSymbol,w as realWorldMaxSize,S as realWorldMinSize};\n"],"names":["s","o","m","t","n","size","h","maxSize","c","lineWidth","y","async","u","e","i","l","width","r","height","Math","min","g","isFinite","max","style","cimOptions","geometryType","data","symbol","feature","a","fieldMap","viewParams","resolveSymbolOverrides","clone","type","primitiveOverrides","fetchResources","resourceManager","fetchFonts","length","Promise","all","getEnvelope","d","node","opacity","symbolConfig","isSquareFill","f","p","geometry","w","b","M","rasterizeCIMSymbolAsync","allowScalingUp","toJSON","S","v","j","document","createElement","getContext","putImageData","x","z","P","Image","src","toDataURL","ariaLabel","alt","C","effectView","shape","fill","stroke","offset","appendChild","rings","markerGraphics","symbolLayers","color","toArray","colorLocked","outerRingSize","innerDotSize","primitiveName","OuterRing","InnerDot","symbolStyle","includes","enable","angle","colorRamp","colorRamps","fromColor","toColor","weights","gradientMethod","gradientSize","gradientSizeUnits","gradientType","push","strokeColor","strokeWidth","effects","capStyle","Round","joinStyle","lineStyle3D","Strip","miterLimit","angleTolerance","suppress","invert","defaultHeight","baseWidth","find","fromWidth","$","I","k","L","legendOptions","customValues","B","stops","minSize","target","minDataValue","maxDataValue","getSizeRangeAtScale","O","map","A","F","H","V","authoringInfo","univariateTheme","U","value","some","label","T","D","q","E","G","J","outlineSize","reverse","outline","classBreakInfos","uniqueValueInfos","R","forEach","material","resource","href","toHex","fractional","integer","floor","ceil","indexes","previous","getSize","scale","view","visualVariables","declaredClass","font"],"sourceRoot":""}