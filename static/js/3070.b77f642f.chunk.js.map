{"version":3,"file":"static/js/3070.b77f642f.chunk.js","mappings":"uPAI2rB,SAASA,EAAEC,GAAG,OAAOA,GAAG,WAAWA,CAAC,CAAC,SAASC,EAAED,GAAG,MAAME,EAAEC,SAASC,cAAc,UAAU,OAAOF,EAAEG,MAAML,EAAEK,MAAMH,EAAEI,OAAON,EAAEM,OAAON,EAAEO,OAAOL,EAAEM,WAAW,OAAON,CAAC,CAAmG,MAAMO,UAAUC,EAAAA,EAAEC,WAAAA,CAAYX,EAAE,KAAKE,GAAE,GAAIU,QAAQC,KAAKC,cAAc,WAAWD,KAAKE,aAAa,EAAEF,KAAKG,cAAc,EAAEH,KAAKI,qBAAoB,EAAGJ,KAAKK,WAAW,EAAEL,KAAKM,WAAW,CAAC,EAAE,GAAGN,KAAKO,aAAQ,EAAOP,KAAKQ,WAAW,EAAER,KAAKS,WAAW,EAAET,KAAKU,SAAS,EAAEV,KAAKW,QAAQ,KAAKX,KAAKY,SAAS,KAAKZ,KAAKa,YAAO,EAAOb,KAAKc,EAAE,EAAEd,KAAKe,EAAE,EAAEf,KAAKgB,UAAU3B,EAAEW,KAAKiB,OAAO9B,EAAEa,KAAKkB,cAAclB,KAAKkB,cAAcC,KAAKnB,KAAK,CAACoB,OAAAA,GAAUpB,KAAKY,WAAWZ,KAAKY,SAASS,UAAUrB,KAAKY,SAAS,MAAM,MAAMZ,KAAKsB,gBAAgBtB,KAAKsB,cAAcC,WAAWC,QAAQxB,KAAKsB,cAAc,KAAK,CAAC,kBAAIG,GAAiB,OAAOzB,KAAKR,QAAQQ,KAAKE,cAAcF,KAAKP,SAASO,KAAKG,aAAa,CAAC,UAAIV,GAAS,YAAO,IAASO,KAAKO,QAAQP,KAAKO,QAAQP,KAAKG,aAAa,CAAC,UAAIV,CAAON,GAAGa,KAAKO,QAAQpB,CAAC,CAAC,UAAI8B,GAAS,OAAOjB,KAAKW,OAAO,CAAC,UAAIM,CAAO9B,GAAG,MAAMA,GAAG,MAAMa,KAAKW,UAAUX,KAAKW,QAAQxB,EAAEa,KAAK0B,oBAAoB1B,KAAKkB,gBAAgB,CAAC,WAAIS,GAAU,OAAO3B,KAAKY,QAAQ,CAAC,SAAIpB,GAAQ,YAAO,IAASQ,KAAKa,OAAOb,KAAKa,OAAOb,KAAKE,YAAY,CAAC,SAAIV,CAAML,GAAGa,KAAKa,OAAO1B,CAAC,CAACyC,YAAAA,CAAazC,GAAGY,MAAM6B,aAAazC,GAAGa,KAAK6B,cAAc1C,EAAE,CAAC,oBAAM2C,CAAeC,EAAEC,GAAG,MAAMhC,KAAKsB,eAAetB,KAAKsB,cAAcC,WAAWC,QAAQ,MAAMS,EAAE,IAAIC,gBAAgBC,GAAEhD,EAAAA,EAAAA,MAAI,OAAOE,EAAAA,EAAAA,IAAE2C,GAAG,IAAIC,EAAET,WAAUnC,EAAAA,EAAAA,IAAE4C,GAAG9C,GAAGgD,EAAEC,OAAOjD,KAAKa,KAAKsB,cAAc,CAACC,WAAWU,EAAEI,SAASF,GAAGnC,KAAKiB,OAAOc,EAAEI,EAAEG,OAAO,CAACZ,iBAAAA,GAAoB1B,KAAKI,sBAAsBJ,KAAKI,qBAAoB,EAAGJ,KAAKW,mBAAmB4B,kBAAkBvC,KAAKG,cAAcH,KAAKW,QAAQ6B,cAAcxC,KAAKE,aAAaF,KAAKW,QAAQ8B,cAAczC,KAAKW,UAAUX,KAAKG,cAAcH,KAAKW,QAAQlB,OAAOO,KAAKE,aAAaF,KAAKW,QAAQnB,OAAO,CAACkD,cAAAA,CAAevD,EAAEE,GAAGF,GAAG,KAAKa,KAAK2C,uBAAsB,GAAI5C,MAAM2C,eAAevD,EAAEE,EAAE,CAACuD,YAAAA,CAAazD,GAAG,MAAME,GAAE2C,EAAAA,EAAAA,IAAEhC,KAAK6C,WAAWC,wBAAwBf,EAAEgB,GAAG5D,EAAE6D,mBAAmB,CAAC,EAAE,GAAG,CAAChD,KAAKc,EAAEd,KAAKe,IAAIlB,EAAEG,KAAKS,WAAWT,KAAKQ,WAAWrB,EAAEsB,WAAWwC,EAAEpD,EAAEG,KAAKR,MAAM0D,EAAErD,EAAEG,KAAKP,OAAO0D,EAAEC,KAAKC,GAAGrD,KAAKU,SAAS,KAAIuB,EAAAA,EAAAA,IAAE5C,EAAEA,GAAEiE,EAAAA,EAAAA,IAAEvB,EAAEgB,KAAId,EAAAA,EAAAA,IAAE5C,EAAEA,GAAEiE,EAAAA,EAAAA,IAAEL,EAAE,EAAEC,EAAE,KAAIf,EAAAA,EAAAA,IAAE9C,EAAEA,GAAG8D,IAAGlB,EAAAA,EAAAA,IAAE5C,EAAEA,GAAEiE,EAAAA,EAAAA,KAAGL,EAAE,GAAGC,EAAE,KAAIK,EAAAA,EAAAA,IAAElE,EAAEA,GAAEiE,EAAAA,EAAAA,IAAEL,EAAEC,KAAIM,EAAAA,EAAAA,IAAExD,KAAK6C,WAAWC,sBAAsB3D,EAAEsE,gBAAgBpE,EAAE,CAACqE,kBAAAA,CAAmBvE,GAAGa,KAAKY,WAAWzB,EAAEwE,OAAO3D,KAAKY,SAASgD,WAAWC,WAAW7D,KAAKY,SAASkD,iBAAiB9D,KAAKY,SAASmD,gBAAgB5E,EAAE6E,cAAc,CAAC7C,IAAAA,CAAKhC,EAAEE,GAAGW,KAAKY,UAAUzB,EAAE8E,YAAYjE,KAAKY,SAASvB,EAAE,CAAC,mBAAMwC,EAAeqC,QAAQ/E,EAAEgF,QAAQ9E,IAAI,IAAIW,KAAKI,oBAAoB,OAAO,GAAGJ,KAAKI,qBAAoB,EAAGJ,KAAKY,WAAWZ,KAAKY,SAASZ,KAAKoE,eAAejF,KAAKa,KAAKiB,OAAO,YAAYjB,KAAKY,SAASyD,QAAQ,MAAMrE,KAAKY,SAAS0D,OAAOtE,KAAKE,aAAaF,KAAKG,eAAe,MAAM6B,EAA/nF,SAAW7C,GAAG,OAAOD,EAAEC,GAAGA,aAAa8D,EAAAA,EAAE9D,EAAEoF,2BAA2BC,qBAAqBpF,EAAED,GAAGA,CAAC,CAAgiFsF,CAAEzE,KAAKiB,QAAQ,IAAI,GAAG,MAAMjB,KAAKsB,cAAc,CAAC,MAAMC,WAAWpC,EAAEkD,SAASN,GAAG/B,KAAKsB,cAAcW,EAAE,CAACyC,OAAOvF,EAAEuF,SAASlF,MAAM2C,EAAE1C,OAAO8D,GAAGvD,KAAKwD,EAAExD,KAAKY,SAASmC,EAAE1D,EAAEsF,2BAA2B5B,EAAE6B,qBAAqB,CAACC,KAAK7C,EAAEL,QAAQ6B,EAAEhE,MAAM2C,EAAE1C,OAAO8D,GAAGtB,GAAGF,EAAE+C,UAAU9E,KAAKsB,cAAc,IAAI,MAAMtB,KAAKY,SAASyD,QAAQrC,GAAGhC,KAAK+E,OAAO,CAAC,MAAM9C,IAAGF,EAAAA,EAAAA,IAAEE,EAAE,CAAC,CAAC+C,QAAAA,GAAWhF,KAAKoB,SAAS,CAAC6D,iBAAAA,GAAoB,MAAM,CAACnC,uBAAsBC,EAAAA,EAAAA,MAAI,CAACqB,cAAAA,CAAejF,GAAG,MAAME,EAAEW,KAAKgB,UAAUe,EAAE,IAAIjB,EAAAA,EAAE,OAAOiB,EAAEmD,eAAe7F,EAAE6D,EAAAA,GAAEiC,MAAMhC,EAAAA,GAAEiC,KAAKrD,EAAEsD,SAASC,EAAAA,GAAEC,cAAcxD,EAAEyD,YAAYnG,EAAE0C,EAAEvC,MAAMQ,KAAKE,aAAa6B,EAAEtC,OAAOO,KAAKG,cAAc,IAAIsF,EAAAA,EAAEtG,EAAE4C,EAAE,E,wECA55H,MAAME,UAAUF,EAAAA,EAAEjC,WAAAA,GAAcC,SAAS2F,WAAW1F,KAAK2F,eAAc,EAAG3F,KAAK4F,iBAAiB,IAAI,CAAC,wBAAIC,GAAuB,OAAO9F,MAAM8F,sBAAsB7F,KAAK2F,aAAa,CAAC/D,YAAAA,CAAavC,GAAGU,MAAM6B,aAAavC,GAAGW,KAAK8F,aAAa,CAACC,QAAAA,GAAWhG,MAAMgG,WAAW/F,KAAK4F,iBAAiB,IAAI5D,EAAAA,CAAC,CAACgD,QAAAA,GAAWjF,MAAMiF,WAAWhF,KAAK4F,kBAAkBI,WAAWhG,KAAK4F,iBAAiB,IAAI,CAACK,cAAAA,CAAelE,GAAGhC,MAAMkG,eAAelE,GAAG/B,KAAKkG,SAASnE,EAAEoE,YAAY9G,EAAAA,GAAE+G,KAAK,MAAMpG,KAAK4F,kBAAkB5F,KAAK4F,iBAAiBlG,OAAOqC,EAAE,CAACsE,QAAQrG,KAAKsG,UAAU,CAACR,WAAAA,GAAc9F,KAAKsG,SAASC,QAAQ,CAAClH,EAAE0C,IAAI1C,GAAG0C,EAAEyE,iBAAiB,EAAE,IAAI,IAAI,GAAGxG,KAAKsG,SAASG,SAASpH,GAAGA,EAAEY,cAAc,aAAaD,KAAK2F,eAAc,IAAK3F,KAAKsG,SAASG,SAASpH,GAAGA,EAAEY,cAAc,aAAaD,KAAK2F,eAAc,EAAG,E,mCCA97B,MAAM9F,EAAEC,WAAAA,CAAYD,EAAER,EAAEF,GAAGa,KAAK0G,WAAW7G,EAAEG,KAAK2G,OAAOtH,EAAEW,KAAK4G,mBAAmBzH,CAAC,CAAC,SAAIK,GAAQ,OAAO,MAAMQ,KAAK0G,WAAW1G,KAAK0G,WAAWlH,MAAM,CAAC,CAAC,UAAIC,GAAS,OAAO,MAAMO,KAAK0G,WAAW1G,KAAK0G,WAAWjH,OAAO,CAAC,CAACC,MAAAA,CAAOG,GAAG,MAAMR,EAAEW,KAAK0G,WAAW,GAAG,MAAMrH,EAAE,OAAO,MAAMF,EAAEa,KAAK6G,OAAO,CAACF,OAAO3G,KAAK2G,OAAOD,WAAW1G,KAAK4G,oBAAoBvH,IAAI,GAAG,MAAMF,EAAEuH,WAAW,OAAOvH,EAAEuH,WAAWI,cAAc3H,EAAEuH,WAAWK,kBAAiB,GAAI,MAAMhF,EAAE5C,EAAEuH,WAAWM,YAAY7E,EAAEtC,EAAEoH,gBAAgB9H,EAAEuH,WAAWlH,MAAML,EAAEuH,WAAWjH,QAAQ0C,EAAE0C,KAAKqC,IAAInF,GAAGlC,EAAEsH,aAAahF,EAAE,EAAE,EAAE,CAACoC,uBAAAA,GAA0B,MAAM1E,EAAEG,KAAK6G,OAAO,CAACF,OAAO3G,KAAK2G,OAAOD,WAAW1G,KAAK0G,aAAa,OAAO,MAAM7G,EAAE6G,WAAW,MAAM7G,EAAE6G,WAAWI,cAAcjH,EAAE6G,WAAWK,kBAAiB,GAAI,CAACvH,MAAMK,EAAE6G,WAAWlH,MAAMC,OAAOI,EAAE6G,WAAWjH,OAAO+E,qBAAqB,IAAI4C,WAAWvH,EAAE6G,WAAWM,YAAYK,SAAS,E,uGCAnc,SAAS/B,EAAEnG,GAAG,MAAMqE,EAA7V,SAAWrE,GAAG,MAAMqE,EAAE,IAAI3D,EAAAA,GAAE,EAAE,GAAGoD,EAAE9D,EAAEmI,SAASnI,GAAG4C,EAAEkB,EAAEqE,SAASnI,GAAGmE,EAAEE,EAAE8D,SAASvF,EAAEuF,UAAU,GAAGC,IAAI,IAAI1H,EAAAA,GAAE,GAAGyH,SAASrE,IAAIuE,SAAS,IAAI3H,EAAAA,GAAE,GAAGyH,SAASnI,IAAIoI,IAAI,IAAIjC,EAAE9B,EAAE8D,SAASvF,EAAEuF,SAAS,GAAGE,SAASvE,EAAEqE,SAAS,IAAIC,IAAI,IAAI9B,EAAEjC,EAAE8D,SAASvF,EAAEuF,UAAU,GAAGC,IAAItE,EAAEqE,SAAS,IAAIC,IAAIpI,EAAEmI,SAAS,IAAIC,IAAI,IAAIxE,EAAES,EAAE8D,SAASvF,GAAG,OAAO,IAAIhB,EAAAA,GAAEuC,EAAEgC,EAAEG,EAAE1C,EAAE,CAAuBO,CAAEnE,GAAG8D,EAAEO,EAAE1C,EAAEyG,IAAI/D,EAAEzC,GAAGgB,EAAEyB,EAAEiE,EAAEF,IAAI/D,EAAEiB,GAAGa,EAAE,IAAIzF,EAAAA,GAAE,GAAG2H,SAAShE,EAAEzC,EAAE2G,OAAOzE,IAAIsE,IAAIpI,GAAGsG,EAAE,IAAI5F,EAAAA,GAAE,GAAG0H,IAAI/D,EAAEiB,EAAEiD,OAAO3F,IAAIyF,SAASrI,GAAG,OAAO,IAAI4B,EAAAA,GAAEuE,EAAEG,EAAExC,EAAElB,EAAE,CCArK,MAAM4F,UAAUrC,EAAAA,KAAG/B,EAAAA,EAAAA,GAAE,EAACxB,EAAAA,EAAAA,IAAE,EAAE7C,EAAAA,KAAIyI,EAAEC,UAAU,gBAAW,GAAQ,MAAMC,UAAU9E,EAAAA,IAAG,MAAM+E,UAAU5E,EAAAA,KAAGK,EAAAA,EAAAA,GAAE,EAAClE,EAAAA,EAAAA,IAAEoG,EAAAA,KAAIqC,EAAEF,UAAU,eAAU,IAAQrE,EAAAA,EAAAA,GAAE,EAAClE,EAAAA,EAAAA,IAAEmE,EAAAA,IAAIsE,EAAEF,UAAU,eAAU,IAAQrE,EAAAA,EAAAA,GAAE,EAAClE,EAAAA,EAAAA,IAAEH,EAAAA,KAAI4I,EAAEF,UAAU,kBAAa,IAAQrE,EAAAA,EAAAA,GAAE,EAAClE,EAAAA,EAAAA,IAAEyB,EAAAA,KAAIgH,EAAEF,UAAU,eAAU,GAAQ,MAAMnD,UAAUxC,EAAAA,EAAE8F,MAAAA,CAAOxE,GAAG,MAAMpE,EAAEa,KAAKgI,OAAOC,QAAQX,SAAS,IAAIrE,EAAAA,GAAEM,EAAE2E,SAASZ,SAAStH,KAAKgI,OAAO1H,YAAY,IAAI,MAAM,CAAC6H,WAAW,IAAIpH,EAAAA,GAAE5B,EAAE,GAAGiJ,SAAS7E,EAAE2E,SAAS,CAACG,QAAAA,CAAS9E,GAAG,MAAMpE,EAAE,IAAImE,EAAAA,GAAE,IAAIvB,EAAE,OAAOA,EAAE/B,KAAKsI,QDAnT,SAAWvH,EAAEuC,EAAEmC,GAAG,MAAM1C,EAAE,IAAI5D,EAAAA,GAAE,IAAIU,EAAAA,GAAE,GAAG6H,OAAOjC,EAAE3E,GAAG,GAAGzB,EAAE,IAAIF,EAAAA,GAAE,EAAE,IAAIU,EAAAA,GAAE,GAAG6H,OAAOjC,EAAE1E,IAAIkB,EAAEqB,EAAEgE,SAAS7B,GAAG+B,SAAS,IAAItE,EAAEoC,GAAE9B,EAAAA,EAAAA,IAAEvB,GAAGnB,GAAGyH,IAAIvG,EAAEsD,GAAE9B,EAAAA,EAAAA,IAAEvB,GAAGlB,GAAGwH,IAAI,IAAI9D,EAAEnB,EAAEiE,IAAIrE,EAAEpC,EAAEwG,SAASvE,IAAIQ,EAAED,EAAEkE,SAAStE,EAAEnC,EAAEuG,SAASvE,IAAI,MAAMjC,EAAE2D,EAAE8C,IAAIvF,EAAElB,EAAEwG,SAASjI,IAAIwI,EAAEtE,EAAEgE,IAAIvF,EAAElB,EAAEwG,SAASjI,IAAIoF,EAAEA,EAAE+C,SAASxF,EAAEjB,EAAEuG,SAASjI,IAAIkE,EAAEA,EAAEiE,SAASxF,EAAEjB,EAAEuG,SAASjI,IAAI,IAAIoI,GAAExE,EAAAA,EAAAA,IAAElC,EAAEwC,GAAGnE,GAAE6D,EAAAA,EAAAA,IAAElC,EAAE0D,GAAG,MAAMkD,GAAE1E,EAAAA,EAAAA,IAAElC,EAAE8G,GAAG3I,GAAE+D,EAAAA,EAAAA,IAAElC,EAAED,GAAG,OAAO2G,GAAE1F,EAAAA,EAAAA,IAAE0F,EAAEE,EAAE3F,EAAEyF,GAAGrI,GAAE2C,EAAAA,EAAAA,IAAE3C,EAAEF,EAAE8C,EAAEyF,GAAGA,GAAE1F,EAAAA,EAAAA,IAAE0F,EAAErI,EAAE8D,EAAEuE,GAAGA,CAAC,CCAtGtF,CAAEnC,KAAKgI,OAAOrG,QAAQ4B,EAAE6E,SAASpI,KAAKgI,OAAO1H,aAAYlB,EAAAA,EAAAA,IAAEY,KAAKgI,OAAOrG,QAAQ4B,EAAE6E,UAAUjJ,EAAEqJ,UAAU,IAAIzH,EAAAA,GAAEgB,EAAE0G,IAAInB,SAAStH,KAAKgI,OAAOU,SAAS3G,EAAEgB,EAAEuE,SAAStH,KAAKgI,OAAOU,UAAUvJ,CAAC,GAAEoE,EAAAA,EAAAA,GAAE,EAAClE,EAAAA,EAAAA,IAAEyI,IAAIrD,EAAEmD,UAAU,cAAS,IAAQrE,EAAAA,EAAAA,GAAE,CAACvB,EAAAA,IAAGyC,EAAEmD,UAAU,eAAU,IAAQrE,EAAAA,EAAAA,GAAE,EAACpE,EAAAA,EAAAA,GAAE,GAAEU,EAAAA,EAAAA,IAAE8H,KAAKlD,EAAEmD,UAAU,SAAS,OAAMrE,EAAAA,EAAAA,GAAE,EAACpE,EAAAA,EAAAA,GAAE,GAAEU,EAAAA,EAAAA,IAAEgI,KAAKpD,EAAEmD,UAAU,WAAW,M,eCA94B,MAAM7E,EAAE,CAAC4F,QAAQ,CAAC3E,aAAaT,EAAAA,GAAEqF,QAAQjF,MAAK,GAAIkF,SAAS,CAAC7E,aAAaT,EAAAA,GAAEuF,OAAOnF,MAAK,GAAI2E,QAAQ,CAACtE,aAAaT,EAAAA,GAAEuF,OAAOnF,MAAK,GAAIoF,UAAU,CAAC/E,aAAaT,EAAAA,GAAEyF,qBAAqBrF,MAAK,IAAK8B,EAAEA,CAACpG,EAAE0C,EAAE5C,KAAK,GAAG,YAAYA,EAAE6E,aAAa,CAAC,MAAMiF,MAAM9J,GAAGE,EAAE2C,EAAED,EAAEtB,WAAWsB,EAAEvB,WAAWrB,EAAEsB,WAAW8C,EAAEH,KAAK8F,MAAM7J,EAAEmB,cAAcnB,EAAEmB,WAAW8C,EAAEtB,EAAE,MAAMA,EAAE,IAAI,OAAO7C,EAAEuB,UAAU4C,GAAGC,GAAGxB,EAAEN,gBAAgBM,EAAErB,SAASqC,EAAE8F,SAAS9F,EAAE4F,OAAO,CAAC,OAAO5F,EAAE5D,EAAE6E,aAAa,EAAE,MAAMsB,UAAUvD,EAAAA,EAAEjC,WAAAA,GAAcC,SAAS2F,WAAW1F,KAAKmJ,KAAK,cAAcnJ,KAAKoJ,KAAKjK,EAAAA,EAAEkK,OAAOrJ,KAAKsJ,QAAQ,CAACC,OAAO,IAAIvH,EAAE,CAACtC,MAAAA,CAAOqC,EAAE5C,GAAG,MAAM+E,QAAQlC,EAAEwH,iBAAiBjG,EAAEY,QAAQmB,GAAGvD,EAAE,IAAI,MAAMmB,KAAK/D,EAAEkH,QAAQ,CAAC,MAAMlH,EAAE+D,EAAEvB,QAAQ,IAAIuB,EAAEjC,SAASiC,EAAEuG,SAAS,MAAMtK,EAAE,SAAS,MAAMU,EAAE4F,EAAE1D,EAAEmB,EAAEK,GAAGxB,EAAE2H,SAASC,MAAM3J,KAAKmJ,MAAM7D,EAAEsE,iBAAiB,CAACC,OAAM,EAAGC,QAAQ,CAACC,KAAK,CAACC,KAAK,IAAIC,IAAI/G,EAAE7C,WAAW6J,QAAQ5G,EAAAA,GAAE6G,MAAMC,GAAG,CAACC,KAAKpI,EAAAA,GAAEqI,KAAKC,MAAMtI,EAAAA,GAAEqI,KAAKE,MAAMvI,EAAAA,GAAEqI,OAAOG,OAAM,GAAIC,MAAM,CAACD,MAAM,EAAC,GAAG,GAAG,GAAG,GAAIE,UAAU,aAAazH,EAAEjD,cAAc,WAAW,eAAeiD,EAAEQ,mBAAmB7D,GAAG,MAAMS,WAAW2C,EAAE2H,gBAAgBpH,EAAEX,WAAWzD,GAAG8D,EAAEf,EAAE,CAACR,QAAQ,CAACA,QAAQxC,EAAE0L,KAAKxL,EAAAA,IAAG4I,QAAQ7I,EAAE0D,sBAAsBxC,WAAW2C,EAAEyF,QAAQlF,GAAG8B,EAAEwF,eAAe9I,EAAE,CAAC+I,OAAO/K,KAAKsJ,QAAQC,OAAOyB,SAAS,CAAChD,OAAO7F,GAAG8I,QAAQ,CAAC3C,QAAQzI,IAAIkD,EAAEuF,SAAS4C,mBAAmB,KAAKC,kBAAiB,GAAI7F,EAAE8F,UAAUrJ,EAAE2H,SAAS2B,IAAIrL,KAAKmJ,KAAK,CAAC,E,4JCAvoD,MAAMhK,EAAEiE,KAAKC,GAAG,IAAI,SAASC,EAAEA,GAAG,OAAOA,EAAEnE,CAAC,CAAC,SAASoE,EAAEpE,EAAEoE,GAAG,MAAMR,EAAEO,EAAEC,EAAE7C,UAAUuB,EAAEmB,KAAKkI,IAAIlI,KAAKmI,IAAIxI,IAAIf,EAAEoB,KAAKkI,IAAIlI,KAAKoI,IAAIzI,KAAKS,EAAEN,GAAGK,EAAEkI,KAAK,OAAOtM,EAAE,GAAGiE,KAAK8F,MAAMhG,EAAElB,EAAEwB,EAAEvB,GAAG9C,EAAE,GAAGiE,KAAK8F,MAAMhG,EAAEjB,EAAEuB,EAAExB,GAAG7C,CAAC,C,qCCA+rB,MAAM4B,GAAEuE,EAAAA,EAAAA,MAAIxE,EAAE,CAAC,EAAE,GAAGlB,EAAE,IAAIR,EAAAA,EAAE,EAAE,EAAE,EAAE,GAAGqF,EAAoE,KAApEA,EAAwF,KAAxFA,GAAoH,EAApHA,GAAmJ,EAAnJA,GAA4J,EAAI,IAAIiH,EAAE,cAAcrM,EAAAA,EAAES,WAAAA,CAAYX,GAAGY,MAAMZ,GAAGa,KAAK2L,cAAc,KAAK3L,KAAKqG,QAAQ,GAAGrG,KAAK4L,MAAMnH,EAAQzE,KAAK6L,cAAcpH,EAAgBzE,KAAK8L,eAAerH,EAAiBzE,KAAK+L,uBAAuBtH,EAAyBzE,KAAKgM,4BAA4BvH,EAA8BzE,KAAKiM,QAAOlK,EAAAA,EAAAA,KAAGmK,MAAM/M,EAAEE,KAAK,IAAGkE,EAAAA,EAAAA,IAAElE,IAAIF,EAAEgN,YAAYnM,KAAKoM,UAAU,OAAO,MAAMrK,EAAE5C,EAAE8J,MAAMjH,GAAEG,EAAAA,EAAAA,IAAEJ,EAAEsK,kBAAkBtJ,EAAE/C,KAAK4L,MAAMzM,EAAEqB,WAAW,EAAE8C,EAAEvB,EAAEuK,iBAAiB,EAAEhH,EAAEhC,GAAGtD,KAAKgM,6BAA6BjK,EAAEuK,iBAAiBvK,EAAE0J,KAAK,GAAGhG,EAAErC,KAAK8F,OAAOlJ,KAAK6L,eAAe,GAAG9I,GAAGlD,EAAEuD,KAAK8F,OAAOlJ,KAAK8L,gBAAgB,GAAG/I,GAAGuC,GAAGxE,EAAE,GAAGiB,EAAEuK,iBAAiBxL,EAAE,GAAGiB,EAAE0J,KAAK,IAAIzL,KAAK+L,wBAAwBjL,EAAE,GAAGiB,EAAE0J,KAAK,GAAG3K,EAAE,GAAGiB,EAAE0J,KAAK,IAAIxI,EAAEnC,EAAEiB,GAAG,MAAMmB,EAAEE,KAAKmJ,MAAMzL,EAAE,IAAI2E,GAAGrC,KAAKmJ,MAAMzL,EAAE,IAAIjB,EAAE2D,EAAExB,IAAID,EAAE4E,OAAO6F,KAAKxK,EAAEyK,MAAM,IAAI1K,EAAE4E,OAAO+F,KAAK1K,EAAEyK,MAAM,IAAIvN,GAAGc,KAAKgM,6BAA6BxI,EAAEpE,GAAG8D,IAAIhE,EAAE6B,EAAEf,KAAK+L,uBAAuBhK,EAAErB,SAAS,EAAEd,EAAEI,KAAK2M,UAAUrG,SAASsG,QAAQ,GAAGxN,EAAE,CAAC,MAAMD,EAAEmG,EAAEvD,EAAE8K,gBAAgBC,OAAO/K,EAAE+K,OAAO9M,KAAK2L,cAAc3L,KAAK+M,cAAchL,EAAEjB,EAAE3B,EAAE4C,EAAEtB,WAAWM,EAAEgC,EAAE1D,EAAE,KAAK,CAAC,IAAIF,EAAEiE,KAAK4J,IAAIvH,EAAE5F,GAAGyD,IAAInE,EAAEiE,KAAK4J,IAAIjL,EAAEuK,iBAAiBnN,GAAGA,EAAEiE,KAAK8F,MAAMnH,EAAEuK,iBAAiBlJ,KAAK6J,KAAKlL,EAAEuK,iBAAiBnN,KAAKa,KAAK2L,cAAc3L,KAAKkN,aAAanL,EAAE5C,EAAE4D,EAAE1D,EAAE,CAAC,IAAI,MAAMF,QAAQa,KAAK2L,eAAe,IAAGpI,EAAAA,EAAAA,IAAElE,GAAG,MAAM0C,EAAE,GAAG,GAAG/B,KAAK2L,cAAc,KAAK3L,KAAKoM,UAAU,OAAOpM,KAAKqG,QAAQlH,EAAE,IAAI,MAAME,KAAKO,EAAET,EAAEgO,SAAS9N,IAAI0C,EAAEqL,KAAK/N,EAAEgO,UAAUC,MAAM,KAAKjO,EAAEkO,SAASlO,EAAE+B,SAAS,KAAK,IAAI,MAAM/B,KAAKF,EAAE4C,EAAEqL,KAAK/N,EAAEmO,gBAAgBC,QAAQC,IAAI3L,EAAE,CAAC,MAAM0C,GAAGzE,KAAK2L,cAAc,MAAK1J,EAAAA,EAAAA,IAAEwC,EAAE,IAAI,KAAKzE,KAAK2N,eAAc5L,EAAAA,EAAAA,KAAGmK,UAAU,MAAM7M,EAAE,GAAG,IAAI,MAAM0C,KAAK/B,KAAK2M,UAAUrG,SAAS,CAAC,IAAIvE,EAAEmE,UAAUnE,EAAE6L,MAAM,OAAOvO,EAAE+N,KAAKjO,EAAE4C,GAAGuL,MAAM,KAAKvL,EAAEL,oBAAoBK,EAAEb,eAAe,IAAI,CAAClB,KAAK2L,eAAc3J,EAAAA,EAAAA,IAAE3C,GAAGiO,MAAM,IAAItN,KAAK2L,cAAc,aAAa3L,KAAK2L,aAAa,GAAG,CAACvK,OAAAA,GAAUpB,KAAKqG,QAAQI,SAAStH,GAAGA,EAAEiC,YAAYpB,KAAKqG,QAAQ,EAAE,CAAC,YAAIwH,GAAW,OAAO7N,KAAKoM,WAAW,OAAOpM,KAAK2L,aAAa,CAAC,aAAMmC,CAAQ3O,EAAEE,EAAE0C,EAAEE,EAAED,EAAEe,GAAG,MAAMO,QAAQtD,KAAK+N,YAAY5O,EAAEiE,KAAKmJ,MAAMlN,EAAE2C,GAAGoB,KAAKmJ,MAAMxK,EAAEC,GAAG,CAACtB,SAASuB,EAAEzB,WAAWwB,EAAE0C,OAAO3B,KAAIQ,EAAAA,EAAAA,IAAER,GAAG,MAAMuC,EAAE,IAAI9B,EAAAA,GAAE,MAAK,GAAI,OAAO8B,EAAExE,EAAE3B,EAAEqN,KAAKlH,EAAEvE,EAAE5B,EAAE6O,KAAK1I,EAAE7E,WAAWtB,EAAEK,MAAMH,EAAEiG,EAAE5E,SAASuB,EAAEqD,EAAE9E,WAAWwB,EAAEsD,EAAEoD,QAAQ,EAAE1I,KAAK2M,UAAUsB,SAAS3I,SAASA,EAAExD,eAAewB,EAAEP,IAAGQ,EAAAA,EAAAA,IAAER,GAAGuC,CAAC,CAAC,mBAAMyH,CAAc5N,EAAEE,EAAE0C,EAAEwB,EAAEtB,EAAED,EAAEe,IDAlnG,SAAW5D,EAAEmE,EAAEC,EAAER,GAAG,MAAMd,EAAED,GAAGsB,GAAGE,EAAEN,GAAGH,EAAEZ,EAAE,GAAGoB,EAASpE,EAAE,GAAG8C,EAAEE,EAAEqB,EAAErE,EAAE,GAAG6C,EAAEG,EAAEe,EAAE/D,EAAE,GAAG8C,EAAEE,EAAEqB,EAAErE,EAAE,GAAG6C,EAAEG,EAAEe,CAAG,CCAihGA,CAAEnC,EAAEgB,EAAEwB,EAAElE,GAAG,MAAMiE,GAAEmC,EAAAA,EAAAA,IAAE1E,EAAE5B,EAAEkN,kBAAkB,MAAM,OAAOrM,KAAK8N,QAAQxK,EAAEjE,EAAE,GAAGA,EAAE,GAAG4C,EAAED,EAAEe,GAAG,CAACmK,YAAAA,CAAa/N,EAAEE,EAAE0C,EAAEwB,GAAG,MAAMtB,EAAEpC,EAAAA,EAAEqO,OAAO,CAACzC,KAAKpM,EAAEgN,iBAAiBlN,EAAEkN,iBAAiB8B,OAAO,CAAChP,EAAEiP,SAASpM,EAAE,IAAI9C,EAAAA,EAAE+C,GAAGc,EAAEf,EAAEqM,gBAAgBlP,GAAG,IAAI4D,EAAE,OAAO,KAAK,MAAMO,EAAE,GAAG,OAAOP,EAAE0D,SAAS,CAACxE,EAAEc,EAAEuC,EAAEnD,KAAKvC,EAAEsH,IAAIjF,EAAEc,EAAEuC,EAAE,GAAGtD,EAAEsM,cAAcvN,EAAEnB,GAAG,MAAMC,GAAE4F,EAAAA,EAAAA,IAAE1E,EAAE5B,EAAEkN,kBAAkB/I,EAAE8J,KAAKpN,KAAK8N,QAAQjO,EAAER,EAAEA,EAAE,EAAE0C,EAAEwB,GAAG+J,MAAMnO,IAAI,IAAIgD,IAAIvC,EAAEsH,IAAIjF,EAAEc,EAAEuC,EAAEnD,GAAGH,EAAEsM,cAAcvN,EAAEnB,GAAGT,EAAE2B,EAAEC,EAAE,GAAG5B,EAAE4B,EAAEA,EAAE,IAAI5B,KAAK,IAAIsO,QAAQC,IAAIpK,EAAE,IAAGnE,EAAAA,EAAAA,GAAE,EAAC4D,EAAAA,EAAAA,OAAK2I,EAAE9D,UAAU,qBAAgB,IAAQzI,EAAAA,EAAAA,GAAE,EAAC4D,EAAAA,EAAAA,OAAK2I,EAAE9D,UAAU,eAAU,IAAQzI,EAAAA,EAAAA,GAAE,EAAC4D,EAAAA,EAAAA,OAAK2I,EAAE9D,UAAU,iBAAY,IAAQzI,EAAAA,EAAAA,GAAE,EAAC4D,EAAAA,EAAAA,OAAK2I,EAAE9D,UAAU,mBAAc,IAAQzI,EAAAA,EAAAA,GAAE,EAAC4D,EAAAA,EAAAA,OAAK2I,EAAE9D,UAAU,aAAQ,IAAQzI,EAAAA,EAAAA,GAAE,EAAC4D,EAAAA,EAAAA,OAAK2I,EAAE9D,UAAU,qBAAgB,IAAQzI,EAAAA,EAAAA,GAAE,EAAC4D,EAAAA,EAAAA,OAAK2I,EAAE9D,UAAU,sBAAiB,IAAQzI,EAAAA,EAAAA,GAAE,EAAC4D,EAAAA,EAAAA,OAAK2I,EAAE9D,UAAU,8BAAyB,IAAQzI,EAAAA,EAAAA,GAAE,EAAC4D,EAAAA,EAAAA,OAAK2I,EAAE9D,UAAU,mCAA8B,IAAQzI,EAAAA,EAAAA,GAAE,EAAC4D,EAAAA,EAAAA,OAAK2I,EAAE9D,UAAU,qBAAgB,IAAQzI,EAAAA,EAAAA,GAAE,EAAC4D,EAAAA,EAAAA,OAAK2I,EAAE9D,UAAU,WAAW,MAAM8D,GAAEvM,EAAAA,EAAAA,GAAE,EAACmE,EAAAA,EAAAA,GAAE,gDAAgDoI,GAAG,MAAMvI,EAAEuI,C,yHCAv+H,MAAM3J,EAAEA,IAAI,IAAIgB,EAAE,cAAchB,EAAEwM,UAAAA,GAAavO,KAAKwO,YAAWjL,EAAAA,EAAAA,KAAG,IAAIvD,KAAKyO,OAAO,WAAWxM,IAAIjC,KAAK0O,UAAUzM,EAAE0M,aAAaC,OAAO3M,KAAID,EAAAA,EAAAA,IAAEC,IAAI5C,EAAAA,EAAEwP,UAAU7O,MAAM8O,MAAM7M,EAAE,GAAG,IAAI,uBAAuB,GAAG,OAAOc,GAAEd,EAAAA,EAAAA,GAAE,EAAC9C,EAAAA,EAAAA,GAAE,2CAA2C4D,GAAGA,CAAC,C","sources":["../node_modules/@arcgis/core/views/2d/engine/Bitmap.js","../node_modules/@arcgis/core/views/2d/engine/BitmapContainer.js","../node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js","../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/bitmapUtils.js","../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/shaders/BitmapShader.js","../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/bitmap/BitmapTechnique.js","../node_modules/@arcgis/core/views/2d/viewStateUtils.js","../node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createResolver as t,onAbortOrThrow as e,throwIfNotAbortError as i}from\"../../../core/promiseUtils.js\";import{identity as s,translate as r,rotate as h,scaleByVec2 as o,multiply as u}from\"../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{fromValues as n}from\"../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{DisplayObject as l}from\"./DisplayObject.js\";import d from\"./ImageryBitmapSource.js\";import{SizedPixelFormat as c,PixelFormat as _,TextureWrapMode as p}from\"../../webgl/enums.js\";import{Texture as m}from\"../../webgl/Texture.js\";import{TextureDescriptor as x}from\"../../webgl/TextureDescriptor.js\";function g(t){return t&&\"render\"in t}function f(t){const e=document.createElement(\"canvas\");return e.width=t.width,e.height=t.height,t.render(e.getContext(\"2d\")),e}function w(t){return g(t)?t instanceof d?t.getRenderedRasterPixels()?.renderedRasterPixels:f(t):t}class S extends l{constructor(t=null,e=!1){super(),this.blendFunction=\"standard\",this._sourceWidth=0,this._sourceHeight=0,this._textureInvalidated=!1,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._texture=null,this._width=void 0,this.x=0,this.y=0,this.immutable=e,this.source=t,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null),null!=this._uploadStatus&&(this._uploadStatus.controller.abort(),this._uploadStatus=null)}get isSourceScaled(){return this.width!==this._sourceWidth||this.height!==this._sourceHeight}get height(){return void 0!==this._height?this._height:this._sourceHeight}set height(t){this._height=t}get source(){return this._source}set source(t){null==t&&null==this._source||(this._source=t,this.invalidateTexture(),this.requestRender())}get texture(){return this._texture}get width(){return void 0!==this._width?this._width:this._sourceWidth}set width(t){this._width=t}beforeRender(t){super.beforeRender(t),this.updateTexture(t)}async setSourceAsync(i,s){null!=this._uploadStatus&&this._uploadStatus.controller.abort();const r=new AbortController,h=t();return e(s,(()=>r.abort())),e(r,(t=>h.reject(t))),this._uploadStatus={controller:r,resolver:h},this.source=i,h.promise}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this._source instanceof HTMLImageElement?(this._sourceHeight=this._source.naturalHeight,this._sourceWidth=this._source.naturalWidth):this._source&&(this._sourceHeight=this._source.height,this._sourceWidth=this._source.width))}transitionStep(t,e){t>=64&&(this.fadeTransitionEnabled=!1),super.transitionStep(t,e)}setTransform(t){const e=s(this.transforms.displayViewScreenMat3),[i,a]=t.toScreenNoRotation([0,0],[this.x,this.y]),l=this.resolution/this.pixelRatio/t.resolution,d=l*this.width,c=l*this.height,_=Math.PI*this.rotation/180;r(e,e,n(i,a)),r(e,e,n(d/2,c/2)),h(e,e,-_),r(e,e,n(-d/2,-c/2)),o(e,e,n(d,c)),u(this.transforms.displayViewScreenMat3,t.displayViewMat3,e)}setSamplingProfile(t){this._texture&&(t.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(t.samplingMode))}bind(t,e){this._texture&&t.bindTexture(this._texture,e)}async updateTexture({context:t,painter:e}){if(!this._textureInvalidated)return;if(this._textureInvalidated=!1,this._texture||(this._texture=this._createTexture(t)),!this.source)return void this._texture.setData(null);this._texture.resize(this._sourceWidth,this._sourceHeight);const s=w(this.source);try{if(null!=this._uploadStatus){const{controller:t,resolver:i}=this._uploadStatus,r={signal:t.signal},{width:h,height:o}=this,u=this._texture,a=e.textureUploadManager;await a.enqueueTextureUpdate({data:s,texture:u,width:h,height:o},r),i.resolve(),this._uploadStatus=null}else this._texture.setData(s);this.ready()}catch(r){i(r)}}onDetach(){this.destroy()}_createTransforms(){return{displayViewScreenMat3:a()}}_createTexture(t){const e=this.immutable,i=new x;return i.internalFormat=e?c.RGBA8:_.RGBA,i.wrapMode=p.CLAMP_TO_EDGE,i.isImmutable=e,i.width=this._sourceWidth,i.height=this._sourceHeight,new m(t,i)}}export{S as Bitmap,g as isImageSource,f as rasterize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"./webgl/enums.js\";import i from\"./webgl/WGLContainer.js\";import{BitmapTechnique as s}from\"./webgl/shaderGraph/techniques/bitmap/BitmapTechnique.js\";class r extends i{constructor(){super(...arguments),this._hasCrossfade=!1,this._bitmapTechnique=null}get requiresDedicatedFBO(){return super.requiresDedicatedFBO||this._hasCrossfade}beforeRender(e){super.beforeRender(e),this._manageFade()}onAttach(){super.onAttach(),this._bitmapTechnique=new s}onDetach(){super.onDetach(),this._bitmapTechnique?.shutdown(),this._bitmapTechnique=null}renderChildren(i){super.renderChildren(i),this.visible&&i.drawPhase===e.MAP&&null!=this._bitmapTechnique&&this._bitmapTechnique.render(i,{bitmaps:this.children})}_manageFade(){this.children.reduce(((e,i)=>e+(i.inFadeTransition?1:0)),0)>=2?(this.children.forEach((e=>e.blendFunction=\"additive\")),this._hasCrossfade=!0):(this.children.forEach((e=>e.blendFunction=\"standard\")),this._hasCrossfade=!1)}}export{r as BitmapContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass l{constructor(l,e,t){this.pixelBlock=l,this.extent=e,this.originalPixelBlock=t}get width(){return null!=this.pixelBlock?this.pixelBlock.width:0}get height(){return null!=this.pixelBlock?this.pixelBlock.height:0}render(l){const e=this.pixelBlock;if(null==e)return;const t=this.filter({extent:this.extent,pixelBlock:this.originalPixelBlock??e});if(null==t.pixelBlock)return;t.pixelBlock.maskIsAlpha&&(t.pixelBlock.premultiplyAlpha=!0);const i=t.pixelBlock.getAsRGBA(),h=l.createImageData(t.pixelBlock.width,t.pixelBlock.height);h.data.set(i),l.putImageData(h,0,0)}getRenderedRasterPixels(){const l=this.filter({extent:this.extent,pixelBlock:this.pixelBlock});return null==l.pixelBlock?null:(l.pixelBlock.maskIsAlpha&&(l.pixelBlock.premultiplyAlpha=!0),{width:l.pixelBlock.width,height:l.pixelBlock.height,renderedRasterPixels:new Uint8Array(l.pixelBlock.getAsRGBA().buffer)})}}export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Vec2 as t,Float as l,fract as u,texture2D as d,mix as i,Vec4 as y}from\"../../graph/glsl.js\";function n(t){const u=new l(1/6),d=t.multiply(t),i=d.multiply(t),n=u.multiply(i.multiply(-1).add(new l(3).multiply(d)).subtract(new l(3).multiply(t)).add(1)),p=u.multiply(i.multiply(3).subtract(d.multiply(6)).add(4)),m=u.multiply(i.multiply(-3).add(d.multiply(3)).add(t.multiply(3)).add(1)),a=u.multiply(i);return new y(n,p,m,a)}function p(t){const u=n(t),d=u.x.add(u.y),i=u.z.add(u.w),p=new l(1).subtract(u.y.divide(d)).add(t),m=new l(1).add(u.w.divide(i)).subtract(t);return new y(p,m,d,i)}function m(y,n,m){const a=new t(new l(1).divide(m.x),0),e=new t(0,new l(1).divide(m.y)),r=n.multiply(m).subtract(.5),c=p(u(r).x).xyz,s=p(u(r).y).xyz;let w=n.add(c.x.multiply(a)),o=n.subtract(c.y.multiply(a));const x=w.add(s.x.multiply(e)),b=o.add(s.x.multiply(e));w=w.subtract(s.y.multiply(e)),o=o.subtract(s.y.multiply(e));let z=d(y,o),f=d(y,w);const v=d(y,b),g=d(y,x);return z=i(z,v,s.z),f=i(f,g,s.z),z=i(z,f,c.z),z}export{m as sampleBicubicBSpline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o,a as t}from\"../../../../../../../chunks/tslib.es6.js\";import{location as i,uniform as e,GraphShaderModule as r,define as s,VertexInput as p,UniformGroup as c,FragmentOutput as n,input as l,FragmentInput as a}from\"../../GraphShaderModule.js\";import{Vec3 as d,Vec4 as y,texture2D as f,Vec2 as g,Sampler2D as m,Mat3 as u,Float as x}from\"../../graph/glsl.js\";import{sampleBicubicBSpline as h}from\"./bitmapUtils.js\";class v extends p{}o([i(0,g)],v.prototype,\"position\",void 0);class b extends a{}class j extends c{}o([e(m)],j.prototype,\"texture\",void 0),o([e(u)],j.prototype,\"dvsMat3\",void 0),o([e(g)],j.prototype,\"coordScale\",void 0),o([e(x)],j.prototype,\"opacity\",void 0);class w extends r{vertex(o){const t=this.config.dvsMat3.multiply(new d(o.position.multiply(this.config.coordScale),1));return{glPosition:new y(t,1),texcoord:o.position}}fragment(o){const t=new n;let i;return i=this.bicubic?h(this.config.texture,o.texcoord,this.config.coordScale):f(this.config.texture,o.texcoord),t.fragColor=new y(i.rgb.multiply(this.config.opacity),i.a.multiply(this.config.opacity)),t}}o([e(j)],w.prototype,\"config\",void 0),o([s],w.prototype,\"bicubic\",void 0),o([t(0,l(v))],w.prototype,\"vertex\",null),o([t(0,l(b))],w.prototype,\"fragment\",null);export{w as BitmapShader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{textureBindingBitmap as e}from\"../../../definitions.js\";import{Technique as i}from\"../Technique.js\";import{TechniqueType as t}from\"../TechniqueType.js\";import{BitmapShader as s}from\"../shaders/BitmapShader.js\";import{TextureSamplingMode as o,CompareFunction as n,StencilOperation as r}from\"../../../../../../webgl/enums.js\";const a={nearest:{samplingMode:o.NEAREST,mips:!1},bilinear:{samplingMode:o.LINEAR,mips:!1},bicubic:{samplingMode:o.LINEAR,mips:!1},trilinear:{samplingMode:o.LINEAR_MIPMAP_LINEAR,mips:!0}},m=(e,i,t)=>{if(\"dynamic\"===t.samplingMode){const{state:t}=e,s=i.resolution/i.pixelRatio/t.resolution,o=Math.round(e.pixelRatio)!==e.pixelRatio,n=s>1.05||s<.95;return t.rotation||n||o||i.isSourceScaled||i.rotation?a.bilinear:a.nearest}return a[t.samplingMode]};class p extends i{constructor(){super(...arguments),this.name=\"BrushBitmap\",this.type=t.Bitmap,this.shaders={bitmap:new s}}render(i,t){const{context:s,renderingOptions:o,painter:p}=i;for(const c of t.bitmaps){const t=c.texture;if(!c.source||!c.isReady||null==t)continue;const l=m(i,c,o);i.timeline.begin(this.name),p.setPipelineState({depth:!1,stencil:{test:{mask:255,ref:c.stencilRef,compare:n.EQUAL,op:{fail:r.KEEP,zFail:r.KEEP,zPass:r.KEEP}},write:!1},color:{write:[!0,!0,!0,!0],blendMode:\"additive\"===c.blendFunction?\"additive\":\"composite\"}}),c.setSamplingProfile(l);const{coordScale:d,computedOpacity:u,transforms:f}=c,h={texture:{texture:t,unit:e},dvsMat3:f.displayViewScreenMat3,coordScale:d,opacity:u};p.submitDrawMesh(s,{shader:this.shaders.bitmap,uniforms:{config:h},defines:{bicubic:l===a.bicubic},optionalAttributes:null,useComputeBuffer:!1},p.quadMesh),i.timeline.end(this.name)}}}export{p as BitmapTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst t=Math.PI/180;function n(n){return n*t}function o(t,o){const a=n(o.rotation),r=Math.abs(Math.cos(a)),s=Math.abs(Math.sin(a)),[u,c]=o.size;return t[0]=Math.round(c*s+u*r),t[1]=Math.round(c*r+u*s),t}function a(t,n,o,a){const[r,s]=n,[u,c]=a,h=.5*o;return t[0]=r-h*u,t[1]=s-h*c,t[2]=r+h*u,t[3]=s+h*c,t}export{a as getBBox,o as getOuterSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import\"../../../../core/has.js\";import{debounce as i,throwIfAborted as o,throwIfAbortError as r,eachAlways as s}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as p,toExtent as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{getInfo as h}from\"../../../../geometry/support/spatialReferenceUtils.js\";import l from\"../../../../layers/support/TileInfo.js\";import{getOuterSize as d,getBBox as c}from\"../../viewStateUtils.js\";import{Bitmap as u}from\"../../engine/Bitmap.js\";import g from\"../../tiling/TileInfoView.js\";import f from\"../../tiling/TileKey.js\";const y=p(),x=[0,0],S=new f(0,0,0,0),w={container:null,fetchSource:null,requestUpdate:null,imageMaxWidth:2048,imageMaxHeight:2048,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1};let M=class extends e{constructor(t){super(t),this._imagePromise=null,this.bitmaps=[],this.hidpi=w.hidpi,this.imageMaxWidth=w.imageMaxWidth,this.imageMaxHeight=w.imageMaxHeight,this.imageRotationSupported=w.imageRotationSupported,this.imageNormalizationSupported=w.imageNormalizationSupported,this.update=i((async(t,e)=>{if(o(e),!t.stationary||this.destroyed)return;const i=t.state,s=h(i.spatialReference),a=this.hidpi?t.pixelRatio:1,n=i.worldScreenWidth>0,p=n&&this.imageNormalizationSupported&&i.worldScreenWidth<i.size[0],m=Math.round((this.imageMaxWidth??0)/a),l=Math.round((this.imageMaxHeight??0)/a);p?(x[0]=i.worldScreenWidth,x[1]=i.size[1]):this.imageRotationSupported?(x[0]=i.size[0],x[1]=i.size[1]):d(x,i);const c=Math.floor(x[0])>m||Math.floor(x[1])>l,u=s&&(i.extent.xmin<s.valid[0]||i.extent.xmax>s.valid[1]),g=!this.imageNormalizationSupported&&u,f=!c&&!g,y=this.imageRotationSupported?i.rotation:0,S=this.container.children.slice();if(f){const t=p?i.paddedViewState.center:i.center;this._imagePromise=this._singleExport(i,x,t,i.resolution,y,a,e)}else{let t=Math.min(m,l);n&&(t=Math.min(i.worldScreenWidth,t),t=Math.round(i.worldScreenWidth/Math.ceil(i.worldScreenWidth/t))),this._imagePromise=this._tiledExport(i,t,a,e)}try{const t=await this._imagePromise??[];o(e);const i=[];if(this._imagePromise=null,this.destroyed)return;this.bitmaps=t;for(const e of S)t.includes(e)||i.push(e.fadeOut().then((()=>{e.remove(),e.destroy()})));for(const e of t)i.push(e.fadeIn());await Promise.all(i)}catch(w){this._imagePromise=null,r(w)}}),5e3),this.updateExports=i((async t=>{const e=[];for(const i of this.container.children){if(!i.visible||!i.stage)return;e.push(t(i).then((()=>{i.invalidateTexture(),i.requestRender()})))}this._imagePromise=s(e).then((()=>this._imagePromise=null)),await this._imagePromise}))}destroy(){this.bitmaps.forEach((t=>t.destroy())),this.bitmaps=[]}get updating(){return!this.destroyed&&null!==this._imagePromise}async _export(t,e,i,r,s,a){const n=await this.fetchSource(t,Math.floor(e*s),Math.floor(i*s),{rotation:r,pixelRatio:s,signal:a});o(a);const p=new u(null,!0);return p.x=t.xmin,p.y=t.ymax,p.resolution=t.width/e,p.rotation=r,p.pixelRatio=s,p.opacity=0,this.container.addChild(p),await p.setSourceAsync(n,a),o(a),p}async _singleExport(t,e,i,o,r,s,a){c(y,i,o,e);const n=m(y,t.spatialReference);return[await this._export(n,e[0],e[1],r,s,a)]}_tiledExport(t,e,i,o){const r=l.create({size:e,spatialReference:t.spatialReference,scales:[t.scale]}),s=new g(r),a=s.getTileCoverage(t);if(!a)return null;const n=[];return a.forEach(((r,a,p,h)=>{S.set(r,a,p,0),s.getTileBounds(y,S);const l=m(y,t.spatialReference);n.push(this._export(l,e,e,0,i,o).then((t=>(0!==h&&(S.set(r,a,p,h),s.getTileBounds(y,S),t.x=y[0],t.y=y[3]),t))))})),Promise.all(n)}};t([a()],M.prototype,\"_imagePromise\",void 0),t([a()],M.prototype,\"bitmaps\",void 0),t([a()],M.prototype,\"container\",void 0),t([a()],M.prototype,\"fetchSource\",void 0),t([a()],M.prototype,\"hidpi\",void 0),t([a()],M.prototype,\"imageMaxWidth\",void 0),t([a()],M.prototype,\"imageMaxHeight\",void 0),t([a()],M.prototype,\"imageRotationSupported\",void 0),t([a()],M.prototype,\"imageNormalizationSupported\",void 0),t([a()],M.prototype,\"requestUpdate\",void 0),t([a()],M.prototype,\"updating\",null),M=t([n(\"esri.views.2d.layers.support.ExportStrategy\")],M);const _=M;export{_ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.views.layers.RefreshableLayerView\")],a),a};export{i as default};\n"],"names":["g","t","f","e","document","createElement","width","height","render","getContext","S","l","constructor","super","this","blendFunction","_sourceWidth","_sourceHeight","_textureInvalidated","stencilRef","coordScale","_height","pixelRatio","resolution","rotation","_source","_texture","_width","x","y","immutable","source","requestRender","bind","destroy","dispose","_uploadStatus","controller","abort","isSourceScaled","invalidateTexture","texture","beforeRender","updateTexture","setSourceAsync","i","s","r","AbortController","h","reject","resolver","promise","HTMLImageElement","naturalHeight","naturalWidth","transitionStep","fadeTransitionEnabled","setTransform","transforms","displayViewScreenMat3","a","toScreenNoRotation","d","c","_","Math","PI","n","o","u","displayViewMat3","setSamplingProfile","mips","descriptor","hasMipmap","generateMipmap","setSamplingMode","samplingMode","bindTexture","context","painter","_createTexture","setData","resize","getRenderedRasterPixels","renderedRasterPixels","w","signal","textureUploadManager","enqueueTextureUpdate","data","resolve","ready","onDetach","_createTransforms","internalFormat","RGBA8","RGBA","wrapMode","p","CLAMP_TO_EDGE","isImmutable","m","arguments","_hasCrossfade","_bitmapTechnique","requiresDedicatedFBO","_manageFade","onAttach","shutdown","renderChildren","visible","drawPhase","MAP","bitmaps","children","reduce","inFadeTransition","forEach","pixelBlock","extent","originalPixelBlock","filter","maskIsAlpha","premultiplyAlpha","getAsRGBA","createImageData","set","putImageData","Uint8Array","buffer","multiply","add","subtract","z","divide","v","prototype","b","j","vertex","config","dvsMat3","position","glPosition","texcoord","fragment","bicubic","xyz","fragColor","rgb","opacity","nearest","NEAREST","bilinear","LINEAR","trilinear","LINEAR_MIPMAP_LINEAR","state","round","name","type","Bitmap","shaders","bitmap","renderingOptions","isReady","timeline","begin","setPipelineState","depth","stencil","test","mask","ref","compare","EQUAL","op","fail","KEEP","zFail","zPass","write","color","blendMode","computedOpacity","unit","submitDrawMesh","shader","uniforms","defines","optionalAttributes","useComputeBuffer","quadMesh","end","abs","cos","sin","size","M","_imagePromise","hidpi","imageMaxWidth","imageMaxHeight","imageRotationSupported","imageNormalizationSupported","update","async","stationary","destroyed","spatialReference","worldScreenWidth","floor","xmin","valid","xmax","container","slice","paddedViewState","center","_singleExport","min","ceil","_tiledExport","includes","push","fadeOut","then","remove","fadeIn","Promise","all","updateExports","stage","updating","_export","fetchSource","ymax","addChild","create","scales","scale","getTileCoverage","getTileBounds","initialize","addHandles","layer","doRefresh","dataChanged","catch","getLogger","error"],"sourceRoot":""}