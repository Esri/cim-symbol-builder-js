"use strict";(globalThis.webpackChunkmy_app=globalThis.webpackChunkmy_app||[]).push([[39483],{39483:(e,r,t)=>{t.r(r),t.d(r,{getGeometryServiceURL:()=>l,projectGeometry:()=>c});var o=t(86560),i=t(50076),n=t(65308),a=t(71334),s=t(70414);async function l(e=null,r){if(o.A.geometryServiceUrl)return o.A.geometryServiceUrl;if(!e)throw new i.A("internal:geometry-service-url-not-configured","No geometryServiceUrl in configuration");let t;t="portal"in e?e.portal||n.A.getDefault():e,await t.load({signal:r});const a=t.helperServices?.geometry?.url;if(!a)throw new i.A("internal:geometry-service-url-not-configured","No geometryServiceUrl in configuration");return a}async function c(e,r,t=null,o){const n=await l(t,o),c=new s.A({geometries:[e],outSpatialReference:r}),u=await(0,a.C)(n,c,{signal:o});if(u&&Array.isArray(u)&&1===u.length)return u[0];throw new i.A("internal:geometry-service-projection-failed","Geometry projection failed on service")}},71334:(e,r,t)=>{t.d(r,{C:()=>u});var o=t(3825),i=t(40565),n=t(19902),a=t(54994),s=t(71838),l=t(70414);const c=(0,i.dp)(l.A);async function u(e,r,t){r=c(r);const i=(0,a.Dl)(e),l={...i.query,f:"json",...r.toJSON()},u=r.outSpatialReference,m=(0,n.$B)(r.geometries[0]),p=(0,a.jV)(l,t);return(0,o.A)(i.path+"/project",p).then((({data:{geometries:e}})=>(0,s.V)(e,m,u)))}},70414:(e,r,t)=>{t.d(r,{A:()=>u});var o=t(35143),i=t(42553),n=t(46053),a=(t(81806),t(76460),t(47249),t(85842)),s=t(13312),l=t(19902),c=t(80963);let u=class extends i.A{constructor(e){super(e),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map((e=>e.toJSON())),r=this.geometries[0],t={};return t.outSR=(0,c.YX)(this.outSpatialReference),t.inSR=(0,c.YX)(r.spatialReference),t.geometries=JSON.stringify({geometryType:(0,l.$B)(r),geometries:e}),this.transformation&&(t.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(t.transformForward=this.transformForward),t}};(0,o._)([(0,n.MZ)()],u.prototype,"geometries",void 0),(0,o._)([(0,n.MZ)({type:s.A,json:{read:{source:"outSR"}}})],u.prototype,"outSpatialReference",void 0),(0,o._)([(0,n.MZ)()],u.prototype,"transformation",void 0),(0,o._)([(0,n.MZ)()],u.prototype,"transformForward",void 0),u=(0,o._)([(0,a.$)("esri.rest.support.ProjectParameters")],u)}}]);
//# sourceMappingURL=39483.f5a85f2f.chunk.js.map