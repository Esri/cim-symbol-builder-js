/*! For license information please see 18779.dcbf38de.chunk.js.LICENSE.txt */
"use strict";(globalThis.webpackChunkmy_app=globalThis.webpackChunkmy_app||[]).push([[18779],{84243:(e,t,i)=>{i.d(t,{a:()=>r,c:()=>l,d:()=>o,g:()=>n,r:()=>s});const l=(e,t,i)=>Math.max(t,Math.min(e,i)),a=new RegExp(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/),o=e=>{const t=(""+e).match(a);return t&&0!==parseInt(t[1])?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0};function n(e){return o(e)>0&&e>0?parseFloat(`0.${e.toString().split(".")[1]}`):e}function s(e,t,i,l,a){return(e-t)*(a-l)/(i-t)+l}function r(e,t,i){return e<i?-1:e>t-i?1:0}},18779:(e,t,i)=>{i.r(t),i.d(t,{ColorPicker:()=>y});var l=i(30697),a=i(80526),o=i(35120),n=i(49469),s=i(81085),r=i(79887),c=i(27698),h=i(51132),d=i(50965),p=i(929),u=i(19457),C=i(98246),m=i(84243),v=i(88267),g=i(13922),f=i(78598);const b=i(94161).AH`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal);inline-size:var(--calcite-internal-color-picker-min-width);min-inline-size:var(--calcite-internal-color-picker-min-width)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){--calcite-internal-color-picker-min-width: 200px;--calcite-color-picker-spacing: 8px}:host([scale=s]) .saved-colors{gap:.25rem;grid-template-columns:repeat(auto-fill,20px)}:host([scale=m]){--calcite-internal-color-picker-min-width: 240px;--calcite-color-picker-spacing: 12px}:host([scale=l]){--calcite-internal-color-picker-min-width: 304px;--calcite-color-picker-spacing: 16px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill,32px)}:host([scale=l]) .control-section{display:flex;flex-direction:column;flex-wrap:wrap;align-items:baseline}:host([scale=l]) .color-hex-options{inline-size:100%;display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{background-color:var(--calcite-color-foreground-1);display:flex;flex-direction:column;block-size:min-content;border:1px solid var(--calcite-color-border-1)}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.color-field,.control-and-scope{-webkit-user-select:none;user-select:none}.scope{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);block-size:1px;inline-size:1px;border-radius:9999px;background-color:transparent;font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))));outline-offset:6px}.hex-and-channels-group{display:flex;inline-size:100%;flex-direction:column;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing);gap:var(--calcite-spacing-xxs)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-color-text-1)}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex}.channel{flex-grow:1}.channel[data-channel-index="3"]{margin-inline-start:-1px;min-inline-size:81px}:host([scale=s]) .channel[data-channel-index="3"]{min-inline-size:68px}:host([scale=l]) .channel[data-channel-index="3"]{min-inline-size:88px}.saved-colors{display:grid;gap:.5rem;padding-block-start:var(--calcite-color-picker-spacing);grid-template-columns:repeat(auto-fill,24px)}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-color-border-2);outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}`;class y extends h.WF{constructor(){super(),this._color=f.D,this.internalColorUpdateContext=null,this.isActiveChannelInputEmpty=!1,this.mode=f.C.HEX,this.resizeObserver=(0,g.c)("resize",(e=>this.resizeCanvas(e))),this.shiftKeyChannelAdjustment=0,this.upOrDownArrowKeyTracker=null,this._valueWasSet=!1,this.messages=(0,v.u)({blocking:!0}),this.captureColorFieldColor=(e,t,i=!0)=>{const{width:l,height:a}=this.dynamicDimensions.colorField,o=Math.round(f.H.s/l*e),n=Math.round(f.H.v/a*(a-t));this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(o).value(n),i)},this.drawColorControls=(0,r.A)(((e="all")=>{"all"!==e&&"color-field"!==e||!this.colorFieldRenderingContext||this.drawColorField(),"all"!==e&&"hue-slider"!==e||!this.hueSliderRenderingContext||this.drawHueSlider(),this.alphaChannel&&("all"===e||"opacity-slider"===e)&&this.opacitySliderRenderingContext&&this.drawOpacitySlider()}),16),this.globalPointerMoveHandler=e=>{const{activeCanvasInfo:t,el:i}=this;if(!i.isConnected||!t)return;const{context:l,bounds:a}=t;let o,n;const{clientX:s,clientY:r}=e;l.canvas.matches(":hover")?(o=s-a.x,n=r-a.y):(o=s<a.x+a.width&&s>a.x?s-a.x:s<a.x?0:a.width,n=r<a.y+a.height&&r>a.y?r-a.y:r<a.y?0:a.height),l===this.colorFieldRenderingContext?this.captureColorFieldColor(o,n,!1):l===this.hueSliderRenderingContext?this.captureHueSliderColor(o):l===this.opacitySliderRenderingContext&&this.captureOpacitySliderValue(o)},this.globalPointerUpHandler=e=>{if(!(0,d.i)(e))return;const t=this.activeCanvasInfo;this.activeCanvasInfo=null,this.drawColorControls(),t&&this.calciteColorPickerChange.emit()},this.resizeCanvas=(0,r.A)((e=>{if(!this.hasUpdated)return;const[t]=e,i=Math.floor(t.contentBoxSize[0].inlineSize);this.dynamicDimensions.colorField.width!==i&&(this.updateDynamicDimensions(i),this.updateCanvasSize(),this.drawColorControls())}),16),this.updateDynamicDimensions=e=>{const t={width:(0,f.g)(e,this.staticDimensions,this.alphaChannel),height:this.staticDimensions.slider.height};this.dynamicDimensions={colorField:(0,f.e)(e),slider:t}},this.channelMode="rgb",this.channels=this.toChannels(f.D),this.staticDimensions=f.S.m,this.savedColors=[],this.allowEmpty=!1,this.alphaChannel=!1,this.channelsDisabled=!1,this.clearable=!1,this.disabled=!1,this.format="auto",this.hexDisabled=!1,this.savedDisabled=!1,this.scale="m",this.calciteColorPickerChange=(0,h.lh)({cancelable:!1}),this.calciteColorPickerInput=(0,h.lh)({cancelable:!1}),this.listen("keydown",this.handleChannelKeyUpOrDown,{capture:!0}),this.listen("keyup",this.handleChannelKeyUpOrDown,{capture:!0})}static{this.properties={channelMode:[16,{},{state:!0}],channels:[16,{},{state:!0}],colorFieldScopeLeft:[16,{},{state:!0}],colorFieldScopeTop:[16,{},{state:!0}],staticDimensions:[16,{},{state:!0}],hueScopeLeft:[16,{},{state:!0}],opacityScopeLeft:[16,{},{state:!0}],savedColors:[16,{},{state:!0}],scopeOrientation:[16,{},{state:!0}],allowEmpty:[7,{},{reflect:!0,type:Boolean}],alphaChannel:[5,{},{type:Boolean}],channelsDisabled:[5,{},{type:Boolean}],clearable:[7,{},{reflect:!0,type:Boolean}],color:[0,{},{attribute:!1}],disabled:[7,{},{reflect:!0,type:Boolean}],format:[3,{},{reflect:!0}],hexDisabled:[5,{},{type:Boolean}],messageOverrides:[0,{},{attribute:!1}],numberingSystem:[3,{},{reflect:!0}],savedDisabled:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],storageId:[3,{},{reflect:!0}],value:1}}static{this.styles=b}get color(){return this._color}set color(e){const t=this._color;this._color=e,this.handleColorChange(e,t)}get value(){return this._value}set value(e){const t=this._value;this._value=e,this.handleValueChange(e,t),this._valueWasSet=!0}async setFocus(){await(0,C.c)(this),(0,d.h)(this.el)}connectedCallback(){super.connectedCallback(),this.observeResize()}async load(){this._valueWasSet||(this._value??=(0,f.n)((0,f.h)(f.D,this.alphaChannel))),this.handleAllowEmptyOrClearableChange();const{isClearable:e,color:t,format:i,value:l}=this,a=e&&!l,o=(0,f.p)(l),n=a||"auto"===i&&o||i===o,r=a?null:n?(0,s.A)(l):t;n||this.showIncompatibleColorWarning(l,i),this.setMode(i,!1),this.internalColorSet(r,!1,"initial"),this.updateStaticDimensions(this.scale),this.updateDynamicDimensions(f.S[this.scale].minWidth);const c=`${f.f}${this.storageId}`;this.storageId&&localStorage.getItem(c)&&(this.savedColors=JSON.parse(localStorage.getItem(c)))}willUpdate(e){(e.has("allowEmpty")&&(this.hasUpdated||!1!==this.allowEmpty)||e.has("clearable")&&(this.hasUpdated||!1!==this.clearable))&&this.handleAllowEmptyOrClearableChange(),e.has("alphaChannel")&&(this.hasUpdated||!1!==this.alphaChannel)&&this.handleAlphaChannelChange(this.alphaChannel),this.hasUpdated&&(e.has("alphaChannel")&&!1!==this.alphaChannel||e.has("staticDimensions")&&this.staticDimensions!==f.S.m)&&this.handleAlphaChannelDimensionsChange(),(e.has("alphaChannel")&&(this.hasUpdated||!1!==this.alphaChannel)||e.has("format")&&(this.hasUpdated||"auto"!==this.format))&&this.handleFormatOrAlphaChannelChange(),e.has("scale")&&(this.hasUpdated||"m"!==this.scale)&&this.handleScaleChange(this.scale)}updated(){(0,p.u)(this)}loaded(){this.handleAlphaChannelDimensionsChange()}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("pointermove",this.globalPointerMoveHandler),window.removeEventListener("pointerup",this.globalPointerUpHandler),this.resizeObserver?.disconnect()}get baseColorFieldColor(){return this.color||this.previousColor||f.D}get effectiveSliderWidth(){return this.dynamicDimensions.slider.width}observeResize(){this.resizeObserver?.observe(this.el)}handleAllowEmptyOrClearableChange(){this.isClearable=this.clearable||this.allowEmpty}handleAlphaChannelChange(e){const{format:t}=this;e&&"auto"!==t&&!(0,f.j)(t)&&(console.warn(`ignoring alphaChannel as the current format (${t}) does not support alpha`),this.alphaChannel=!1)}handleAlphaChannelDimensionsChange(){this.drawColorControls()}handleColorChange(e,t){this.drawColorControls(),this.updateChannelsFromColor(e),this.previousColor=t}handleFormatOrAlphaChannelChange(){this.setMode(this.format),this.internalColorSet(this.color,!1,"internal")}handleScaleChange(e="m"){this.updateStaticDimensions(e),this.updateCanvasSize(),this.drawColorControls()}handleValueChange(e,t){const{isClearable:i,format:l}=this;let a=!1;if(!i||e){const i=(0,f.p)(e);if(!i||"auto"!==l&&i!==l)return this.showIncompatibleColorWarning(e,l),void(this._value=t);a=this.mode!==i,this.setMode(i,null===this.internalColorUpdateContext)}const o=this.activeCanvasInfo;if("initial"===this.internalColorUpdateContext)return;if("user-interaction"===this.internalColorUpdateContext)return this.calciteColorPickerInput.emit(),void(o||this.calciteColorPickerChange.emit());const n=i&&!e?null:(0,s.A)(null!=e&&"object"===typeof e&&(0,f.j)(this.mode)?(0,f.k)(e):e),r=!(0,f.l)(n,this.color);(a||r)&&this.internalColorSet(n,this.alphaChannel&&!(this.mode.endsWith("a")||this.mode.endsWith("a-css"))||"internal"===this.internalColorUpdateContext,"internal")}handleTabActivate(e){this.channelMode=e.currentTarget.getAttribute("data-color-mode"),this.updateChannelsFromColor(this.color)}handleColorFieldScopeKeyDown(e){const{key:t}=e,i={ArrowUp:{x:0,y:-10},ArrowRight:{x:10,y:0},ArrowDown:{x:0,y:10},ArrowLeft:{x:-10,y:0}};i[t]&&(e.preventDefault(),this.scopeOrientation="ArrowDown"===t||"ArrowUp"===t?"vertical":"horizontal",this.captureColorFieldColor(this.colorFieldScopeLeft+i[t].x||0,this.colorFieldScopeTop+i[t].y||0,!1))}handleHueScopeKeyDown(e){const t=e.shiftKey?10:1,{key:i}=e,l={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(l[i]){e.preventDefault();const a=l[i]*t,o=this.baseColorFieldColor.hue(),n=this.baseColorFieldColor.hue(o+a);this.internalColorSet(n,!1)}}handleHexInputChange(e){e.stopPropagation();const{isClearable:t,color:i}=this,l=e.target.value;if(t&&!l)return void this.internalColorSet(null);l!==(i&&(0,f.n)((0,f.h)(i,(0,f.j)(this.mode))))&&this.internalColorSet((0,s.A)(l))}handleSavedColorSelect(e){const t=e.currentTarget;this.internalColorSet((0,s.A)(t.color))}handleChannelInput(e){const t=e.currentTarget,i=Number(t.getAttribute("data-channel-index")),l=3===i?f.O.max:"rgb"===this.channelMode?f.R[Object.keys(f.R)[i]]:f.H[Object.keys(f.H)[i]];let a;if(t.value){const e=Number(t.value)+this.shiftKeyChannelAdjustment;a=(0,m.c)(e,0,l).toString()}else a="",this.isActiveChannelInputEmpty=!0,this.upOrDownArrowKeyTracker=null;t.value=a,(""!==a&&0!==this.shiftKeyChannelAdjustment||""!==a)&&this.handleChannelChange(e)}handleChannelBlur(e){const t=e.currentTarget,i=Number(t.getAttribute("data-channel-index")),l=[...this.channels];!t.value&&!this.isClearable&&(t.value=l[i]?.toString())}handleChannelFocus(e){e.currentTarget.selectText()}handleChannelKeyUpOrDown(e){this.shiftKeyChannelAdjustment=0;const{key:t}=e;if("ArrowUp"!==t&&"ArrowDown"!==t||!e.composedPath().some((e=>e.classList?.contains(f.m.channel))))return;const{shiftKey:i}=e;if(e.preventDefault(),!this.color)return this.internalColorSet(this.previousColor),void e.stopPropagation();this.shiftKeyChannelAdjustment="ArrowUp"===t&&i?9:"ArrowDown"===t&&i?-9:0,"ArrowUp"===t&&(this.upOrDownArrowKeyTracker="up"),"ArrowDown"===t&&(this.upOrDownArrowKeyTracker="down")}getChannelInputLimit(e){return"rgb"===this.channelMode?f.R[Object.keys(f.R)[e]]:f.H[Object.keys(f.H)[e]]}handleChannelChange(e){const t=e.currentTarget,i=Number(t.getAttribute("data-channel-index")),l=[...this.channels];if(this.isClearable&&!t.value)return this.channels=[null,null,null,null],void this.internalColorSet(null);const a=3===i;this.isActiveChannelInputEmpty&&this.upOrDownArrowKeyTracker&&(t.value="up"===this.upOrDownArrowKeyTracker?(l[i]+1<=this.getChannelInputLimit(i)?l[i]+1:this.getChannelInputLimit(i)).toString():(l[i]-1>=0?l[i]-1:0).toString(),this.isActiveChannelInputEmpty=!1,this.upOrDownArrowKeyTracker=null);const o=t.value?Number(t.value):l[i];l[i]=a?(0,f.o)(o):o,this.updateColorFromChannels(l)}handleSavedColorKeyDown(e){(0,u.i)(e.key)&&(e.preventDefault(),this.handleSavedColorSelect(e))}handleColorFieldPointerDown(e){this.handleCanvasControlPointerDown(e,this.colorFieldRenderingContext,this.captureColorFieldColor,this.colorFieldScopeNode)}focusScope(e){requestAnimationFrame((()=>{e.focus()}))}handleHueSliderPointerDown(e){this.handleCanvasControlPointerDown(e,this.hueSliderRenderingContext,this.captureHueSliderColor,this.hueScopeNode)}handleOpacitySliderPointerDown(e){this.handleCanvasControlPointerDown(e,this.opacitySliderRenderingContext,this.captureOpacitySliderValue,this.opacityScopeNode)}handleCanvasControlPointerDown(e,t,i,l){(0,d.i)(e)&&(window.addEventListener("pointermove",this.globalPointerMoveHandler),window.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:t,bounds:t.canvas.getBoundingClientRect()},i.call(this,e.offsetX,e.offsetY),this.focusScope(l))}storeColorFieldScope(e){this.colorFieldScopeNode=e}storeHueScope(e){this.hueScopeNode=e}handleKeyDown(e){"Enter"===e.key&&e.preventDefault()}showIncompatibleColorWarning(e,t){console.warn(`ignoring color value (${e}) as it is not compatible with the current format (${t})`)}setMode(e,t=!0){const i="auto"===e?this.mode:e;this.mode=this.ensureCompatibleMode(i,t)}ensureCompatibleMode(e,t){const{alphaChannel:i}=this,l=(0,f.j)(e);if(i&&!l){const i=(0,f.t)(e);return t&&console.warn(`setting format to (${i}) as the provided one (${e}) does not support alpha`),i}if(!i&&l){const i=(0,f.q)(e);return t&&console.warn(`setting format to (${i}) as the provided one (${e}) does not support alpha`),i}return e}captureHueSliderColor(e){const t=f.s/this.effectiveSliderWidth*e;this.internalColorSet(this.baseColorFieldColor.hue(t),!1)}captureOpacitySliderValue(e){const t=(0,f.o)(f.O.max/this.effectiveSliderWidth*e);this.internalColorSet(this.baseColorFieldColor.alpha(t),!1)}internalColorSet(e,t=!0,i="user-interaction"){t&&(0,f.l)(e,this.color)||(this.internalColorUpdateContext=i,this.color=e,this.value=this.toValue(e),this.internalColorUpdateContext=null)}toValue(e,t=this.mode){if(!e)return null;if(t.includes("hex")){const i=t===f.C.HEXA;return(0,f.n)((0,f.h)(e.round(),i),i)}if(t.includes("-css")){const i=e[t.replace("-css","").replace("a","")]().round().string();if((t.endsWith("a")||t.endsWith("a-css"))&&1===e.alpha()){return`${i.slice(0,3)}a(${i.slice(4,-1)}, ${e.alpha()})`}return i}const i=e[(0,f.q)(t)]().round().object();return t.endsWith("a")?(0,f.u)(i):i}getSliderCapSpacing(){const{staticDimensions:{slider:{height:e},thumb:{radius:t}}}=this;return 2*t-e}updateStaticDimensions(e="m"){this.staticDimensions=f.S[e]}deleteColor(){const e=(0,f.h)(this.color,this.alphaChannel);if(!(this.savedColors.indexOf(e)>-1))return;const t=this.savedColors.filter((t=>t!==e));this.savedColors=t;const i=`${f.f}${this.storageId}`;this.storageId&&localStorage.setItem(i,JSON.stringify(t))}saveColor(){const e=(0,f.h)(this.color,this.alphaChannel);if(this.savedColors.indexOf(e)>-1)return;const t=[...this.savedColors,e];this.savedColors=t;const i=`${f.f}${this.storageId}`;this.storageId&&localStorage.setItem(i,JSON.stringify(t))}drawColorField(){const e=this.colorFieldRenderingContext,{width:t,height:i}=this.dynamicDimensions.colorField;e.fillStyle=this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string(),e.fillRect(0,0,t,i);const l=e.createLinearGradient(0,0,t,0);l.addColorStop(0,"rgba(255,255,255,1)"),l.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=l,e.fillRect(0,0,t,i);const a=e.createLinearGradient(0,0,0,i);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=a,e.fillRect(0,0,t,i),this.drawActiveColorFieldColor()}setCanvasContextSize(e,{height:t,width:i}){if(!e)return;const l=window.devicePixelRatio||1;e.width=i*l,e.height=t*l,e.style.height=`${t}px`,e.style.width=`${i}px`;e.getContext("2d").scale(l,l)}initColorField(e){e&&(this.colorFieldRenderingContext=e.getContext("2d"),this.updateCanvasSize("color-field"),this.drawColorControls())}initHueSlider(e){e&&(this.hueSliderRenderingContext=e.getContext("2d"),this.updateCanvasSize("hue-slider"),this.drawHueSlider())}initOpacitySlider(e){e&&(this.opacitySliderRenderingContext=e.getContext("2d"),this.updateCanvasSize("opacity-slider"),this.drawOpacitySlider())}updateCanvasSize(e="all"){const{dynamicDimensions:t,staticDimensions:i}=this;"all"!==e&&"color-field"!==e||this.setCanvasContextSize(this.colorFieldRenderingContext?.canvas,t.colorField);const l={width:this.effectiveSliderWidth,height:i.slider.height+2*(i.thumb.radius-t.slider.height/2)};"all"!==e&&"hue-slider"!==e||this.setCanvasContextSize(this.hueSliderRenderingContext?.canvas,l),"all"!==e&&"opacity-slider"!==e||this.setCanvasContextSize(this.opacitySliderRenderingContext?.canvas,l)}drawActiveColorFieldColor(){const{color:e}=this;if(!e)return;const t=e.hsv(),{staticDimensions:{thumb:{radius:i}}}=this,{width:l,height:a}=this.dynamicDimensions.colorField,o=t.saturationv()/(f.H.s/l),n=a-t.value()/(f.H.v/a);requestAnimationFrame((()=>{this.colorFieldScopeLeft=o,this.colorFieldScopeTop=n})),this.drawThumb(this.colorFieldRenderingContext,i,o,n,t,!1)}drawThumb(e,t,i,l,a,o){const n=2*Math.PI;if(e.beginPath(),e.arc(i,l,t,0,n),e.fillStyle="#fff",e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),o&&a.alpha()<1){const a=e.createPattern(this.getCheckeredBackgroundPattern(),"repeat");e.beginPath(),e.arc(i,l,t-3,0,n),e.fillStyle=a,e.fill()}e.globalCompositeOperation="source-atop",e.beginPath(),e.arc(i,l,t-3,0,n);const s=o?a.alpha():1;e.fillStyle=a.rgb().alpha(s).string(),e.fill(),e.globalCompositeOperation="source-over"}drawActiveHueSliderColor(){const{color:e}=this;if(!e)return;const t=e.hsv().saturationv(100).value(100),{staticDimensions:{thumb:{radius:i}}}=this,l=this.effectiveSliderWidth,a=t.hue()/(f.s/l),o=i,n=this.getSliderBoundX(a,l,i);requestAnimationFrame((()=>{this.hueScopeLeft=n})),this.drawThumb(this.hueSliderRenderingContext,i,n,o,t,!1)}drawHueSlider(){const e=this.hueSliderRenderingContext,{staticDimensions:{slider:{height:t},thumb:{radius:i}}}=this,l=i-t/2,a=this.effectiveSliderWidth,o=e.createLinearGradient(0,0,a,0),n=["red","yellow","lime","cyan","blue","magenta","#ff0004"],r=1/(n.length-1);let c=0;n.forEach((e=>{o.addColorStop(c,(0,s.A)(e).string()),c+=r})),e.clearRect(0,0,a,t+2*this.getSliderCapSpacing()),this.drawSliderPath(e,t,a,0,l),e.fillStyle=o,e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),this.drawActiveHueSliderColor()}drawOpacitySlider(){const e=this.opacitySliderRenderingContext,{baseColorFieldColor:t,staticDimensions:{slider:{height:i},thumb:{radius:l}}}=this,a=l-i/2,o=this.effectiveSliderWidth;e.clearRect(0,0,o,i+2*this.getSliderCapSpacing());const n=e.createLinearGradient(0,a,o,0),s=t.rgb().alpha(0),r=t.rgb().alpha(.5),c=t.rgb().alpha(1);n.addColorStop(0,s.string()),n.addColorStop(.5,r.string()),n.addColorStop(1,c.string()),this.drawSliderPath(e,i,o,0,a);const h=e.createPattern(this.getCheckeredBackgroundPattern(),"repeat");e.fillStyle=h,e.fill(),e.fillStyle=n,e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),this.drawActiveOpacitySliderColor()}drawSliderPath(e,t,i,l,a){const o=t/2+1;e.beginPath(),e.moveTo(l+o,a),e.lineTo(l+i-o,a),e.quadraticCurveTo(l+i,a,l+i,a+o),e.lineTo(l+i,a+t-o),e.quadraticCurveTo(l+i,a+t,l+i-o,a+t),e.lineTo(l+o,a+t),e.quadraticCurveTo(l,a+t,l,a+t-o),e.lineTo(l,a+o),e.quadraticCurveTo(l,a,l+o,a),e.closePath()}getCheckeredBackgroundPattern(){if(this.checkerPattern)return this.checkerPattern;const e=document.createElement("canvas");e.width=10,e.height=10;const t=e.getContext("2d");return t.fillStyle="#ccc",t.fillRect(0,0,10,10),t.fillStyle="#fff",t.fillRect(0,0,5,5),t.fillRect(5,5,5,5),this.checkerPattern=e,e}drawActiveOpacitySliderColor(){const{color:e}=this;if(!e)return;const t=e,{staticDimensions:{thumb:{radius:i}}}=this,l=this.effectiveSliderWidth,a=(0,f.c)(t.alpha())/(f.O.max/l),o=i,n=this.getSliderBoundX(a,l,i);requestAnimationFrame((()=>{this.opacityScopeLeft=n})),this.drawThumb(this.opacitySliderRenderingContext,i,n,o,t,!0)}getSliderBoundX(e,t,i){const l=(0,m.a)(e,t,i);return 0===l?e:-1===l?(0,m.r)(e,0,t,i,2*i):(0,m.r)(e,0,t,t-2*i,t-i)}storeOpacityScope(e){this.opacityScopeNode=e}handleOpacityScopeKeyDown(e){const t=e.shiftKey?10:1,{key:i}=e,l={ArrowUp:.01,ArrowRight:.01,ArrowDown:-.01,ArrowLeft:-.01};if(l[i]){e.preventDefault();const a=l[i]*t,o=this.baseColorFieldColor.alpha(),n=this.baseColorFieldColor.alpha(o+a);this.internalColorSet(n,!1)}}updateColorFromChannels(e){this.internalColorSet((0,s.A)(e,this.channelMode))}updateChannelsFromColor(e){this.channels=e?this.toChannels(e):[null,null,null,null]}toChannels(e){const{channelMode:t}=this,i=e[t]().array().map(((e,t)=>3===t?e:Math.floor(e)));return 3===i.length&&i.push(1),i}getAdjustedScopePosition(e,t){return[e-f.v/2,t-f.v/2]}render(){const{channelsDisabled:e,color:t,colorFieldScopeLeft:i,colorFieldScopeTop:l,staticDimensions:{thumb:{radius:n}},hexDisabled:s,hueScopeLeft:r,messages:d,alphaChannel:u,opacityScopeLeft:C,savedColors:m,savedDisabled:v,scale:g,scopeOrientation:b}=this,y=this.effectiveSliderWidth,S=t?(0,f.h)(t,u):null,w=n,x=r??y*f.D.hue()/f.H.h,$=n,k=C??y*(0,f.c)(f.D.alpha())/f.O.max,D=void 0===t,A="vertical"===b,[P,F]=this.getAdjustedScopePosition(i,l),[O,T]=this.getAdjustedScopePosition(x,w),[I,z]=this.getAdjustedScopePosition(k,$);return(0,p.I)({disabled:this.disabled,children:c.qy`<div class=${(0,h.CP)(f.m.container)}><div class=${(0,h.CP)(f.m.controlAndScope)}><canvas class=${(0,h.CP)(f.m.colorField)} @pointerdown=${this.handleColorFieldPointerDown} ${(0,a.K)(this.initColorField)}></canvas><div .ariaLabel=${A?d.value:d.saturation} .ariaValueMax=${A?f.H.v:f.H.s} aria-valuemin=0 .ariaValueNow=${(A?t?.saturationv():t?.value())||"0"} class=${(0,h.CP)({[f.m.scope]:!0,[f.m.colorFieldScope]:!0})} @keydown=${this.handleColorFieldScopeKeyDown} role=slider style=${(0,h.zl)({top:`${F||0}px`,left:`${P||0}px`})} tabindex=0 ${(0,a.K)(this.storeColorFieldScope)}></div></div><div class=${(0,h.CP)(f.m.previewAndSliders)}><calcite-color-picker-swatch class=${(0,h.CP)(f.m.preview)} .color=${S} .scale=${this.alphaChannel?"l":this.scale}></calcite-color-picker-swatch><div class=${(0,h.CP)(f.m.sliders)}><div class=${(0,h.CP)(f.m.controlAndScope)}><canvas class=${(0,h.CP)({[f.m.slider]:!0,[f.m.hueSlider]:!0})} @pointerdown=${this.handleHueSliderPointerDown} ${(0,a.K)(this.initHueSlider)}></canvas><div .ariaLabel=${d.hue} .ariaValueMax=${f.H.h} aria-valuemin=0 .ariaValueNow=${t?.round().hue()||f.D.round().hue()} class=${(0,h.CP)({[f.m.scope]:!0,[f.m.hueScope]:!0})} @keydown=${this.handleHueScopeKeyDown} role=slider style=${(0,h.zl)({top:`${T}px`,left:`${O}px`})} tabindex=0 ${(0,a.K)(this.storeHueScope)}></div></div>${u?c.qy`<div class=${(0,h.CP)(f.m.controlAndScope)}><canvas class=${(0,h.CP)({[f.m.slider]:!0,[f.m.opacitySlider]:!0})} @pointerdown=${this.handleOpacitySliderPointerDown} ${(0,a.K)(this.initOpacitySlider)}></canvas><div .ariaLabel=${d.opacity} .ariaValueMax=${f.O.max} .ariaValueMin=${f.O.min} .ariaValueNow=${(t||f.D).round().alpha()} class=${(0,h.CP)({[f.m.scope]:!0,[f.m.opacityScope]:!0})} @keydown=${this.handleOpacityScopeKeyDown} role=slider style=${(0,h.zl)({top:`${z}px`,left:`${I}px`})} tabindex=0 ${(0,a.K)(this.storeOpacityScope)}></div></div>`:null}</div></div>${s&&e?null:c.qy`<div class=${(0,h.CP)({[f.m.controlSection]:!0,[f.m.section]:!0})}><div class=${(0,h.CP)(f.m.hexAndChannelsGroup)}>${s?null:c.qy`<div class=${(0,h.CP)(f.m.hexOptions)}><calcite-color-picker-hex-input .allowEmpty=${this.isClearable} .alphaChannel=${u} class=${(0,h.CP)(f.m.control)} .messages=${d} .numberingSystem=${this.numberingSystem} @calciteColorPickerHexInputChange=${this.handleHexInputChange} .scale=${g} .value=${S}></calcite-color-picker-hex-input></div>`}${e?null:c.qy`<calcite-tabs class=${(0,h.CP)({[f.m.colorModeContainer]:!0,[f.m.splitSection]:!0})} .scale=${"l"===g?"m":"s"}><calcite-tab-nav slot=title-group>${this.renderChannelsTabTitle("rgb")}${this.renderChannelsTabTitle("hsv")}</calcite-tab-nav>${this.renderChannelsTab("rgb")}${this.renderChannelsTab("hsv")}</calcite-tabs>`}</div></div>`}${v?null:c.qy`<div class=${(0,h.CP)({[f.m.savedColorsSection]:!0,[f.m.section]:!0})}><div class=${(0,h.CP)(f.m.header)}><label>${d.saved}</label><div class=${(0,h.CP)(f.m.savedColorsButtons)}><calcite-button appearance=transparent class=${(0,h.CP)(f.m.deleteColor)} .disabled=${D} icon-start=minus kind=neutral .label=${d.deleteColor} @click=${this.deleteColor} .scale=${g} type=button></calcite-button><calcite-button appearance=transparent class=${(0,h.CP)(f.m.saveColor)} .disabled=${D} icon-start=plus kind=neutral .label=${d.saveColor} @click=${this.saveColor} .scale=${g} type=button></calcite-button></div></div>${m.length>0?c.qy`<div class=${(0,h.CP)(f.m.savedColors)}>${(0,o.u)(m,(e=>e),(e=>c.qy`<calcite-color-picker-swatch class=${(0,h.CP)(f.m.savedColor)} .color=${e} @click=${this.handleSavedColorSelect} @keydown=${this.handleSavedColorKeyDown} .scale=${g} tabindex=0></calcite-color-picker-swatch>`))}</div>`:null}</div>`}</div>`})}renderChannelsTabTitle(e){const{channelMode:t,messages:i}=this,l=e===t,a="rgb"===e?i.rgb:i.hsv;return(0,n.D)(e,c.qy`<calcite-tab-title class=${(0,h.CP)(f.m.colorMode)} data-color-mode=${e??c.s6} @calciteTabsActivate=${this.handleTabActivate} .selected=${l}>${a}</calcite-tab-title>`)}renderChannelsTab(e){const{isClearable:t,channelMode:i,channels:l,messages:a,alphaChannel:o}=this,s=e===i,r="rgb"===e?[a.red,a.green,a.blue]:[a.hue,a.saturation,a.value],p=(0,d.g)(this.el),u=o?l:l.slice(0,3);return(0,n.D)(e,c.qy`<calcite-tab class=${(0,h.CP)(f.m.control)} .selected=${s}><div class=${(0,h.CP)(f.m.channels)} dir=ltr>${u.map(((e,i)=>{const l=3===i;return l&&(e=t&&!e?e:(0,f.c)(e)),this.renderChannel(e,i,r[i],p,l?"%":"")}))}</div></calcite-tab>`)}renderChannel(e,t,i,l,a){return(0,n.D)(t,c.qy`<calcite-input-number class=${(0,h.CP)(f.m.channel)} data-channel-index=${t??c.s6} dir=${l??c.s6} .label=${i} lang=${this.messages._lang??c.s6} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.handleKeyDown} @calciteInputNumberChange=${this.handleChannelChange} @calciteInputNumberInput=${this.handleChannelInput} @calciteInternalInputNumberBlur=${this.handleChannelBlur} @calciteInternalInputNumberFocus=${this.handleChannelFocus} .scale=${"l"===this.scale?"m":"s"} style=${(0,h.zl)({marginLeft:t>0&&("s"!==this.scale||!this.alphaChannel||3!==t)?"-1px":""})} .suffixText=${a} .value=${e?.toString()}></calcite-input-number>`)}}(0,l.c)("calcite-color-picker",y)},49469:(e,t,i)=>{i.d(t,{D:()=>n});var l=i(28531),a=i(30533),o=i(70885);const n=(0,a.u$)(class extends a.WL{constructor(){super(...arguments),this.key=l.s6}render(e,t){return this.key=e,t}update(e,[t,i]){return t!==this.key&&((0,o.mY)(e),this.key=t),i}})},35120:(e,t,i)=>{i.d(t,{u:()=>s});var l=i(28531),a=i(30533),o=i(70885);const n=(e,t,i)=>{const l=new Map;for(let a=t;a<=i;a++)l.set(e[a],a);return l},s=(0,a.u$)(class extends a.WL{constructor(e){if(super(e),e.type!==a.OA.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,t,i){let l;void 0===i?i=t:void 0!==t&&(l=t);const a=[],o=[];let n=0;for(const s of e)a[n]=l?l(s,n):n,o[n]=i(s,n),n++;return{values:o,keys:a}}render(e,t,i){return this.dt(e,t,i).values}update(e,[t,i,a]){const s=(0,o.cN)(e),{values:r,keys:c}=this.dt(t,i,a);if(!Array.isArray(s))return this.ut=c,r;const h=this.ut??=[],d=[];let p,u,C=0,m=s.length-1,v=0,g=r.length-1;for(;C<=m&&v<=g;)if(null===s[C])C++;else if(null===s[m])m--;else if(h[C]===c[v])d[v]=(0,o.lx)(s[C],r[v]),C++,v++;else if(h[m]===c[g])d[g]=(0,o.lx)(s[m],r[g]),m--,g--;else if(h[C]===c[g])d[g]=(0,o.lx)(s[C],r[g]),(0,o.Dx)(e,d[g+1],s[C]),C++,g--;else if(h[m]===c[v])d[v]=(0,o.lx)(s[m],r[v]),(0,o.Dx)(e,s[C],s[m]),m--,v++;else if(void 0===p&&(p=n(c,v,g),u=n(h,C,m)),p.has(h[C]))if(p.has(h[m])){const t=u.get(c[v]),i=void 0!==t?s[t]:null;if(null===i){const t=(0,o.Dx)(e,s[C]);(0,o.lx)(t,r[v]),d[v]=t}else d[v]=(0,o.lx)(i,r[v]),(0,o.Dx)(e,s[C],i),s[t]=null;v++}else(0,o.KO)(s[m]),m--;else(0,o.KO)(s[C]),C++;for(;v<=g;){const t=(0,o.Dx)(e,d[g+1]);(0,o.lx)(t,r[v]),d[v++]=t}for(;C<=m;){const e=s[C++];null!==e&&(0,o.KO)(e)}return this.ut=c,(0,o.mY)(e,d),l.c0}})}}]);
//# sourceMappingURL=18779.dcbf38de.chunk.js.map