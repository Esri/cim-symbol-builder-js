"use strict";(globalThis.webpackChunkmy_app=globalThis.webpackChunkmy_app||[]).push([[69992],{78315:(t,e,n)=>{n.d(e,{N:()=>_,a:()=>T,c:()=>m,e:()=>S,f:()=>y,g:()=>b,k:()=>$,l:()=>M,m:()=>w,n:()=>p,o:()=>C,p:()=>D,s:()=>j,w:()=>I});n(81806),n(76460);var r=n(15941),i=n(34761),o=n(20664),s=n(9392),c=n(43047),u=n(55855),a=n(53494),f=n(5568),h=n(95925);function l(t,e){const n=(0,o.l)(t),i=(0,r.YN)(t[2]/n),s=Math.atan2(t[1]/n,t[0]/n);return(0,o.i)(e,n,i,s),e}var d=n(96190),g=n(75762);const _=m();function m(){return(0,u.vt)()}const p=c.e,v=c.e;function S(t,e){return(0,c.c)(e,t)}function M(t,e){return(0,u.fA)(t[0],t[1],t[2],e)}function I(t){return t}function b(t){return t[3]}function T(t){return t}function y(t,e,n,r){return(0,u.fA)(t,e,n,r)}function E(t,e,n){if(null==e)return!1;if(!N(t,e,A))return!1;let{t0:r,t1:i}=A;if((r<0||i<r&&i>0)&&(r=i),r<0)return!1;if(n){const{origin:t,direction:i}=e;n[0]=t[0]+i[0]*r,n[1]=t[1]+i[1]*r,n[2]=t[2]+i[2]*r}return!0}function w(t,e,n){const r=(0,h.Cr)(e,n);if(!N(t,r,A))return[];const{origin:i,direction:c}=r,{t0:u,t1:f}=A,l=e=>{const n=(0,s.vt)();return(0,o.b)(n,i,c,e),D(t,n,n)};return Math.abs(u-f)<(0,a.FD)()?[l(u)]:[l(u),l(f)]}const A={t0:0,t1:0};function N(t,e,n){const{origin:r,direction:i}=e,o=B;o[0]=r[0]-t[0],o[1]=r[1]-t[1],o[2]=r[2]-t[2];const s=i[0]*i[0]+i[1]*i[1]+i[2]*i[2];if(0===s)return!1;const c=2*(i[0]*o[0]+i[1]*o[1]+i[2]*o[2]),u=c*c-4*s*(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]-t[3]*t[3]);if(u<0)return!1;const a=Math.sqrt(u);return n.t0=(-c-a)/(2*s),n.t1=(-c+a)/(2*s),!0}const B=(0,s.vt)();function $(t,e){return E(t,e,null)}function q(t,e,n){const r=g.rq.get(),s=g.Rc.get();(0,o.h)(r,e.origin,e.direction);const c=b(t);(0,o.h)(n,r,e.origin),(0,o.g)(n,n,1/(0,o.l)(n)*c);const u=O(t,e.origin),a=(0,d.g7)(e.origin,n);return(0,i.$0)(s,a+u,r),(0,o.t)(n,n,s),n}function D(t,e,n){const r=(0,o.d)(g.rq.get(),e,t),i=(0,o.g)(g.rq.get(),r,t[3]/(0,o.l)(r));return(0,o.f)(n,i,t)}function O(t,e){const n=(0,o.d)(g.rq.get(),e,t),i=(0,o.l)(n),s=b(t),c=s+Math.abs(s-i);return(0,r.XM)(s/c)}const P=(0,s.vt)();function F(t,e,n,r){const i=(0,o.d)(P,e,t);switch(n){case f._.X:{const t=l(i,P)[2];return(0,o.i)(r,-Math.sin(t),Math.cos(t),0)}case f._.Y:{const t=l(i,P),e=t[1],n=t[2],s=Math.sin(e);return(0,o.i)(r,-s*Math.cos(n),-s*Math.sin(n),Math.cos(e))}case f._.Z:return(0,o.n)(r,i);default:return}}function R(t,e){const n=(0,o.d)(L,e,t);return(0,o.l)(n)-t[3]}function C(t,e){const n=(0,o.s)(t,e),r=b(t);return n<=r*r}const L=(0,s.vt)(),k=m(),j=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:_,altitudeAt:R,angleToSilhouette:O,axisAt:F,cameraFrustumCoverage:function(t,e,n,r){const i=b(t),o=i*i,s=e+.5*Math.PI,c=n*n+o-2*Math.cos(s)*n*i,u=Math.sqrt(c),a=c-o;if(a<=0)return.5;const f=Math.sqrt(a),h=Math.acos(f/u)-Math.asin(i/(u/Math.sin(s)));return Math.min(1,(h+.5*r)/r)},clear:function(t){t[0]=t[1]=t[2]=t[3]=0},closestPoint:function(t,e,n){return E(t,e,n)?n:((0,h.oC)(e,t,n),D(t,n,n))},closestPointOnSilhouette:q,containsPoint:C,copy:S,create:m,distanceToSilhouette:function(t,e){const n=(0,o.d)(g.rq.get(),e,t),r=(0,o.k)(n),i=t[3]*t[3];return Math.sqrt(Math.abs(r-i))},elevate:function(t,e,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+e,n},equals:v,exactEquals:p,fromCenterAndRadius:M,fromRadius:function(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t},fromValues:y,getCenter:T,getExtent:function(t,e){return e},getRadius:b,intersectLine:w,intersectRay:E,intersectRayClosestSilhouette:function(t,e,n){if(E(t,e,n))return n;const r=q(t,e,g.rq.get());return(0,o.f)(n,e.origin,(0,o.g)(g.rq.get(),e.direction,(0,o.j)(e.origin,r)/(0,o.l)(e.direction))),n},intersectsRay:$,projectPoint:D,setAltitudeAt:function(t,e,n,r){const i=R(t,e),s=F(t,e,f._.Z,L),c=(0,o.g)(L,s,n-i);return(0,o.f)(r,e,c)},setExtent:function(t,e,n){return t!==n&&S(t,n),n},tmpSphere:k,union:function(t,e,n=(0,u.vt)()){const r=(0,o.j)(t,e),i=t[3],s=e[3];return r+s<i?((0,c.c)(n,t),n):r+i<s?((0,c.c)(n,e),n):((0,o.m)(n,t,e,(r+s-i)/(2*r)),n[3]=(r+i+s)/2,n)},wrap:I},Symbol.toStringTag,{value:"Module"}))},45136:(t,e,n)=>{n.d(e,{a:()=>h,b:()=>c,c:()=>s,d:()=>i,e:()=>l,f:()=>f,l:()=>a,n:()=>d,t:()=>o});var r=n(99746);n(81806),n(76460);function i(t,e,n){o(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function o(t,e,n,r=3,i=r){if(t.length/r!==Math.ceil(e.length/i))return t;const o=t.length/r,s=n[0],c=n[1],u=n[2],a=n[4],f=n[5],h=n[6],l=n[8],d=n[9],g=n[10],_=n[12],m=n[13],p=n[14];let v=0,S=0;for(let M=0;M<o;M++){const n=e[v],o=e[v+1],M=e[v+2];t[S]=s*n+a*o+l*M+_,t[S+1]=c*n+f*o+d*M+m,t[S+2]=u*n+h*o+g*M+p,v+=i,S+=r}return t}function s(t,e,n){c(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function c(t,e,n,r=3,i=r){if(t.length/r!==Math.ceil(e.length/i))return;const o=t.length/r,s=n[0],c=n[1],u=n[2],a=n[3],f=n[4],h=n[5],l=n[6],d=n[7],g=n[8];let _=0,m=0;for(let p=0;p<o;p++){const n=e[_],o=e[_+1],p=e[_+2];t[m]=s*n+a*o+l*p,t[m+1]=c*n+f*o+d*p,t[m+2]=u*n+h*o+g*p,_+=i,m+=r}}function u(t,e,n,r=3,i=r){const o=Math.min(t.length/r,e.length/i);let s=0,c=0;for(let u=0;u<o;u++)t[c]=n*e[s],t[c+1]=n*e[s+1],t[c+2]=n*e[s+2],s+=i,c+=r;return t}function a(t,e,n,r){f(t.typedBuffer,e.typedBuffer,n,r,t.typedBufferStride,e.typedBufferStride)}function f(t,e,n,i,o=3,s=o){const c=Math.min(t.length/o,e.length/s);let u=0,a=0;const f=1/r.Tf;for(let r=0;r<c;r++)t[a]=i*(n*e[u])**f,t[a+1]=i*(n*e[u+1])**f,t[a+2]=i*(n*e[u+2])**f,u+=s,a+=o}function h(t,e,n,r=3,i=r){const o=t.length/r;if(o!==Math.ceil(e.length/i))return t;let s=0,c=0;for(let u=0;u<o;u++)t[c]=e[s]+n[0],t[c+1]=e[s+1]+n[1],t[c+2]=e[s+2]+n[2],s+=i,c+=r;return t}function l(t,e){d(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function d(t,e,n=3,r=n){const i=Math.min(t.length/n,e.length/r);let o=0,s=0;for(let c=0;c<i;c++){const i=e[o],c=e[o+1],u=e[o+2],a=i*i+c*c+u*u;if(a>0){const e=1/Math.sqrt(a);t[s]=e*i,t[s+1]=e*c,t[s+2]=e*u}o+=r,s+=n}}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:f,linearToSRGBView:a,normalize:d,normalizeView:l,scale:u,scaleView:function(t,e,n){u(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)},shiftRight:function(t,e,n){const r=Math.min(t.count,e.count),i=t.typedBuffer,o=t.typedBufferStride,s=e.typedBuffer,c=e.typedBufferStride;let u=0,a=0;for(let f=0;f<r;f++)i[a]=s[u]>>n,i[a+1]=s[u+1]>>n,i[a+2]=s[u+2]>>n,u+=c,a+=o},transformMat3:c,transformMat3View:s,transformMat4:o,transformMat4View:i,translate:h},Symbol.toStringTag,{value:"Module"}))},10947:(t,e,n)=>{n.d(e,{a:()=>o,b:()=>f,l:()=>a,n:()=>c,t:()=>s});var r=n(99746),i=(n(81806),n(76460));function o(t,e,n){s(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function s(t,e,n,r=4,i=r){if(t.length/r!==e.length/i)return;const o=t.length/r,s=n[0],c=n[1],u=n[2],a=n[3],f=n[4],h=n[5],l=n[6],d=n[7],g=n[8];let _=0,m=0;for(let p=0;p<o;p++){const n=e[_],o=e[_+1],p=e[_+2],v=e[_+3];t[m]=s*n+a*o+l*p,t[m+1]=c*n+f*o+d*p,t[m+2]=u*n+h*o+g*p,t[m+3]=v,_+=i,m+=r}}function c(t,e){const n=Math.min(t.count,e.count),r=t.typedBuffer,i=t.typedBufferStride,o=e.typedBuffer,s=e.typedBufferStride;for(let c=0;c<n;c++){const t=c*i,e=c*s,n=o[e],u=o[e+1],a=o[e+2],f=n*n+u*u+a*a;if(f>0){const e=1/Math.sqrt(f);r[t]=e*n,r[t+1]=e*u,r[t+2]=e*a}}}function u(t,e,n,r=4){const i=Math.min(t.length/r,e.count),o=e.typedBuffer,s=e.typedBufferStride;let c=0,u=0;for(let a=0;a<i;a++)t[u]=n*o[c],t[u+1]=n*o[c+1],t[u+2]=n*o[c+2],t[u+3]=n*o[c+3],c+=s,u+=r}function a(t,e,n,r){f(t.typedBuffer,e,n,r,t.typedBufferStride)}function f(t,e,n,i,o=4){const s=Math.min(t.length/o,e.count),c=e.typedBuffer,u=e.typedBufferStride;let a=0,f=0;const h=1/r.Tf;for(let r=0;r<s;r++)t[f]=i*(n*c[a])**h,t[f+1]=i*(n*c[a+1])**h,t[f+2]=i*(n*c[a+2])**h,t[f+3]=i*n*c[a+3],a+=u,f+=o}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:f,linearToSRGBView:a,normalize:c,scale:u,scaleView:function(t,e,n){u(t.typedBuffer,e,n,t.typedBufferStride)},transformMat3:s,transformMat3View:o,transformMat4:function(t,e,n,r=4,o=r){if(t.length/r!==e.length/o)return void i.A.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const s=t.length/r,c=n[0],u=n[1],a=n[2],f=n[3],h=n[4],l=n[5],d=n[6],g=n[7],_=n[8],m=n[9],p=n[10],v=n[11],S=n[12],M=n[13],I=n[14],b=n[15];let T=0,y=0;for(let i=0;i<s;i++){const n=e[T],i=e[T+1],s=e[T+2],E=e[T+3];t[y]=c*n+h*i+_*s+S*E,t[y+1]=u*n+l*i+m*s+M*E,t[y+2]=a*n+d*i+p*s+I*E,t[y+3]=f*n+g*i+v*s+b*E,T+=o,y+=r}},transformMat4View:function(t,e,n){if(t.count!==e.count)return;const r=t.count,i=n[0],o=n[1],s=n[2],c=n[3],u=n[4],a=n[5],f=n[6],h=n[7],l=n[8],d=n[9],g=n[10],_=n[11],m=n[12],p=n[13],v=n[14],S=n[15],M=t.typedBuffer,I=t.typedBufferStride,b=e.typedBuffer,T=e.typedBufferStride;for(let y=0;y<r;y++){const t=y*I,e=y*T,n=b[e],r=b[e+1],E=b[e+2],w=b[e+3];M[t]=i*n+u*r+l*E+m*w,M[t+1]=o*n+a*r+d*E+p*w,M[t+2]=s*n+f*r+g*E+v*w,M[t+3]=c*n+h*r+_*E+S*w}}},Symbol.toStringTag,{value:"Module"}))},75941:(t,e,n)=>{n.d(e,{O:()=>r});class r{constructor(){this._outer=new Map}clear(){this._outer.clear()}get empty(){return 0===this._outer.size}get outerSize(){return this._outer.size}get(t,e){return this._outer.get(t)?.get(e)}getInner(t){return this._outer.get(t)}set(t,e,n){const r=this._outer.get(t);r?r.set(e,n):this._outer.set(t,new Map([[e,n]]))}delete(t,e){const n=this._outer.get(t);n&&(n.delete(e),0===n.size&&this._outer.delete(t))}forEach(t){this._outer.forEach(((e,n)=>t(e,n)))}forAll(t){this._outer.forEach(((e,n)=>e.forEach(((e,r)=>t(e,n,r)))))}}},97467:(t,e,n)=>{n.d(e,{I:()=>i});var r=n(77944);class i{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.d)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*o);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,o));t++)this._items.push(this._allocator())}}const o=1024},44680:(t,e,n)=>{function r(){return[1,0,0,0,1,0,0,0,1]}function i(t,e,n,r,i,o,s,c,u){return[t,e,n,r,i,o,s,c,u]}n.d(e,{fA:()=>i,vt:()=>r,zK:()=>o});const o=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:r,fromValues:i},Symbol.toStringTag,{value:"Module"}))},13191:(t,e,n)=>{function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function o(t,e,n,r,i,o,s,c,u,a,f,h,l,d,g,_){return[t,e,n,r,i,o,s,c,u,a,f,h,l,d,g,_]}n.d(e,{fA:()=>o,o8:()=>i,vt:()=>r,zK:()=>s});const s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:r,fromValues:o},Symbol.toStringTag,{value:"Module"}))},4336:(t,e,n)=>{function r(){return[0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3]]}n.d(e,{o8:()=>i,vt:()=>r,zK:()=>o});const o=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:i,create:r,fromValues:function(t,e,n,r){return[t,e,n,r]}},Symbol.toStringTag,{value:"Module"}))},98510:(t,e,n)=>{n.d(e,{Y0:()=>a,lO:()=>f});var r=n(34111),i=n(13312),o=n(80963);const s=new i.A(r.fv),c=new i.A(r.FY),u=new i.A(r.LJ),a=new i.A(r.Ro);function f(t){const e=h.get(t);if(e)return e;let n=s;if(t)if(t===c)n=c;else if(t===u)n=u;else{const e=t.wkid,r=t.latestWkid;if(null!=e||null!=r)(0,o.tl)(e)||(0,o.tl)(r)?n=c:((0,o.ZL)(e)||(0,o.ZL)(r))&&(n=u);else{const e=t.wkt2??t.wkt;if(e){const t=e.toUpperCase();t===l?n=c:t===d&&(n=u)}}}return h.set(t,n),n}const h=new Map,l=c.wkt.toUpperCase(),d=u.wkt.toUpperCase()},44230:(t,e,n)=>{n.d(e,{C:()=>a,Cr:()=>h,H6:()=>_,_I:()=>d,dz:()=>m,fA:()=>f,kb:()=>l,ld:()=>p,sd:()=>g,vt:()=>u});var r=n(15941),i=n(97467),o=n(20664),s=n(9392),c=n(75762);function u(t){return t?{origin:(0,s.o8)(t.origin),vector:(0,s.o8)(t.vector)}:{origin:(0,s.vt)(),vector:(0,s.vt)()}}function a(t,e=u()){return f(t.origin,t.vector,e)}function f(t,e,n=u()){return(0,o.c)(n.origin,t),(0,o.c)(n.vector,e),n}function h(t,e,n=u()){return(0,o.c)(n.origin,t),(0,o.d)(n.vector,e,t),n}function l(t,e){const n=(0,o.d)(c.rq.get(),e,t.origin),i=(0,o.e)(t.vector,n),s=(0,o.e)(t.vector,t.vector),u=(0,r.qE)(i/s,0,1),a=(0,o.d)(c.rq.get(),(0,o.g)(c.rq.get(),t.vector,u),n);return(0,o.e)(a,a)}function d(t,e,n){return _(t,e,0,1,n)}function g(t,e,n){return(0,o.f)(n,t.origin,(0,o.g)(n,t.vector,e))}function _(t,e,n,i,s){const{vector:u,origin:a}=t,f=(0,o.d)(c.rq.get(),e,a),h=(0,o.e)(u,f)/(0,o.k)(u);return(0,o.g)(s,u,(0,r.qE)(h,n,i)),(0,o.f)(s,s,t.origin)}function m(t,e){if(v(t,function(t,e){const n=M.get();return n.origin=t,n.vector=e,n}(e.origin,e.direction),!1,S)){const{tA:e,pB:n,distance2:r}=S;if(e>=0&&e<=1)return r;if(e<0)return(0,o.s)(t.origin,n);if(e>1)return(0,o.s)((0,o.f)(c.rq.get(),t.origin,t.vector),n)}return null}function p(t,e,n){return!!v(t,e,!0,S)&&((0,o.c)(n,S.pA),!0)}function v(t,e,n,i){const s=1e-6,u=t.origin,a=(0,o.f)(c.rq.get(),u,t.vector),f=e.origin,h=(0,o.f)(c.rq.get(),f,e.vector),l=c.rq.get(),d=c.rq.get();if(l[0]=u[0]-f[0],l[1]=u[1]-f[1],l[2]=u[2]-f[2],d[0]=h[0]-f[0],d[1]=h[1]-f[1],d[2]=h[2]-f[2],Math.abs(d[0])<s&&Math.abs(d[1])<s&&Math.abs(d[2])<s)return!1;const g=c.rq.get();if(g[0]=a[0]-u[0],g[1]=a[1]-u[1],g[2]=a[2]-u[2],Math.abs(g[0])<s&&Math.abs(g[1])<s&&Math.abs(g[2])<s)return!1;const _=l[0]*d[0]+l[1]*d[1]+l[2]*d[2],m=d[0]*g[0]+d[1]*g[1]+d[2]*g[2],p=l[0]*g[0]+l[1]*g[1]+l[2]*g[2],v=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],S=(g[0]*g[0]+g[1]*g[1]+g[2]*g[2])*v-m*m;if(Math.abs(S)<s)return!1;let M=(_*m-p*v)/S,I=(_+m*M)/v;n&&(M=(0,r.qE)(M,0,1),I=(0,r.qE)(I,0,1));const b=c.rq.get(),T=c.rq.get();return b[0]=u[0]+M*g[0],b[1]=u[1]+M*g[1],b[2]=u[2]+M*g[2],T[0]=f[0]+I*d[0],T[1]=f[1]+I*d[1],T[2]=f[2]+I*d[2],i.tA=M,i.tB=I,i.pA=b,i.pB=T,i.distance2=(0,o.s)(b,T),!0}const S={tA:0,tB:0,pA:(0,s.vt)(),pB:(0,s.vt)(),distance2:0},M=new i.I((()=>u()))},13927:(t,e,n)=>{n.d(e,{C:()=>h,Cr:()=>_,Io:()=>F,LV:()=>f,O_:()=>g,Qj:()=>l,T7:()=>B,Tj:()=>q,U5:()=>A,Ui:()=>N,Z1:()=>P,_I:()=>O,b6:()=>D,ci:()=>p,fA:()=>d,gv:()=>$,lU:()=>m,mN:()=>R,mP:()=>y,mR:()=>w,vt:()=>a,ze:()=>E});var r=n(15941),i=n(20664),o=n(9392),s=(n(43047),n(96190)),c=n(75762),u=n(94966);function a(t=j){return[t[0],t[1],t[2],t[3]]}function f(t=j[0],e=j[1],n=j[2],r=j[3]){return d(t,e,n,r,c.Km.get())}function h(t,e){return d(e[0],e[1],e[2],e[3],t)}function l(t){return t}function d(t,e,n,r,i=a()){return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function g(t,e,n){const r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=Math.abs(r-1)>1e-5&&r>1e-12?1/Math.sqrt(r):1;return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=-(n[0]*t[0]+n[1]*t[1]+n[2]*t[2]),n}function _(t,e,n,r=a()){const i=n[0]-e[0],o=n[1]-e[1],s=n[2]-e[2],c=t[0]-e[0],u=t[1]-e[1],f=t[2]-e[2],h=o*f-s*u,l=s*c-i*f,d=i*u-o*c,g=h*h+l*l+d*d,_=Math.abs(g-1)>1e-5&&g>1e-12?1/Math.sqrt(g):1;return r[0]=h*_,r[1]=l*_,r[2]=d*_,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function m(t,e,n,r=0,o=Math.floor(n*(1/3)),s=Math.floor(n*(2/3))){if(n<3)return!1;e(S,r);let c=o,u=!1;for(;c<n-1&&!u;)e(M,c),c++,u=!(0,i.q)(S,M);if(!u)return!1;for(c=Math.max(c,s),u=!1;c<n&&!u;)e(I,c),c++,(0,i.d)(b,S,M),(0,i.n)(b,b),(0,i.d)(T,M,I),(0,i.n)(T,T),u=!(0,i.q)(S,I)&&!(0,i.q)(M,I)&&Math.abs((0,i.e)(b,T))<v;return u?(_(S,M,I,t),!0):(0!==r||1!==o||2!==s)&&m(t,e,n,0,1,2)}function p(t,e,n=!0){const r=e.length/3;return m(t,((t,n)=>(0,i.i)(t,e[3*n+0],e[3*n+1],e[3*n+2])),n?r-1:r)}const v=.99619469809,S=(0,o.vt)(),M=(0,o.vt)(),I=(0,o.vt)(),b=(0,o.vt)(),T=(0,o.vt)();function y(t,e,n){return e!==t&&h(t,e),t[3]=-(0,i.e)(t,n),t}function E(t,e){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function w(t,e,n,r){return(0,i.h)(I,e,t),g(n,I,r)}function A(t,e,n,r){return L(k(t,e,(0,i.d)(c.rq.get(),n,e),V,r))}function N(t,e,n){return null!=e&&L(k(t,e.origin,e.direction,U,n))}function B(t,e,n){return L(k(t,e.origin,e.vector,x.NONE,n))}function $(t,e,n){return L(k(t,e.origin,e.vector,x.CLAMP,n))}function q(t,e){return R(t,e)>=0}function D(t,e){const n=(0,i.e)(t,e.ray.direction),r=-R(t,e.ray.origin);if(n>-1e-6&&n<1e-6)return r>0;const o=r/n;return n>0?o<e.c1&&(e.c1=o):o>e.c0&&(e.c0=o),e.c0<=e.c1}function O(t,e,n){const r=(0,i.g)(c.rq.get(),t,-t[3]),o=function(t,e,n){const r=(0,i.g)(c.rq.get(),t,(0,i.e)(t,e));return(0,i.d)(n,e,r),n}(t,(0,i.d)(c.rq.get(),e,r),c.rq.get());return(0,i.f)(n,o,r),n}function P(t,e,n,r){const o=t,a=c.rq.get(),f=c.rq.get();(0,u.VV)(o,a,f);const h=(0,i.d)(c.rq.get(),n,e),l=(0,s.gr)(a,h),d=(0,s.gr)(f,h),g=(0,s.gr)(o,h);return(0,i.i)(r,l,d,g)}function F(t,e){return Math.abs(R(t,e))}function R(t,e){return(0,i.e)(t,e)+t[3]}var C;function L(t){return t===C.INTERSECTS_INSIDE_OUT||t===C.INTERSECTS_OUTSIDE_IN}function k(t,e,n,o,s){const c=(0,i.e)(t,n),u=R(t,e);if(0===c)return u>=0?C.INSIDE:C.OUTSIDE;let a=-u/c;return o&x.CLAMP&&(a=(0,r.qE)(a,0,1)),!(o&x.INFINITE_MIN)&&a<0||!(o&x.INFINITE_MAX)&&a>1?u>=0?C.INSIDE:C.OUTSIDE:((0,i.f)(s,e,(0,i.g)(s,n,a)),u>=0?C.INTERSECTS_INSIDE_OUT:C.INTERSECTS_OUTSIDE_IN)}!function(t){t[t.INTERSECTS_INSIDE_OUT=0]="INTERSECTS_INSIDE_OUT",t[t.INTERSECTS_OUTSIDE_IN=1]="INTERSECTS_OUTSIDE_IN",t[t.INSIDE=2]="INSIDE",t[t.OUTSIDE=3]="OUTSIDE"}(C||(C={}));const j=[0,0,1,0];var x;!function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"}(x||(x={}));const V=x.INFINITE_MIN|x.INFINITE_MAX,U=x.INFINITE_MAX},95925:(t,e,n)=>{n.d(e,{C:()=>h,Cr:()=>l,LV:()=>f,kb:()=>d,oC:()=>g,vt:()=>u});n(18690);var r=n(97467),i=(n(63919),n(44680)),o=n(20664),s=n(9392),c=n(75762);function u(t){return t?a((0,s.o8)(t.origin),(0,s.o8)(t.direction)):a((0,s.vt)(),(0,s.vt)())}function a(t,e){return{origin:t,direction:e}}function f(t,e){const n=_.get();return n.origin=t,n.direction=e,n}function h(t,e=u()){return function(t,e,n=u()){return(0,o.c)(n.origin,t),(0,o.c)(n.direction,e),n}(t.origin,t.direction,e)}function l(t,e,n=u()){return(0,o.c)(n.origin,t),(0,o.d)(n.direction,e,t),n}function d(t,e){const n=(0,o.h)(c.rq.get(),(0,o.n)(c.rq.get(),t.direction),(0,o.d)(c.rq.get(),e,t.origin));return(0,o.e)(n,n)}function g(t,e,n){const r=(0,o.e)(t.direction,(0,o.d)(n,e,t.origin));return(0,o.f)(n,t.origin,(0,o.g)(n,t.direction,r)),n}const _=new r.I((()=>u()));(0,s.vt)(),(0,s.vt)(),(0,s.vt)(),(0,i.vt)()},45097:(t,e,n)=>{n.d(e,{Fm:()=>u,Q7:()=>a});var r=n(97467),i=n(20664),o=n(9392),s=n(44230);n(75762);function c(t){return t?{p0:(0,o.o8)(t.p0),p1:(0,o.o8)(t.p1),p2:(0,o.o8)(t.p2)}:{p0:(0,o.vt)(),p1:(0,o.vt)(),p2:(0,o.vt)()}}function u(t,e,n){const r=e[0]-t[0],i=e[1]-t[1],o=n[0]-t[0],s=n[1]-t[1];return.5*Math.abs(r*s-i*o)}function a(t,e,n){return(0,i.d)(f,e,t),(0,i.d)(h,n,t),.5*(0,i.l)((0,i.h)(f,f,h))}new r.I(s.vt),new r.I((()=>c()));const f=(0,o.vt)(),h=(0,o.vt)()},96190:(t,e,n)=>{n.d(e,{EJ:()=>a,_I:()=>s,g7:()=>u,gr:()=>c});var r=n(15941),i=n(20664),o=n(9392);function s(t,e,n){const r=(0,i.e)(t,e)/(0,i.e)(t,t);return(0,i.g)(n,t,r)}function c(t,e){return(0,i.e)(t,e)/(0,i.l)(t)}function u(t,e){const n=(0,i.e)(t,e)/((0,i.l)(t)*(0,i.l)(e));return-(0,r.XM)(n)}function a(t,e,n){(0,i.n)(f,t),(0,i.n)(h,e);const o=(0,i.e)(f,h),s=(0,r.XM)(o),c=(0,i.h)(f,f,h);return(0,i.e)(c,n)<0?2*Math.PI-s:s}const f=(0,o.vt)(),h=(0,o.vt)()},75762:(t,e,n)=>{n.d(e,{Rc:()=>g,J8:()=>_,oG:()=>h,rq:()=>l,Km:()=>d});n(81806);var r=n(77944),i=n(44680),o=n(13191),s=n(4336),c=n(72745),u=n(9392),a=n(55855);class f{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,r.d)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new f(c.vt)}static createVec3f64(){return new f(u.vt)}static createVec4f64(){return new f(a.vt)}static createMat3f64(){return new f(i.vt)}static createMat4f64(){return new f(o.vt)}static createQuatf64(){return new f(s.vt)}get test(){}}const h=f.createVec2f64(),l=f.createVec3f64(),d=f.createVec4f64(),g=(f.createMat3f64(),f.createMat4f64()),_=f.createQuatf64()},94966:(t,e,n)=>{n.d(e,{VV:()=>c,hG:()=>o,wp:()=>s});n(15941);var r=n(20664),i=n(9392);function o(t){const e=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],n=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],r=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}function s(t,e){const n=Math.sqrt(e[0]*e[0]+e[4]*e[4]+e[8]*e[8]),i=Math.sqrt(e[1]*e[1]+e[5]*e[5]+e[9]*e[9]),o=Math.sqrt(e[2]*e[2]+e[6]*e[6]+e[10]*e[10]);return(0,r.i)(t,n,i,o),t}function c(t,e,n){Math.abs(t[0])>Math.abs(t[1])?(0,r.i)(e,0,1,0):(0,r.i)(e,1,0,0),(0,r.h)(n,t,e),(0,r.h)(e,n,t),(0,r.n)(n,n),(0,r.n)(e,e)}(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)()},69728:(t,e,n)=>{var r;n.d(e,{c:()=>r}),function(t){t[t.Bind=0]="Bind",t[t.Pass=1]="Pass",t[t.Draw=2]="Draw"}(r||(r={}))},2687:(t,e,n)=>{n.d(e,{N5:()=>u});var r=n(50076),i=(n(81806),n(76460)),o=n(69728);const s=()=>i.A.getLogger("esri.views.3d.webgl-engine.core.shaderModules.shaderBuilder");class c{constructor(){this._includedModules=new Map}include(t,e){this._includedModules.has(t)?this._includedModules.get(t):(this._includedModules.set(t,e),t(this.builder,e))}}class u extends c{constructor(){super(...arguments),this.vertex=new l,this.fragment=new l,this.attributes=new d,this.varyings=new g,this.extensions=new _,this.outputs=new m}get fragmentUniforms(){return this.fragment.uniforms.entries}get builder(){return this}generate(t,e=!1){const n=this.extensions.generateSource(t),r=this.attributes.generateSource(t),i=this.varyings.generateSource(t),o="vertex"===t?this.vertex:this.fragment,s=o.uniforms.generateSource(),c=o.code.generateSource(),u=o.main.generateSource(e),a="vertex"===t?S:v,f=o.constants.generateSource(),h=this.outputs.generateSource(t);return`#version 300 es\n${n.join("\n")}\n${a}\n${f.join("\n")}\n${s.join("\n")}\n${r.join("\n")}\n${i.join("\n")}\n${h.join("\n")}\n${c.join("\n")}\n${u.join("\n")}`}generateBind(t){const e=new Map;this.vertex.uniforms.entries.forEach((t=>{const n=t.bind[o.c.Bind];n&&e.set(t.name,n)})),this.fragment.uniforms.entries.forEach((t=>{const n=t.bind[o.c.Bind];n&&e.set(t.name,n)}));const n=Array.from(e.values()),r=n.length;return e=>{for(let i=0;i<r;++i)n[i](t,e)}}generateBindPass(t){const e=new Map;this.vertex.uniforms.entries.forEach((t=>{const n=t.bind[o.c.Pass];n&&e.set(t.name,n)})),this.fragment.uniforms.entries.forEach((t=>{const n=t.bind[o.c.Pass];n&&e.set(t.name,n)}));const n=Array.from(e.values()),r=n.length;return(e,i)=>{for(let o=0;o<r;++o)n[o](t,e,i)}}generateBindDraw(t){const e=new Map;this.vertex.uniforms.entries.forEach((t=>{const n=t.bind[o.c.Draw];n&&e.set(t.name,n)})),this.fragment.uniforms.entries.forEach((t=>{const n=t.bind[o.c.Draw];n&&e.set(t.name,n)}));const n=Array.from(e.values()),r=n.length;return(e,i,o)=>{for(let s=0;s<r;++s)n[s](t,o,e,i)}}}class a{constructor(t){this._stage=t,this._entries=new Map}add(...t){for(const e of t)this._add(e);return this._stage}get(t){return this._entries.get(t)}_add(t){if(null!=t){if(this._entries.has(t.name)&&!this._entries.get(t.name).equals(t))throw new r.A("shaderbuilder:duplicate-uniform",`Duplicate uniform name ${t.name} for different uniform type`);this._entries.set(t.name,t)}else s().error(`Trying to add null Uniform from ${(new Error).stack}.`)}generateSource(){return Array.from(this._entries.values()).map((({name:t,arraySize:e,type:n})=>null!=e?`uniform ${n} ${t}[${e}];`:`uniform ${n} ${t};`))}get entries(){return Array.from(this._entries.values())}}class f{constructor(t){this._stage=t,this._bodies=new Array}add(t){return this._bodies.push(t),this._stage}generateSource(t){if(this._bodies.length>0)return[`void main() {\n ${this._bodies.join("\n")||""} \n}`];if(t)throw new r.A("shaderbuilder:missing-main","Shader does not contain main function body.");return[]}}class h{constructor(t){this._stage=t,this._entries=new Array}add(t){return this._entries.push(t),this._stage}generateSource(){return this._entries}}class l extends c{constructor(){super(...arguments),this.uniforms=new a(this),this.main=new f(this),this.code=new h(this),this.constants=new p(this)}get builder(){return this}}class d{constructor(){this._entries=new Array}add(t,e){this._entries.push([t,e])}generateSource(t){return"fragment"===t?[]:this._entries.map((t=>`in ${t[1]} ${t[0]};`))}}class g{constructor(){this._entries=new Map}add(t,e,n){this._entries.has(t)?s().warn(`Ignoring duplicate varying ${e} ${t}`):this._entries.set(t,{type:e,invariant:n?.invariant??!1})}generateSource(t){const e=new Array;return this._entries.forEach(((n,r)=>e.push((n.invariant&&"vertex"===t?"invariant ":"")+("vertex"===t?"out":"in")+` ${n.type} ${r};`))),e}}class _{constructor(){this._entries=new Set}add(t){this._entries.add(t)}generateSource(t){const e="vertex"===t?_.ALLOWLIST_VERTEX:_.ALLOWLIST_FRAGMENT;return Array.from(this._entries).filter((t=>e.includes(t))).map((t=>`#extension ${t} : enable`))}static{this.ALLOWLIST_FRAGMENT=["GL_EXT_shader_texture_lod","GL_OES_standard_derivatives"]}static{this.ALLOWLIST_VERTEX=[]}}class m{constructor(){this._entries=new Map}add(t,e,n=0){const r=this._entries.get(n);r?.name!==t||r?.type!==e?this._entries.set(n,{name:t,type:e}):s().warn(`Fragment shader output location ${n} occupied`)}static{this.DEFAULT_TYPE="vec4"}static{this.DEFAULT_NAME="fragColor"}generateSource(t){if("vertex"===t)return[];0===this._entries.size&&this._entries.set(0,{name:m.DEFAULT_NAME,type:m.DEFAULT_TYPE});const e=new Array;return this._entries.forEach(((t,n)=>e.push(`layout(location = ${n}) out ${t.type} ${t.name};`))),e}}class p{constructor(t){this._stage=t,this._entries=new Set}add(t,e,n){let r="ERROR_CONSTRUCTOR_STRING";switch(e){case"float":r=p._numberToFloatStr(n);break;case"int":r=p._numberToIntStr(n);break;case"bool":r=n.toString();break;case"vec2":r=`vec2(${p._numberToFloatStr(n[0])},                            ${p._numberToFloatStr(n[1])})`;break;case"vec3":r=`vec3(${p._numberToFloatStr(n[0])},                            ${p._numberToFloatStr(n[1])},                            ${p._numberToFloatStr(n[2])})`;break;case"vec4":r=`vec4(${p._numberToFloatStr(n[0])},                            ${p._numberToFloatStr(n[1])},                            ${p._numberToFloatStr(n[2])},                            ${p._numberToFloatStr(n[3])})`;break;case"ivec2":r=`ivec2(${p._numberToIntStr(n[0])},                             ${p._numberToIntStr(n[1])})`;break;case"ivec3":r=`ivec3(${p._numberToIntStr(n[0])},                             ${p._numberToIntStr(n[1])},                             ${p._numberToIntStr(n[2])})`;break;case"ivec4":r=`ivec4(${p._numberToIntStr(n[0])},                             ${p._numberToIntStr(n[1])},                             ${p._numberToIntStr(n[2])},                             ${p._numberToIntStr(n[3])})`;break;case"uvec2":r=`uvec2(${p._numberToIntStr(n[0])},                             ${p._numberToIntStr(n[1])})`;break;case"uvec3":r=`uvec3(${p._numberToIntStr(n[0])},                             ${p._numberToIntStr(n[1])},                             ${p._numberToIntStr(n[2])})`;break;case"uvec4":r=`uvec4(${p._numberToIntStr(n[0])},                             ${p._numberToIntStr(n[1])},                             ${p._numberToIntStr(n[2])},                             ${p._numberToIntStr(n[3])})`;break;case"mat2":case"mat3":case"mat4":r=`${e}(${Array.prototype.map.call(n,(t=>p._numberToFloatStr(t))).join(", ")})`}return this._entries.add(`const ${e} ${t} = ${r};`),this._stage}static _numberToIntStr(t){return t.toFixed(0)}static _numberToFloatStr(t){return Number.isInteger(t)?t.toFixed(1):t.toString()}generateSource(){return Array.from(this._entries)}}const v="#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n  precision highp int;\n  precision highp sampler2D;\n  precision highp usampler2D;\n  precision highp sampler2DArray;\n  precision highp sampler2DShadow;\n#else\n  precision mediump float;\n  precision mediump int;\n  precision mediump sampler2D;\n  precision mediump usampler2D;\n  precision mediump sampler2DArray;\n  precision mediump sampler2DShadow;\n#endif",S="precision highp float;\n precision highp sampler2D;\n precision highp usampler2D;\n precision highp sampler2DArray;\n precision highp sampler2DShadow;\n\n\n invariant gl_Position;\n "}}]);
//# sourceMappingURL=69992.06d517b2.chunk.js.map