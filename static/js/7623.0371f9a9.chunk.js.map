{"version":3,"file":"static/js/7623.0371f9a9.chunk.js","mappings":"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","sources":["../node_modules/@esri/calcite-components/dist/esm/array-e86a0605.js","../node_modules/@esri/calcite-components/dist/esm/calcite-action-menu.entry.js","../node_modules/@esri/calcite-components/dist/esm/key-3389d870.js","../node_modules/@esri/calcite-components/dist/esm/loadable-af146fd5.js","../node_modules/@esri/calcite-components/dist/esm/resources-2cb98f22.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.4.2\n */\nfunction getRoundRobinIndex(index, total) {\n  return (index + total) % total;\n}\n\nexport { getRoundRobinIndex as g };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.4.2\n */\nimport { r as registerInstance, c as createEvent, h, F as Fragment, a as getElement } from './index-a6760286.js';\nimport { g as getRoundRobinIndex } from './array-e86a0605.js';\nimport { t as toAriaBoolean, i as isPrimaryPointerButton, f as focusElement } from './dom-f74a09b7.js';\nimport { g as guid } from './guid-d5943b83.js';\nimport { i as isActivationKey } from './key-3389d870.js';\nimport { s as setUpLoadableComponent, a as setComponentLoaded, c as componentLoaded } from './loadable-af146fd5.js';\nimport { C as CSS, I as ICONS, S as SLOTS } from './resources-2cb98f22.js';\nimport './resources-d08a6737.js';\n\nconst actionMenuCss = \"@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-right{0%{opacity:0;transform:translate3D(-5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-left{0%{opacity:0;transform:translate3D(5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-right{animation-name:in-right}.calcite-animate__in-left{animation-name:in-left}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:var(--calcite-app-z-index-dropdown)}:host([hidden]){display:none}:host{box-sizing:border-box;display:flex;flex-direction:column;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size-1);color:var(--calcite-ui-text-2)}.menu ::slotted(calcite-action){margin:0.125rem;display:flex;outline-color:transparent}.menu ::slotted(calcite-action[active]){outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(\\n            2px *\\n            calc(\\n              1 -\\n              2 * clamp(\\n                0,\\n                var(--calcite-ui-focus-offset-invert),\\n                1\\n              )\\n            )\\n          );outline-offset:0px}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{flex-direction:column;flex-wrap:nowrap;outline:2px solid transparent;outline-offset:2px}\";\n\nconst SUPPORTED_MENU_NAV_KEYS = [\"ArrowUp\", \"ArrowDown\", \"End\", \"Home\"];\nconst ActionMenu = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.calciteActionMenuOpen = createEvent(this, \"calciteActionMenuOpen\", 6);\n    this.actionElements = [];\n    this.guid = `calcite-action-menu-${guid()}`;\n    this.menuId = `${this.guid}-menu`;\n    this.menuButtonId = `${this.guid}-menu-button`;\n    // --------------------------------------------------------------------------\n    //\n    //  Component Methods\n    //\n    // --------------------------------------------------------------------------\n    this.connectMenuButtonEl = () => {\n      const { menuButtonId, menuId, open, label } = this;\n      const menuButtonEl = this.slottedMenuButtonEl || this.defaultMenuButtonEl;\n      if (this.menuButtonEl === menuButtonEl) {\n        return;\n      }\n      this.disconnectMenuButtonEl();\n      this.menuButtonEl = menuButtonEl;\n      this.setTooltipReferenceElement();\n      if (!menuButtonEl) {\n        return;\n      }\n      menuButtonEl.active = open;\n      menuButtonEl.setAttribute(\"aria-controls\", menuId);\n      menuButtonEl.setAttribute(\"aria-expanded\", toAriaBoolean(open));\n      menuButtonEl.setAttribute(\"aria-haspopup\", \"true\");\n      if (!menuButtonEl.id) {\n        menuButtonEl.id = menuButtonId;\n      }\n      if (!menuButtonEl.label) {\n        menuButtonEl.label = label;\n      }\n      if (!menuButtonEl.text) {\n        menuButtonEl.text = label;\n      }\n      menuButtonEl.addEventListener(\"pointerdown\", this.menuButtonClick);\n      menuButtonEl.addEventListener(\"keydown\", this.menuButtonKeyDown);\n    };\n    this.disconnectMenuButtonEl = () => {\n      const { menuButtonEl } = this;\n      if (!menuButtonEl) {\n        return;\n      }\n      menuButtonEl.removeEventListener(\"pointerdown\", this.menuButtonClick);\n      menuButtonEl.removeEventListener(\"keydown\", this.menuButtonKeyDown);\n    };\n    this.setMenuButtonEl = (event) => {\n      const actions = event.target\n        .assignedElements({\n        flatten: true\n      })\n        .filter((el) => el?.matches(\"calcite-action\"));\n      this.slottedMenuButtonEl = actions[0];\n      this.connectMenuButtonEl();\n    };\n    this.setDefaultMenuButtonEl = (el) => {\n      this.defaultMenuButtonEl = el;\n      this.connectMenuButtonEl();\n    };\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    this.handleCalciteActionClick = () => {\n      this.open = false;\n      this.setFocus();\n    };\n    this.menuButtonClick = (event) => {\n      if (!isPrimaryPointerButton(event)) {\n        return;\n      }\n      this.toggleOpen();\n    };\n    this.updateTooltip = (event) => {\n      const tooltips = event.target\n        .assignedElements({\n        flatten: true\n      })\n        .filter((el) => el?.matches(\"calcite-tooltip\"));\n      this.tooltipEl = tooltips[0];\n      this.setTooltipReferenceElement();\n    };\n    this.setTooltipReferenceElement = () => {\n      const { tooltipEl, expanded, menuButtonEl, open } = this;\n      if (tooltipEl) {\n        tooltipEl.referenceElement = !expanded && !open ? menuButtonEl : null;\n      }\n    };\n    this.updateAction = (action, index) => {\n      const { guid, activeMenuItemIndex } = this;\n      const id = `${guid}-action-${index}`;\n      action.tabIndex = -1;\n      action.setAttribute(\"role\", \"menuitem\");\n      if (!action.id) {\n        action.id = id;\n      }\n      action.active = index === activeMenuItemIndex;\n    };\n    this.updateActions = (actions) => {\n      actions?.forEach(this.updateAction);\n    };\n    this.handleDefaultSlotChange = (event) => {\n      const actions = event.target\n        .assignedElements({\n        flatten: true\n      })\n        .filter((el) => el?.matches(\"calcite-action\"));\n      this.actionElements = actions;\n    };\n    this.menuButtonKeyDown = (event) => {\n      const { key } = event;\n      const { actionElements, activeMenuItemIndex, open } = this;\n      if (!actionElements.length) {\n        return;\n      }\n      if (isActivationKey(key)) {\n        event.preventDefault();\n        if (!open) {\n          this.toggleOpen();\n          return;\n        }\n        const action = actionElements[activeMenuItemIndex];\n        action ? action.click() : this.toggleOpen(false);\n      }\n      if (key === \"Tab\") {\n        this.open = false;\n        return;\n      }\n      if (key === \"Escape\") {\n        this.toggleOpen(false);\n        event.preventDefault();\n        return;\n      }\n      this.handleActionNavigation(event, key, actionElements);\n    };\n    this.handleActionNavigation = (event, key, actions) => {\n      if (!this.isValidKey(key, SUPPORTED_MENU_NAV_KEYS)) {\n        return;\n      }\n      event.preventDefault();\n      if (!this.open) {\n        this.toggleOpen();\n        if (key === \"Home\" || key === \"ArrowDown\") {\n          this.activeMenuItemIndex = 0;\n        }\n        if (key === \"End\" || key === \"ArrowUp\") {\n          this.activeMenuItemIndex = actions.length - 1;\n        }\n        return;\n      }\n      if (key === \"Home\") {\n        this.activeMenuItemIndex = 0;\n      }\n      if (key === \"End\") {\n        this.activeMenuItemIndex = actions.length - 1;\n      }\n      const currentIndex = this.activeMenuItemIndex;\n      if (key === \"ArrowUp\") {\n        this.activeMenuItemIndex = getRoundRobinIndex(Math.max(currentIndex - 1, -1), actions.length);\n      }\n      if (key === \"ArrowDown\") {\n        this.activeMenuItemIndex = getRoundRobinIndex(currentIndex + 1, actions.length);\n      }\n    };\n    this.toggleOpenEnd = () => {\n      this.setFocus();\n      this.el.removeEventListener(\"calcitePopoverOpen\", this.toggleOpenEnd);\n    };\n    this.toggleOpen = (value = !this.open) => {\n      this.el.addEventListener(\"calcitePopoverOpen\", this.toggleOpenEnd);\n      this.open = value;\n    };\n    this.expanded = false;\n    this.flipPlacements = undefined;\n    this.label = undefined;\n    this.open = false;\n    this.overlayPositioning = \"absolute\";\n    this.placement = \"auto\";\n    this.scale = undefined;\n    this.menuButtonEl = undefined;\n    this.activeMenuItemIndex = -1;\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n  componentWillLoad() {\n    setUpLoadableComponent(this);\n  }\n  componentDidLoad() {\n    setComponentLoaded(this);\n  }\n  disconnectedCallback() {\n    this.disconnectMenuButtonEl();\n  }\n  expandedHandler() {\n    this.open = false;\n    this.setTooltipReferenceElement();\n  }\n  openHandler(open) {\n    this.activeMenuItemIndex = this.open ? 0 : -1;\n    if (this.menuButtonEl) {\n      this.menuButtonEl.active = open;\n    }\n    this.calciteActionMenuOpen.emit();\n    this.setTooltipReferenceElement();\n  }\n  closeCalciteActionMenuOnClick(event) {\n    if (!isPrimaryPointerButton(event)) {\n      return;\n    }\n    const composedPath = event.composedPath();\n    if (composedPath.includes(this.el)) {\n      return;\n    }\n    this.open = false;\n  }\n  activeMenuItemIndexHandler() {\n    this.updateActions(this.actionElements);\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Methods\n  //\n  // --------------------------------------------------------------------------\n  /** Sets focus on the component. */\n  async setFocus() {\n    await componentLoaded(this);\n    focusElement(this.menuButtonEl);\n  }\n  renderMenuButton() {\n    const { label, scale, expanded } = this;\n    const menuButtonSlot = (h(\"slot\", { name: SLOTS.trigger, onSlotchange: this.setMenuButtonEl }, h(\"calcite-action\", { class: CSS.defaultTrigger, icon: ICONS.menu, scale: scale, text: label, textEnabled: expanded,\n      // eslint-disable-next-line react/jsx-sort-props\n      ref: this.setDefaultMenuButtonEl })));\n    return menuButtonSlot;\n  }\n  renderMenuItems() {\n    const { actionElements, activeMenuItemIndex, open, menuId, menuButtonEl, label, placement, overlayPositioning, flipPlacements } = this;\n    const activeAction = actionElements[activeMenuItemIndex];\n    const activeDescendantId = activeAction?.id || null;\n    return (h(\"calcite-popover\", { flipPlacements: flipPlacements, focusTrapDisabled: true, label: label, offsetDistance: 0, open: open, overlayPositioning: overlayPositioning, placement: placement, pointerDisabled: true, referenceElement: menuButtonEl }, h(\"div\", { \"aria-activedescendant\": activeDescendantId, \"aria-labelledby\": menuButtonEl?.id, class: CSS.menu, id: menuId, onClick: this.handleCalciteActionClick, role: \"menu\", tabIndex: -1 }, h(\"slot\", { onSlotchange: this.handleDefaultSlotChange }))));\n  }\n  render() {\n    return (h(Fragment, null, this.renderMenuButton(), this.renderMenuItems(), h(\"slot\", { name: SLOTS.tooltip, onSlotchange: this.updateTooltip })));\n  }\n  isValidKey(key, supportedKeys) {\n    return !!supportedKeys.find((k) => k === key);\n  }\n  get el() { return getElement(this); }\n  static get watchers() { return {\n    \"expanded\": [\"expandedHandler\"],\n    \"open\": [\"openHandler\"],\n    \"activeMenuItemIndex\": [\"activeMenuItemIndexHandler\"]\n  }; }\n};\nActionMenu.style = actionMenuCss;\n\nexport { ActionMenu as calcite_action_menu };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.4.2\n */\nfunction isActivationKey(key) {\n  return key === \"Enter\" || key === \" \";\n}\nconst numberKeys = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"];\n\nexport { isActivationKey as i, numberKeys as n };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.4.2\n */\nconst resolveMap = new WeakMap();\nconst promiseMap = new WeakMap();\n/**\n * This helper util sets up the component for the ability to know when the component has been loaded.\n *\n * This should be used in the `componentWillLoad` lifecycle hook.\n *\n * ```\n * componentWillLoad(): void {\n *   setUpLoadableComponent(this);\n * }\n * ```\n *\n * @param component\n */\nfunction setUpLoadableComponent(component) {\n  promiseMap.set(component, new Promise((resolve) => resolveMap.set(component, resolve)));\n}\n/**\n * This helper util lets the loadable component know that it is now loaded.\n *\n * This should be used in the `componentDidLoad` lifecycle hook.\n *\n * ```\n * componentDidLoad(): void {\n *   setComponentLoaded(this);\n * }\n * ```\n *\n * @param component\n */\nfunction setComponentLoaded(component) {\n  resolveMap.get(component)();\n}\n/**\n * This helper util can be used to ensure a component has been loaded (The \"componentDidLoad\" stencil lifecycle method has been called).\n *\n * Requires \"setUpLoadableComponent\" and \"setComponentLoaded\" to be called first.\n *\n * A component developer can await this method before proceeding with any logic that requires a component to be loaded first.\n *\n * ```\n * async setFocus(): Promise<void> {\n *   await componentLoaded(this);\n * }\n * ```\n *\n * @param component\n * @returns Promise<void>\n */\nfunction componentLoaded(component) {\n  return promiseMap.get(component);\n}\n\nexport { setComponentLoaded as a, componentLoaded as c, setUpLoadableComponent as s };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.4.2\n */\nconst CSS = {\n  menu: \"menu\",\n  defaultTrigger: \"default-trigger\"\n};\nconst SLOTS = {\n  tooltip: \"tooltip\",\n  trigger: \"trigger\"\n};\nconst ICONS = {\n  menu: \"ellipsis\"\n};\n\nexport { CSS as C, ICONS as I, SLOTS as S };\n"],"names":["getRoundRobinIndex","index","total","SUPPORTED_MENU_NAV_KEYS","ActionMenu","constructor","hostRef","registerInstance","this","calciteActionMenuOpen","createEvent","actionElements","guid","menuId","menuButtonId","connectMenuButtonEl","open","label","menuButtonEl","slottedMenuButtonEl","defaultMenuButtonEl","disconnectMenuButtonEl","setTooltipReferenceElement","active","setAttribute","toAriaBoolean","id","text","addEventListener","menuButtonClick","menuButtonKeyDown","removeEventListener","setMenuButtonEl","event","actions","target","assignedElements","flatten","filter","el","matches","setDefaultMenuButtonEl","handleCalciteActionClick","setFocus","isPrimaryPointerButton","toggleOpen","updateTooltip","tooltips","tooltipEl","expanded","referenceElement","updateAction","action","activeMenuItemIndex","tabIndex","updateActions","forEach","handleDefaultSlotChange","key","length","isActivationKey","preventDefault","click","handleActionNavigation","isValidKey","currentIndex","Math","max","toggleOpenEnd","value","flipPlacements","undefined","overlayPositioning","placement","scale","componentWillLoad","setUpLoadableComponent","componentDidLoad","setComponentLoaded","disconnectedCallback","expandedHandler","openHandler","emit","closeCalciteActionMenuOnClick","composedPath","includes","activeMenuItemIndexHandler","componentLoaded","focusElement","renderMenuButton","h","name","SLOTS","onSlotchange","class","CSS","icon","ICONS","textEnabled","ref","renderMenuItems","activeDescendantId","focusTrapDisabled","offsetDistance","pointerDisabled","onClick","role","render","Fragment","supportedKeys","find","k","getElement","watchers","style","numberKeys","resolveMap","WeakMap","promiseMap","component","set","Promise","resolve","get","menu","defaultTrigger","tooltip","trigger"],"sourceRoot":""}