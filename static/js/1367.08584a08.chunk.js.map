{"version":3,"file":"static/js/1367.08584a08.chunk.js","mappings":"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","sources":["../node_modules/@esri/calcite-components/dist/components/calcite-tree/customElement.js"],"sourcesContent":["/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { html } from \"lit\";\nimport { LitElement, createEvent, setAttribute } from \"@arcgis/lumina\";\nimport { b as focusElement, n as nodeListToArray, s as slotChangeGetAssignedElements, t as toAriaBoolean } from \"../../chunks/dom.js\";\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nfunction isTreeItem(element) {\n  return element?.tagName === \"CALCITE-TREE-ITEM\";\n}\nfunction getTraversableItems(root) {\n  return Array.from(root.querySelectorAll(\"calcite-tree-item:not([disabled])\")).filter(\n    (item) => {\n      let currentItem = item;\n      while (currentItem !== root && currentItem !== void 0) {\n        const parent = currentItem.parentElement;\n        const traversable = !isTreeItem(parent) || !parent.hasChildren || parent.expanded;\n        if (!traversable) {\n          return false;\n        }\n        currentItem = currentItem.parentElement;\n      }\n      return true;\n    }\n  );\n}\nconst styles = css`:host{display:block}:host(:focus){outline:2px solid transparent;outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}`;\nclass Tree extends LitElement {\n  constructor() {\n    super();\n    this.items = [];\n    this.lines = false;\n    this.parentExpanded = false;\n    this.scale = \"m\";\n    this.selectedItems = [];\n    this.selectionMode = \"single\";\n    this.calciteTreeSelect = createEvent({ cancelable: false });\n    this.listen(\"focus\", this.onFocus);\n    this.listen(\"focusin\", this.onFocusIn);\n    this.listen(\"focusout\", this.onFocusOut);\n    this.listen(\"calciteInternalTreeItemSelect\", this.onInternalTreeItemSelect);\n    this.listen(\"keydown\", this.keyDownHandler);\n  }\n  static {\n    this.properties = { child: [7, {}, { reflect: true, type: Boolean }], lines: [7, {}, { reflect: true, type: Boolean }], parentExpanded: [5, {}, { type: Boolean }], scale: [3, {}, { reflect: true }], selectedItems: [0, {}, { attribute: false }], selectionMode: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  willUpdate(changes) {\n    if (changes.has(\"parentExpanded\") && (this.hasUpdated || this.parentExpanded !== false)) {\n      this.updateItems();\n    }\n    const parent = this.el.parentElement?.closest(\"calcite-tree\");\n    this.lines = parent ? parent.lines : this.lines;\n    this.scale = parent ? parent.scale : this.scale;\n    this.selectionMode = parent ? parent.selectionMode : this.selectionMode;\n    this.child = !!parent;\n  }\n  onFocus() {\n    if (!this.child) {\n      const focusTarget = this.el.querySelector(\"calcite-tree-item[selected]:not([disabled])\") || this.el.querySelector(\"calcite-tree-item:not([disabled])\");\n      focusElement(focusTarget);\n    }\n  }\n  onFocusIn(event) {\n    const focusedFromRootOrOutsideTree = event.relatedTarget === this.el || !this.el.contains(event.relatedTarget);\n    if (focusedFromRootOrOutsideTree) {\n      this.el.removeAttribute(\"tabindex\");\n    }\n  }\n  onFocusOut(event) {\n    const willFocusOutsideTree = !this.el.contains(event.relatedTarget);\n    if (willFocusOutsideTree) {\n      this.el.tabIndex = this.getRootTabIndex();\n    }\n  }\n  onInternalTreeItemSelect(event) {\n    if (this.child) {\n      return;\n    }\n    const target = event.target;\n    const childItems = nodeListToArray(target.querySelectorAll(\"calcite-tree-item\"));\n    event.preventDefault();\n    event.stopPropagation();\n    if (this.selectionMode === \"ancestors\") {\n      this.updateAncestorTree(event);\n      return;\n    }\n    const isNoneSelectionMode = this.selectionMode === \"none\";\n    const shouldSelect = this.selectionMode !== null && (!target.hasChildren || target.hasChildren && (this.selectionMode === \"children\" || this.selectionMode === \"multichildren\"));\n    const shouldDeselectAllChildren = this.selectionMode === \"multichildren\" && target.hasChildren;\n    const shouldModifyToCurrentSelection = !isNoneSelectionMode && event.detail.modifyCurrentSelection && (this.selectionMode === \"multiple\" || this.selectionMode === \"multichildren\");\n    const shouldClearCurrentSelection = !shouldModifyToCurrentSelection && ((this.selectionMode === \"single\" || this.selectionMode === \"multiple\") && childItems.length <= 0 || this.selectionMode === \"children\" || this.selectionMode === \"multichildren\" || this.selectionMode === \"single-persist\" && !target.hasChildren);\n    const shouldUpdateExpand = [\"multiple\", \"none\", \"single\", \"single-persist\"].includes(this.selectionMode) && target.hasChildren;\n    const targetItems = [];\n    if (shouldSelect) {\n      targetItems.push(target);\n    }\n    if (shouldClearCurrentSelection) {\n      const selectedItems = nodeListToArray(this.el.querySelectorAll(\"calcite-tree-item[selected]\"));\n      selectedItems.forEach((treeItem) => {\n        if (!targetItems.includes(treeItem)) {\n          treeItem.selected = false;\n        }\n      });\n    }\n    if (shouldUpdateExpand && [\"multiple\", \"none\", \"single\", \"single-persist\"].includes(this.selectionMode)) {\n      target.expanded = !target.expanded;\n    }\n    if (shouldDeselectAllChildren) {\n      childItems.forEach((item) => {\n        item.selected = false;\n        if (item.hasChildren) {\n          item.expanded = false;\n        }\n      });\n    }\n    if (shouldModifyToCurrentSelection) {\n      window.getSelection().removeAllRanges();\n    }\n    if (shouldModifyToCurrentSelection && target.selected) {\n      targetItems.forEach((treeItem) => {\n        if (!treeItem.disabled) {\n          treeItem.selected = false;\n        }\n      });\n    } else if (!isNoneSelectionMode) {\n      targetItems.forEach((treeItem) => {\n        if (!treeItem.disabled) {\n          treeItem.selected = this.selectionMode !== \"single\" || !treeItem.selected;\n        }\n      });\n    }\n    this.selectedItems = isNoneSelectionMode ? [] : nodeListToArray(this.el.querySelectorAll(\"calcite-tree-item\")).filter((i) => i.selected);\n    this.calciteTreeSelect.emit();\n    event.stopPropagation();\n  }\n  keyDownHandler(event) {\n    if (this.child) {\n      return;\n    }\n    const root = this.el;\n    const target = event.target;\n    const supportedKeys = [\"ArrowRight\", \"ArrowDown\", \"ArrowLeft\", \"ArrowUp\", \"Home\", \"End\", \"Tab\"];\n    if (!(isTreeItem(target) && this.el.contains(target)) || !supportedKeys.includes(event.key)) {\n      return;\n    }\n    const traversableItems = getTraversableItems(root);\n    if (event.key === \"Tab\") {\n      traversableItems.forEach((item) => item.tabIndex = -1);\n      return;\n    }\n    if (event.key === \"ArrowDown\") {\n      const currentItemIndex = traversableItems.indexOf(target);\n      const nextItem = traversableItems[currentItemIndex + 1];\n      nextItem?.focus();\n      event.preventDefault();\n      return;\n    }\n    if (event.key === \"ArrowUp\") {\n      const currentItemIndex = traversableItems.indexOf(target);\n      const previousItem = traversableItems[currentItemIndex - 1];\n      previousItem?.focus();\n      event.preventDefault();\n      return;\n    }\n    if (event.key === \"ArrowLeft\") {\n      if (target.hasChildren && target.expanded) {\n        target.expanded = false;\n        event.preventDefault();\n        return;\n      }\n      const rootToItemPath = traversableItems.slice(0, traversableItems.indexOf(target)).reverse();\n      const parentItem = rootToItemPath.find((item) => item.depth === target.depth - 1);\n      parentItem?.focus();\n      event.preventDefault();\n      return;\n    }\n    if (event.key === \"ArrowRight\") {\n      if (!target.disabled && target.hasChildren) {\n        if (!target.expanded) {\n          target.expanded = true;\n          event.preventDefault();\n        } else {\n          const currentItemIndex = traversableItems.indexOf(target);\n          const nextItem = traversableItems[currentItemIndex + 1];\n          nextItem?.focus();\n          event.preventDefault();\n        }\n      }\n      return;\n    }\n    if (event.key === \"Home\") {\n      const firstNode = traversableItems.shift();\n      if (firstNode) {\n        firstNode.focus();\n        event.preventDefault();\n      }\n      return;\n    }\n    if (event.key === \"End\") {\n      const lastNode = traversableItems.pop();\n      if (lastNode) {\n        lastNode.focus();\n        event.preventDefault();\n      }\n      return;\n    }\n  }\n  updateAncestorTree(event) {\n    const item = event.target;\n    const updateItem = event.detail.updateItem;\n    if (item.disabled || item.indeterminate && !updateItem) {\n      return;\n    }\n    const ancestors = [];\n    let parent = item.parentElement.closest(\"calcite-tree-item\");\n    while (parent) {\n      ancestors.push(parent);\n      parent = parent.parentElement.closest(\"calcite-tree-item\");\n    }\n    const childItems = Array.from(item.querySelectorAll(\"calcite-tree-item:not([disabled])\"));\n    const childItemsWithNoChildren = childItems.filter((child) => !child.hasChildren);\n    const childItemsWithChildren = childItems.filter((child) => child.hasChildren);\n    let futureSelected;\n    if (updateItem) {\n      futureSelected = item.hasChildren ? !(item.selected || item.indeterminate) : !item.selected;\n    } else {\n      futureSelected = item.selected;\n    }\n    childItemsWithNoChildren.forEach((el) => {\n      el.selected = futureSelected;\n      el.indeterminate = false;\n    });\n    function updateItemState(childItems2, item2) {\n      const selected = childItems2.filter((child) => child.selected);\n      const unselected = childItems2.filter((child) => !child.selected);\n      item2.selected = selected.length === childItems2.length;\n      item2.indeterminate = selected.length > 0 && unselected.length > 0;\n    }\n    childItemsWithChildren.reverse().forEach((el) => {\n      const directChildItems = Array.from(el.querySelectorAll(\":scope > calcite-tree > calcite-tree-item\"));\n      updateItemState(directChildItems, el);\n    });\n    if (updateItem) {\n      if (item.hasChildren) {\n        updateItemState(childItems, item);\n      } else {\n        item.selected = futureSelected;\n        item.indeterminate = false;\n      }\n    }\n    ancestors.forEach((ancestor) => {\n      const descendants = nodeListToArray(ancestor.querySelectorAll(\"calcite-tree-item\"));\n      const activeDescendants = descendants.filter((el) => el.selected);\n      if (activeDescendants.length === 0) {\n        ancestor.selected = false;\n        ancestor.indeterminate = false;\n        return;\n      }\n      const indeterminate = activeDescendants.length < descendants.length;\n      ancestor.indeterminate = indeterminate;\n      ancestor.selected = !indeterminate;\n    });\n    this.selectedItems = nodeListToArray(this.el.querySelectorAll(\"calcite-tree-item\")).filter((i) => i.selected);\n    if (updateItem) {\n      this.calciteTreeSelect.emit();\n    }\n  }\n  updateItems() {\n    this.items.forEach((item) => item.parentExpanded = this.parentExpanded);\n  }\n  handleDefaultSlotChange(event) {\n    const items = slotChangeGetAssignedElements(event).filter((el) => el.matches(\"calcite-tree-item\"));\n    this.items = items;\n    this.updateItems();\n  }\n  getRootTabIndex() {\n    return !this.child ? 0 : -1;\n  }\n  render() {\n    this.el.ariaMultiSelectable = this.child ? void 0 : toAriaBoolean(this.selectionMode === \"multiple\" || this.selectionMode === \"multichildren\");\n    this.el.role = !this.child ? \"tree\" : void 0;\n    setAttribute(this.el, \"tabIndex\", this.getRootTabIndex());\n    return html`<slot @slotchange=${this.handleDefaultSlotChange}></slot>`;\n  }\n}\ncustomElement(\"calcite-tree\", Tree);\nexport {\n  Tree\n};\n"],"names":["isTreeItem","element","tagName","styles","css","Tree","LitElement","constructor","super","this","items","lines","parentExpanded","scale","selectedItems","selectionMode","calciteTreeSelect","createEvent","cancelable","listen","onFocus","onFocusIn","onFocusOut","onInternalTreeItemSelect","keyDownHandler","properties","child","reflect","type","Boolean","attribute","willUpdate","changes","has","hasUpdated","updateItems","parent","el","parentElement","closest","focusTarget","querySelector","focusElement","event","relatedTarget","contains","removeAttribute","tabIndex","getRootTabIndex","target","childItems","nodeListToArray","querySelectorAll","preventDefault","stopPropagation","updateAncestorTree","isNoneSelectionMode","shouldSelect","hasChildren","shouldDeselectAllChildren","shouldModifyToCurrentSelection","detail","modifyCurrentSelection","shouldClearCurrentSelection","length","shouldUpdateExpand","includes","targetItems","push","forEach","treeItem","selected","expanded","item","window","getSelection","removeAllRanges","disabled","filter","i","emit","root","key","traversableItems","Array","from","currentItem","getTraversableItems","currentItemIndex","indexOf","nextItem","focus","previousItem","parentItem","slice","reverse","find","depth","lastNode","pop","firstNode","shift","updateItem","indeterminate","ancestors","childItemsWithNoChildren","childItemsWithChildren","futureSelected","updateItemState","childItems2","item2","unselected","ancestor","descendants","activeDescendants","handleDefaultSlotChange","slotChangeGetAssignedElements","matches","render","ariaMultiSelectable","toAriaBoolean","role","setAttribute","html","customElement"],"sourceRoot":""}