"use strict";(globalThis.webpackChunkmy_app=globalThis.webpackChunkmy_app||[]).push([[80696],{45136:(e,t,r)=>{r.d(t,{a:()=>d,b:()=>a,c:()=>o,d:()=>s,e:()=>l,f:()=>f,l:()=>c,n:()=>h,t:()=>i});var n=r(99746);r(81806),r(76460);function s(e,t,r){i(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function i(e,t,r,n=3,s=n){if(e.length/n!==Math.ceil(t.length/s))return e;const i=e.length/n,o=r[0],a=r[1],u=r[2],c=r[4],f=r[5],d=r[6],l=r[8],h=r[9],m=r[10],_=r[12],p=r[13],g=r[14];let S=0,y=0;for(let b=0;b<i;b++){const r=t[S],i=t[S+1],b=t[S+2];e[y]=o*r+c*i+l*b+_,e[y+1]=a*r+f*i+h*b+p,e[y+2]=u*r+d*i+m*b+g,S+=s,y+=n}return e}function o(e,t,r){a(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function a(e,t,r,n=3,s=n){if(e.length/n!==Math.ceil(t.length/s))return;const i=e.length/n,o=r[0],a=r[1],u=r[2],c=r[3],f=r[4],d=r[5],l=r[6],h=r[7],m=r[8];let _=0,p=0;for(let g=0;g<i;g++){const r=t[_],i=t[_+1],g=t[_+2];e[p]=o*r+c*i+l*g,e[p+1]=a*r+f*i+h*g,e[p+2]=u*r+d*i+m*g,_+=s,p+=n}}function u(e,t,r,n=3,s=n){const i=Math.min(e.length/n,t.length/s);let o=0,a=0;for(let u=0;u<i;u++)e[a]=r*t[o],e[a+1]=r*t[o+1],e[a+2]=r*t[o+2],o+=s,a+=n;return e}function c(e,t,r,n){f(e.typedBuffer,t.typedBuffer,r,n,e.typedBufferStride,t.typedBufferStride)}function f(e,t,r,s,i=3,o=i){const a=Math.min(e.length/i,t.length/o);let u=0,c=0;const f=1/n.Tf;for(let n=0;n<a;n++)e[c]=s*(r*t[u])**f,e[c+1]=s*(r*t[u+1])**f,e[c+2]=s*(r*t[u+2])**f,u+=o,c+=i}function d(e,t,r,n=3,s=n){const i=e.length/n;if(i!==Math.ceil(t.length/s))return e;let o=0,a=0;for(let u=0;u<i;u++)e[a]=t[o]+r[0],e[a+1]=t[o+1]+r[1],e[a+2]=t[o+2]+r[2],o+=s,a+=n;return e}function l(e,t){h(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function h(e,t,r=3,n=r){const s=Math.min(e.length/r,t.length/n);let i=0,o=0;for(let a=0;a<s;a++){const s=t[i],a=t[i+1],u=t[i+2],c=s*s+a*a+u*u;if(c>0){const t=1/Math.sqrt(c);e[o]=t*s,e[o+1]=t*a,e[o+2]=t*u}i+=n,o+=r}}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:f,linearToSRGBView:c,normalize:h,normalizeView:l,scale:u,scaleView:function(e,t,r){u(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)},shiftRight:function(e,t,r){const n=Math.min(e.count,t.count),s=e.typedBuffer,i=e.typedBufferStride,o=t.typedBuffer,a=t.typedBufferStride;let u=0,c=0;for(let f=0;f<n;f++)s[c]=o[u]>>r,s[c+1]=o[u+1]>>r,s[c+2]=o[u+2]>>r,u+=a,c+=i},transformMat3:a,transformMat3View:o,transformMat4:i,transformMat4View:s,translate:d},Symbol.toStringTag,{value:"Module"}))},10947:(e,t,r)=>{r.d(t,{a:()=>i,b:()=>f,l:()=>c,n:()=>a,t:()=>o});var n=r(99746),s=(r(81806),r(76460));function i(e,t,r){o(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function o(e,t,r,n=4,s=n){if(e.length/n!=t.length/s)return;const i=e.length/n,o=r[0],a=r[1],u=r[2],c=r[3],f=r[4],d=r[5],l=r[6],h=r[7],m=r[8];let _=0,p=0;for(let g=0;g<i;g++){const r=t[_],i=t[_+1],g=t[_+2],S=t[_+3];e[p]=o*r+c*i+l*g,e[p+1]=a*r+f*i+h*g,e[p+2]=u*r+d*i+m*g,e[p+3]=S,_+=s,p+=n}}function a(e,t){const r=Math.min(e.count,t.count),n=e.typedBuffer,s=e.typedBufferStride,i=t.typedBuffer,o=t.typedBufferStride;for(let a=0;a<r;a++){const e=a*s,t=a*o,r=i[t],u=i[t+1],c=i[t+2],f=r*r+u*u+c*c;if(f>0){const t=1/Math.sqrt(f);n[e]=t*r,n[e+1]=t*u,n[e+2]=t*c}}}function u(e,t,r,n=4){const s=Math.min(e.length/n,t.count),i=t.typedBuffer,o=t.typedBufferStride;let a=0,u=0;for(let c=0;c<s;c++)e[u]=r*i[a],e[u+1]=r*i[a+1],e[u+2]=r*i[a+2],e[u+3]=r*i[a+3],a+=o,u+=n}function c(e,t,r,n){f(e.typedBuffer,t,r,n,e.typedBufferStride)}function f(e,t,r,s,i=4){const o=Math.min(e.length/i,t.count),a=t.typedBuffer,u=t.typedBufferStride;let c=0,f=0;const d=1/n.Tf;for(let n=0;n<o;n++)e[f]=s*(r*a[c])**d,e[f+1]=s*(r*a[c+1])**d,e[f+2]=s*(r*a[c+2])**d,e[f+3]=s*r*a[c+3],c+=u,f+=i}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:f,linearToSRGBView:c,normalize:a,scale:u,scaleView:function(e,t,r){u(e.typedBuffer,t,r,e.typedBufferStride)},transformMat3:o,transformMat3View:i,transformMat4:function(e,t,r,n=4,i=n){if(e.length/n!=t.length/i)return void s.A.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const o=e.length/n,a=r[0],u=r[1],c=r[2],f=r[3],d=r[4],l=r[5],h=r[6],m=r[7],_=r[8],p=r[9],g=r[10],S=r[11],y=r[12],b=r[13],B=r[14],T=r[15];let w=0,$=0;for(let s=0;s<o;s++){const r=t[w],s=t[w+1],o=t[w+2],v=t[w+3];e[$]=a*r+d*s+_*o+y*v,e[$+1]=u*r+l*s+p*o+b*v,e[$+2]=c*r+h*s+g*o+B*v,e[$+3]=f*r+m*s+S*o+T*v,w+=i,$+=n}},transformMat4View:function(e,t,r){if(e.count!==t.count)return;const n=e.count,s=r[0],i=r[1],o=r[2],a=r[3],u=r[4],c=r[5],f=r[6],d=r[7],l=r[8],h=r[9],m=r[10],_=r[11],p=r[12],g=r[13],S=r[14],y=r[15],b=e.typedBuffer,B=e.typedBufferStride,T=t.typedBuffer,w=t.typedBufferStride;for(let $=0;$<n;$++){const e=$*B,t=$*w,r=T[t],n=T[t+1],v=T[t+2],M=T[t+3];b[e]=s*r+u*n+l*v+p*M,b[e+1]=i*r+c*n+h*v+g*M,b[e+2]=o*r+f*n+m*v+S*M,b[e+3]=a*r+d*n+_*v+y*M}}},Symbol.toStringTag,{value:"Module"}))},75941:(e,t,r)=>{r.d(t,{O:()=>n});class n{constructor(){this._outer=new Map}clear(){this._outer.clear()}get empty(){return 0===this._outer.size}get(e,t){return this._outer.get(e)?.get(t)}getInner(e){return this._outer.get(e)}set(e,t,r){const n=this._outer.get(e);n?n.set(t,r):this._outer.set(e,new Map([[t,r]]))}delete(e,t){const r=this._outer.get(e);r&&(r.delete(t),0===r.size&&this._outer.delete(e))}forEach(e){this._outer.forEach(((t,r)=>e(t,r)))}forAll(e){for(const t of this._outer.values())for(const r of t.values())e(r)}}},44680:(e,t,r)=>{function n(){return[1,0,0,0,1,0,0,0,1]}function s(e,t,r,n,s,i,o,a,u){return[e,t,r,n,s,i,o,a,u]}r.d(t,{fA:()=>s,vt:()=>n,zK:()=>i});const i=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},create:n,createView:function(e,t){return new Float64Array(e,t,9)},fromValues:s},Symbol.toStringTag,{value:"Module"}))},69728:(e,t,r)=>{var n;r.d(t,{c:()=>n}),function(e){e[e.Bind=0]="Bind",e[e.Pass=1]="Pass",e[e.Draw=2]="Draw"}(n||(n={}))},2687:(e,t,r)=>{r.d(t,{N5:()=>u});var n=r(50076),s=(r(81806),r(76460)),i=r(69728);const o=()=>s.A.getLogger("esri.views.3d.webgl-engine.core.shaderModules.shaderBuilder");class a{constructor(){this._includedModules=new Map}include(e,t){this._includedModules.has(e)?this._includedModules.get(e):(this._includedModules.set(e,t),e(this.builder,t))}}class u extends a{constructor(){super(...arguments),this.vertex=new l,this.fragment=new l,this.attributes=new h,this.varyings=new m,this.extensions=new _,this.outputs=new p}get fragmentUniforms(){return this.fragment.uniforms.entries}get builder(){return this}generate(e,t=!1){const r=this.extensions.generateSource(e),n=this.attributes.generateSource(e),s=this.varyings.generateSource(e),i="vertex"===e?this.vertex:this.fragment,o=i.uniforms.generateSource(),a=i.code.generateSource(),u=i.main.generateSource(t),c="vertex"===e?y:S,f=i.constants.generateSource(),d=this.outputs.generateSource(e);return`#version 300 es\n${r.join("\n")}\n${c}\n${f.join("\n")}\n${o.join("\n")}\n${n.join("\n")}\n${s.join("\n")}\n${d.join("\n")}\n${a.join("\n")}\n${u.join("\n")}`}generateBind(e){const t=new Map;this.vertex.uniforms.entries.forEach((e=>{const r=e.bind[i.c.Bind];r&&t.set(e.name,r)})),this.fragment.uniforms.entries.forEach((e=>{const r=e.bind[i.c.Bind];r&&t.set(e.name,r)}));const r=Array.from(t.values()),n=r.length;return t=>{for(let s=0;s<n;++s)r[s](e,t)}}generateBindPass(e){const t=new Map;this.vertex.uniforms.entries.forEach((e=>{const r=e.bind[i.c.Pass];r&&t.set(e.name,r)})),this.fragment.uniforms.entries.forEach((e=>{const r=e.bind[i.c.Pass];r&&t.set(e.name,r)}));const r=Array.from(t.values()),n=r.length;return(t,s)=>{for(let i=0;i<n;++i)r[i](e,t,s)}}generateBindDraw(e){const t=new Map;this.vertex.uniforms.entries.forEach((e=>{const r=e.bind[i.c.Draw];r&&t.set(e.name,r)})),this.fragment.uniforms.entries.forEach((e=>{const r=e.bind[i.c.Draw];r&&t.set(e.name,r)}));const r=Array.from(t.values()),n=r.length;return(t,s,i)=>{for(let o=0;o<n;++o)r[o](e,i,t,s)}}}class c{constructor(e){this._stage=e,this._entries=new Map}add(...e){for(const t of e)this._add(t);return this._stage}get(e){return this._entries.get(e)}_add(e){if(null!=e){if(this._entries.has(e.name)&&!this._entries.get(e.name).equals(e))throw new n.A(`Duplicate uniform name ${e.name} for different uniform type`);this._entries.set(e.name,e)}else o().error(`Trying to add null Uniform from ${(new Error).stack}.`)}generateSource(){return Array.from(this._entries.values()).map((e=>null!=e.arraySize?`uniform ${e.type} ${e.name}[${e.arraySize}];`:`uniform ${e.type} ${e.name};`))}get entries(){return Array.from(this._entries.values())}}class f{constructor(e){this._stage=e,this._bodies=new Array}add(e){return this._bodies.push(e),this._stage}generateSource(e){if(this._bodies.length>0)return[`void main() {\n ${this._bodies.join("\n")||""} \n}`];if(e)throw new n.A("Shader does not contain main function body.");return[]}}class d{constructor(e){this._stage=e,this._entries=new Array}add(e){return this._entries.push(e),this._stage}generateSource(){return this._entries}}class l extends a{constructor(){super(...arguments),this.uniforms=new c(this),this.main=new f(this),this.code=new d(this),this.constants=new g(this)}get builder(){return this}}class h{constructor(){this._entries=new Array}add(e,t){this._entries.push([e,t])}generateSource(e){return"fragment"===e?[]:this._entries.map((e=>`in ${e[1]} ${e[0]};`))}}class m{constructor(){this._entries=new Map}add(e,t){this._entries.has(e)?o().warn(`Ignoring duplicate varying ${t} ${e}`):this._entries.set(e,t)}generateSource(e){const t=new Array;return this._entries.forEach(((r,n)=>t.push("vertex"===e?`out ${r} ${n};`:`in ${r} ${n};`))),t}}class _{constructor(){this._entries=new Set}add(e){this._entries.add(e)}generateSource(e){const t="vertex"===e?_.ALLOWLIST_VERTEX:_.ALLOWLIST_FRAGMENT;return Array.from(this._entries).filter((e=>t.includes(e))).map((e=>`#extension ${e} : enable`))}}_.ALLOWLIST_FRAGMENT=["GL_EXT_shader_texture_lod","GL_OES_standard_derivatives"],_.ALLOWLIST_VERTEX=[];class p{constructor(){this._entries=new Map}add(e,t,r=0){const n=this._entries.get(r);n?.name!==e||n?.type!==t?this._entries.set(r,{name:e,type:t}):o().warn(`Fragment shader output location ${r} occupied`)}generateSource(e){if("vertex"===e)return[];0===this._entries.size&&this._entries.set(0,{name:p.DEFAULT_NAME,type:p.DEFAULT_TYPE});const t=new Array;return this._entries.forEach(((e,r)=>t.push(`layout(location = ${r}) out ${e.type} ${e.name};`))),t}}p.DEFAULT_TYPE="vec4",p.DEFAULT_NAME="fragColor";class g{constructor(e){this._stage=e,this._entries=new Set}add(e,t,r){let n="ERROR_CONSTRUCTOR_STRING";switch(t){case"float":n=g._numberToFloatStr(r);break;case"int":n=g._numberToIntStr(r);break;case"bool":n=r.toString();break;case"vec2":n=`vec2(${g._numberToFloatStr(r[0])},                            ${g._numberToFloatStr(r[1])})`;break;case"vec3":n=`vec3(${g._numberToFloatStr(r[0])},                            ${g._numberToFloatStr(r[1])},                            ${g._numberToFloatStr(r[2])})`;break;case"vec4":n=`vec4(${g._numberToFloatStr(r[0])},                            ${g._numberToFloatStr(r[1])},                            ${g._numberToFloatStr(r[2])},                            ${g._numberToFloatStr(r[3])})`;break;case"ivec2":n=`ivec2(${g._numberToIntStr(r[0])},                             ${g._numberToIntStr(r[1])})`;break;case"ivec3":n=`ivec3(${g._numberToIntStr(r[0])},                             ${g._numberToIntStr(r[1])},                             ${g._numberToIntStr(r[2])})`;break;case"ivec4":n=`ivec4(${g._numberToIntStr(r[0])},                             ${g._numberToIntStr(r[1])},                             ${g._numberToIntStr(r[2])},                             ${g._numberToIntStr(r[3])})`;break;case"mat2":case"mat3":case"mat4":n=`${t}(${Array.prototype.map.call(r,(e=>g._numberToFloatStr(e))).join(", ")})`}return this._entries.add(`const ${t} ${e} = ${n};`),this._stage}static _numberToIntStr(e){return e.toFixed(0)}static _numberToFloatStr(e){return Number.isInteger(e)?e.toFixed(1):e.toString()}generateSource(){return Array.from(this._entries)}}const S="#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n  precision highp int;\n  precision highp sampler2D;\n#else\n  precision mediump float;\n  precision mediump int;\n  precision mediump sampler2D;\n#endif",y="precision highp float;\nprecision highp sampler2D;"}}]);
//# sourceMappingURL=80696.73d75eba.chunk.js.map