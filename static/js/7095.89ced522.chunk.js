"use strict";(globalThis.webpackChunkmy_app=globalThis.webpackChunkmy_app||[]).push([[7095,2564],{22564:(e,t,n)=>{var s;n.d(t,{Hy:()=>u,OF:()=>l,TD:()=>m,Tu:()=>f,VO:()=>d,aV:()=>a,kq:()=>h,rH:()=>s}),function(e){e.AsyncNotEnabled="AsyncNotEnabled",e.ModulesNotSupported="ModulesNotSupported",e.CircularModules="CircularModules",e.NeverReach="NeverReach",e.UnsupportedHashType="UnsupportedHashType",e.InvalidParameter="InvalidParameter",e.UnexpectedToken="UnexpectedToken",e.Unrecognised="Unrecognised",e.UnrecognisedType="UnrecognisedType",e.MaximumCallDepth="MaximumCallDepth",e.BooleanConditionRequired="BooleanConditionRequired",e.TypeNotAllowedInFeature="TypeNotAllowedInFeature",e.KeyMustBeString="KeyMustBeString",e.WrongNumberOfParameters="WrongNumberOfParameters",e.CallNonFunction="CallNonFunction",e.NoFunctionInTemplateLiteral="NoFunctionInTemplateLiteral",e.NoFunctionInDictionary="NoFunctionInDictionary",e.NoFunctionInArray="NoFunctionInArray",e.AssignModuleFunction="AssignModuleFunction",e.LogicExpressionOrAnd="LogicExpressionOrAnd",e.LogicalExpressionOnlyBoolean="LogicalExpressionOnlyBoolean",e.FuncionNotFound="FunctionNotFound",e.InvalidMemberAccessKey="InvalidMemberAccessKey",e.UnsupportedUnaryOperator="UnsupportUnaryOperator",e.InvalidIdentifier="InvalidIdentifier",e.MemberOfNull="MemberOfNull",e.UnsupportedOperator="UnsupportedOperator",e.Cancelled="Cancelled",e.ModuleAccessorMustBeString="ModuleAccessorMustBeString",e.ModuleExportNotFound="ModuleExportNotFound",e.Immutable="Immutable",e.OutOfBounds="OutOfBounds",e.IllegalResult="IllegalResult",e.FieldNotFound="FieldNotFound",e.PortalRequired="PortalRequired",e.LogicError="LogicError",e.ArrayAccessorMustBeNumber="ArrayAccessMustBeNumber",e.KeyAccessorMustBeString="KeyAccessorMustBeString",e.WrongSpatialReference="WrongSpatialReference"}(s||(s={}));const r={[s.TypeNotAllowedInFeature]:"Feature attributes only support dates, numbers, strings, guids.",[s.LogicError]:"Logic error - {reason}",[s.NeverReach]:"Encountered unreachable logic",[s.AsyncNotEnabled]:"Async Arcade must be enabled for this script",[s.ModuleAccessorMustBeString]:"Module accessor must be a string",[s.ModuleExportNotFound]:"Module has no export with provided identifier",[s.ModulesNotSupported]:"Current profile does not support modules",[s.ArrayAccessorMustBeNumber]:"Array accessor must be a number",[s.FuncionNotFound]:"Function not found",[s.FieldNotFound]:"Key not found - {key}",[s.CircularModules]:"Circular module dependencies are not allowed",[s.Cancelled]:"Execution cancelled",[s.UnsupportedHashType]:"Type not supported in hash function",[s.IllegalResult]:"Value is not a supported return type",[s.PortalRequired]:"Portal is required",[s.InvalidParameter]:"Invalid parameter",[s.WrongNumberOfParameters]:"Call with wrong number of parameters",[s.Unrecognised]:"Unrecognised code structure",[s.UnrecognisedType]:"Unrecognised type",[s.WrongSpatialReference]:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",[s.BooleanConditionRequired]:"Conditions must use booleans",[s.NoFunctionInDictionary]:"Dictionaries cannot contain functions.",[s.NoFunctionInArray]:"Arrays cannot contain functions.",[s.NoFunctionInTemplateLiteral]:"Template Literals do not expect functions by value.",[s.KeyAccessorMustBeString]:"Accessor must be a string",[s.KeyMustBeString]:"Object keys must be a string",[s.Immutable]:"Object is immutable",[s.InvalidParameter]:"Invalid parameter",[s.UnexpectedToken]:"Unexpected token",[s.MemberOfNull]:"Cannot access property of null object",[s.MaximumCallDepth]:"Exceeded maximum function depth",[s.OutOfBounds]:"Out of bounds",[s.InvalidIdentifier]:"Identifier not recognised",[s.FuncionNotFound]:"Function not found",[s.CallNonFunction]:"Expression is not a function",[s.InvalidMemberAccessKey]:"Cannot access value using a key of this type",[s.AssignModuleFunction]:"Cannot assign function to module variable",[s.UnsupportedUnaryOperator]:"Unsupported unary operator",[s.UnsupportedOperator]:"Unsupported operator",[s.LogicalExpressionOnlyBoolean]:"Logical expressions must be boolean",[s.LogicExpressionOrAnd]:"Logical expression can only be combined with || or &&"};class i extends Error{constructor(){super(...arguments)}}class o extends i{constructor(e,t){super(c(t)+e.message,{cause:e}),this.loc=null,Error.captureStackTrace&&Error.captureStackTrace(this,o),t&&t.loc&&(this.loc=t.loc)}}class a extends Error{constructor(e,t,n,s){super("Execution error - "+c(n)+u(r[t],s)),this.loc=null,this.declaredRootClass="esri.arcade.arcadeexecutionerror",Error.captureStackTrace&&Error.captureStackTrace(this,a),n&&n.loc&&(this.loc=n.loc)}}function c(e){return e&&e.loc?`Line : ${e.loc.start?.line}, ${e.loc.start?.column}: `:""}class l extends Error{constructor(e,t,n,s){super("Compilation error - "+c(n)+u(r[t],s)),this.loc=null,this.declaredRootClass="esri.arcade.arcadecompilationerror",Error.captureStackTrace&&Error.captureStackTrace(this,l),n&&n.loc&&(this.loc=n.loc)}}class h extends Error{constructor(){super("Uncompilable code structures"),this.declaredRootClass="esri.arcade.arcadeuncompilableerror",Error.captureStackTrace&&Error.captureStackTrace(this,h)}}function u(e,t){try{if(!t)return e;for(const n in t){let s=t[n];s||(s=""),e=e.replace("{"+n+"}",t[n])}}catch(i){}return e}function d(e,t,n){return"esri.arcade.arcadeexecutionerror"===n.declaredRootClass||"esri.arcade.arcadecompilationerror"===n.declaredRootClass?null===n.loc&&t&&t.loc?new o(n,{cause:n}):n:("esri.arcade.featureset.support.featureseterror"===n.declaredRootClass||"esri.arcade.featureset.support.sqlerror"===n.declaredRootClass||n.declaredRootClass,t&&t.loc?new o(n,{cause:n}):n)}var m;!function(e){e.UnrecognisedUri="UnrecognisedUri",e.UnsupportedUriProtocol="UnsupportedUriProtocol"}(m||(m={}));const p={[m.UnrecognisedUri]:"Unrecognised uri - {uri}",[m.UnsupportedUriProtocol]:"Unrecognised uri protocol"};class f extends Error{constructor(e,t){super(u(p[e],t)),this.declaredRootClass="esri.arcade.arcademoduleerror",Error.captureStackTrace&&Error.captureStackTrace(this,f)}}},13491:(e,t,n)=>{n.d(t,{Q:()=>a});var s=n(63780),r=n(92026),i=n(27546),o=n(36231);class a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,t=arguments.length>1?arguments[1]:void 0;this._compareMinX=u,this._compareMinY=d,this._toBBox=e=>e,this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this._toBBox=t:this._initFormat(t)),this.clear()}destroy(){this.clear(),I.prune(),M.prune(),b.prune(),B.prune()}all(e){this._all(this._data,e)}search(e,t){let n=this._data;const s=this._toBBox;if(x(e,n))for(I.clear();n;){for(let r=0,i=n.children.length;r<i;r++){const i=n.children[r],o=n.leaf?s(i):i;x(e,o)&&(n.leaf?t(i):_(e,o)?this._all(i,t):I.push(i))}n=I.pop()}}collides(e){let t=this._data;const n=this._toBBox;if(!x(e,t))return!1;for(I.clear();t;){for(let s=0,r=t.children.length;s<r;s++){const r=t.children[s],i=t.leaf?n(r):r;if(x(e,i)){if(t.leaf||_(e,i))return!0;I.push(r)}}t=I.pop()}return!1}load(e){if(!e.length)return this;if(e.length<this._minEntries){for(let t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}let t=this._build(e.slice(0,e.length),0,e.length-1,0);if(this._data.children.length)if(this._data.height===t.height)this._splitRoot(this._data,t);else{if(this._data.height<t.height){const e=this._data;this._data=t,t=e}this._insert(t,this._data.height-t.height-1,!0)}else this._data=t;return this}insert(e){return e&&this._insert(e,this._data.height-1),this}clear(){return this._data=new N([]),this}remove(e){if(!e)return this;let t,n=this._data,i=null,o=0,a=!1;const c=this._toBBox(e);for(b.clear(),B.clear();n||b.length>0;){if(n||(n=(0,r.j0)(b.pop()),i=b.data[b.length-1],o=B.pop()??0,a=!0),n.leaf&&(t=(0,s.cq)(n.children,e,n.children.length,n.indexHint),-1!==t))return n.children.splice(t,1),b.push(n),this._condense(b),this;a||n.leaf||!_(n,c)?i?(o++,n=i.children[o],a=!1):n=null:(b.push(n),B.push(o),o=0,i=n,n=n.children[0])}return this}toJSON(){return this._data}fromJSON(e){return this._data=e,this}_all(e,t){let n=e;for(M.clear();n;){if(!0===n.leaf)for(const e of n.children)t(e);else M.pushArray(n.children);n=M.pop()??null}}_build(e,t,n,s){const r=n-t+1;let i=this._maxEntries;if(r<=i){const s=new N(e.slice(t,n+1));return c(s,this._toBBox),s}s||(s=Math.ceil(Math.log(r)/Math.log(i)),i=Math.ceil(r/i**(s-1)));const o=new E([]);o.height=s;const a=Math.ceil(r/i),l=a*Math.ceil(Math.sqrt(i));y(e,t,n,l,this._compareMinX);for(let c=t;c<=n;c+=l){const t=Math.min(c+l-1,n);y(e,c,t,a,this._compareMinY);for(let n=c;n<=t;n+=a){const r=Math.min(n+a-1,t);o.children.push(this._build(e,n,r,s-1))}}return c(o,this._toBBox),o}_chooseSubtree(e,t,n,s){for(;s.push(t),!0!==t.leaf&&s.length-1!==n;){let n,s=1/0,r=1/0;for(let i=0,o=t.children.length;i<o;i++){const o=t.children[i],a=m(o),c=f(e,o)-a;c<r?(r=c,s=a<s?a:s,n=o):c===r&&a<s&&(s=a,n=o)}t=n||t.children[0]}return t}_insert(e,t,n){const s=this._toBBox,r=n?e:s(e);b.clear();const i=this._chooseSubtree(r,this._data,t,b);for(i.children.push(e),h(i,r);t>=0&&b.data[t].children.length>this._maxEntries;)this._split(b,t),t--;this._adjustParentBBoxes(r,b,t)}_split(e,t){const n=e.data[t],s=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,s);const i=this._chooseSplitIndex(n,r,s);if(!i)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const o=n.children.splice(i,n.children.length-i),a=n.leaf?new N(o):new E(o);a.height=n.height,c(n,this._toBBox),c(a,this._toBBox),t?e.data[t-1].children.push(a):this._splitRoot(n,a)}_splitRoot(e,t){this._data=new E([e,t]),this._data.height=e.height+1,c(this._data,this._toBBox)}_chooseSplitIndex(e,t,n){let s,r,i;s=r=1/0;for(let o=t;o<=n-t;o++){const t=l(e,0,o,this._toBBox),a=l(e,o,n,this._toBBox),c=g(t,a),h=m(t)+m(a);c<s?(s=c,i=o,r=h<r?h:r):c===s&&h<r&&(r=h,i=o)}return i}_chooseSplitAxis(e,t,n){const s=e.leaf?this._compareMinX:u,r=e.leaf?this._compareMinY:d;this._allDistMargin(e,t,n,s)<this._allDistMargin(e,t,n,r)&&e.children.sort(s)}_allDistMargin(e,t,n,s){e.children.sort(s);const r=this._toBBox,i=l(e,0,t,r),o=l(e,n-t,n,r);let a=p(i)+p(o);for(let c=t;c<n-t;c++){const t=e.children[c];h(i,e.leaf?r(t):t),a+=p(i)}for(let c=n-t-1;c>=t;c--){const t=e.children[c];h(o,e.leaf?r(t):t),a+=p(o)}return a}_adjustParentBBoxes(e,t,n){for(let s=n;s>=0;s--)h(t.data[s],e)}_condense(e){for(let t=e.length-1;t>=0;t--){const n=e.data[t];if(0===n.children.length)if(t>0){const r=e.data[t-1],i=r.children;i.splice((0,s.cq)(i,n,i.length,r.indexHint),1)}else this.clear();else c(n,this._toBBox)}}_initFormat(e){const t=["return a"," - b",";"];this._compareMinX=new Function("a","b",t.join(e[0])),this._compareMinY=new Function("a","b",t.join(e[1])),this._toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}function c(e,t){l(e,0,e.children.length,t,e)}function l(e,t,n,s,r){r||(r=new N([])),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let i,o=t;o<n;o++)i=e.children[o],h(r,e.leaf?s(i):i);return r}function h(e,t){e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY)}function u(e,t){return e.minX-t.minX}function d(e,t){return e.minY-t.minY}function m(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function p(e){return e.maxX-e.minX+(e.maxY-e.minY)}function f(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function g(e,t){const n=Math.max(e.minX,t.minX),s=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),i=Math.min(e.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,i-s)}function _(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function x(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function y(e,t,n,s,i){const a=[t,n];for(;a.length;){const t=(0,r.j0)(a.pop()),n=(0,r.j0)(a.pop());if(t-n<=s)continue;const c=n+Math.ceil((t-n)/s/2)*s;(0,o.q)(e,c,n,t,i),a.push(n,c,c,t)}}const I=new i.Z,M=new i.Z,b=new i.Z,B=new i.Z({deallocator:void 0});class v extends class{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}{constructor(){super(...arguments),this.height=1,this.indexHint=new s.SO}}class N extends v{constructor(e){super(),this.children=e,this.leaf=!0}}class E extends v{constructor(e){super(),this.children=e,this.leaf=!1}}},40237:(e,t,n)=>{n.d(t,{N:()=>s});const s={convertToGEGeometry:function(e,t){return null==t?null:e.convertJSONToGeometry(t)},exportPoint:function(e,t,n){const s=new r(e.getPointX(t),e.getPointY(t),n),i=e.hasZ(t),o=e.hasM(t);return i&&(s.z=e.getPointZ(t)),o&&(s.m=e.getPointM(t)),s},exportPolygon:function(e,t,n){return new i(e.exportPaths(t),n,e.hasZ(t),e.hasM(t))},exportPolyline:function(e,t,n){return new o(e.exportPaths(t),n,e.hasZ(t),e.hasM(t))},exportMultipoint:function(e,t,n){return new a(e.exportPoints(t),n,e.hasZ(t),e.hasM(t))},exportExtent:function(e,t,n){const s=e.hasZ(t),r=e.hasM(t),i=new c(e.getXMin(t),e.getYMin(t),e.getXMax(t),e.getYMax(t),n);if(s){const n=e.getZExtent(t);i.zmin=n.vmin,i.zmax=n.vmax}if(r){const n=e.getMExtent(t);i.mmin=n.vmin,i.mmax=n.vmax}return i}};class r{constructor(e,t,n){this.x=e,this.y=t,this.spatialReference=n,this.z=void 0,this.m=void 0}}class i{constructor(e,t,n,s){this.rings=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),s&&(this.hasM=s)}}class o{constructor(e,t,n,s){this.paths=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),s&&(this.hasM=s)}}class a{constructor(e,t,n,s){this.points=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),s&&(this.hasM=s)}}class c{constructor(e,t,n,s,r){this.xmin=e,this.ymin=t,this.xmax=n,this.ymax=s,this.spatialReference=r,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}},85403:(e,t,n)=>{n.d(t,{Y:()=>i});var s=n(92026);function r(e,t){return e?t?4:3:t?3:2}function i(e,t,n,i,c){if((0,s.Wi)(t)||!t.lengths.length)return null;const l="upperLeft"===c?.originPosition?-1:1;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);const h=e.coords,u=[],d=n?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:m,coords:p}=t,f=r(n,i);let g=0;for(const s of m){const e=o(d,p,g,s,n,i,l);e&&u.push(e),g+=s*f}if(u.sort(((e,t)=>{let s=l*e[2]-l*t[2];return 0===s&&n&&(s=e[4]-t[4]),s})),u.length){let e=6*u[0][2];h[0]=u[0][0]/e,h[1]=u[0][1]/e,n&&(e=6*u[0][4],h[2]=0!==e?u[0][3]/e:0),(h[0]<d[0]||h[0]>d[1]||h[1]<d[2]||h[1]>d[3]||n&&(h[2]<d[4]||h[2]>d[5]))&&(h.length=0)}if(!h.length){const e=t.lengths[0]?a(p,0,m[0],n,i):null;if(!e)return null;h[0]=e[0],h[1]=e[1],n&&e.length>2&&(h[2]=e[2])}return e}function o(e,t,n,s,i,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;const c=r(i,o);let l=n,h=n+c,u=0,d=0,m=0,p=0,f=0;for(let r=0,_=s-1;r<_;r++,l+=c,h+=c){const n=t[l],s=t[l+1],r=t[l+2],o=t[h],a=t[h+1],c=t[h+2];let g=n*a-o*s;p+=g,u+=(n+o)*g,d+=(s+a)*g,i&&(g=n*c-o*r,m+=(r+c)*g,f+=g),n<e[0]&&(e[0]=n),n>e[1]&&(e[1]=n),s<e[2]&&(e[2]=s),s>e[3]&&(e[3]=s),i&&(r<e[4]&&(e[4]=r),r>e[5]&&(e[5]=r))}if(p*a>0&&(p*=-1),f*a>0&&(f*=-1),!p)return null;const g=[u,d,.5*p];return i&&(g[3]=m,g[4]=.5*f),g}function a(e,t,n,s,i){const o=r(s,i);let a=t,d=t+o,m=0,p=0,f=0,g=0;for(let r=0,_=n-1;r<_;r++,a+=o,d+=o){const t=e[a],n=e[a+1],r=e[a+2],i=e[d],o=e[d+1],_=e[d+2],x=s?l(t,n,r,i,o,_):c(t,n,i,o);if(x)if(m+=x,s){const e=u(t,n,r,i,o,_);p+=x*e[0],f+=x*e[1],g+=x*e[2]}else{const e=h(t,n,i,o);p+=x*e[0],f+=x*e[1]}}return m>0?s?[p/m,f/m,g/m]:[p/m,f/m]:n>0?s?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}function c(e,t,n,s){const r=n-e,i=s-t;return Math.sqrt(r*r+i*i)}function l(e,t,n,s,r,i){const o=s-e,a=r-t,c=i-n;return Math.sqrt(o*o+a*a+c*c)}function h(e,t,n,s){return[e+.5*(n-e),t+.5*(s-t)]}function u(e,t,n,s,r,i){return[e+.5*(s-e),t+.5*(r-t),n+.5*(i-n)]}},66020:(e,t,n)=>{n.d(t,{H:()=>c});var s=n(93169),r=n(13491),i=n(65156);const o={minX:0,minY:0,maxX:0,maxY:0};function a(e,t,n){(function(e){o.minX=e[0],o.minY=e[1],o.maxX=e[2],o.maxY=e[3]})(t),e.search(o,n)}class c{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new r.Q(9,(0,s.Z)("esri-csp-restrictions")?e=>({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const e=new Array(this._idByBounds.size);let t=0;this._idByBounds.forEach(((n,s)=>{e[t++]=s})),this._indexInvalid=!1,this._index.clear(),this._index.load(e)}else this._boundsToLoad.length&&(this._index.load(Array.from(new Set(this._boundsToLoad.filter((e=>this._idByBounds.has(e)))))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const e=(0,i.cS)();for(const t of this._boundsById.values())t&&(e[0]=Math.min(t[0],e[0]),e[1]=Math.min(t[1],e[1]),e[2]=Math.max(t[2],e[2]),e[3]=Math.max(t[3],e[3]));return e}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(e){const t=this._boundsById.get(e);this._boundsById.delete(e),t&&(this._idByBounds.delete(t),this._indexInvalid||this._index.remove(t))}forEachInBounds(e,t){this._loadIndex(),a(this._index,e,(e=>t(this._idByBounds.get(e))))}get(e){return this._boundsById.get(e)}has(e){return this._boundsById.has(e)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(e,t){if(!this._indexInvalid){const t=this._boundsById.get(e);t&&(this._index.remove(t),this._idByBounds.delete(t))}this._boundsById.set(e,t),t&&(this._idByBounds.set(t,e),this._indexInvalid||(this._boundsToLoad.push(t),this._boundsToLoad.length>5e4&&this._loadIndex()))}}},97114:(e,t,n)=>{n.d(t,{Z:()=>_});var s=n(10064),r=n(91505),i=n(32718),o=n(92026),a=n(41414),c=n(65156),l=n(83406),h=n(66020),u=n(85403),d=n(3182),m=n(80457);const p={getObjectId:e=>e.objectId,getAttributes:e=>e.attributes,getAttribute:(e,t)=>e.attributes[t],cloneWithGeometry:(e,t)=>new d.u_(t,e.attributes,null,e.objectId),getGeometry:e=>e.geometry,getCentroid:(e,t)=>((0,o.Wi)(e.centroid)&&(e.centroid=(0,u.Y)(new m.Z,e.geometry,t.hasZ,t.hasM)),e.centroid)};var f=n(31904);const g=(0,a.Ue)();class _{constructor(e){this.geometryInfo=e,this._boundsStore=new h.H,this._featuresById=new Map,this._markedIds=new Set,this.events=new r.Z,this.featureAdapter=p}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{(0,o.pC)(t.geometry)&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}getFullExtent(e){if((0,o.Wi)(this.fullBounds))return null;const[t,n,s,r]=this.fullBounds;return{xmin:t,ymin:n,xmax:s,ymax:r,spatialReference:(0,f.S2)(e)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t){for(const n of e){const e=this._boundsStore.get(n.objectId);e&&t((0,a.JR)(g,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,n)=>{this._markedIds.has(n)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit("changed",void 0)}_add(e){if(!e)return;const t=e.objectId;if(null==t)return void i.Z.getLogger("esri.layers.graphics.data.FeatureStore").error(new s.Z("featurestore:invalid-feature","feature id is missing",{feature:e}));const n=this._featuresById.get(t);let r;if(this._markedIds.add(t),n?(e.displayId=n.displayId,r=this._boundsStore.get(t),this._boundsStore.delete(t)):(0,o.pC)(this.onFeatureAdd)&&this.onFeatureAdd(e),(0,o.Wi)(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)return this._boundsStore.set(t,null),void this._featuresById.set(t,e);r=(0,l.$)((0,o.pC)(r)?r:(0,c.Ue)(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),(0,o.pC)(r)&&this._boundsStore.set(t,r),this._featuresById.set(t,e)}_remove(e){(0,o.pC)(this.onFeatureRemove)&&this.onFeatureRemove(e);const t=e.objectId;return this._markedIds.delete(t),this._boundsStore.delete(t),this._featuresById.delete(t),e}}},19995:(e,t,n)=>{n.d(t,{_W:()=>d,iV:()=>f,oj:()=>_});var s=n(92026),r=n(52587),i=n(40237),o=n(92975),a=n(81753);const c=[0,0];function l(e,t){if(!t)return null;if("x"in t){const n={x:0,y:0};return[n.x,n.y]=e(t.x,t.y,c),null!=t.z&&(n.z=t.z),null!=t.m&&(n.m=t.m),n}if("xmin"in t){const n={xmin:0,ymin:0,xmax:0,ymax:0};return[n.xmin,n.ymin]=e(t.xmin,t.ymin,c),[n.xmax,n.ymax]=e(t.xmax,t.ymax,c),t.hasZ&&(n.zmin=t.zmin,n.zmax=t.zmax,n.hasZ=!0),t.hasM&&(n.mmin=t.mmin,n.mmax=t.mmax,n.hasM=!0),n}return"rings"in t?{rings:h(t.rings,e),hasM:t.hasM,hasZ:t.hasZ}:"paths"in t?{paths:h(t.paths,e),hasM:t.hasM,hasZ:t.hasZ}:"points"in t?{points:u(t.points,e),hasM:t.hasM,hasZ:t.hasZ}:null}function h(e,t){const n=[];for(const s of e)n.push(u(s,t));return n}function u(e,t){const n=[];for(const s of e){const e=t(s[0],s[1],[0,0]);n.push(e),s.length>2&&e.push(s[2]),s.length>3&&e.push(s[3])}return n}async function d(e,t){if(!e||!t)return;const n=Array.isArray(e)?e.map((e=>(0,s.pC)(e.geometry)?e.geometry.spatialReference:null)).filter(s.pC):[e];await(0,r.iQ)(n.map((e=>({source:e,dest:t}))))}const m=l.bind(null,a.hG),p=l.bind(null,a.R6);function f(e,t,n,s){if(!e)return e;if(n||(n=t,t=e.spatialReference),!(0,o.JY)(t)||!(0,o.JY)(n)||(0,o.fS)(t,n))return e;if((0,a.Q8)(t,n)){const t=(0,o.sS)(n)?m(e):p(e);return t.spatialReference=n,t}return(0,r.oj)(i.N,[e],t,n,null,s)[0]}const g=new class{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(e,t,n){if(!e||!e.length||!t||!n||(0,o.fS)(t,n))return e;const s={geometries:e,inSpatialReference:t,outSpatialReference:n,resolve:null};return this._jobs.push(s),new Promise((e=>{s.resolve=e,null===this._timer&&(this._timer=setTimeout(this._process,10))}))}_process(){this._timer=null;const e=this._jobs.shift();if(!e)return;const{geometries:t,inSpatialReference:n,outSpatialReference:s,resolve:c}=e;(0,a.Q8)(n,s)?(0,o.sS)(s)?c(t.map(m)):c(t.map(p)):c((0,r.oj)(i.N,t,n,s,null,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}};function _(e,t,n){return g.push(e,t,n)}}}]);
//# sourceMappingURL=7095.89ced522.chunk.js.map