{"version":3,"file":"static/js/2105.35ed3c57.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/support/colorUtils.js","../node_modules/@arcgis/core/symbols/support/previewSymbol2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(r){await r.whenReady();const n=r.basemapView?.baseLayerViews.map((t=>t.layer)).toArray()??[];if(!n.length){const n=getComputedStyle(r.container).backgroundColor,a=n&&new t(n);return r.get(\"background.color\")||(a&&0!==a.a?a:null)||null}const a=(await r.takeScreenshot({format:\"png\",layers:n})).data.data,o=a.length;let e=0,u=0,l=0,c=0,s=0,i=0;for(let t=0;t<o;t+=4){const r=a[t],n=a[t+1],o=a[t+2],h=a[t+3],d=h/255;e+=r*r*d,u+=n*n*d,l+=o*o*d,s+=d,h&&(c+=h,i++)}e=Math.round(Math.sqrt(e/s)),u=Math.round(Math.sqrt(u/s)),l=Math.round(Math.sqrt(l/s));return new t([e,u,l,c/i/255])}async function a(t){if(!t)return null;const a=await n(t);return r(a)?o(a):null}function o(t){return e(t).isBright?\"light\":\"dark\"}function e(r){let{r:n,g:a,b:o,a:e}=r;return e<1&&(n=Math.round(e*n+255*(1-e)),a=Math.round(e*a+255*(1-e)),o=Math.round(e*o+255*(1-e))),new t({r:n,g:a,b:o})}function u(t){const{r,g:n,b:a}=e(t);return.2126*r+.7152*n+.0722*a}export{n as getBackgroundColor,a as getBackgroundColorTheme,u as getColorLuminance,o as getColorTheme};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import t from\"../../core/Error.js\";import{loadFont as a}from\"../../core/fontUtils.js\";import{pt2px as n,px2pt as l}from\"../../core/screenUtils.js\";import{getFill as i,getStroke as s,getPatternUrlWithColor as o}from\"./gfxUtils.js\";import{SymbolSizeDefaults as r,shapes as c,adjustColorBrightness as m}from\"./previewUtils.js\";import{renderSymbol as u}from\"./renderUtils.js\";import{getColorLuminance as h}from\"../../views/support/colorUtils.js\";const p=\"picture-fill\",d=\"picture-marker\",f=\"simple-fill\",y=\"simple-line\",w=\"simple-marker\",g=\"text\",v=\"Aa\",b=r.size,x=r.maxSize,k=r.maxOutlineSize,M=r.lineWidth,z=225,L=document.createElement(\"canvas\");function j(e,t){const a=L.getContext(\"2d\"),n=[];return t&&(t.weight&&n.push(t.weight),t.size&&n.push(t.size+\"px\"),t.family&&n.push(t.family)),a.font=n.join(\" \"),a.measureText(e).width}const C=7.2/2.54,S=72/2.54;function F(e){if(0===e.length)return 0;if(e.length>2){const t=l(1),a=parseFloat(e);switch(e.slice(-2)){case\"px\":return a;case\"pt\":return a*t;case\"in\":return 72*a*t;case\"pc\":return 12*a*t;case\"mm\":return a*C*t;case\"cm\":return a*S*t}}return parseFloat(e)}function E(e){const t=e?.size;return{width:null!=t&&\"object\"==typeof t&&\"width\"in t?n(t.width):null,height:null!=t&&\"object\"==typeof t&&\"height\"in t?n(t.height):null}}async function U(e,t){const a=t.fill,n=e.color;if(\"pattern\"===a?.type&&n&&e.type!==p){const e=await o(a.src,n.toCss(!0));a.src=e,t.fill=a}}async function Z(e,t,n,l){if(!(\"font\"in e)||!e.font||\"text\"!==t.shape.type)return;try{await a(e.font)}catch{}const{width:i}=E(l),s=/[\\uE600-\\uE6FF]/.test(t.shape.text);null!=i||s||(n[0]=j(t.shape.text,{weight:t.font?.weight,size:t.font?.size,family:t.font?.family}))}function q(e,t){return e>t?\"dark\":\"light\"}function D(e,t){const a=\"number\"==typeof t?.size?t?.size:null,l=null!=a?n(a):null,o=null!=t?.maxSize?n(t.maxSize):null,r=null!=t?.rotation?t.rotation:\"angle\"in e?e.angle:null,m=i(e);let u=s(e);\"dark\"!==T(e,245)||t?.ignoreWhiteSymbols||(u={width:.75,...u,color:\"#bdc3c7\"});const h={shape:null,fill:m,stroke:u,offset:[0,0]};u?.width&&(u.width=Math.min(u.width,k));const z=u?.width||0;let L=null!=t?.size&&(null==t?.scale||t?.scale),C=0,S=0,U=!1;switch(e.type){case w:{const a=e.style,{width:i,height:s}=E(t),c=i===s&&null!=i?i:null!=l?l:Math.min(n(e.size),o||x);switch(C=c,S=c,a){case\"circle\":h.shape={type:\"circle\",cx:0,cy:0,r:.5*c},L||(C+=z,S+=z);break;case\"cross\":h.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*S]},{command:\"L\",values:[C,.5*S]},{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[.5*C,S]}]};break;case\"diamond\":h.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*S]},{command:\"L\",values:[.5*C,0]},{command:\"L\",values:[C,.5*S]},{command:\"L\",values:[.5*C,S]},{command:\"Z\",values:[]}]},L||(C+=z,S+=z);break;case\"square\":h.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,S]},{command:\"L\",values:[0,S]},{command:\"Z\",values:[]}]},L||(C+=z,S+=z),r&&(U=!0);break;case\"triangle\":h.shape={type:\"path\",path:[{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[C,S]},{command:\"L\",values:[0,S]},{command:\"Z\",values:[]}]},L||(C+=z,S+=z),r&&(U=!0);break;case\"x\":h.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,S]},{command:\"M\",values:[C,0]},{command:\"L\",values:[0,S]}]},r&&(U=!0);break;case\"path\":h.shape={type:\"path\",path:e.path||\"\"},L||(C+=z,S+=z),r&&(U=!0),L=!0}break}case y:{const{width:e,height:a}=E(t),n=null!=a?a:null!=l?l:z,i=null!=e?e:M;u&&(u.width=n),C=i,S=n;const s=h?.stroke?.cap||\"butt\",o=\"round\"===s;L=!0,h.stroke&&(h.stroke.cap=\"butt\"===s?\"square\":s),h.shape={type:\"path\",path:[{command:\"M\",values:[o?n/2:0,S/2]},{command:\"L\",values:[o?C-n/2:C,S/2]}]};break}case p:case f:{const e=\"object\"==typeof t?.symbolConfig&&t?.symbolConfig.isSquareFill,{width:a,height:n}=E(t);C=!e&&a!==n||null==a?null!=l?l:b:a,S=!e&&a!==n||null==n?C:n,L||(C+=z,S+=z),L=!0,h.shape=e?{type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,S]},{command:\"L\",values:[0,S]},{command:\"L\",values:[0,0]},{command:\"Z\",values:[]}]}:c.fill[0];break}case d:{const a=Math.min(n(e.width),o||x),i=Math.min(n(e.height),o||x),{width:s,height:c}=E(t),m=s===c&&null!=s?s:null!=l?l:Math.max(a,i),u=a/i;C=u<=1?Math.ceil(m*u):m,S=u<=1?m:Math.ceil(m/u),h.shape={type:\"image\",x:-Math.round(C/2),y:-Math.round(S/2),width:C,height:S,src:e.url||\"\"},r&&(U=!0);break}case g:{const a=e,i=t?.overrideText||a.text||v,s=a.font,{width:r,height:c}=E(t),m=null!=c?c:null!=l?l:Math.min(n(s.size),o||x),u=j(i,{weight:s.weight,size:m,family:s.family}),p=/[\\uE600-\\uE6FF]/.test(i);C=r??(p?m:u),S=m;let d=.25*F((s?m:0).toString());p&&(d+=5),h.shape={type:\"text\",text:i,x:a.xoffset||0,y:a.yoffset||d,align:\"middle\",alignBaseline:a.verticalAlignment,decoration:s&&s.decoration,rotated:a.rotated,kerning:a.kerning},h.font=s&&{size:m,style:s.style,decoration:s.decoration,weight:s.weight,family:s.family};break}}return{shapeDescriptor:h,size:[C,S],renderOptions:{node:t?.node,scale:L,opacity:t?.opacity,rotation:r,useRotationSize:U,effectView:t?.effectView}}}async function O(e,a){const{shapeDescriptor:n,size:l,renderOptions:i}=D(e,a);if(!n.shape)throw new t(\"symbolPreview: renderPreviewHTML2D\",\"symbol not supported.\");await U(e,n),await Z(e,n,l,a);const s=[[n]];if(\"object\"==typeof a?.symbolConfig&&a?.symbolConfig.applyColorModulation){const e=.6*l[0];s.unshift([{...n,offset:[-e,0],fill:m(n.fill,-.3)}]),s.push([{...n,offset:[e,0],fill:m(n.fill,.3)}]),l[0]+=2*e,i.scale=!1}return u(s,l,i)}function T(t,a=z){const n=i(t),l=s(t),o=!n||\"type\"in n?null:new e(n),r=l?.color?new e(l?.color):null,c=o?q(h(o),a):null,m=r?q(h(r),a):null;return m?c?c===m?c:a>=z?\"light\":\"dark\":m:c}export{T as getContrastingBackgroundTheme,D as getRenderSymbolParameters,O as previewSymbol2D};\n"],"names":["e","r","n","g","a","b","o","Math","round","t","u","p","x","k","M","z","L","document","createElement","j","getContext","weight","push","size","family","font","join","measureText","width","F","length","l","parseFloat","slice","E","height","q","D","maxSize","rotation","angle","m","i","s","T","ignoreWhiteSymbols","color","h","shape","fill","stroke","offset","min","scale","C","S","U","type","style","c","cx","cy","path","command","values","cap","symbolConfig","isSquareFill","max","ceil","y","src","url","overrideText","text","test","d","toString","xoffset","yoffset","align","alignBaseline","verticalAlignment","decoration","rotated","kerning","shapeDescriptor","renderOptions","node","opacity","useRotationSize","effectView","async","O","toCss","Z","applyColorModulation","unshift"],"sourceRoot":""}