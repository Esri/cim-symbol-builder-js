{"version":3,"file":"static/js/28675.8ca2b271.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{px2pt as e,pt2px as t}from\"../../core/screenUtils.js\";import{CIMSymbolHelper as i}from\"../cim/CIMSymbolHelper.js\";import{CIMSymbolRasterizer as l}from\"../cim/CIMSymbolRasterizer.js\";import{OverrideHelper as r}from\"../cim/OverrideHelper.js\";import{mapCIMSymbolToGeometryType as o}from\"../cim/utils.js\";import{SymbolSizeDefaults as n}from\"./previewUtils.js\";import{renderSymbol as a}from\"./renderUtils.js\";const s=new l(null),m=e(n.size),h=e(n.maxSize),c=e(n.lineWidth),y=1;async function u(e,t,i){const l=t?.size;let r=null!=l&&\"object\"==typeof l&&\"width\"in l?l.width:l,o=null!=l&&\"object\"==typeof l&&\"height\"in l?l.height:l;if(null==r||null==o)if(\"esriGeometryPolygon\"===i)r=o=t.maxSize?Math.min(t.maxSize,m):m;else{const l=await f(e,t,i);l&&(r=l.width,o=l.height),\"esriGeometryPolyline\"===i&&(r=t.maxSize?Math.min(t.maxSize,c):c),r=null!=r&&isFinite(r)?Math.min(r,h):m,o=null!=o&&isFinite(o)?Math.max(Math.min(o,h),y):m}return\"legend\"===t.style&&\"esriGeometryPolyline\"===i&&(r=c),{width:r,height:o}}async function f(e,t,l){const{feature:o,fieldMap:n,viewParams:a}=t.cimOptions||t,m=await r.resolveSymbolOverrides(e.data,o,null,n,l,null,a);if(!m)return null;(e=e.clone()).data={type:\"CIMSymbolReference\",symbol:m},e.data.primitiveOverrides=void 0;const h=[];return i.fetchResources(m,s.resourceManager,h),i.fetchFonts(m,s.resourceManager,h),h.length>0&&await Promise.all(h),i.getEnvelope(m,null,s.resourceManager)}async function g(i,l={}){const{node:r,opacity:n,symbolConfig:m}=l,h=null!=m&&\"object\"==typeof m&&\"isSquareFill\"in m&&m.isSquareFill,c=l.cimOptions||l,y=c.geometryType||o(i?.data?.symbol),f=await u(i,l,y),{feature:g,fieldMap:d}=c,p=l?.geometry||h||\"esriGeometryPolygon\"!==y?\"preview\":\"legend\";let w=f;const b=f;if(l?.geometry&&(\"esriGeometryPolygon\"===y||\"esriGeometryPolyline\"===y)){const i=200;if(t(f.width)<i||t(f.height)<i){const t=f.width>f.height?e(i)*f.height/f.width:e(i);w={width:f.width>f.height?e(i):e(i)*f.width/f.height,height:t}}}const M=await s.rasterizeCIMSymbolAsync(i,g,w,p,d,y,null,c.viewParams,c.allowScalingUp,l?.geometry?.toJSON());if(!M)return null;const{width:S,height:v}=M,j=document.createElement(\"canvas\");j.width=S,j.height=v;j.getContext(\"2d\").putImageData(M,0,0);const x=t(b.width),z=t(b.height),P=new Image(x,z);P.src=j.toDataURL(),P.ariaLabel=l.ariaLabel??null,P.alt=l.ariaLabel??\"\",null!=n&&(P.style.opacity=`${n}`);let C=P;if(null!=l.effectView){const e={shape:{type:\"image\",x:0,y:0,width:x,height:z,src:P.src},fill:null,stroke:null,offset:[0,0]};C=a([[e]],[x,z],{effectView:l.effectView,ariaLabel:l.ariaLabel})}return r&&C&&r.appendChild(C),C}export{g as previewCIMSymbol};\n"],"names":["s","l","m","e","n","size","h","maxSize","c","lineWidth","y","async","u","t","i","r","width","o","height","Math","min","feature","fieldMap","viewParams","a","cimOptions","resolveSymbolOverrides","data","clone","type","symbol","primitiveOverrides","fetchResources","resourceManager","fetchFonts","length","Promise","all","getEnvelope","f","isFinite","max","style","g","node","opacity","symbolConfig","isSquareFill","geometryType","d","p","geometry","w","b","M","rasterizeCIMSymbolAsync","allowScalingUp","toJSON","S","v","j","document","createElement","getContext","putImageData","x","z","P","Image","src","toDataURL","ariaLabel","alt","C","effectView","shape","fill","stroke","offset","appendChild"],"sourceRoot":""}