{"version":3,"file":"static/js/28675.ae86a1d4.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{pt2px as e,px2pt as t}from\"../../core/screenUtils.js\";import{CIMSymbolHelper as i}from\"../cim/CIMSymbolHelper.js\";import{CIMSymbolRasterizer as o}from\"../cim/CIMSymbolRasterizer.js\";import{OverrideHelper as l}from\"../cim/OverrideHelper.js\";import{mapCIMSymbolToGeometryType as r}from\"../cim/utils.js\";import{SymbolSizeDefaults as n}from\"./previewUtils.js\";import{renderSymbol as a}from\"./renderUtils.js\";const s=new o(null),m=t(n.size),h=t(n.maxSize),c=t(n.lineWidth),y=1;async function u(e,t,i){const o=t?.size;let l=null!=o&&\"object\"==typeof o&&\"width\"in o?o.width:o,r=null!=o&&\"object\"==typeof o&&\"height\"in o?o.height:o;if(!l||!r)if(\"esriGeometryPolygon\"===i)l=r=t.maxSize?Math.min(t.maxSize,m):m;else{const o=await g(e,t,i);o&&(l=o.width,r=o.height),\"esriGeometryPolyline\"===i&&(l=t.maxSize?Math.min(t.maxSize,c):c),l=null!=l&&isFinite(l)?Math.min(l,h):m,r=null!=r&&isFinite(r)?Math.max(Math.min(r,h),y):m}return\"legend\"===t.style&&\"esriGeometryPolyline\"===i&&(l=c),{width:l,height:r}}async function g(e,t={},o){const n=t.cimOptions||t;o??=n.geometryType||r(e?.data?.symbol);const{feature:a,fieldMap:m,viewParams:h}=n,c=await l.resolveSymbolOverrides(e.data,a,null,m,o,null,h);if(!c)return null;(e=e.clone()).data={type:\"CIMSymbolReference\",symbol:c},e.data.primitiveOverrides=void 0;const y=[];return i.fetchResources(c,s.resourceManager,y),i.fetchFonts(c,s.resourceManager,y),y.length>0&&await Promise.all(y),i.getEnvelope(c,null,s.resourceManager)}async function d(i,o={}){const{node:l,opacity:n,symbolConfig:m}=o,h=null!=m&&\"object\"==typeof m&&\"isSquareFill\"in m&&m.isSquareFill,c=o.cimOptions||o,y=c.geometryType||r(i?.data?.symbol),g=await u(i,o,y),{feature:d,fieldMap:f}=c,p=o?.geometry||h||\"esriGeometryPolygon\"!==y?\"preview\":\"legend\";let w=g;const b=g;if(o?.geometry&&(\"esriGeometryPolygon\"===y||\"esriGeometryPolyline\"===y)){const i=200;if(e(g.width)<i||e(g.height)<i){const e=g.width>g.height?t(i)*g.height/g.width:t(i);w={width:g.width>g.height?t(i):t(i)*g.width/g.height,height:e}}}const M=await s.rasterizeCIMSymbolAsync(i,d,w,p,f,y,null,c.viewParams,c.allowScalingUp,o?.geometry?.toJSON());if(!M)return null;const{width:S,height:v}=M,j=document.createElement(\"canvas\");j.width=S,j.height=v;j.getContext(\"2d\").putImageData(M,0,0);const x=e(b.width),z=e(b.height),P=new Image(x,z);P.src=j.toDataURL(),P.ariaLabel=o.ariaLabel??null,P.alt=o.ariaLabel??\"\",null!=n&&(P.style.opacity=`${n}`);let C=P;if(null!=o.effectView){const e={shape:{type:\"image\",x:0,y:0,width:x,height:z,src:P.src},fill:null,stroke:null,offset:[0,0]};C=a([[e]],[x,z],o)}return l&&C&&l.appendChild(C),C}export{g as getCIMSymbolPreviewSize,d as previewCIMSymbol};\n"],"names":["s","o","m","t","n","size","h","maxSize","c","lineWidth","y","async","u","e","i","l","width","r","height","Math","min","g","isFinite","max","style","cimOptions","geometryType","data","symbol","feature","a","fieldMap","viewParams","resolveSymbolOverrides","clone","type","primitiveOverrides","fetchResources","resourceManager","fetchFonts","length","Promise","all","getEnvelope","d","node","opacity","symbolConfig","isSquareFill","f","p","geometry","w","b","M","rasterizeCIMSymbolAsync","allowScalingUp","toJSON","S","v","j","document","createElement","getContext","putImageData","x","z","P","Image","src","toDataURL","ariaLabel","alt","C","effectView","shape","fill","stroke","offset","appendChild"],"sourceRoot":""}