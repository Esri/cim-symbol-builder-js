{"version":3,"file":"static/js/35414.443729f0.chunk.js","mappings":"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","sources":["../node_modules/@esri/calcite-components/dist/chunks/array.js","../node_modules/@esri/calcite-components/dist/components/calcite-action-menu/customElement.js","../node_modules/@esri/calcite-components/dist/components/calcite-scrim/customElement.js"],"sourcesContent":["/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nfunction getRoundRobinIndex(index, total) {\n  return (index + total) % total;\n}\nexport {\n  getRoundRobinIndex as g\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { ref } from \"lit-html/directives/ref.js\";\nimport { html, nothing } from \"lit\";\nimport { LitElement, createEvent, safeClassMap } from \"@arcgis/lumina\";\nimport { g as getRoundRobinIndex } from \"../../chunks/array.js\";\nimport { b as focusElement, t as toAriaBoolean } from \"../../chunks/dom.js\";\nimport { g as guid } from \"../../chunks/guid.js\";\nimport { i as isActivationKey } from \"../../chunks/key.js\";\nimport { c as componentFocusable } from \"../../chunks/component.js\";\nimport { a as activeAttr, S as SLOTS, I as ICONS, C as CSS } from \"../../chunks/resources2.js\";\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nconst styles = css`:host{box-sizing:border-box;display:flex;flex-direction:column;font-size:var(--calcite-font-size-1)}::slotted(calcite-action-group:not(:last-of-type)){border-block-end-width:var(--calcite-border-width-sm)}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{display:flex;max-block-size:45vh;flex-direction:column;flex-wrap:nowrap;overflow-y:auto;overflow-x:hidden;outline:2px solid transparent;outline-offset:2px;gap:var(--calcite-action-menu-items-space, 0)}:host([hidden]){display:none}[hidden]{display:none}`;\nconst SUPPORTED_MENU_NAV_KEYS = [\"ArrowUp\", \"ArrowDown\", \"End\", \"Home\"];\nclass ActionMenu extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.guid = `calcite-action-menu-${guid()}`;\n    this.actionElements = [];\n    this.menuButtonClick = () => {\n      this.toggleOpen();\n    };\n    this.menuButtonId = `${this.guid}-menu-button`;\n    this.menuButtonKeyDown = (event) => {\n      const { key } = event;\n      const { actionElements, activeMenuItemIndex, open } = this;\n      if (!actionElements.length) {\n        return;\n      }\n      if (isActivationKey(key)) {\n        event.preventDefault();\n        if (!open) {\n          this.toggleOpen();\n          return;\n        }\n        const action = actionElements[activeMenuItemIndex];\n        if (action) {\n          action.click();\n        } else {\n          this.toggleOpen(false);\n        }\n      }\n      if (key === \"Tab\") {\n        this.open = false;\n        return;\n      }\n      if (key === \"Escape\") {\n        this.toggleOpen(false);\n        event.preventDefault();\n        return;\n      }\n      this.handleActionNavigation(event, key, actionElements);\n    };\n    this.menuId = `${this.guid}-menu`;\n    this._open = false;\n    this.updateAction = (action, index) => {\n      const { guid: guid2, activeMenuItemIndex } = this;\n      const id = `${guid2}-action-${index}`;\n      action.tabIndex = -1;\n      action.setAttribute(\"role\", \"menuitem\");\n      if (!action.id) {\n        action.id = id;\n      }\n      action.toggleAttribute(activeAttr, index === activeMenuItemIndex);\n    };\n    this.activeMenuItemIndex = -1;\n    this.appearance = \"solid\";\n    this.expanded = false;\n    this.overlayPositioning = \"absolute\";\n    this.placement = \"auto\";\n    this.scale = \"m\";\n    this.calciteActionMenuOpen = createEvent({ cancelable: false });\n  }\n  static {\n    this.properties = { activeMenuItemIndex: [16, {}, { state: true }], menuButtonEl: [16, {}, { state: true }], appearance: [3, {}, { reflect: true }], expanded: [7, {}, { reflect: true, type: Boolean }], flipPlacements: [0, {}, { attribute: false }], label: 1, open: [7, {}, { reflect: true, type: Boolean }], overlayPositioning: [3, {}, { reflect: true }], placement: [3, {}, { reflect: true }], scale: [3, {}, { reflect: true }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  get open() {\n    return this._open;\n  }\n  set open(open) {\n    const oldOpen = this._open;\n    if (open !== oldOpen) {\n      this._open = open;\n      this.openHandler(open);\n    }\n  }\n  async setFocus() {\n    await componentFocusable(this);\n    return focusElement(this.menuButtonEl);\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.connectMenuButtonEl();\n  }\n  willUpdate(changes) {\n    if (changes.has(\"expanded\") && (this.hasUpdated || this.expanded !== false)) {\n      this.expandedHandler();\n    }\n    if (changes.has(\"activeMenuItemIndex\") && (this.hasUpdated || this.activeMenuItemIndex !== -1)) {\n      this.updateActions(this.actionElements);\n    }\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.disconnectMenuButtonEl();\n  }\n  expandedHandler() {\n    this.open = false;\n    this.setTooltipReferenceElement();\n  }\n  openHandler(open) {\n    if (this.menuButtonEl) {\n      this.menuButtonEl.active = open;\n    }\n    if (this.popoverEl) {\n      this.popoverEl.open = open;\n    }\n    this.activeMenuItemIndex = this.open ? 0 : -1;\n    this.calciteActionMenuOpen.emit();\n    this.setTooltipReferenceElement();\n  }\n  connectMenuButtonEl() {\n    const { menuButtonId, menuId, open, label } = this;\n    const menuButtonEl = this.slottedMenuButtonEl || this.defaultMenuButtonEl;\n    if (this.menuButtonEl === menuButtonEl) {\n      return;\n    }\n    this.disconnectMenuButtonEl();\n    this.menuButtonEl = menuButtonEl;\n    this.setTooltipReferenceElement();\n    if (!menuButtonEl) {\n      return;\n    }\n    menuButtonEl.active = open;\n    menuButtonEl.setAttribute(\"aria-controls\", menuId);\n    menuButtonEl.setAttribute(\"aria-expanded\", toAriaBoolean(open));\n    menuButtonEl.setAttribute(\"aria-haspopup\", \"true\");\n    if (!menuButtonEl.id) {\n      menuButtonEl.id = menuButtonId;\n    }\n    if (!menuButtonEl.label) {\n      menuButtonEl.label = label;\n    }\n    if (!menuButtonEl.text) {\n      menuButtonEl.text = label;\n    }\n    menuButtonEl.addEventListener(\"click\", this.menuButtonClick);\n    menuButtonEl.addEventListener(\"keydown\", this.menuButtonKeyDown);\n  }\n  disconnectMenuButtonEl() {\n    const { menuButtonEl } = this;\n    if (!menuButtonEl) {\n      return;\n    }\n    menuButtonEl.removeEventListener(\"click\", this.menuButtonClick);\n    menuButtonEl.removeEventListener(\"keydown\", this.menuButtonKeyDown);\n    this.menuButtonEl = null;\n  }\n  setMenuButtonEl(event) {\n    const actions = event.target.assignedElements({\n      flatten: true\n    }).filter((el) => el?.matches(\"calcite-action\"));\n    this.slottedMenuButtonEl = actions[0];\n    this.connectMenuButtonEl();\n  }\n  setDefaultMenuButtonEl(el) {\n    this.defaultMenuButtonEl = el;\n    if (el) {\n      this.connectMenuButtonEl();\n    }\n  }\n  setPopoverEl(el) {\n    if (!el) {\n      return;\n    }\n    this.popoverEl = el;\n    el.open = this.open;\n  }\n  handleCalciteActionClick() {\n    this.open = false;\n    this.setFocus();\n  }\n  updateTooltip(event) {\n    const tooltips = event.target.assignedElements({\n      flatten: true\n    }).filter((el) => el?.matches(\"calcite-tooltip\"));\n    this.tooltipEl = tooltips[0];\n    this.setTooltipReferenceElement();\n  }\n  setTooltipReferenceElement() {\n    const { tooltipEl, expanded, menuButtonEl, open } = this;\n    if (tooltipEl) {\n      tooltipEl.referenceElement = !expanded && !open ? menuButtonEl : null;\n    }\n  }\n  updateActions(actions) {\n    actions?.forEach(this.updateAction);\n  }\n  handleDefaultSlotChange(event) {\n    const actions = event.target.assignedElements({\n      flatten: true\n    }).reduce((previousValue, currentValue) => {\n      if (currentValue?.matches(\"calcite-action\")) {\n        previousValue.push(currentValue);\n        return previousValue;\n      }\n      if (currentValue?.matches(\"calcite-action-group\")) {\n        return previousValue.concat(Array.from(currentValue.querySelectorAll(\"calcite-action\")));\n      }\n      return previousValue;\n    }, []);\n    this.actionElements = actions.filter((action) => !action.disabled && !action.hidden);\n  }\n  isValidKey(key, supportedKeys) {\n    return !!supportedKeys.find((k) => k === key);\n  }\n  handleActionNavigation(event, key, actions) {\n    if (!this.isValidKey(key, SUPPORTED_MENU_NAV_KEYS)) {\n      return;\n    }\n    event.preventDefault();\n    if (!this.open) {\n      this.toggleOpen();\n      if (key === \"Home\" || key === \"ArrowDown\") {\n        this.activeMenuItemIndex = 0;\n      }\n      if (key === \"End\" || key === \"ArrowUp\") {\n        this.activeMenuItemIndex = actions.length - 1;\n      }\n      return;\n    }\n    if (key === \"Home\") {\n      this.activeMenuItemIndex = 0;\n    }\n    if (key === \"End\") {\n      this.activeMenuItemIndex = actions.length - 1;\n    }\n    const currentIndex = this.activeMenuItemIndex;\n    if (key === \"ArrowUp\") {\n      this.activeMenuItemIndex = getRoundRobinIndex(Math.max(currentIndex - 1, -1), actions.length);\n    }\n    if (key === \"ArrowDown\") {\n      this.activeMenuItemIndex = getRoundRobinIndex(currentIndex + 1, actions.length);\n    }\n  }\n  toggleOpen(value = !this.open) {\n    this.open = value;\n  }\n  handlePopoverOpen(event) {\n    event.stopPropagation();\n    this.open = true;\n    this.setFocus();\n  }\n  handlePopoverClose(event) {\n    event.stopPropagation();\n    this.open = false;\n  }\n  renderMenuButton() {\n    const { appearance, label, scale, expanded } = this;\n    const menuButtonSlot = html`<slot name=${SLOTS.trigger} @slotchange=${this.setMenuButtonEl}><calcite-action .appearance=${appearance} class=${safeClassMap(CSS.defaultTrigger)} .icon=${ICONS.menu} .scale=${scale} .text=${label} .textEnabled=${expanded} ${ref(this.setDefaultMenuButtonEl)}></calcite-action></slot>`;\n    return menuButtonSlot;\n  }\n  renderMenuItems() {\n    const { actionElements, activeMenuItemIndex, menuId, menuButtonEl, label, placement, overlayPositioning, flipPlacements } = this;\n    const activeAction = actionElements[activeMenuItemIndex];\n    const activeDescendantId = activeAction?.id || null;\n    return html`<calcite-popover auto-close .flipPlacements=${flipPlacements} focus-trap-disabled .label=${label} offset-distance=0 @calcitePopoverClose=${this.handlePopoverClose} @calcitePopoverOpen=${this.handlePopoverOpen} .overlayPositioning=${overlayPositioning} .placement=${placement} pointer-disabled .referenceElement=${menuButtonEl} trigger-disabled ${ref(this.setPopoverEl)}><div aria-activedescendant=${activeDescendantId ?? nothing} aria-labelledby=${menuButtonEl?.id ?? nothing} class=${safeClassMap(CSS.menu)} id=${menuId ?? nothing} @click=${this.handleCalciteActionClick} role=menu tabindex=-1><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></calcite-popover>`;\n  }\n  render() {\n    return html`${this.renderMenuButton()}${this.renderMenuItems()}<slot name=${SLOTS.tooltip} @slotchange=${this.updateTooltip}></slot>`;\n  }\n}\ncustomElement(\"calcite-action-menu\", ActionMenu);\nexport {\n  ActionMenu\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.2.1 */\nimport { c as customElement } from \"../../chunks/runtime.js\";\nimport { ref } from \"lit-html/directives/ref.js\";\nimport { html } from \"lit-html\";\nimport { LitElement, safeClassMap } from \"@arcgis/lumina\";\nimport { c as createObserver } from \"../../chunks/observers.js\";\nimport { r as slotChangeHasContent } from \"../../chunks/dom.js\";\nimport { u as useT9n } from \"../../chunks/useT9n.js\";\nimport { css } from \"@lit/reactive-element/css-tag.js\";\nconst CSS = {\n  scrim: \"scrim\",\n  content: \"content\"\n};\nconst BREAKPOINTS = {\n  s: 72,\n  // Less than 72px.\n  // medium is assumed default.\n  l: 480\n  // Greater than or equal to 480px.\n};\nconst styles = css`:host{position:absolute;inset:0;z-index:var(--calcite-z-index-overlay);display:flex;block-size:100%;inline-size:100%;flex-direction:column;align-items:stretch}@keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity: 0 }to{--tw-text-opacity: 1 }}.scrim{position:absolute;inset:0;display:flex;flex-direction:column;align-content:center;align-items:center;justify-content:center;overflow:hidden;animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;background-color:var(--calcite-scrim-background, var(--calcite-color-transparent-scrim))}.content{padding:1rem}:host([hidden]){display:none}[hidden]{display:none}`;\nclass Scrim extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.resizeObserver = createObserver(\"resize\", () => this.handleResize());\n    this.messages = useT9n();\n    this.hasContent = false;\n    this.loading = false;\n  }\n  static {\n    this.properties = { hasContent: [16, {}, { state: true }], loaderScale: [16, {}, { state: true }], loading: [7, {}, { reflect: true, type: Boolean }], messageOverrides: [0, {}, { attribute: false }] };\n  }\n  static {\n    this.styles = styles;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.resizeObserver?.observe(this.el);\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.resizeObserver?.disconnect();\n  }\n  handleDefaultSlotChange(event) {\n    this.hasContent = slotChangeHasContent(event);\n  }\n  storeLoaderEl(el) {\n    this.loaderEl = el;\n    this.handleResize();\n  }\n  getScale(size) {\n    if (size < BREAKPOINTS.s) {\n      return \"s\";\n    } else if (size >= BREAKPOINTS.l) {\n      return \"l\";\n    } else {\n      return \"m\";\n    }\n  }\n  handleResize() {\n    const { loaderEl, el } = this;\n    if (!loaderEl) {\n      return;\n    }\n    this.loaderScale = this.getScale(Math.min(el.clientHeight, el.clientWidth) ?? 0);\n  }\n  render() {\n    const { hasContent, loading, messages } = this;\n    return html`<div class=${safeClassMap(CSS.scrim)}>${loading ? html`<calcite-loader .label=${messages.loading} .scale=${this.loaderScale} ${ref(this.storeLoaderEl)}></calcite-loader>` : null}<div class=${safeClassMap(CSS.content)} .hidden=${!hasContent}><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></div>`;\n  }\n}\ncustomElement(\"calcite-scrim\", Scrim);\nexport {\n  Scrim\n};\n"],"names":["getRoundRobinIndex","index","total","styles","css","SUPPORTED_MENU_NAV_KEYS","ActionMenu","LitElement","constructor","super","arguments","this","guid","actionElements","menuButtonClick","toggleOpen","menuButtonId","menuButtonKeyDown","event","key","activeMenuItemIndex","open","length","isActivationKey","preventDefault","action","click","handleActionNavigation","menuId","_open","updateAction","guid2","id","tabIndex","setAttribute","toggleAttribute","activeAttr","appearance","expanded","overlayPositioning","placement","scale","calciteActionMenuOpen","createEvent","cancelable","properties","state","menuButtonEl","reflect","type","Boolean","flipPlacements","attribute","label","openHandler","setFocus","componentFocusable","focusElement","connectedCallback","connectMenuButtonEl","willUpdate","changes","has","hasUpdated","expandedHandler","updateActions","disconnectedCallback","disconnectMenuButtonEl","setTooltipReferenceElement","active","popoverEl","emit","slottedMenuButtonEl","defaultMenuButtonEl","toAriaBoolean","text","addEventListener","removeEventListener","setMenuButtonEl","actions","target","assignedElements","flatten","filter","el","matches","setDefaultMenuButtonEl","setPopoverEl","handleCalciteActionClick","updateTooltip","tooltips","tooltipEl","referenceElement","forEach","handleDefaultSlotChange","reduce","previousValue","currentValue","push","concat","Array","from","querySelectorAll","disabled","hidden","isValidKey","supportedKeys","find","k","currentIndex","Math","max","value","handlePopoverOpen","stopPropagation","handlePopoverClose","renderMenuButton","html","SLOTS","trigger","safeClassMap","CSS","defaultTrigger","ICONS","menu","ref","renderMenuItems","activeAction","activeDescendantId","nothing","render","tooltip","customElement","BREAKPOINTS","Scrim","resizeObserver","createObserver","handleResize","messages","useT9n","hasContent","loading","loaderScale","messageOverrides","observe","disconnect","slotChangeHasContent","storeLoaderEl","loaderEl","getScale","size","min","clientHeight","clientWidth"],"sourceRoot":""}