{"version":3,"file":"static/js/17079.3c2b758b.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/knowledgeGraph/IdealEdgeLengthTypeOptions.js","../node_modules/@arcgis/core/layers/LinkChartLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar e;!function(e){e.MULTIPLIER=\"multiplier\",e.ABSOLUTE=\"absolute-value\"}(e||(e={}));export{e as IdealEdgeLengthTypeOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{serializationUtilsModuleWrapper as t}from\"../applications/KnowledgeStudio/resourceSerializationUtils.js\";import a from\"../core/Collection.js\";import i from\"../core/Error.js\";import n from\"../core/Logger.js\";import{getOrCreateMapValue as o}from\"../core/MapUtils.js\";import{MultiOriginJSONMixin as r}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAborted as s,isAbortError as l,createAbortError as h}from\"../core/promiseUtils.js\";import{watch as d,sync as p}from\"../core/reactiveUtils.js\";import{property as c}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as u}from\"../core/accessorSupport/decorators/subclass.js\";import{OriginId as y,idToName as g}from\"../core/accessorSupport/PropertyOrigin.js\";import m from\"../geometry/Extent.js\";import f from\"../geometry/Point.js\";import L from\"../geometry/Polyline.js\";import b from\"./Layer.js\";import{convertFromGeometry as w}from\"./graphics/featureConversionUtils.js\";import{systemOidFieldName as M,systemOriginIdFieldName as k,systemDestinationIdFieldName as C,systemLayoutGeometryFieldName as T,systemAggregationCountFieldName as N}from\"./knowledgeGraph/constants.js\";import{IdealEdgeLengthTypeOptions as D}from\"./knowledgeGraph/IdealEdgeLengthTypeOptions.js\";import{KnowledgeGraphLayerDataManager as v}from\"./knowledgeGraph/KnowledgeGraphLayerDataManager.js\";import x from\"./knowledgeGraph/KnowledgeGraphSublayer.js\";import{initializeLayersFromClientData as I}from\"./knowledgeGraph/layerUtils.js\";import E from\"./knowledgeGraph/SessionMemoryStorage.js\";import{convertLayoutTypeToWebSupportedFormat as S,getRelationshipEndNodeIds as _}from\"./knowledgeGraph/supportUtils.js\";import{BlendLayer as R}from\"./mixins/BlendLayer.js\";import{OperationalLayer as A}from\"./mixins/OperationalLayer.js\";import{ScaleRangeLayer as j}from\"./mixins/ScaleRangeLayer.js\";import{LCChronologicalLayout as G,LCSimpleLayout as z,LCSmartTreeLayout as P,LCRadialTreeLayout as O,LCHierarchicalLayout as F,LCCommunityLayout as U,LCForceDirectedLayout as B,NodeFlag as Q,load as W,CallStatus as $,LinkType as H}from\"../libs/linkchartlayout/LinkChartLayout.js\";import{fetchKnowledgeGraph as K}from\"../rest/knowledgeGraphService.js\";let V=class extends(A(R(j(r(b))))){constructor(e){if(super(e),this.dataPreloadedInLocalCache=!1,this.initializationLinkChartConfig=null,this.membershipModified=!0,this._currentLinkChartConfig={layoutMode:\"organic-standard\"},this._graphTypeLookup=new Map,this.dataManager=null,this.knowledgeGraph=null,this.layers=new(a.ofType(x)),this.entityLinkChartDiagramLookup=new Map,this.relationshipLinkChartDiagramLookup=new Map,this.linkChartExtent=new m({xmin:-1e-7,ymin:-1e-7,xmax:1e-7,ymax:1e-7}),this.memberEntityTypes=null,this.memberRelationshipTypes=null,this.operationalLayerType=\"LinkChartLayer\",this.sublayerIdsCache=new Map,this.tables=new(a.ofType(x)),this.type=\"link-chart\",this.chronologicalAuxiliaryGraphics=null,this._originalInclusionList=e?.initializationInclusionModeDefinition,e?.dataPreloadedInLocalCache&&!e?.initializationInclusionModeDefinition)throw new i(\"knowledge-graph:linkchart-layer-constructor\",\"If creating a link chart composite layer and configured that data is already loaded in the cache, you must specify an inclusion list so the Composite Layer knows what records belong to it\");this.addHandles(d((()=>this.layers.concat(this.tables)),((e,t)=>this._handleSublayersChange(e,t)),p))}normalizeCtorArgs(e){if(!e)return{};const{url:t,title:a,dataPreloadedInLocalCache:i,initializationLinkChartConfig:n}=e;return{url:t,title:a,dataPreloadedInLocalCache:i,initializationLinkChartConfig:n}}_initializeLayerProperties(e){if(!this.title&&this.url){const e=this.url.split(\"/\");this.title=e[e.length-2]}const t=new Set;let a=[],o=[];if(e.inclusionModeDefinition&&(!e.inclusionModeDefinition.namedTypeDefinitions||e.inclusionModeDefinition.namedTypeDefinitions.size<1))throw new i(\"knowledge-graph:composite-layer-constructor\",\"If an explicit inclusion definition is defined, at least one namedTypeDefinition must also be defined\");e.inclusionModeDefinition?.generateAllSublayers?(a=e.knowledgeGraph.dataModel.entityTypes??[],o=e.knowledgeGraph.dataModel.relationshipTypes??[]):e.inclusionModeDefinition?.namedTypeDefinitions&&e.inclusionModeDefinition?.namedTypeDefinitions.size>0?e.inclusionModeDefinition?.namedTypeDefinitions.forEach(((i,r)=>{const s=this._graphTypeLookup.get(r);if(!s)return n.getLogger(this).warn(`A named type, ${r}, was in the inclusion list that wasn't in the data model and will be removed`),void e.inclusionModeDefinition?.namedTypeDefinitions.delete(r);\"relationship\"===s.type?t.has(r)||(t.add(r),o.push(s)):\"entity\"===s.type?t.has(r)||(t.add(r),a.push(s)):(n.getLogger(this).warn(`A named type, ${r}, was in the inclusion list that wasn't properly modeled and will be removed`),e.inclusionModeDefinition?.namedTypeDefinitions.delete(r))})):(a=e.knowledgeGraph.dataModel.entityTypes??[],o=e.knowledgeGraph.dataModel.relationshipTypes??[]);const r=new v({knowledgeGraph:e.knowledgeGraph,inclusionModeDefinition:e.inclusionModeDefinition});this.knowledgeGraph=e.knowledgeGraph,this.memberEntityTypes=a,this.memberRelationshipTypes=o,this.dataManager=r}load(e){const a=async()=>{const e=[],t=[];this.loadLayerAssumingLocalCache(),this._layersLoadedFromAuthoritativeItem()||await I(this),this.dataManager.inclusionModeDefinition&&(this.dataManager.inclusionModeDefinition.generateAllSublayers=!1),this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.forEach((e=>{e.useAllData=!1})),await this._initializeDiagram(),this.layers.forEach((a=>{t.push(a.refreshCachedQueryEngine()),e.push(new Promise((e=>{a.on(\"layerview-create\",(()=>{e(null)}))})))})),this.tables.forEach((e=>{t.push(e.refreshCachedQueryEngine())})),await Promise.all(t)};return this.addResolvingPromise(new Promise((i=>{K(this.url).then((async n=>{n.dataModel.entityTypes?.forEach((e=>{e.name&&this._graphTypeLookup.set(e.name,e)})),n.dataModel.relationshipTypes?.forEach((e=>{e.name&&this._graphTypeLookup.set(e.name,e)}));const r=this.linkChart?.linkChartProperties;if(r?.originIdOf(\"entitiesUrl\")===y.LINK_CHART&&(this.membershipModified=!1,this._originalInclusionList=await t.fetchAndConvertSerializedLinkChart({entitiesUrl:r?.entitiesUrl,relationshipsUrl:r?.relationshipsUrl}),this._alignLayersDataModelAndInclusionDefinition(n.dataModel),this.initializationLinkChartConfig={layoutSettings:r?.layoutSettings??void 0,layoutMode:S(r.layoutType)}),this._initializeLayerProperties({knowledgeGraph:n,inclusionModeDefinition:this._originalInclusionList}),this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.size||(this.dataManager.inclusionModeDefinition={generateAllSublayers:!1,namedTypeDefinitions:new Map},this.dataManager.knowledgeGraph.dataModel.entityTypes?.forEach((e=>{e.name&&this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.set(e.name,{useAllData:!0})})),this.dataManager.knowledgeGraph.dataModel.relationshipTypes?.forEach((e=>{e.name&&this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.set(e.name,{useAllData:!0})}))),this.dataPreloadedInLocalCache){const e=E.getInstance();for(const[t,a]of this.dataManager.inclusionModeDefinition?.namedTypeDefinitions??[])for(const i of a.members?.values()??[]){const a=e.readFromStoreById(`${t}__${i.id}`);if(a){o(this.dataManager.sublayerCaches,t,(()=>new Map)).set(i.id,a)}}await a()}else{const t=\"geographic-organic-standard\"===this.initializationLinkChartConfig?.layoutMode;this.addResolvingPromise(this.dataManager.refreshCacheContent(void 0,!1,t,!0).then((async()=>{s(e),await a()})))}i(null)}))}))),Promise.resolve(this)}set initializationInclusionModeDefinition(e){\"loaded\"!==this.loadStatus&&\"failed\"!==this.loadStatus?this._set(\"initializationInclusionModeDefinition\",e):n.getLogger(this).error(\"#initializationInclusionModeDefinition\",\"initializationInclusionModeDefinition cannot be changed after the layer is loaded.\")}get linkChart(){return this.parent}async addRecords(e,t){let a=[];t?.cascadeAddRelationshipEndNodes&&this.dataManager.knowledgeGraph.dataModel&&(a=await _(e,this.dataManager.knowledgeGraph));const i=e.concat(a).filter((e=>!this.sublayerIdsCache.get(e.typeName)?.has(e.id)));i.length>0&&(this.membershipModified=!0),await this._handleNewRecords(i,t)}async removeRecords(e,{cascadeRemoveRelationships:t=!0,recalculateLayout:a=!1,overrideMembershipCheck:i=!1}={cascadeRemoveRelationships:!0,recalculateLayout:!1,overrideMembershipCheck:!1}){let n=[];for(const r of e)(i||!1===this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.get(r.typeName)?.useAllData&&this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.get(r.typeName)?.members?.has(r.id))&&n.push(r);if(t){const e=new Set,t=[];for(const a of n)if(this.dataManager.nodeConnectionsLookup.has(a.id))for(const t of this.dataManager.nodeConnectionsLookup.get(a.id))e.add(t);for(const a of e)if(this.dataManager.memberIdTypeLookup.has(a))for(const e of this.dataManager.memberIdTypeLookup.get(a))this.dataManager.relationshipTypeNames.has(e)&&t.push({id:a,typeName:e});n=n.concat(t)}this.dataManager.removeFromLayer(n);for(const r of n)this.sublayerIdsCache.get(r.typeName)?.delete(r.id),this.dataManager.relationshipTypeNames.has(r.typeName)?this.relationshipLinkChartDiagramLookup.delete(r.id):this.entityLinkChartDiagramLookup.delete(r.id);a&&await this._calculateLayoutWithSublayerTimeInfo(this._currentLinkChartConfig.layoutMode,{layoutSettings:this._currentLinkChartConfig.layoutSettings}),n.length>0&&(this.membershipModified=!0);const o=[];return this.layers.forEach((e=>{o.push(e.refreshCachedQueryEngine())})),await Promise.all(o),this._refreshNamedTypes(),n}async expand(e,t){let a=[];try{const i=await this.dataManager.getConnectedRecordIds(e,t?.relationshipTypeNames,t);a=i.filter((e=>!this.sublayerIdsCache.get(e.typeName)?.has(e.id))),await this._handleNewRecords(i,t),i.length>0&&(this.membershipModified=!0),s(t?.signal)}catch(i){throw l(i)&&a.length>0&&this.removeRecords(a,{overrideMembershipCheck:!0}),i}return{records:a}}loadLayerAssumingLocalCache(){const e=[...this.memberRelationshipTypes,...this.memberEntityTypes];this.originIdOf(\"layers\")===y.DEFAULTS?this._createSublayers(e,this.layers,(e=>!!e.geometryType)):this._updateSublayers(e,this.layers),this.originIdOf(\"tables\")===y.DEFAULTS?this._createSublayers(e,this.tables,(e=>!e.geometryType)):this._updateSublayers(e,this.tables),this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.forEach(((e,t)=>{const a=o(this.sublayerIdsCache,t,(()=>new Set));e.members?.forEach((({id:e,linkChartLocation:i})=>{if(a.add(e),i){const a=\"coords\"in i&&\"lengths\"in i?i:w(i);this.dataManager.relationshipTypeNames.has(t)?this.relationshipLinkChartDiagramLookup.set(e,a):this.entityLinkChartDiagramLookup.set(e,a)}}))}))}async calculateLinkChartLayout(e=\"organic-standard\",t){const a=[],r=[],l=[];this.dataManager.sublayerCaches.forEach(((e,t)=>{this.dataManager.entityTypeNames.has(t)?e.forEach((e=>{a.push({typeName:t,feature:e})})):this.dataManager.relationshipTypeNames.has(t)&&e.forEach((e=>{r.push({typeName:t,feature:e})}))})),this.entityLinkChartDiagramLookup=new Map,this.relationshipLinkChartDiagramLookup=new Map;const d=new Map,p=new Map,c=new Map,u=new Map,y=new Uint8Array(a.length),g=new Float64Array(a.length),b=new Float64Array(a.length),D=new Float64Array(a.length),v=new Float64Array(a.length),x=new Uint32Array(r.length),I=new Uint32Array(r.length),E=new Float64Array(r.length),S=new Float64Array(r.length),_=[],R=\"organic-standard\",A=new m({xmin:-1e-7,ymin:-1e-7,xmax:1e-7,ymax:1e-7});let j,K=\"organic-standard\",V=0,q=0;const J=G.apply;switch(K=\"geographic-organic-standard\"===e?R:e,K){case\"organic-standard\":j=B.apply;break;case\"organic-community\":j=U.apply;break;case\"hierarchical-bottom-to-top\":j=F.apply;break;case\"radial-root-centric\":j=O.apply;break;case\"tree-left-to-right\":j=P.apply;break;default:j=z.apply}let X=!1;a.forEach((({typeName:a,feature:i})=>{if(\"chronological-mono-timeline\"!==e&&\"chronological-multi-timeline\"!==e&&t?.lockedNodeLocations?.has(i.attributes[M])){\"geographic-organic-standard\"===e&&this.dataManager.geographicLookup.has(a)?y[V]=Q.IsGeographic:y[V]=Q.None;const n=t.lockedNodeLocations.get(i.attributes[M]);g[V]=n.x,b[V]=n.y}else if(\"geographic-organic-standard\"===e&&this.dataManager.geographicLookup.has(a)){y[V]=Q.IsGeographic;let e=null;const t=i.attributes[this.dataManager.geographicLookup.get(a).name],n=this.dataManager.geographicLookup.get(a)?.geometryType;switch(n){case\"esriGeometryPoint\":g[V]=t?.x,b[V]=t?.y;break;case\"esriGeometryPolygon\":e=t?.centroid,null!=e?.x&&null!=e?.y?(g[V]=e.x,b[V]=e.y):y[V]=Q.IsMovable;break;case\"esriGeometryPolyline\":case\"esriGeometryMultipoint\":e=t?.extent?.center,null!=e?.x&&null!=e?.y?(g[V]=e.x,b[V]=e.y):y[V]=Q.IsMovable;break;default:y[V]=Q.IsMovable}(null==g[V]||null==b[V]||Number.isNaN(g[V])||Number.isNaN(b[V]))&&(y[V]=Q.IsMovable,g[V]=0,b[V]=0)}else if(\"chronological-mono-timeline\"===e||\"chronological-multi-timeline\"===e){!X&&t?.lockedNodeLocations?.has(i.attributes[M])&&(X=!0);const e=t?.timeInfoByTypeName?.get(a),n=e?.startField,o=n&&e?.startField?i.attributes[n]:null;D[V]=o?new Date(o).getTime():NaN;const r=e?.endField,s=r&&e?.endField?i.attributes[r]:null;v[V]=s?new Date(s).getTime():NaN,g[V]=0,b[V]=0,y[V]=Q.IsMovable}else y[V]=Q.IsMovable,g[V]=0,b[V]=0;u.set(i.attributes[M],V),_[V]={feature:i,typeName:a},V++})),X&&n.getLogger(this).warn(\"Locked node locations are not supported for chronological layout at this time.  Requested node locations were ignored\");let Y=!1;const Z=new Map;r.forEach((a=>{const i=a.feature.attributes[k],n=a.feature.attributes[C],o=u.get(i),r=u.get(n),s=t?.timeInfoByTypeName?.get(a.typeName),h=t?.timeInfoByTypeName?s?.startField:null,d=h?a.feature.attributes[h]:null,p=s?.endField,c=p?a.feature.attributes[p]:null;if(void 0!==o&&void 0!==r){let t=i+\"-\"+n;\"chronological-mono-timeline\"!==e&&\"chronological-multi-timeline\"!==e||(t=t+\"-\"+d+\"-\"+c);const s=Z.get(t),h=s?.has(a.typeName);h||(x[q]=o,I[q]=r,\"chronological-mono-timeline\"!==e&&\"chronological-multi-timeline\"!==e||(E[q]=d?new Date(d).getTime():NaN,S[q]=c?new Date(c).getTime():NaN),void 0===s?Z.set(t,new Map([[a.typeName,q]])):s.set(a.typeName,q),q++),l.push(a)}else Y=!0,this.relationshipLinkChartDiagramLookup.set(i,null)})),Y&&n.getLogger(this).warn(\"A relationship is a member of this layer that has either origin or destination entity nodes that are not members. The diagram geometry will be set to null\");const ee=this._validateOrganicLayoutSettings(e,t?.layoutSettings?.organicLayoutSettings),te=this._convertValidatedOrganicSettingsToCalculationSettings(ee);await W();let ae=$.Error,ie=null;if(\"chronological-mono-timeline\"===e||\"chronological-multi-timeline\"===e){let a;({status:ae,links:ie,graphics:a}=J((()=>t?.signal?.aborted??!1),y,g,b,D,v,x.subarray(0,q),I.subarray(0,q),E.subarray(0,q),S.subarray(0,q),\"chronological-multi-timeline\"===e,t?.layoutSettings?.chronologicalLayoutSettings)),ae===$.Success&&(this.chronologicalAuxiliaryGraphics=a)}else({status:ae,links:ie}=j((()=>t?.signal?.aborted??!1),y,g,b,x.subarray(0,q),I.subarray(0,q),te.computationBudgetTime,te.idealEdgeLengthMultiplier,te.repulsionRadiusMultiplier));if(s(t?.signal),ae===$.Error)throw new i(\"knowledge-graph:layout-failed\",\"Attempting to arrange the records in the specified layout failed\");if(ae===$.Canceled)throw h();for(let i=0;i<_.length;i++){if(b[i]>84.9999?b[i]=84.9999:b[i]<-84.9999&&(b[i]=-84.9999),g[i]>179.9999?g[i]=179.9999:g[i]<-179.9999&&(g[i]=-179.9999),_[i].feature.attributes[T]=new f(g[i],b[i]),d.has(_[i].typeName)){const e=d.get(_[i].typeName);e?.set(_[i].feature.attributes[M],_[i].feature)}else{const e=new Map;e.set(_[i].feature.attributes[M],_[i].feature),d.set(_[i].typeName,e)}c.set(_[i].feature.attributes[M],_[i].feature);const e=w(_[i].feature.attributes[T]);this.entityLinkChartDiagramLookup.set(_[i].feature.attributes[M],_[i].feature.attributes[T]?e:null);const t=o(this.dataManager.inclusionModeDefinition.namedTypeDefinitions,_[i].typeName,(()=>({useAllData:!1,members:new Map})));o(t.members,_[i].feature.attributes[M],(()=>({id:_[i].feature.attributes[M],linkChartLocation:void 0}))).linkChartLocation=_[i].feature.attributes[T],_[i].feature.attributes[T].x<A.xmin&&(A.xmin=_[i].feature.attributes[T].x),_[i].feature.attributes[T].x>A.xmax&&(A.xmax=_[i].feature.attributes[T].x),_[i].feature.attributes[T].y<A.ymin&&(A.ymin=_[i].feature.attributes[T].y),_[i].feature.attributes[T].y>A.ymax&&(A.ymax=_[i].feature.attributes[T].y)}if(this.linkChartExtent.xmin=A.xmin,this.linkChartExtent.xmax=A.xmax,this.linkChartExtent.ymin=A.ymin,this.linkChartExtent.ymax=A.ymax,!ie)throw new i(\"knowledge-graph:layout-failed\",\"Attempting to retrieve link geometry from diagram engine failed\");const ne=new Map,oe=new Map,re=new Map,se=new Set;for(let i=0;i<l.length;i++){const a=[],r=l[i],s=r.feature.attributes[k],h=r.feature.attributes[C];let d=s+\"-\"+h;if(\"chronological-mono-timeline\"===e||\"chronological-multi-timeline\"===e){const e=t?.timeInfoByTypeName?.get(r.typeName),a=t?.timeInfoByTypeName?e?.startField:null,i=a?r.feature.attributes[a]:null,n=e?.endField;d+=\"-\"+i+\"-\"+(n?r.feature.attributes[n]:null)}const y=Z.get(d).get(r.typeName),g=0===y?0:ie?.vertexEndIndex[y-1];if(!se.has(y)){if(se.add(y),ie.types[y]===H.Recursive){const e=[ie.vertices[2*g],ie.vertices[2*g+1]],t=[ie.vertices[2*(g+1)],ie.vertices[2*(g+1)+1]],i=[.5*(e[0]+t[0]),.5*(e[1]+t[1])],n=[i[0]-e[0],i[1]-e[1]],o=[i[0]+n[1],i[1]-n[0]],r=[i[0]-n[1],i[1]+n[0]];a.push(e),a.push(o),a.push(t),a.push(r),a.push(e)}else{if(ie.types[y]!==H.Regular){n.getLogger(this).warn(\"A relationship generated an unsupported link geometry type.  It will not be rendered\");continue}for(let e=g;e<ie.vertexEndIndex[y];e++)a.push([ie.vertices[2*e],ie.vertices[2*e+1]])}if(\"chronological-mono-timeline\"!==e&&\"chronological-multi-timeline\"!==e){const e=_[u.get(s)]?.feature.attributes[T],t=_[u.get(h)]?.feature.attributes[T];a[0][0]===e.x&&a[0][1]===e.y||(a[0]=[e.x,e.y]),a[a.length-1][0]===t.x&&a[a.length-1][1]===t.y||(a[a.length-1]=[t.x,t.y])}for(let e=1;e<a.length-1;e++)a[e][1]>85.5?a[e][1]=85.5:a[e][1]<-85.5&&(a[e][1]=-85.5),a[e][0]>179.9999?a[e][0]=179.9999:a[e][0]<-179.9999&&(a[e][0]=-179.9999);ne.has(d)?ne.get(d).push(a):ne.set(d,[a])}const m=ne.get(d);oe.has(d)||(oe.set(d,new Map),re.set(d,new Map));const f=oe.get(d),b=re.get(d);f.has(r.typeName)||(f.set(r.typeName,m.shift()),b.set(r.typeName,0));const N=f.get(r.typeName);b.set(r.typeName,b.get(r.typeName)+1);const D=new L({paths:[N]});if(r.feature.attributes[T]=D,p.has(r.typeName)){const e=p.get(r.typeName);e?.set(r.feature.attributes[M],r.feature)}else{const e=new Map;e.set(r.feature.attributes[M],r.feature),p.set(r.typeName,e)}c.set(r.feature.attributes[M],r.feature);const v=w(r.feature.attributes[T]);this.relationshipLinkChartDiagramLookup.set(r.feature.attributes[M],r.feature.attributes[T]?v:null);const x=o(this.dataManager.inclusionModeDefinition.namedTypeDefinitions,r.typeName,(()=>({useAllData:!1,members:new Map})));o(x.members,r.feature.attributes[M],(()=>({id:r.feature.attributes[M],linkChartLocation:void 0}))).linkChartLocation=v}for(const i of l)i.feature.attributes[N]=re.get(i.feature.attributes[k]+\"-\"+i.feature.attributes[C])?.get(i.typeName)??null;return this._currentLinkChartConfig={layoutMode:e,layoutSettings:t?.layoutSettings?.clone()},{nodes:d,links:p,idMap:c}}async applyNewLinkChartLayout(e=\"organic-standard\",t){const a=[];await this._calculateLayoutWithSublayerTimeInfo(e,t),this.layers.forEach((e=>{a.push(e.refreshCachedQueryEngine())})),this.membershipModified=!0,await Promise.all(a),this._refreshNamedTypes()}getCurrentNodeLocations(){const e=new Map;for(const[t,a]of this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.entries()??[])this.dataManager.relationshipTypeNames.has(t)||a?.members?.forEach((t=>{const a=t.linkChartLocation;let i;const n=t.id;a&&(i=\"x\"in a?{x:a.x,y:a.y}:{x:a.coords[0],y:a.coords[1]},e.set(n,new f({x:i.x,y:i.y})))}));return e}async refreshLinkChartCache(e){await this.dataManager.refreshCacheContent(e);const t=[];this.layers.forEach((e=>{t.push(e.refreshCachedQueryEngine())})),await Promise.all(t),this._refreshNamedTypes()}async connectBetweenEntities(e,t){if(!e.length)return{records:[]};let a=[];try{let i=[];for(const e of this.dataManager.relationshipTypeNames){const t=this.sublayerIdsCache.get(e);t&&(i=i.concat(Array.from(t.keys())))}a=await this.dataManager.getRelationshipsBetweenNodes(e,i,t),await this._handleNewRecords(a,t),s(t)}catch(i){throw l(i)&&this.removeRecords(a),i}return{records:a}}async connectFromEntities(e,t){if(!e.length)return{records:[]};let a=[];try{let i=[];for(const e of this.dataManager.relationshipTypeNames){const t=this.sublayerIdsCache.get(e);t&&(i=i.concat(Array.from(t.keys())))}let n=[];for(const e of this.dataManager.entityTypeNames){const t=this.sublayerIdsCache.get(e);t&&(n=n.concat(Array.from(t)))}a=await this.dataManager.getRelationshipsFromNodes(e,n,i,t),await this._handleNewRecords(a,t),a.length>0&&(this.membershipModified=!0),s(t)}catch(i){throw l(i)&&this.removeRecords(a),i}return{records:a}}getCurrentLayout(){return this._currentLinkChartConfig.layoutMode}async _calculateLayoutWithSublayerTimeInfo(e=\"organic-standard\",t){const a=new Map;this.layers.forEach((e=>{a.set(e.objectType.name,e.timeInfo)})),await this.calculateLinkChartLayout(e,{timeInfoByTypeName:a,...t}),this.linkChart?.handleChronologicalOverlay()}async _handleNewRecords(e,t){const a=[];this.dataManager.addToLayer(e);for(const n of e)this.sublayerIdsCache.has(n.typeName)||(this.sublayerIdsCache.set(n.typeName,new Set),a.push(n.typeName)),this.sublayerIdsCache.get(n.typeName).add(n.id);for(const n of a){const e=this._graphTypeLookup.get(n);if(e){const t=this._createSublayer(e);\"entity\"===e.type?this.dataManager.entityTypeNames.add(n):this.dataManager.relationshipTypeNames.add(n),t.geometryType?this.layers.push(t):this.tables.push(t),this.dataManager.sublayerCaches.set(n,new Map)}}await I(this,a,t),await this.dataManager.refreshCacheContent(e.map((e=>e.id)),void 0,void 0,void 0,t);const i={layoutSettings:this._currentLinkChartConfig.layoutSettings,lockedNodeLocations:new Map};for(const[n,o]of this.entityLinkChartDiagramLookup.entries())o&&i.lockedNodeLocations.set(n,new f(o.coords[0],o.coords[1]));await this.applyNewLinkChartLayout(this._currentLinkChartConfig.layoutMode,i)}_createSublayers(e,t,a){e.forEach((e=>{const i=this._createSublayer(e);a(i)&&t.push(i),this._updateSublayerCaches(e)}))}_updateSublayers(e,t){t.forEach((t=>{t.parentCompositeLayer=this;const a=e.find((e=>e.type===t.graphType&&e.name===t.graphTypeName));a&&(t.objectType=a,t.read({title:a.name},{origin:\"service\"}),this._updateSublayerCaches(a))}))}_updateSublayerCaches(e){const t=this.dataManager.sublayerCaches;t.has(e.name)||t.set(e.name,new Map)}_layersLoadedFromAuthoritativeItem(){const e=this.originIdOf(\"layers\");return e>=y.PORTAL_ITEM&&e<y.USER}async _initializeDiagram(){this.initializationLinkChartConfig?this.initializationLinkChartConfig.doNotRecalculateLayout?(this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.forEach(((e,t)=>{e?.members?.forEach((e=>{const a=e.linkChartLocation;let i;const n=e.id;if(!a)return;i=\"x\"in a?{x:a.x,y:a.y}:{x:a.coords[0],y:a.coords[1]};const o=w(i);this.dataManager.relationshipTypeNames.has(t)?this.relationshipLinkChartDiagramLookup.set(n,o):this.entityLinkChartDiagramLookup.set(n,o),this.linkChartExtent.xmin>i.x&&(this.linkChartExtent.xmin=i.x),this.linkChartExtent.xmax<i.x&&(this.linkChartExtent.xmax=i.x),this.linkChartExtent.ymin>i.y&&(this.linkChartExtent.ymin=i.y),this.linkChartExtent.ymax<i.y&&(this.linkChartExtent.ymax=i.y)}))})),this.memberRelationshipTypes.forEach((e=>{e.name&&this.dataManager.sublayerCaches.get(e.name)?.forEach((e=>{const t=this.relationshipLinkChartDiagramLookup.get(e.attributes[k]),a=this.relationshipLinkChartDiagramLookup.get(e.attributes[C]);if(t&&a){const i=w(new L({paths:[[[t.coords[0],t.coords[1]],[a.coords[0],a.coords[1]]]]}));this.relationshipLinkChartDiagramLookup.set(e.attributes[M],i)}else this.relationshipLinkChartDiagramLookup.set(e.attributes[M],null)}))}))):await this._calculateLayoutWithSublayerTimeInfo(this.initializationLinkChartConfig.layoutMode,{lockedNodeLocations:this.getCurrentNodeLocations(),...this.initializationLinkChartConfig||{}}):await this._calculateLayoutWithSublayerTimeInfo(\"organic-standard\",{lockedNodeLocations:this.getCurrentNodeLocations()})}_refreshNamedTypes(){for(const e of this.layers)e.emit(\"refresh\",{dataChanged:!0});for(const e of this.tables)e.emit(\"refresh\",{dataChanged:!0})}_validateOrganicLayoutSettings(e,t){const a=e=>\"number\"==typeof e&&!isNaN(e),i=e=>a(e)&&e>=1,o=e=>a(e)&&e>=1,r=e=>Object.values(D).includes(e),s=e=>a(e)&&e>=0,l={};if(!new Set([\"organic-standard\",\"organic-community\",\"geographic-organic-standard\",\"chronological-multi-timeline\",\"chronological-mono-timeline\"]).has(e)||!t)return l;const{computationBudgetTime:h,autoRepulsionRadius:d,repulsionRadiusMultiplier:p,absoluteIdealEdgeLength:c,multiplicativeIdealEdgeLength:u,idealEdgeLengthType:y}=t;return o(h)?l.computationBudgetTime=h:h&&n.getLogger(this).warn(\"Invalid layout computationBudgetTime setting, will revert to default setting\"),l.autoRepulsionRadius=d,!d&&i(p)?l.repulsionRadiusMultiplier=p:d||(l.autoRepulsionRadius=!0,n.getLogger(this).warn(\"Invalid layout repulsionRadiusMultiplier setting, will revert to default setting\")),\"geographic-organic-standard\"===e&&(r(y)?l.idealEdgeLengthType=y:void 0!==y&&n.getLogger(this).warn('Invalid layout idealEdgeLengthType setting, will revert to \"multiplier\" setting'),\"absolute-value\"===y&&s(c)?l.absoluteIdealEdgeLength=c:\"absolute-value\"===y&&void 0!==c?n.getLogger(this).warn(\"Invalid layout idealEdgeLength setting, will revert to default setting\"):\"multiplier\"===y&&s(u)?l.multiplicativeIdealEdgeLength=u:\"multiplier\"===y&&void 0!==u&&n.getLogger(this).warn(\"Invalid layout idealEdgeLength setting, will revert to default setting\")),l}_convertValidatedOrganicSettingsToCalculationSettings(e){let t=e.idealEdgeLengthType===D.ABSOLUTE?e.absoluteIdealEdgeLength:e.multiplicativeIdealEdgeLength;return e.idealEdgeLengthType===D.ABSOLUTE&&(void 0===t?t=-1:t*=-1),{computationBudgetTime:e.computationBudgetTime??void 0,repulsionRadiusMultiplier:e.repulsionRadiusMultiplier&&!e.autoRepulsionRadius?e.repulsionRadiusMultiplier:void 0,idealEdgeLengthMultiplier:t}}_createSublayer(e){return new x({objectType:e,parentCompositeLayer:this,graphType:e.type})}_handleSublayersChange(e,t){t&&(t.forEach((e=>{e.parent=null})),this.removeHandles(\"sublayers-owner\")),e&&(e.forEach((e=>{e.parent=this})),this.addHandles([e.on(\"after-add\",(({item:e})=>{e.parent=this})),e.on(\"after-remove\",(({item:e})=>{e.parent=null}))],\"sublayers-owner\"))}_alignLayersDataModelAndInclusionDefinition(e){const t=new Set((e.entityTypes??[]).map((e=>e.name)).concat((e.relationshipTypes??[]).map((e=>e.name)))),i=new Set((e.entityTypes??[]).map((e=>e.name))),o=new Set((e.relationshipTypes??[]).map((e=>e.name)));if(this.layers){for(const a of this.layers)!a.graphType&&t.has(a.graphTypeName)&&(a.graphType=i.has(a.graphTypeName)?\"entity\":\"relationship\");const e=this.layers.filter((e=>t.has(e.graphTypeName)&&(\"entity\"===e.graphType?i.has(e.graphTypeName):o.has(e.graphTypeName))));this.setAtOrigin(\"layers\",e,g(this.originIdOf(\"layers\")))}else this.layers=new a;if(this.layers&&this._originalInclusionList){const e=new Set(this._originalInclusionList.namedTypeDefinitions.keys()),t=this.tables?.map((e=>e.graphTypeName))??[],a=this.layers.map((e=>e.graphTypeName)).concat(t);for(const n of a)e.has(n)||this._originalInclusionList.namedTypeDefinitions.set(n,{useAllData:!1,members:new Map});const i=[];for(const o of this._originalInclusionList.namedTypeDefinitions.keys())a.includes(o)||(n.getLogger(this).warn(`A named type, ${o}, was in the serialized feature collection but did not have a sublayer config in the item, so will be removed`),i.push(o));for(const n of i)this._originalInclusionList.namedTypeDefinitions.delete(n)}}};e([c()],V.prototype,\"dataPreloadedInLocalCache\",void 0),e([c()],V.prototype,\"initializationLinkChartConfig\",void 0),e([c()],V.prototype,\"membershipModified\",void 0),e([c()],V.prototype,\"dataManager\",void 0),e([c()],V.prototype,\"initializationInclusionModeDefinition\",null),e([c()],V.prototype,\"knowledgeGraph\",void 0),e([c({type:a.ofType(x),json:{write:{ignoreOrigin:!0}}})],V.prototype,\"layers\",void 0),e([c({readOnly:!0})],V.prototype,\"linkChart\",null),e([c()],V.prototype,\"entityLinkChartDiagramLookup\",void 0),e([c()],V.prototype,\"relationshipLinkChartDiagramLookup\",void 0),e([c()],V.prototype,\"linkChartExtent\",void 0),e([c()],V.prototype,\"memberEntityTypes\",void 0),e([c()],V.prototype,\"memberRelationshipTypes\",void 0),e([c({type:[\"LinkChartLayer\"]})],V.prototype,\"operationalLayerType\",void 0),e([c()],V.prototype,\"sublayerIdsCache\",void 0),e([c({type:a.ofType(x),json:{write:{ignoreOrigin:!0}}})],V.prototype,\"tables\",void 0),e([c({json:{read:!1}})],V.prototype,\"type\",void 0),e([c({json:{read:!1}})],V.prototype,\"chronologicalAuxiliaryGraphics\",void 0),V=e([u(\"esri.layers.LinkChartLayer\")],V);const q=V;export{q as default};\n"],"names":["e","MULTIPLIER","ABSOLUTE","V","A","R","j","r","b","constructor","super","this","dataPreloadedInLocalCache","initializationLinkChartConfig","membershipModified","_currentLinkChartConfig","layoutMode","_graphTypeLookup","Map","dataManager","knowledgeGraph","layers","a","ofType","x","entityLinkChartDiagramLookup","relationshipLinkChartDiagramLookup","linkChartExtent","m","xmin","ymin","xmax","ymax","memberEntityTypes","memberRelationshipTypes","operationalLayerType","sublayerIdsCache","tables","type","chronologicalAuxiliaryGraphics","_originalInclusionList","initializationInclusionModeDefinition","i","addHandles","d","concat","t","_handleSublayersChange","p","normalizeCtorArgs","url","title","n","_initializeLayerProperties","split","length","Set","o","inclusionModeDefinition","namedTypeDefinitions","size","generateAllSublayers","dataModel","entityTypes","relationshipTypes","forEach","s","get","getLogger","warn","delete","has","add","push","v","load","async","loadLayerAssumingLocalCache","_layersLoadedFromAuthoritativeItem","I","useAllData","_initializeDiagram","refreshCachedQueryEngine","Promise","on","all","addResolvingPromise","K","then","name","set","linkChart","linkChartProperties","originIdOf","y","LINK_CHART","fetchAndConvertSerializedLinkChart","entitiesUrl","relationshipsUrl","_alignLayersDataModelAndInclusionDefinition","layoutSettings","S","layoutType","E","getInstance","members","values","readFromStoreById","id","sublayerCaches","refreshCacheContent","resolve","loadStatus","_set","error","parent","addRecords","cascadeAddRelationshipEndNodes","_","filter","typeName","_handleNewRecords","removeRecords","cascadeRemoveRelationships","recalculateLayout","overrideMembershipCheck","nodeConnectionsLookup","memberIdTypeLookup","relationshipTypeNames","removeFromLayer","_calculateLayoutWithSublayerTimeInfo","_refreshNamedTypes","expand","getConnectedRecordIds","signal","l","records","DEFAULTS","_createSublayers","geometryType","_updateSublayers","linkChartLocation","w","calculateLinkChartLayout","entityTypeNames","feature","c","u","Uint8Array","g","Float64Array","D","Uint32Array","q","J","G","apply","B","U","F","O","P","z","X","lockedNodeLocations","attributes","M","geographicLookup","Q","IsGeographic","None","centroid","IsMovable","extent","center","Number","isNaN","timeInfoByTypeName","startField","Date","getTime","NaN","endField","Y","Z","k","C","h","ee","_validateOrganicLayoutSettings","organicLayoutSettings","te","_convertValidatedOrganicSettingsToCalculationSettings","W","ae","$","Error","ie","status","links","graphics","aborted","subarray","chronologicalLayoutSettings","Success","computationBudgetTime","idealEdgeLengthMultiplier","repulsionRadiusMultiplier","Canceled","T","f","ne","oe","re","se","vertexEndIndex","types","H","Recursive","vertices","Regular","shift","N","L","paths","clone","nodes","idMap","applyNewLinkChartLayout","getCurrentNodeLocations","entries","coords","refreshLinkChartCache","connectBetweenEntities","Array","from","keys","getRelationshipsBetweenNodes","connectFromEntities","getRelationshipsFromNodes","getCurrentLayout","objectType","timeInfo","handleChronologicalOverlay","addToLayer","_createSublayer","map","_updateSublayerCaches","parentCompositeLayer","find","graphType","graphTypeName","read","origin","PORTAL_ITEM","USER","doNotRecalculateLayout","emit","dataChanged","autoRepulsionRadius","absoluteIdealEdgeLength","multiplicativeIdealEdgeLength","idealEdgeLengthType","Object","includes","removeHandles","item","setAtOrigin","prototype","json","write","ignoreOrigin","readOnly"],"sourceRoot":""}