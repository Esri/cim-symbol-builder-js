{"version":3,"file":"static/js/8995.a65faa98.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/engine/webgl/AttributeStoreView.js","../node_modules/@arcgis/core/views/2d/engine/AFeatureContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/TechniqueInstance.js","../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/mesh/instanceIdUtils.js","../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/GraphicInstanceStore.js","../node_modules/@arcgis/core/views/2d/layers/graphics/GraphicBoundsRenderer.js","../node_modules/@arcgis/core/views/2d/layers/graphics/AGraphicContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import e from\"../../../../core/Logger.js\";import{AttributeDataType as i,dataDrivenUnit2 as s,dataDrivenUnit1 as r,dataDrivenUnit0 as a,visualVariableUnit as n,localTimeOriginUnit as u,gpgpuUnit as h,animationUnit as o,filterFlagsUnit as l}from\"./definitions.js\";import{getDisplayIdTexel as d}from\"./DisplayId.js\";import{getPixelArrayCtor as g,getPixelBytes as p}from\"./Utils.js\";import{TextureWrapMode as _,TextureSamplingMode as c}from\"../../../webgl/enums.js\";import{FramebufferObject as x}from\"../../../webgl/FramebufferObject.js\";import{Texture as f}from\"../../../webgl/Texture.js\";import{TextureDescriptor as b}from\"../../../webgl/TextureDescriptor.js\";const T=()=>e.getLogger(\"esri.views.2d.engine.webgl.AttributeStoreView\");class m{constructor(t,e,i){this._texture=null,this._lastTexture=null,this._fbos={},this.texelSize=4;const{buffer:s,pixelType:r,textureOnly:a}=t,n=g(r);this.blockIndex=i,this.pixelType=r,this.size=e,this.textureOnly=a,a||(this.data=new n(s)),this._resetRange()}destroy(){this._texture?.dispose();for(const t in this._fbos){const e=this._fbos[t];e&&(\"0\"===t&&e.detachColorTexture(),e.dispose()),this._fbos[t]=null}this._texture=null}get _textureDesc(){const t=new b;return t.wrapMode=_.CLAMP_TO_EDGE,t.samplingMode=c.NEAREST,t.dataType=this.pixelType,t.width=this.size,t.height=this.size,t}setData(t,e,i){const s=d(t),r=this.data,a=s*this.texelSize+e;!r||a>=r.length||(r[a]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s))}getData(t,e){if(null==this.data)return null;const i=d(t)*this.texelSize+e;return!this.data||i>=this.data.length?null:this.data[i]}getTexture(t){return this._texture??this._initTexture(t)}getFBO(t,e=0){if(!this._fbos[e]){const i=0===e?this.getTexture(t):this._textureDesc;this._fbos[e]=new x(t,i)}return this._fbos[e]}get hasDirty(){const t=this.dirtyStart;return this.dirtyEnd>=t}updateTexture(e,i){try{const s=this.dirtyStart,r=this.dirtyEnd;if(!this.hasDirty)return;has(\"esri-2d-update-debug\")&&console.debug(`Version[${i}] AttributeStoreView.updateTexture`,{start:s,end:r,firstBytes:new Uint8Array(this.data.buffer.slice(0,16)),block:this}),this._resetRange();const a=this.data.buffer,n=this.getTexture(e),u=4,h=(s-s%this.size)/this.size,o=(r-r%this.size)/this.size,l=h,d=this.size,p=o,_=h*this.size*u,c=(d+p*this.size)*u-_,x=g(this.pixelType),f=new x(a,_*x.BYTES_PER_ELEMENT,c),b=this.size,m=p-l+1;if(m>this.size)return void T().error(new t(\"mapview-webgl\",\"Out-of-bounds index when updating AttributeData\"));n.updateData(0,0,l,b,m,f)}catch(s){}}update(t){const{data:e,start:i,end:s}=t;if(null!=e&&null!=this.data){const s=this.data,r=i*this.texelSize;for(let i=0;i<e.length;i++){const a=1<<i%this.texelSize;t.layout&a&&(s[r+i]=e[i])}}this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,s)}resize(t,e){const i=this.size;if(this.size=e,this.textureOnly)return void(i!==this.size&&(this._lastTexture=this._texture,this._texture=null));const s=g(this.pixelType);this.destroy(),this.data=new s(t.buffer)}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0}_initTexture(t){const e=new f(t,this._textureDesc,this.data??void 0);if(null!=this._lastTexture&&this._fbos[0]){const i=this._lastTexture.descriptor.width,s=this._lastTexture.descriptor.height,r=this._lastTexture.descriptor.dataType,a=this._lastTexture.descriptor.pixelFormat,n=this.getFBO(t),u=p(r),h=new(g(r))(new ArrayBuffer(i*s*u*this.texelSize)),o=t.getBoundFramebufferObject(),{x:l,y:d,width:_,height:c}=t.getViewport();t.bindFramebuffer(n),n.readPixels(0,0,i,s,a,r,h),e.updateData(0,0,0,2*i,s/2,h),t.setViewport(l,d,_,c),t.bindFramebuffer(o)}return this.destroy(),this._texture=e,this._texture}}class y{constructor(){this.size=0,this._pendingAttributeUpdates=[],this._version=0,this._epoch=0,this._locked=!1}get locked(){return this._locked}_initialize(t){if(!t)throw new Error(\"InternalError: initArgs must be defined\");const e=t.blockDescriptors;if(this.size=t.blockSize,has(\"esri-2d-update-debug\")&&console.debug(\"AttributeStoreView.initialize\",{message:t}),null==this._data)this._data=e.map(((t,e)=>null!=t?new m(t,this.size,e):null));else for(let i=0;i<this._data.length;i++){const t=this._data[i],s=e[i];null!=s&&(null==t?this._data[i]=new m(s,this.size,i):t.resize(s,this.size))}}destroy(){for(const t of this._data??[])t?.destroy();this._defaultTexture?.dispose(),this._defaultTexture=null,this._pendingAttributeUpdates=[]}isEmpty(){return null==this._data}getBlock(t){if(null==this._data)return null;return this._data[t]}setLabelMinZoom(t,e){this.setData(t,i.FilterFlags,1,e)}setLocalTimeOrigin(t,e){this.setData(t,i.LocalTimeOrigin,0,e)}getLabelMinZoom(t){return this.getData(t,i.FilterFlags,1,255)}getFilterFlags(t){return this.getData(t,i.FilterFlags,0,0)}getVisualVariableData(t,e){return this.getData(t,i.VV,e,0)}getData(t,e,i,s){if(!this._data)return 0;const r=this._data[e];if(null==r)return 0;const a=r.getData(t,i);return null!=a?a:s}setData(t,e,i,s){this._data[e].setData(t,i,s)}lockTextureUploads(){this._locked=!0}unlockTextureUploads(){this._locked=!1,this.update()}requestUpdate(t){this._version=t.version,this._pendingAttributeUpdates.push(t),has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._version}] AttributeStoreView.requestUpdate`,{message:t})}get currentEpoch(){return this._epoch}get hasPendingUpdates(){return this._pendingAttributeUpdates.length>0}update(){if(this._locked)return;const t=this._pendingAttributeUpdates;this._pendingAttributeUpdates=[];for(const e of t){const{blockData:t,initArgs:i,sendUpdateEpoch:s,version:r}=e;has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._version}] Epoch[${s}] AttributeStoreView.applyUpdate`),this._version=r,this._epoch=s,null!=i&&this._initialize(i);const a=this._data;for(let e=0;e<t.length;e++){const i=t[e],s=a[e];null!=s&&null!=i&&(has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._version}] CpuBlock[${e}] AttributeStoreView.update`,{block:i}),s.update(i))}}}getUniforms(t){return{filterFlags:{texture:this._getTexture(t,i.FilterFlags),unit:l},animation:{texture:this._getTexture(t,i.Animation),unit:o},gpgpu:{texture:this._getTexture(t,i.GPGPU),unit:h},localTimeOrigin:{texture:this._getTexture(t,i.LocalTimeOrigin),unit:u},visualVariableData:{texture:this._getTexture(t,i.VV),unit:n},dataDriven0:{texture:this._getTexture(t,i.DD0),unit:a},dataDriven1:{texture:this._getTexture(t,i.DD1),unit:r},dataDriven2:{texture:this._getTexture(t,i.DD2),unit:s},size:this.size}}_getTexture(t,e){const i=this._data?.[e];return i?(i.updateTexture(t,this._version),i.getTexture(t)):this._getDefaultTexture(t)}_getDefaultTexture(t){if(null==this._defaultTexture){const e=new b;e.wrapMode=_.CLAMP_TO_EDGE,e.samplingMode=c.NEAREST,e.width=1,e.height=1,this._defaultTexture=new f(t,e,new Uint8Array(4))}return this._defaultTexture}}export{y as AttributeStoreView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{AttributeStoreView as t}from\"./webgl/AttributeStoreView.js\";import{AttributeDataType as e}from\"./webgl/definitions.js\";import i from\"./webgl/TileContainer.js\";const s=60;class n extends i{constructor(e){super(e),this._statisticsByLevel=new Map,this._entityIndex=new Map,this.attributeView=new t}destroy(){this.children.forEach((t=>t.destroy())),this.removeAllChildren(),this.attributeView.destroy()}doRender(t){t.context.capabilities.enable(\"textureFloatLinear\"),super.doRender(t)}get hasAnimations(){for(const t of this.children)if(t.hasAnimations)return!0;return!1}_reindexAndUpdateFeaturesIfNeeded(){if(this.hasAnimations&&(this._reindexFeatures(),0!==this.attributeView.size))for(const t of this._entityIndex.values())t.dirty&&(this.attributeView.setData(t.displayId,e.LocalTimeOrigin,0,t.firstIndexed),t.dirty=!1)}restartAnimation(t){const e=this._entityIndex.get(t);if(!e)return;const i=performance.now()/1e3;e.firstIndexed=i,e.dirty=!0}restartAllAnimations(){const t=performance.now()/1e3;for(const[e,i]of this._entityIndex)i.firstIndexed=t,i.dirty=!0}_reindexFeatures(){const t=performance.now()/1e3;for(const e of this.children)for(const i of e.entityIds){const{objectId:e}=i;let s=this._entityIndex.get(e);s||(s={objectId:e,displayId:0,firstIndexed:t,lastIndexed:0,dirty:!0},this._entityIndex.set(e,s)),s.lastIndexed=t,s.displayId=i.displayId}for(const[e,i]of this._entityIndex)t-i.lastIndexed>s&&this._entityIndex.delete(e)}_updateAttributeView(){this.attributeView.update(),this._reindexAndUpdateFeaturesIfNeeded()}createRenderParams(t){const e=super.createRenderParams(t);return e.attributeView=this.attributeView,e.instanceStore=this._instanceStore,e.statisticsByLevel=this._statisticsByLevel,e}}export{n as AFeatureContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{WGLDrawPhase as e}from\"./enums.js\";import r from\"./WGLContainer.js\";import s from\"./brushes/WGLBrushStencil.js\";import t from\"./brushes/WGLBrushTileDebugInfo.js\";const n=(e,r)=>e.key.level-r.key.level!==0?e.key.level-r.key.level:e.key.row-r.key.row!==0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends r{constructor(e){super(),this.tileInfoView=e,this.sortFunction=n}renderChildren(e){this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this.tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this.tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:\"stencil\",brushes:[s],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT|e.LABEL,target:()=>this.getStencilTarget()})),has(\"esri-tiles-debug\")&&n.push(r.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:e.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{castStrictInstanceId as t}from\"./mesh/instanceIdUtils.js\";class i{constructor(t,i,e){this._instanceId=t,this.techniqueRef=i,this._input=e}get instanceId(){return t(this._instanceId)}createMeshInfo(i){return{id:t(this._instanceId),techniqueType:this.techniqueRef.type,inputParams:i,optionalAttributes:this._input.optionalAttributes}}getInput(){return this._input}setInput(t){this._input=t}}export{i as FeatureTechniqueInstance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nfunction n(n){return n}function r(n){return n}export{r as castInstanceId,n as castStrictInstanceId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{FeatureTechniqueInstance as e}from\"./TechniqueInstance.js\";import{Techniques as i}from\"./TechniqueRegistry.js\";import{castInstanceId as t}from\"./mesh/instanceIdUtils.js\";let n=0;function a(i,a){return new e(t(n++),i,a)}const o={visualVariableColor:null,visualVariableOpacity:null,visualVariableSizeMinMaxValue:null,visualVariableSizeScaleStops:null,visualVariableSizeStops:null,visualVariableSizeUnitValue:null,visualVariableRotation:null,visualVariableSizeOutlineScaleStops:null};class l{constructor(){this.instances={fill:a(i.fill,{uniforms:o,optionalAttributes:{zoomRange:!0}}),marker:a(i.marker,{uniforms:o,optionalAttributes:{zoomRange:!0}}),line:a(i.line,{uniforms:o,optionalAttributes:{zoomRange:!0}}),text:a(i.text,{uniforms:o,optionalAttributes:{zoomRange:!0,referenceSymbol:!1,clipAngle:!1,visibility:!1}}),outlineFill:a(i.outlineFill,{uniforms:o,optionalAttributes:{zoomRange:!0}}),complexFill:a(i.complexFill,{uniforms:o,optionalAttributes:{zoomRange:!0}}),gradientFill:a(i.gradientFill,{uniforms:o,optionalAttributes:{zoomRange:!0}}),texturedLine:a(i.texturedLine,{uniforms:o,optionalAttributes:{zoomRange:!0}}),gradientStroke:a(i.gradientStroke,{uniforms:o,optionalAttributes:{zoomRange:!0}}),animatedMarker:a(i.animatedMarker,{uniforms:o,optionalAttributes:{zoomRange:!0,value1Position2Value2:!1,lineLength:!1}}),animatedMarkerShift:a(i.animatedMarkerShift,{uniforms:o,optionalAttributes:{zoomRange:!0,value1Position2Value2:!0,lineLength:!0}}),animatedPolygon:a(i.animatedFill,{uniforms:o,optionalAttributes:{zoomRange:!0,value1Position2Value2:!1,lineLength:!1}}),animatedPolyline:a(i.animatedLine,{uniforms:o,optionalAttributes:{zoomRange:!0,value1Position2Value2:!1,accumulatedDistance:!0,segmentDirection:!0,normal:!0,lineLength:!1}}),animatedPolylineShift:a(i.animatedLine,{uniforms:o,optionalAttributes:{zoomRange:!0,value1Position2Value2:!1,accumulatedDistance:!0,segmentDirection:!0,normal:!0,lineLength:!0}})},this._instancesById=Object.values(this.instances).reduce(((e,i)=>(e.set(i.instanceId,i),e)),new Map)}getInstance(e){return this._instancesById.get(e)}}export{l as GraphicInstanceStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t}from\"../../../../core/maybe.js\";import{identity as e,multiply as r,translate as i,scale as s,rotate as o}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{fromValues as n}from\"../../../../core/libs/gl-matrix-2/factories/vec2f32.js\";import{fromValues as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f32.js\";import{normalizeMapX as f}from\"../../../../geometry/support/normalizeUtils.js\";import{DisplayObject as m}from\"../../engine/DisplayObject.js\";import{createProgramDescriptor as c}from\"../../engine/webgl/Utils.js\";import{BufferObject as u}from\"../../../webgl/BufferObject.js\";import{BlendFactor as _,PrimitiveType as h,DataType as p,Usage as d}from\"../../../webgl/enums.js\";import{VertexArrayObject as g}from\"../../../webgl/VertexArrayObject.js\";const v=Math.PI/180,x=4;class b extends m{constructor(t){super(),this._program=null,this._vao=null,this._vertexBuffer=null,this._indexBuffer=null,this._dvsMat3=a(),this._localOrigin={x:0,y:0},this._getBounds=t}destroy(){this._vao&&(this._vao.dispose(),this._vao=null,this._vertexBuffer=null,this._indexBuffer=null),this._program=t(this._program)}doRender(t){const{context:e}=t,r=this._getBounds();if(r.length<1)return;this._createShaderProgram(e),this._updateMatricesAndLocalOrigin(t),this._updateBufferData(e,r),e.setBlendingEnabled(!0),e.setDepthTestEnabled(!1),e.setStencilWriteMask(0),e.setStencilTestEnabled(!1),e.setBlendFunction(_.ONE,_.ONE_MINUS_SRC_ALPHA),e.setColorMask(!0,!0,!0,!0);const i=this._program;e.bindVAO(this._vao),e.useProgram(i),i.setUniformMatrix3fv(\"u_dvsMat3\",this._dvsMat3),e.gl.lineWidth(1),e.drawElements(h.LINES,8*r.length,p.UNSIGNED_INT,0),e.bindVAO()}_createTransforms(){return{displayViewScreenMat3:a()}}_createShaderProgram(t){if(this._program)return;const e=\"precision highp float;\\n        uniform mat3 u_dvsMat3;\\n\\n        attribute vec2 a_position;\\n\\n        void main() {\\n          mediump vec3 pos = u_dvsMat3 * vec3(a_position, 1.0);\\n          gl_Position = vec4(pos.xy, 0.0, 1.0);\\n        }\",r=\"precision mediump float;\\n      void main() {\\n        gl_FragColor = vec4(0.75, 0.0, 0.0, 0.75);\\n      }\";this._program=t.programCache.acquire(e,r,y().attributes)}_updateMatricesAndLocalOrigin(t){const{state:a}=t,{displayMat3:m,size:c,resolution:u,pixelRatio:_,rotation:h,viewpoint:p}=a,d=v*h,{x:g,y:x}=p.targetGeometry,b=f(g,a.spatialReference);this._localOrigin.x=b,this._localOrigin.y=x;const y=_*c[0],B=_*c[1],M=u*y,j=u*B,A=e(this._dvsMat3);r(A,A,m),i(A,A,n(y/2,B/2)),s(A,A,l(c[0]/M,-B/j,1)),o(A,A,-d)}_updateBufferData(t,e){const{x:r,y:i}=this._localOrigin,s=2*x*e.length,o=new Float32Array(s),a=new Uint32Array(8*e.length);let n=0,l=0;for(const f of e)f&&(o[2*n]=f[0]-r,o[2*n+1]=f[1]-i,o[2*n+2]=f[0]-r,o[2*n+3]=f[3]-i,o[2*n+4]=f[2]-r,o[2*n+5]=f[3]-i,o[2*n+6]=f[2]-r,o[2*n+7]=f[1]-i,a[l]=n+0,a[l+1]=n+3,a[l+2]=n+3,a[l+3]=n+2,a[l+4]=n+2,a[l+5]=n+1,a[l+6]=n+1,a[l+7]=n+0,n+=4,l+=8);if(this._vertexBuffer?this._vertexBuffer.setData(o.buffer):this._vertexBuffer=u.createVertex(t,d.DYNAMIC_DRAW,o.buffer),this._indexBuffer?this._indexBuffer.setData(a):this._indexBuffer=u.createIndex(t,d.DYNAMIC_DRAW,a),!this._vao){const e=y();this._vao=new g(t,e.attributes,e.bufferLayouts,new Map([[\"geometry\",this._vertexBuffer]]),this._indexBuffer)}}}const y=()=>c(\"bounds\",{geometry:[{location:0,name:\"a_position\",count:2,type:p.FLOAT}]});export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e}from\"../../../../core/maybe.js\";import{AFeatureContainer as t}from\"../../engine/AFeatureContainer.js\";import{FeatureBatchingStrategy as n}from\"../../engine/webgl/enums.js\";import{GraphicInstanceStore as r}from\"../../engine/webgl/shaderGraph/techniques/GraphicInstanceStore.js\";import s from\"./GraphicBoundsRenderer.js\";class i extends t{constructor(e){super(e),this._instanceStore=new r,this.checkHighlight=()=>!0}destroy(){super.destroy(),this._boundsRenderer=e(this._boundsRenderer)}get instanceStore(){return this._instanceStore}enableRenderingBounds(e){this._boundsRenderer=new s(e),this.requestRender()}get hasHighlight(){return this.checkHighlight()}onTileData(e,t){e.onMessage(t),this.contains(e)||this.addChild(e),this.requestRender()}_renderChildren(e,t){e.selection=t;for(const r of this.children){if(!r.visible)continue;const t=r.getDisplayList(this._instanceStore,n.STRICT_ORDER);t?.render(e)}}}export{i as AGraphicContainer};\n"],"names":["m","constructor","t","e","i","this","_texture","_lastTexture","_fbos","texelSize","buffer","s","pixelType","r","textureOnly","a","n","g","blockIndex","size","data","_resetRange","destroy","dispose","detachColorTexture","_textureDesc","b","wrapMode","_","CLAMP_TO_EDGE","samplingMode","c","NEAREST","dataType","width","height","setData","d","length","dirtyStart","Math","min","dirtyEnd","max","getData","getTexture","_initTexture","getFBO","x","hasDirty","updateTexture","has","console","debug","start","end","firstBytes","Uint8Array","slice","block","u","h","o","l","p","f","BYTES_PER_ELEMENT","getLogger","error","updateData","update","layout","resize","descriptor","pixelFormat","ArrayBuffer","getBoundFramebufferObject","y","getViewport","bindFramebuffer","readPixels","setViewport","_pendingAttributeUpdates","_version","_epoch","_locked","locked","_initialize","Error","blockDescriptors","blockSize","message","_data","map","_defaultTexture","isEmpty","getBlock","setLabelMinZoom","FilterFlags","setLocalTimeOrigin","LocalTimeOrigin","getLabelMinZoom","getFilterFlags","getVisualVariableData","VV","lockTextureUploads","unlockTextureUploads","requestUpdate","version","push","currentEpoch","hasPendingUpdates","blockData","initArgs","sendUpdateEpoch","getUniforms","filterFlags","texture","_getTexture","unit","animation","Animation","gpgpu","GPGPU","localTimeOrigin","visualVariableData","dataDriven0","DD0","dataDriven1","DD1","dataDriven2","DD2","_getDefaultTexture","super","_statisticsByLevel","Map","_entityIndex","attributeView","children","forEach","removeAllChildren","doRender","context","capabilities","enable","hasAnimations","_reindexAndUpdateFeaturesIfNeeded","_reindexFeatures","values","dirty","displayId","firstIndexed","restartAnimation","get","performance","now","restartAllAnimations","entityIds","objectId","lastIndexed","set","delete","_updateAttributeView","createRenderParams","instanceStore","_instanceStore","statisticsByLevel","key","level","row","col","tileInfoView","sortFunction","renderChildren","setStencilReference","state","requiredLevel","getClosestInfoForScale","scale","displayLevel","tileInfo","scaleToZoom","prepareRenderPasses","registerRenderPass","name","brushes","drawPhase","DEBUG","MAP","HIGHLIGHT","LABEL","target","getStencilTarget","stencilRef","_instanceId","techniqueRef","_input","instanceId","createMeshInfo","id","techniqueType","type","inputParams","optionalAttributes","getInput","setInput","visualVariableColor","visualVariableOpacity","visualVariableSizeMinMaxValue","visualVariableSizeScaleStops","visualVariableSizeStops","visualVariableSizeUnitValue","visualVariableRotation","visualVariableSizeOutlineScaleStops","instances","fill","uniforms","zoomRange","marker","line","text","referenceSymbol","clipAngle","visibility","outlineFill","complexFill","gradientFill","texturedLine","gradientStroke","animatedMarker","value1Position2Value2","lineLength","animatedMarkerShift","animatedPolygon","animatedFill","animatedPolyline","animatedLine","accumulatedDistance","segmentDirection","normal","animatedPolylineShift","_instancesById","Object","reduce","getInstance","v","PI","_program","_vao","_vertexBuffer","_indexBuffer","_dvsMat3","_localOrigin","_getBounds","_createShaderProgram","_updateMatricesAndLocalOrigin","_updateBufferData","setBlendingEnabled","setDepthTestEnabled","setStencilWriteMask","setStencilTestEnabled","setBlendFunction","ONE","ONE_MINUS_SRC_ALPHA","setColorMask","bindVAO","useProgram","setUniformMatrix3fv","gl","lineWidth","drawElements","LINES","UNSIGNED_INT","_createTransforms","displayViewScreenMat3","programCache","acquire","attributes","displayMat3","resolution","pixelRatio","rotation","viewpoint","targetGeometry","spatialReference","B","M","j","A","Float32Array","Uint32Array","createVertex","DYNAMIC_DRAW","createIndex","bufferLayouts","geometry","location","count","FLOAT","checkHighlight","_boundsRenderer","enableRenderingBounds","requestRender","hasHighlight","onTileData","onMessage","contains","addChild","_renderChildren","selection","visible","getDisplayList","STRICT_ORDER","render"],"sourceRoot":""}