{"version":3,"file":"static/js/3388.aed1aadf.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/fetchService.js","../node_modules/@arcgis/core/portal/support/jsonContext.js","../node_modules/@arcgis/core/portal/support/layersLoader.js","../node_modules/@arcgis/core/support/requestPresets.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{fetchArcGISServiceJSON as e}from\"../../support/requestPresets.js\";async function r(r,s){const a=await e(r,s);a.layers=a.layers.filter(t);const n={serviceJSON:a};if((a.currentVersion??0)<10.5)return n;const i=await e(r+\"/layers\",s);return n.layersJSON={layers:i.layers.filter(t),tables:i.tables},n}function t(e){return!e.type||\"Feature Layer\"===e.type}export{r as fetchFeatureService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import t from\"../Portal.js\";function e(e){return{origin:\"portal-item\",url:r(e.itemUrl),portal:e.portal||t.getDefault(),portalItem:e,readResourcePaths:[]}}function o(e){return{origin:\"portal-item\",messages:[],writtenProperties:[],url:e.itemUrl?r(e.itemUrl):null,portal:e.portal||t.getDefault(),portalItem:e}}export{e as createForItemRead,o as createForItemWrite};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import t from\"../../layers/Layer.js\";import{isArcGISUrl as r}from\"../../layers/support/arcgisLayerUrl.js\";import{fetchFeatureService as a}from\"../../layers/support/fetchService.js\";import n from\"../Portal.js\";import o from\"../PortalItem.js\";import{createForItemRead as l}from\"./jsonContext.js\";import{hasTypeKeyword as s}from\"./portalItemUtils.js\";import{loadStyleRenderer as i}from\"../../renderers/support/styleUtils.js\";import{fetchArcGISServiceJSON as u}from\"../../support/requestPresets.js\";async function p(e,t){const r=e.instance.portalItem;if(r&&r.id)return await r.load(t),c(e),y(e,t)}function c(t){const r=t.instance.portalItem;if(!r?.type||!t.supportedTypes.includes(r.type))throw new e(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}'\",{type:r?.type,expectedType:t.supportedTypes.join(\", \")})}async function y(e,t){const r=e.instance,a=r.portalItem;if(!a)return;const{url:n,title:o}=a,s=l(a);if(\"group\"===r.type)return r.read({title:o},s),f(r,e);n&&r.read({url:n},s);const u=await h(e,t);return u&&r.read(u,s),r.resourceReferences={portalItem:a,paths:s.readResourcePaths??[]},\"subtype-group\"!==r.type&&r.read({title:o},s),i(r,s)}async function f(t,r){let a;const{portalItem:n}=t;if(!n)return;const o=n.type,l=r.layerModuleTypeMap,i=s(n,\"Oriented Imagery Layer\")??!1;switch(o){case\"Feature Service\":a=i?l.OrientedImageryLayer:l.FeatureLayer;break;case\"Stream Service\":a=l.StreamLayer;break;case\"Scene Service\":a=l.SceneLayer;break;case\"Feature Collection\":a=l.FeatureLayer;break;default:throw new e(\"portal:unsupported-item-type-as-group\",`The item type '${o}' is not supported as a 'IGroupLayer'`)}let[u,p]=await Promise.all([a(),h(r)]),c=()=>u;if(\"Feature Service\"===o){p=n.url?await w(p,n.url):{};if(j(p).length){const e=l.SubtypeGroupLayer,t=await e();c=e=>\"SubtypeGroupLayer\"===e.layerType?t:u}return b(t,c,p,await P(n.url))}return v(p)>0?b(t,c,p):d(t,c)}async function d(e,t){const{portalItem:r}=e;if(!r?.url)return;const a=await u(r.url);a&&b(e,t,{layers:a.layers?.map(m),tables:a.tables?.map(m)})}function m(e){return{id:e.id,name:e.name}}function b(e,t,r,a){let n=r.layers||[];const o=r.tables||[];if(\"Feature Collection\"===e.portalItem?.type&&(n.forEach((e=>{\"Table\"===e?.layerDefinition?.type&&o.push(e)})),n=n.filter((e=>\"Table\"!==e?.layerDefinition?.type))),\"coverage\"in r){const t=T(r);t&&e.add(t)}n.reverse().forEach((n=>{const o=a?.(n);if(o||!a){const a=g(e,t(n),r,n,o);e.add(a)}})),o.reverse().forEach((n=>{const o=a?.(n);if(o||!a){const a=g(e,t(n),r,n,o);e.tables.add(a)}}))}function g(e,t,r,a,o){const l=e.portalItem,s=new t({portalItem:l.clone(),layerId:a.id});if(\"sourceJSON\"in s&&(s.sourceJSON=o),\"subtype-group\"!==s.type&&(s.sublayerTitleMode=\"service-name\"),\"Feature Collection\"===l.type){const e={origin:\"portal-item\",portal:l.portal||n.getDefault()};s.read(a,e);const t=r.showLegend;null!=t&&s.read({showLegend:t},e)}return s}async function h(e,t){if(!1===e.supportsData)return;const r=e.instance,a=r.portalItem;if(!a)return;let n=null;try{n=await a.fetchData(\"json\",t)}catch(o){}if(S(r)){let e=null,t=!0;if(n&&v(n)>0){if(null==r.layerId){const e=j(n);r.layerId=\"subtype-group\"===r.type?e?.[0]:I(n)}e=L(n,r),e&&(1===v(n)&&(t=!1),null!=n.showLegend&&(e.showLegend=n.showLegend))}return t&&\"sublayerTitleMode\"in r&&\"service-name\"!==r.sublayerTitleMode&&(r.sublayerTitleMode=\"item-title-and-service-name\"),e}return n}async function w(e,t){if(null==e?.layers||null==e?.tables){const r=await u(t);(e=e||{}).layers=e.layers||r?.layers,e.tables=e.tables||r?.tables}return e}function I(e){const t=e.layers;if(t&&t.length)return t[0].id;const r=e.tables;return r&&r.length?r[0].id:null}function L(e,t){const{layerId:r}=t,a=e.layers?.find((e=>e.id===r))||e.tables?.find((e=>e.id===r));return a&&F(a,t)?a:null}function v(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}function S(e){return\"stream\"!==e.type&&\"oriented-imagery\"!==e.type&&\"layerId\"in e}function T(a){const{coverage:n}=a;if(!n)return null;const l=new URL(n);if(n.toLowerCase().includes(\"item.html\")){const e=l.searchParams.get(\"id\"),r=l.origin;return t.fromPortalItem({portalItem:new o({id:e,url:r})})}if(r(n))return t.fromArcGISServerUrl({url:n});throw new e(\"portal:oriented-imagery-layer-coverage\",\"the provided coverage url couldn't be loaded as a layer\")}function j(e){const t=[];return e?.layers?.forEach((e=>{\"SubtypeGroupLayer\"===e.layerType&&t.push(e.id)})),t}function F(e,t){return!(\"feature\"===t.type&&\"layerType\"in e&&\"SubtypeGroupLayer\"===e.layerType||\"subtype-group\"===t.type&&!(\"layerType\"in e))}async function P(e){const{layersJSON:t}=await a(e);if(!t)return null;const r=[...t.layers,...t.tables];return e=>r.find((t=>t.id===e.id))}export{I as getFirstLayerOrTableId,v as getNumLayersAndTables,j as getSubtypeGroupLayerIds,p as load,w as preprocessFSItemData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";async function t(t,o){const{data:r}=await e(t,{responseType:\"json\",query:{f:\"json\",...o?.customParameters,token:o?.apiKey}});return r}export{t as fetchArcGISServiceJSON};\n"],"names":["async","r","s","a","e","layers","filter","t","n","serviceJSON","currentVersion","i","layersJSON","tables","type","origin","url","itemUrl","portal","portalItem","readResourcePaths","o","messages","writtenProperties","p","instance","id","load","supportedTypes","includes","expectedType","join","c","title","l","read","layerModuleTypeMap","OrientedImageryLayer","FeatureLayer","StreamLayer","SceneLayer","u","Promise","all","h","w","j","length","SubtypeGroupLayer","layerType","b","find","P","v","map","m","d","f","resourceReferences","paths","y","name","forEach","layerDefinition","push","coverage","URL","toLowerCase","searchParams","get","T","add","reverse","g","clone","layerId","sourceJSON","sublayerTitleMode","showLegend","supportsData","fetchData","S","I","F","L","data","responseType","query","customParameters","token","apiKey"],"sourceRoot":""}