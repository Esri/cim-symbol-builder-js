{"version":3,"file":"static/js/54763.79920f76.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{px2pt as e,pt2px as t}from\"../../core/screenUtils.js\";import{OverrideHelper as i,CIMSymbolHelper as l}from\"../cim/CIMSymbolHelper.js\";import{CIMSymbolRasterizer as n}from\"../cim/CIMSymbolRasterizer.js\";import{mapCIMSymbolToGeometryType as a}from\"../cim/utils.js\";import{SymbolSizeDefaults as r}from\"./previewUtils.js\";import{renderSymbol as o}from\"./renderUtils.js\";const s=new n(null,!0),c=e(r.size),m=e(r.maxSize),u=e(r.lineWidth),f=1;async function h(e,t,i){const l=t?.size;let n=null!=l&&\"object\"==typeof l&&\"width\"in l?l.width:l,a=null!=l&&\"object\"==typeof l&&\"height\"in l?l.height:l;if(null==n||null==a)if(\"esriGeometryPolygon\"===i)n=c,a=c;else{const l=await y(e,t,i);l&&(n=l.width,a=l.height),\"esriGeometryPolyline\"===i&&(n=u),n=null!=n&&isFinite(n)?Math.min(n,m):c,a=null!=a&&isFinite(a)?Math.max(Math.min(a,m),f):c}return\"legend\"===t.style&&\"esriGeometryPolyline\"===i&&(n=u),{width:n,height:a}}async function y(e,t,n){const{feature:a,fieldMap:r,viewParams:o}=t.cimOptions||t,c=await i.resolveSymbolOverrides(e.data,a,null,r,n,null,o);if(!c)return null;(e=e.clone()).data={type:\"CIMSymbolReference\",symbol:c},e.data.primitiveOverrides=void 0;const m=[];return l.fetchResources(c,s.resourceManager,m),l.fetchFonts(c,s.resourceManager,m),m.length>0&&await Promise.all(m),l.getEnvelope(c,null,s.resourceManager)}async function p(e,i={}){const{node:l,opacity:n,symbolConfig:r}=i,c=null!=r&&\"object\"==typeof r&&\"isSquareFill\"in r&&r.isSquareFill,m=i.cimOptions||i,u=m.geometryType||a(e?.data?.symbol),f=await h(e,i,u),{feature:y,fieldMap:p}=m,d=c||\"esriGeometryPolygon\"!==u?\"preview\":\"legend\",g=await s.rasterizeCIMSymbolAsync(e,y,f,d,p,u,null,m.viewParams,m.allowScalingUp);if(!g)return null;const{width:w,height:b}=g,M=document.createElement(\"canvas\");M.width=w,M.height=b;M.getContext(\"2d\").putImageData(g,0,0);const v=t(f.width),j=t(f.height),S=new Image(v,j);S.src=M.toDataURL(),S.ariaLabel=i.ariaLabel??null,S.alt=i.ariaLabel??\"\",null!=n&&(S.style.opacity=`${n}`);let C=S;if(null!=i.effectView){const e={shape:{type:\"image\",x:0,y:0,width:v,height:j,src:S.src},fill:null,stroke:null,offset:[0,0]};C=o([[e]],[v,j],{effectView:i.effectView,ariaLabel:i.ariaLabel})}return l&&C&&l.appendChild(C),C}export{p as previewCIMSymbol};\n"],"names":["s","n","c","e","r","m","u","async","h","t","i","l","size","width","a","height","feature","fieldMap","viewParams","o","cimOptions","data","clone","type","symbol","primitiveOverrides","resourceManager","length","Promise","all","y","isFinite","Math","min","max","style","p","node","opacity","symbolConfig","isSquareFill","geometryType","f","d","g","rasterizeCIMSymbolAsync","allowScalingUp","w","b","M","document","createElement","getContext","putImageData","v","j","S","Image","src","toDataURL","ariaLabel","alt","C","effectView","shape","x","fill","stroke","offset","appendChild"],"sourceRoot":""}