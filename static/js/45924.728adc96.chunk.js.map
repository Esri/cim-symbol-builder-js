{"version":3,"file":"static/js/45924.728adc96.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/boundedPlane.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/draw/symbols.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/draw/DrawGraphicTool2D.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/Manipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/DragManipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/ControlPointsTransformTool.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/utils.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/RotateManipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/manipulations/ScaleManipulation.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/TransformTool.js","../node_modules/@arcgis/core/views/2d/interactive/editingTools/MediaTransformToolsWrapper.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../core/has.js\";import s from\"../core/Logger.js\";import{acosClamped as t}from\"../core/mathUtils.js\";import{ObjectStack as i}from\"../core/ObjectStack.js\";import{invert as n,transpose as r,fromRotation as o}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{create as e}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{c as a,h as c,g as u,i as g,j as b,l as f,o as p,f as l,d as m,p as d,t as h,n as j,k as y}from\"./vec32.js\";import{fromValues as I,clone as P,create as v}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as N}from\"../geometry/support/aaBoundingRect.js\";import{Axis as w}from\"../geometry/support/Axis.js\";import{create as x,projectPointClamp as M,distance2 as S}from\"../geometry/support/lineSegment.js\";import{create as T,wrap as V,copy as A,fromVectorsAndPoint as E,fromValues as _,intersectRay as O,intersectLineSegment as k,intersectLineSegmentClamp as B,isPointInside as C,projectPoint as F,getNormal as R,setOffsetFromPoint as Y}from\"../geometry/support/plane.js\";import{distance2 as q}from\"../geometry/support/ray.js\";import{projectPointSignedLength as L}from\"../geometry/support/vector.js\";import{sv3d as U}from\"../geometry/support/vectorStacks.js\";const z=()=>s.getLogger(\"esri.views.3d.support.geometryUtils.boundedPlane\");class D{constructor(){this.plane=T(),this.origin=v(),this.basis1=v(),this.basis2=v()}}const G=D;function W(s=Ms){return{plane:T(s.plane),origin:P(s.origin),basis1:P(s.basis1),basis2:P(s.basis2)}}function X(s,t,i){const n=As.get();return n.origin=s,n.basis1=t,n.basis2=i,n.plane=V(0,0,0,0),K(n),n}function Z(s,t=W()){return J(s.origin,s.basis1,s.basis2,t)}function H(s,t){a(t.origin,s.origin),a(t.basis1,s.basis1),a(t.basis2,s.basis2),A(t.plane,s.plane)}function J(s,t,i,n=W()){return a(n.origin,s),a(n.basis1,t),a(n.basis2,i),K(n),ws(n,\"fromValues()\"),n}function K(s){E(s.basis2,s.basis1,s.origin,s.plane)}function Q(s,t,i){s!==i&&Z(s,i);const n=c(U.get(),ys(s),t);return u(i.origin,i.origin,n),i.plane[3]-=t,i}function $(s,t,i){return ts(t,i),Q(i,ls(s,s.origin),i),i}function ss(s,t){const i=s.basis1[0],n=s.basis2[1],[r,o]=s.origin;return N(r-i,o-n,r+i,o+n,t)}function ts(s,t=W()){const i=(s[2]-s[0])/2,n=(s[3]-s[1])/2;return g(t.origin,s[0]+i,s[1]+n,0),g(t.basis1,i,0,0),g(t.basis2,0,n,0),_(0,0,1,0,t.plane),t}function is(s,t,i){return!!O(s.plane,t,i)&&Ps(s,i)}function ns(s,t,i){if(is(s,t,i))return i;const n=rs(s,t,U.get());return u(i,t.origin,c(U.get(),t.direction,b(t.origin,n)/f(t.direction))),i}function rs(s,i,n){const r=Ss.get();xs(s,i,r,Ss.get());let o=Number.POSITIVE_INFINITY;for(const e of Es){const c=Ns(s,e,Ts.get()),u=U.get();if(k(r,c,u)){const s=p(U.get(),i.origin,u),r=Math.abs(t(l(i.direction,s)));r<o&&(o=r,a(n,u))}}return o===Number.POSITIVE_INFINITY?es(s,i,n):n}function os(s,t){return(t-s)/t}function es(s,t,i){if(is(s,t,i))return i;const n=Ss.get(),r=Ss.get();xs(s,t,n,r);let o=Number.POSITIVE_INFINITY;for(const e of Es){const c=Ns(s,e,Ts.get()),u=U.get();if(B(n,c,u)){const s=q(t,u);if(!C(r,u))continue;s<o&&(o=s,a(i,u))}}return us(s,t.origin)<o&&as(s,t.origin,i),i}function as(s,t,i){const n=F(s.plane,t,U.get()),r=M(vs(s,s.basis1),n,-1,1,U.get()),o=M(vs(s,s.basis2),n,-1,1,U.get());return m(i,u(U.get(),r,o),s.origin),i}function cs(s,t,i){const{origin:n,basis1:r,basis2:o}=s,e=m(U.get(),t,n),a=L(r,e),c=L(o,e),u=L(ys(s),e);return g(i,a,c,u)}function us(s,t){const i=cs(s,t,U.get()),{basis1:n,basis2:r}=s,o=f(n),e=f(r),a=Math.max(Math.abs(i[0])-o,0),c=Math.max(Math.abs(i[1])-e,0),u=i[2];return a*a+c*c+u*u}function gs(s,t){return Math.sqrt(us(s,t))}function bs(s,t){let i=Number.NEGATIVE_INFINITY;for(const n of Es){const r=Ns(s,n,Ts.get()),o=S(r,t);o>i&&(i=o)}return Math.sqrt(i)}function fs(s,t){return C(s.plane,t)&&Ps(s,t)}function ps(s,t,i,n){return Is(s,i,n)}function ls(s,t){const i=-s.plane[3];return L(ys(s),t)-i}function ms(s,t,i,n){const r=ls(s,t),o=c(Vs,ys(s),i-r);return u(n,t,o),n}function ds(s,t){return d(s.basis1,t.basis1)&&d(s.basis2,t.basis2)&&d(s.origin,t.origin)}function hs(s,t,i){return s!==i&&Z(s,i),n(_s,t),r(_s,_s),h(i.basis1,s.basis1,_s),h(i.basis2,s.basis2,_s),h(R(i.plane),R(s.plane),_s),h(i.origin,s.origin,t),Y(i.plane,i.plane,i.origin),i}function js(s,t,i,n){return s!==n&&Z(s,n),o(Os,t,i),h(n.basis1,s.basis1,Os),h(n.basis2,s.basis2,Os),K(n),n}function ys(s){return R(s.plane)}function Is(s,t,i){switch(t){case w.X:a(i,s.basis1),j(i,i);break;case w.Y:a(i,s.basis2),j(i,i);break;case w.Z:a(i,ys(s))}return i}function Ps(s,t){const i=m(U.get(),t,s.origin),n=y(s.basis1),r=y(s.basis2),o=l(s.basis1,i),e=l(s.basis2,i);return-o-n<0&&o-n<0&&-e-r<0&&e-r<0}function vs(s,t){const i=Ts.get();return a(i.origin,s.origin),a(i.vector,t),i}function Ns(s,t,i){const{basis1:n,basis2:r,origin:o}=s,e=c(U.get(),n,t.origin[0]),a=c(U.get(),r,t.origin[1]);u(i.origin,e,a),u(i.origin,i.origin,o);const g=c(U.get(),n,t.direction[0]),b=c(U.get(),r,t.direction[1]);return c(i.vector,u(g,g,b),2),i}function ws(s,t){Math.abs(l(s.basis1,s.basis2)/(f(s.basis1)*f(s.basis2)))>1e-6&&z().warn(t,\"Provided basis vectors are not perpendicular\"),Math.abs(l(s.basis1,ys(s)))>1e-6&&z().warn(t,\"Basis vectors and plane normal are not perpendicular\"),Math.abs(-l(ys(s),s.origin)-s.plane[3])>1e-6&&z().warn(t,\"Plane offset is not consistent with plane origin\")}function xs(s,t,i,n){const r=ys(s);E(r,t.direction,t.origin,i),E(R(i),r,t.origin,n)}const Ms={plane:T(),origin:I(0,0,0),basis1:I(1,0,0),basis2:I(0,1,0)},Ss=new i(T),Ts=new i(x),Vs=v(),As=new i((()=>W())),Es=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],_s=e(),Os=e(),ks=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:G,altitudeAt:ls,axisAt:ps,cameraFrustumCoverage:os,closestPoint:es,closestPointOnSilhouette:rs,copy:Z,copyWithoutVerify:H,create:W,distance:gs,distance2:us,distanceToSilhouette:bs,elevate:Q,equals:ds,extrusionContainsPoint:fs,fromAABoundingRect:ts,fromValues:J,getExtent:ss,intersectRay:is,intersectRayClosestSilhouette:ns,normal:ys,projectPoint:as,projectPointLocal:cs,rotate:js,setAltitudeAt:ms,setExtent:$,transform:hs,up:Ms,updateUnboundedPlane:K,wrap:X},Symbol.toStringTag,{value:\"Module\"}));export{ls as A,G as B,ms as C,ds as D,Ms as E,Z as a,ks as b,os as c,W as d,fs as e,J as f,ts as g,gs as h,is as i,H as j,Q as k,ss as l,ns as m,ys as n,rs as o,es as p,as as q,js as r,$ as s,hs as t,K as u,cs as v,X as w,us as x,bs as y,ps as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../symbols/CIMSymbol.js\";import o from\"../../../../../symbols/SimpleMarkerSymbol.js\";const t=new e({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",effects:[{type:\"CIMGeometricEffectDashes\",dashTemplate:[3.75,3.75],lineDashEnding:\"HalfPattern\",controlPointEnding:\"NoConstraint\"}],enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:1.6,color:[255,255,255,255]},{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:2,color:[0,0,0,255]}]}}}),l=new o({style:\"circle\",size:6,color:[127,127,127,1],outline:{color:[50,50,50],width:1}}),i=new o({style:\"circle\",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}});export{i as activeVertex,t as outline,l as regularVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../Graphic.js\";import{makeHandle as i}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as r}from\"../../../../../core/maybe.js\";import{watch as s,initial as a}from\"../../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../../../geometry/Multipoint.js\";import c from\"../../../../../geometry/Point.js\";import{SnappingVisualizer2D as h}from\"../../SnappingVisualizer2D.js\";import{outline as m,regularVertices as p,activeVertex as u}from\"./symbols.js\";import{DrawGraphicTool as v,geometryTypeToDrawOperationGeometryType as y}from\"../../../../draw/DrawGraphicTool.js\";import{DrawOperation as d}from\"../../../../draw/DrawOperation.js\";import{MapDrawSurface as g}from\"../../../../draw/drawSurfaces.js\";let E=class extends v{constructor(e){super(e),this._visualElementGraphics={regularVertices:null,activeVertex:null,activeEdge:null},this.activeFillSymbol=null,this.type=\"draw-2d\",this._visualElementSymbols={outline:e.activeLineSymbol??m,regularVertices:e.regularVerticesSymbol??p,activeVertex:e.activeVertexSymbol??u,fill:e.activeFillSymbol},e.activeVertexSymbol||this.addHandles(s((()=>this.view?.effectiveTheme?.accentColor),(e=>{if(!e)return;const t=this._visualElementSymbols.activeVertex.clone().set({color:e});this._visualElementGraphics.activeVertex?.set(\"symbol\",t),this._visualElementSymbols={...this._visualElementSymbols,activeVertex:t}}),a))}normalizeCtorArgs(e){const t={...e};return delete t.activeFillSymbol,delete t.activeVertexSymbol,delete t.regularVerticesSymbol,delete t.activeLineSymbol,t}initializeGraphic(e){return null!=this._visualElementSymbols.fill&&(e.symbol=this._visualElementSymbols.fill),this.internalGraphicsLayer.graphics.sort(G),i()}makeDrawOperation(){const{defaultZ:e,hasZ:t,view:i}=this;return this._createOrUpdateGraphic(null),new d({view:i,manipulators:this.manipulators,geometryType:y(this.geometryType),drawingMode:this.mode,hasZ:t,defaultZ:e,snapToSceneEnabled:this.snapToScene,drawSurface:new g(i,t,e),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new h(this.internalGraphicsLayer),graphic:this.graphic,cursor:this.cursor,constraintsEnabled:!0})}onActiveVertexChanged(e){if(\"point\"===this.geometryType)return i();const[s,a]=e,l=new c({x:s,y:a,spatialReference:this.view.spatialReference});return null!=this._visualElementGraphics.activeVertex?(this._visualElementGraphics.activeVertex.geometry=l,i()):(this._visualElementGraphics.activeVertex=new t({geometry:l,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex),this.internalGraphicsLayer.graphics.sort(G),i((()=>{null!=this._visualElementGraphics.activeVertex&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=r(this._visualElementGraphics.activeVertex))})))}onCursorEdgeChanged(e){return null!=this._visualElementGraphics.activeEdge?(this._visualElementGraphics.activeEdge.geometry=e,i()):(this._visualElementGraphics.activeEdge=new t({geometry:e,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeEdge),this.internalGraphicsLayer.graphics.sort(G),i((()=>{null!=this._visualElementGraphics.activeEdge&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeEdge),this._visualElementGraphics.activeEdge=r(this._visualElementGraphics.activeEdge))})))}onRegularVerticesChanged(e){const s=new o({points:e,spatialReference:this.view.spatialReference});return null!=this._visualElementGraphics.regularVertices?(this._visualElementGraphics.regularVertices.geometry=s,i()):(this._visualElementGraphics.regularVertices=new t({geometry:s,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}}),this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices),this.internalGraphicsLayer.graphics.sort(G),i((()=>{null!=this._visualElementGraphics.regularVertices&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=r(this._visualElementGraphics.regularVertices))})))}};function G(e,t){return(e.attributes?.displayOrder??-1/0)-(t.attributes?.displayOrder??-1/0)}e([l()],E.prototype,\"activeFillSymbol\",void 0),e([l({readOnly:!0})],E.prototype,\"type\",void 0),e([l({constructOnly:!0,nonNullable:!0})],E.prototype,\"view\",void 0),E=e([n(\"esri.views.2d.interactive.editingTools.draw.DrawGraphicTool2D\")],E);export{E as DrawGraphicTool2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass r{get hovering(){return this.someManipulator((r=>r.hovering))}get grabbing(){return this.someManipulator((r=>r.grabbing))}get dragging(){return this.someManipulator((r=>r.dragging))}hasManipulator(r){return this.someManipulator((t=>t===r))}someManipulator(r){let t=!1;return this.forEachManipulator((a=>{!t&&r(a)&&(t=!0)})),t}}var t;!function(r){r[r.TRANSLATE_XY=0]=\"TRANSLATE_XY\",r[r.SCALE=1]=\"SCALE\",r[r.ROTATE=2]=\"ROTATE\"}(t||(t={}));export{r as Manipulation,t as ManipulatorType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Manipulation as t,ManipulatorType as i}from\"./Manipulation.js\";import{createManipulatorDragEventPipeline as r,screenToMap as a}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as o}from\"../../../../interactive/GraphicManipulator.js\";import{AccumulationBehavior as e}from\"../../../../interactive/editGeometry/interfaces.js\";import{getSymbolInfo as n}from\"../../../../interactive/support/utils.js\";class s extends t{constructor(t){super(),this._view=t.view,this._tool=t.tool,this._graphic=t.graphic,this._manipulator=this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphic=null}forEachManipulator(t){t(this._manipulator,i.TRANSLATE_XY)}createDragPipeline(t,i){let o=null,s=null,l=0,p=0,c=0;const{offsetX:m,offsetY:h,size:u}=n(this._graphic.symbol);return r(this._manipulator,((r,n)=>{n.next((i=>{if(\"start\"===i.action){const i=t();o=i.editGeometryOperations,s=i.constraints}return i})).next(a(this._view)).next((t=>{const{x:r,y:a,z:n}=t.mapEnd;if(s&&(r+m<s.xmin||a+h-u<s.ymin||r+m>s.xmax||a+h-u>s.ymax))return t;(\"start\"===t.action||0===l&&0===p&&0===c)&&(l=t.mapStart.x,p=t.mapStart.y,c=t.mapStart.z);const _=r-l,f=a-p,v=n-c;l=r,p=a,c=n;const x=\"start\"===t.action?e.NEW_STEP:e.ACCUMULATE_STEPS,E=o.move(_,f,v,x);return i(t,E),t}))}))}_createManipulator(){const t=this._view,i=this._graphic;return new o({view:t,graphic:i,selectable:!0,cursor:\"move\"})}}export{s as DragManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Color.js\";import i from\"../../../../Graphic.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{project as a,initializeProjection as h}from\"../../../../geometry/projection.js\";import{isValid as c}from\"../../../../geometry/support/spatialReferenceUtils.js\";import l from\"../../../../layers/GraphicsLayer.js\";import p from\"../../../../symbols/CIMSymbol.js\";import{applyCIMSymbolColor as d}from\"../../../../symbols/support/cimSymbolUtils.js\";import{ViewingMode as m}from\"../../../ViewingMode.js\";import{DragManipulation as y}from\"./manipulations/DragManipulation.js\";import{primaryKey as _}from\"../../../input/keys.js\";import{InteractiveToolBase as g}from\"../../../interactive/InteractiveToolBase.js\";import{EditGeometryOperations as f}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";import{AccumulationBehavior as u}from\"../../../interactive/editGeometry/interfaces.js\";const P={up:\"ArrowUp\",down:\"ArrowDown\",left:\"ArrowLeft\",right:\"ArrowRight\",toggleOpacity:\"t\",shift:\"Shift\",primaryKey:_},v=1,S=10,k=new e(\"#009af2\");let b=class extends g{constructor(t){super(t),this._isOpacityToggled=!1,this._isModifierActive=!1,this._factor=1,this._initialControlPoints=null,this._graphicsLayer=new l({internal:!0,listMode:\"hide\",visible:!1,effect:\"drop-shadow(0px, 0px, 3px)\"}),this._undoStack=[],this._redoStack=[],this._sharedUndoStack=[],this._sharedRedoStack=[],this._highlightHandle=null,this.activeHandle=0,this.type=\"reshape\"}initialize(){this._initialize()}destroy(){const{map:t}=this.view;this._controlPointManipulations.forEach((t=>t.destroy())),this._controlPointEditGeometryOperations.forEach((t=>t.destroy())),t.removeMany([this._graphicsLayer]),this._graphicsLayer.removeAll(),this._graphicsLayer=o(this._graphicsLayer),this._georeference=null,this._controlPointGraphics=null,this._controlPointManipulations=null,this._graphicsLayer=null,this._controlPointEditGeometryOperations=null,this._undoStack=null,this._redoStack=null,this._initialControlPoints=null,this._sharedUndoStack=null,this._sharedRedoStack=null}get _hasValidSpatialReference(){return c(this.view.spatialReference)}onActivate(){this.visible=!0}onDeactivate(){this.visible=!1}onShow(){this._graphicsLayer.visible=!0}onHide(){this._graphicsLayer.visible=!1}canUndo(){const t=this._undoStack[this._undoStack.length-1];return null!=t&&this._controlPointEditGeometryOperations[t].canUndo}canRedo(){const t=this._redoStack[this._redoStack.length-1];return null!=t&&this._controlPointEditGeometryOperations[t].canRedo}undo(){if(this._undoStack.length>0){const t=this._undoStack.pop();this._controlPointEditGeometryOperations[t].undo(),this.updateGraphics(),this._redoStack.push(t)}}redo(){if(this._redoStack.length>0){const t=this._redoStack.pop();this._controlPointEditGeometryOperations[t].redo(),this.updateGraphics(),this._undoStack.push(t)}}refresh(){const{mediaElement:t}=this;if(null==t.georeference)return;const e=t.georeference;\"control-points\"===e.type&&null!=e.coords&&(this._georeference=e,this._georeference.controlPoints.forEach((({mapPoint:t},e)=>{const i=this._controlPointEditGeometryOperations[e],o=i.data.components[0].vertices[0];i.setVertexPosition(o,i.data.coordinateHelper.pointToVector(t))})),this.updateGraphics())}reset(){this._georeference.controlPoints=this._initialControlPoints,this.refresh(),this._sharedUndoStack.length=0,this._sharedRedoStack.length=0}updateGraphics(){const t=this._georeference,e=t.controlPoints,i=e[0].mapPoint.spatialReference,o=this._hasValidSpatialReference;this._georeference.controlPoints=this._controlPointEditGeometryOperations.map(((r,s)=>{const n=r.data.geometry;return this._controlPointGraphics[s].geometry=n,{mapPoint:a(n,i),sourcePoint:o?e[s].sourcePoint:t.toSource(n)}}))}updateActiveHandle(t){if(this.activeHandle===t)return;const e=this._controlPointGraphics[this.activeHandle].symbol.clone();d(e,this.view.effectiveTheme.accentColor),this._controlPointGraphics[this.activeHandle].symbol=e;const i=this._controlPointGraphics[t].symbol.clone();d(i,k),this._controlPointGraphics[t].symbol=i,this.activeHandle=t,this.view.surface===document.activeElement&&this.highlightActiveHandle()}async highlightActiveHandle(){this.removeHighlightActiveHandle();const t=await this.view.whenLayerView(this._graphicsLayer);this._highlightHandle=t.highlight(this._controlPointGraphics[this.activeHandle])}removeHighlightActiveHandle(){this._highlightHandle&&this._highlightHandle.remove()}setSharedUndoStack(t){this._sharedUndoStack=t}setSharedRedoStack(t){this._sharedRedoStack=t}async _initialize(){const{view:t,mediaElement:e}=this;if(null==e.georeference)return;const o=e.georeference;\"control-points\"===o.type&&null!=o.coords&&(this._georeference=o,this._initialControlPoints=this._georeference.controlPoints,t.map.addMany([this._graphicsLayer]),t.focus(),this.visible=!1,this.finishToolCreation(),await this._loadProjectionEngine(),this._controlPointEditGeometryOperations=this._georeference.controlPoints.map((({mapPoint:e})=>f.fromGeometry(a(e,t.spatialReference),m.Local))),this._controlPointGraphics=this._controlPointEditGeometryOperations.map(((t,e)=>new i({symbol:new p({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMPointSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,colorLocked:!0,anchorPoint:{x:0,y:-15.75},anchorPointUnits:\"Absolute\",dominantSizeAxis3D:\"Y\",size:9,billboardMode3D:\"FaceNearPlane\",frame:{xmin:0,ymin:0,xmax:84.3,ymax:84.3},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[83.2,32.5],[84.3,40.7],[83.8,48.9],[81.7,56.9],[78.1,64.3],[73,70.9],[66.9,76.4],[59.7,80.5],[51.9,83.2],[43.7,84.3],[35.4,83.8],[27.4,81.7],[20,78],[13.4,73],[7.9,66.8],[3.8,59.7],[1.1,51.9],[0,43.7],[.5,35.4],[2.6,27.4],[6.3,20],[11.3,13.4],[17.5,7.9],[24.7,3.8],[32.5,1.1],[39.8,.1],[47.1,.3],[54.3,1.8],[61.1,4.5],[67.4,8.4],[72.9,13.3],[77.4,19.1],[80.9,25.5],[83.2,32.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:\"CIMClippingPath\",clippingType:\"Intersect\",path:{rings:[[[0,0],[84.3,0],[84.3,84.3],[0,84.3],[0,0]]]}},rotation:0},{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:-11.25},anchorPointUnits:\"Absolute\",dominantSizeAxis3D:\"Y\",size:22.5,billboardMode3D:\"FaceNearPlane\",frame:{xmin:0,ymin:0,xmax:197.7,ymax:294.7},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[98.9,0],[119.4,23.2],[139.4,49.3],[156.8,75.2],[171.2,100.8],[182.4,125.3],[190.6,148.8],[195.7,171.4],[197.7,192.9],[197.7,195.8],[197.7,200.3],[197.6,202.5],[197.5,204.8],[197.3,207.1],[197,209.4],[196.7,211.7],[196.4,214.1],[196,216.4],[195.5,218.7],[195,221.1],[194.4,223.4],[193.7,225.8],[193,228.1],[192.2,230.5],[191.4,232.8],[190.5,235.1],[189.5,237.5],[188.5,239.7],[187.4,242],[186.2,244.3],[185,246.5],[183.7,248.7],[182.4,250.9],[181,253.1],[179.5,255.2],[178,257.3],[176.4,259.4],[174.7,261.4],[173.1,263.3],[171.3,265.3],[169.5,267.2],[167.7,269],[165.8,270.8],[163.9,272.5],[161.9,274.2],[159.9,275.8],[157.8,277.4],[155.7,278.9],[153.6,280.4],[151.4,281.7],[149.2,283.1],[147,284.4],[144.8,285.6],[142.5,286.7],[140.3,287.8],[138,288.8],[135.7,289.8],[133.4,290.7],[131,291.5],[128.7,292.3],[126.4,293],[124,293.6],[121.7,294.2],[119.4,294.7],[117,295.2],[114.7,295.6],[112.4,296],[110.1,296.3],[107.8,296.5],[105.5,296.7],[103.3,296.8],[101.1,296.9],[98.8,296.9],[83.1,295.7],[67.8,292],[53.3,285.9],[39.9,277.5],[28.1,267.2],[18,255.1],[10,241.5],[4.2,226.9],[.9,211.5],[0,195.8],[.1,192.9],[2.1,171.4],[7.2,148.8],[15.4,125.3],[26.6,100.8],[41,75.2],[58.4,49.3],[78.4,23.2],[98.9,0]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:e===this.activeHandle?k.toArray():this.view.effectiveTheme.accentColor.toArray()}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:\"CIMClippingPath\",clippingType:\"Intersect\",path:{rings:[[[0,0],[197.7,0],[197.7,294.7],[0,294.7],[0,0]]]}},rotation:0}],haloSize:1,scaleX:1,angleAlignment:\"Display\",angle:0}}}),geometry:t.data.geometry}))),this._graphicsLayer.graphics.addMany([...this._controlPointGraphics]),this._controlPointManipulations=this._controlPointGraphics.map((e=>new y({tool:this,view:t,graphic:e}))),this.addHandles([...this._controlPointManipulations.map(((t,e)=>t.createDragPipeline(this._getInfo.bind(this,e),((t,i)=>{\"start\"===t.action&&(this._undoStack.push(e),this._redoStack=[],this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0),this.updateGraphics()})))),r((()=>this.view.scale),(()=>this.active?this.updateGraphics():null))]),this._controlPointManipulations.forEach(((t,e)=>{const i=t=>{this.addHandles([t.events.on([\"click\",\"grab-changed\"],(t=>this.updateActiveHandle(e)))])};t.forEachManipulator(i)})),this.addHandles([t.on(\"key-down\",(i=>{t.activeTool===this&&(i.key!==P.shift||i.repeat||(this._isModifierActive=!0,i.stopPropagation()),i.key!==P.toggleOpacity||i.repeat||(e.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled,i.stopPropagation()),i.key!==P.primaryKey||i.repeat||(this._factor=S,i.stopPropagation()),this._isModifierActive&&(i.key===P.up&&(this._move(0,this._factor),i.stopPropagation()),i.key===P.down&&(this._move(0,-this._factor),i.stopPropagation()),i.key===P.left&&(this._move(-this._factor,0),i.stopPropagation()),i.key===P.right&&(this._move(this._factor,0),i.stopPropagation())))})),t.on(\"key-up\",(e=>{t.activeTool===this&&(e.key===P.shift&&(this._isModifierActive=!1,e.stopPropagation()),e.key===P.primaryKey&&(this._factor=v,e.stopPropagation()))}))]))}async _loadProjectionEngine(){const t=this._georeference.controlPoints[0].mapPoint;return h(t.spatialReference,this.view.spatialReference)}_getInfo(t){return{editGeometryOperations:this._controlPointEditGeometryOperations[t],constraints:this._hasValidSpatialReference?null:{xmin:0,ymin:0,xmax:this._georeference.width,ymax:this._georeference.height}}}_move(t,e){const i=this._controlPointEditGeometryOperations[this.activeHandle].move(t*this.view.resolution,e*this.view.resolution,0,u.NEW_STEP);this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0,this.updateGraphics()}};t([s()],b.prototype,\"_hasValidSpatialReference\",null),t([s()],b.prototype,\"activeHandle\",void 0),t([s({constructOnly:!0,nonNullable:!0})],b.prototype,\"mediaElement\",void 0),t([s({readOnly:!0})],b.prototype,\"type\",void 0),t([s({constructOnly:!0})],b.prototype,\"view\",void 0),b=t([n(\"esri.views.2d.interactive.editingTools.ControlPointsTransformTool\")],b);export{b as ControlPointsTransformTool,P as keys};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{rad2deg as t,deg2rad as e}from\"../../../../../core/mathUtils.js\";import{EventPipeline as a}from\"../../../../interactive/dragEventPipeline.js\";function n(t,e){\"start\"===t.action?e.cursor=\"grabbing\":e.cursor=\"grab\"}class s{constructor(){this._lastDragEvent=null,this.next=new a,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent){const e={...this._lastDragEvent,action:\"update\"};t&&this._adjustScaleFactors(e),this.next.execute(e)}this._enabled=t}createDragEventPipelineStep(){return this._lastDragEvent=null,t=>(this._lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this._adjustScaleFactors(t),t)}_adjustScaleFactors(t){const e=0!==t.direction[0]&&0!==t.direction[1]?Math.max(Math.abs(t.factor1),Math.abs(t.factor2)):0===t.direction[0]?Math.abs(t.factor2):Math.abs(t.factor1);t.factor1=t.factor1<0?-e:e,t.factor2=t.factor2<0?-e:e}}class r{constructor(){this._lastDragEvent=null,this.next=new a,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent){const e={...this._lastDragEvent,action:\"update\"};t&&this._adjustRotateAngle(e),this.next.execute(e)}this._enabled=t}createDragEventPipelineStep(){return this._lastDragEvent=null,t=>(this._lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this._adjustRotateAngle(t),t)}_adjustRotateAngle(a){const n=t(a.rotateAngle);a.rotateAngle=e(5*Math.round(n/5))}}export{s as PreserveAspectRatio,r as SnapRotation,n as onGrabChangedHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Handles.js\";import{c as i}from\"../../../../../chunks/vec32.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{Manipulation as e,ManipulatorType as a}from\"./Manipulation.js\";import{onGrabChangedHandle as o}from\"./utils.js\";import{getRotationAngle as n}from\"../../../../draw/support/drawUtils.js\";import{createManipulatorDragEventPipeline as s,screenToMap as l}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as p}from\"../../../../interactive/GraphicManipulator.js\";import{AccumulationBehavior as h}from\"../../../../interactive/editGeometry/interfaces.js\";import{AccumulationType as c}from\"../../../../interactive/editGeometry/operations/UpdateVertices.js\";import{apply as m}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";class u extends e{constructor(i){super(),this._handles=new t,this._originCache=r(),this._view=i.view,this._tool=i.tool,this._graphic=i.graphic,this._snapRotation=i.snapRotation,this._manipulator=this._createManipulator(),this._handles.add([this._manipulator.events.on(\"grab-changed\",(t=>o(t,this._manipulator)))]),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._snapRotation=null,this._graphic=null,this._handles=null,this._originCache=null}forEachManipulator(t){t(this._manipulator,a.ROTATE)}createDragPipeline(t,r){let e=null,a=null;return s(this._manipulator,((o,s)=>{s.next((i=>{if(\"start\"===i.action){o.cursor=\"grabbing\";const i=t();e=i.plane,a=i.editGeometryOperations}return i})).next(l(this._view)).next((t=>({...t,rotateAngle:n(t.mapStart,t.mapEnd,{x:e.origin[0],y:e.origin[1]},!0)}))).next(this._snapRotation.createDragEventPipelineStep(),this._snapRotation.next).next((t=>{const o=i(this._originCache,e.origin),n=\"start\"===t.action?h.NEW_STEP:h.ACCUMULATE_STEPS,s=a.rotate(o,t.rotateAngle,n,c.REPLACE);return m(s,e),r(t,s),t})).next((t=>(\"end\"===t.action&&(o.cursor=\"grab\"),t)))}))}_createManipulator(){const t=this._view,i=this._graphic;return new p({view:t,graphic:i,selectable:!0,cursor:\"grab\"})}}export{u as RotateManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Handles.js\";import{set as i,normalize as e}from\"../../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{l as a,c as s,b as n,d as o,f as l}from\"../../../../../chunks/vec32.js\";import{create as c}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{d as h,a as p}from\"../../../../../chunks/boundedPlane.js\";import{getInfo as u}from\"../../../../../geometry/support/spatialReferenceUtils.js\";import{Manipulation as _,ManipulatorType as m}from\"./Manipulation.js\";import{onGrabChangedHandle as d}from\"./utils.js\";import{createManipulatorDragEventPipeline as f,screenToMap as v}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as g}from\"../../../../interactive/GraphicManipulator.js\";import{AccumulationBehavior as b}from\"../../../../interactive/editGeometry/interfaces.js\";import{AccumulationType as x}from\"../../../../interactive/editGeometry/operations/UpdateVertices.js\";import{apply as C}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";const E=10,S=1e-6,y=.3;function j(t){const i=a(t.basis1),e=a(t.basis2);return y*Math.min(i,e)}class w extends _{constructor(i){super(),this._handles=new t,this._planeStart=h(),this._displayPlaneStart=h(),this._originCache=c(),this._axisCache=r(),this._renderStartCache=c(),this._renderEndCache=c(),this._resizeOriginCache=c(),this._view=i.view,this._tool=i.tool,this._graphic=i.graphic,this._direction=i.direction,this._preserveAspectRatio=i.preserveAspectRatio,this._manipulator=this._createManipulator(),this._handles.add([this._manipulator.events.on(\"grab-changed\",(t=>d(t,this._manipulator)))]),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._graphic=null,this._manipulator=null,this._direction=null,this._handles=null,this._planeStart=null,this._displayPlaneStart=null,this._originCache=null,this._axisCache=null,this._renderStartCache=null,this._renderEndCache=null,this._resizeOriginCache=null,this._preserveAspectRatio=null}forEachManipulator(t){t(this._manipulator,m.SCALE)}createDragPipeline(t,r){let c=null,h=null,_=null,m=0,d=null,g=null;const y=this._planeStart,w=this._displayPlaneStart,P=this._direction;return f(this._manipulator,((f,M)=>{M.next((i=>{if(\"start\"===i.action){f.cursor=\"grabbing\";const i=t();c=i.plane,h=i.displayPlane,_=i.editGeometryOperations,m=E*this._view.resolution,p(c,y),p(h,w);const e=u(_.data.spatialReference);d=e?e.valid[1]-e.valid[0]-3*E*this._view.resolution:null}return i})).next(v(this._view)).next((t=>{const i=s(this._renderStartCache,[t.mapStart.x,t.mapStart.y,0]),e=s(this._renderEndCache,[t.mapEnd.x,t.mapEnd.y,0]),r=s(this._resizeOriginCache,w.origin);n(r,r,w.basis1,-P[0]),n(r,r,w.basis2,-P[1]),o(e,e,r),o(i,i,r);const c=0!==P[0]&&0!==P[1],p=j(w),u=j(h)/p,_=(t,r)=>{if(0===t)return 1;let s=a(r),n=.5*t*l(r,e)/s;const o=n<0?-1:1;if(c){n+=(s-.5*t*l(r,i)/s)*o*u}const h=s<1.5*m?1:S;return s=Math.max(s-m,S),o>0&&(n-=E*this._view.resolution),o*Math.max(o*(n/s),h)},d=_(P[0],w.basis1),f=_(P[1],w.basis2);return{...t,direction:P,factor1:d,factor2:f}})).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next((t=>{const a=s(this._originCache,y.origin);n(a,a,y.basis1,-P[0]),n(a,a,y.basis2,-P[1]);const o=i(this._axisCache,y.basis1[0],y.basis1[1]);e(o,o);const l=_.data.allVertices,h=\"start\"===t.action?b.NEW_STEP:b.ACCUMULATE_STEPS,u=_.scaleVertices(l,a,o,t.factor1,t.factor2,h,x.REPLACE);return d&&d<_.data.geometry.extent.width&&g?_.updateVertices(l,g):(p(y,c),C(u,c),g=u.operation,r(t,u)),t})).next((t=>(\"end\"===t.action&&(f.cursor=\"grab\"),t)))}))}_createManipulator(){return new g({view:this._view,graphic:this._graphic,selectable:!0,cursor:\"grab\"})}}export{w as ScaleManipulation,j as calculateDiagonalResizeHandleScale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Graphic.js\";import{getContrast as i}from\"../../../../core/colorUtils.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{watch as o}from\"../../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as r}from\"../../../../core/unitUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{subtract as c,normalize as h}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as l,UNIT_X as p}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{h as d,l as _,n as m,g as u,m as y,d as g}from\"../../../../chunks/vec32.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import v from\"../../../../geometry/Point.js\";import G from\"../../../../geometry/Polygon.js\";import{project as w,initializeProjection as R}from\"../../../../geometry/projection.js\";import{d as b,a as j}from\"../../../../chunks/boundedPlane.js\";import{equals as C}from\"../../../../geometry/support/spatialReferenceUtils.js\";import k from\"../../../../layers/GraphicsLayer.js\";import P from\"../../../../symbols/SimpleFillSymbol.js\";import S from\"../../../../symbols/SimpleMarkerSymbol.js\";import{ViewingMode as T}from\"../../../ViewingMode.js\";import{DragManipulation as A}from\"./manipulations/DragManipulation.js\";import{RotateManipulation as M}from\"./manipulations/RotateManipulation.js\";import{ScaleManipulation as x}from\"./manipulations/ScaleManipulation.js\";import{PreserveAspectRatio as O,SnapRotation as D}from\"./manipulations/utils.js\";import{InteractiveToolBase as U}from\"../../../interactive/InteractiveToolBase.js\";import{mediaKeys as E,KeyBindings as L}from\"../../../interactive/keybindings.js\";import{EditGeometry as B}from\"../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as H}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";import{AccumulationBehavior as I}from\"../../../interactive/editGeometry/interfaces.js\";import{AccumulationType as V}from\"../../../interactive/editGeometry/operations/UpdateVertices.js\";import{calculateOrientedBounds as z}from\"../../../interactive/editGeometry/support/editPlaneUtils.js\";import{findFirstGraphicHit as N}from\"../../../support/hitTestSelectUtils.js\";import{createScreenPointFromEvent as W}from\"../../../support/screenUtils.js\";const q=80,F=10,J=30,K=[[1,1],[1,-1],[-1,-1],[-1,1],[1,0],[0,-1],[-1,0],[0,1]],Q=1,X=10;let Y=class extends U{constructor(e){super(e),this._initialControlPoints=null,this._initialGeometry=null,this._graphic=null,this._planeCache=b(),this._displayPlaneCache=b(),this._mainAxisCache=l(),this._rotationHandleCache=f(),this._cornerA=f(),this._cornerB=f(),this._cornerC=f(),this._cornerD=f(),this._avgAB=f(),this._avgBC=f(),this._avgCD=f(),this._avgDA=f(),this._preserveAspectRatio=new O,this._snapRotation=new D,this._graphicsLayer=new k({internal:!0,listMode:\"hide\",visible:!1}),this._sharedUndoStack=[],this._sharedRedoStack=[],this._isOpacityToggled=!1,this._factor=Q,this.preserveAspectRatio=null,this.snapRotation=null,this.type=\"transform\"}initialize(){this._initialize()}destroy(){const{map:e}=this.view;this._dragManipulation.destroy(),this._rotateManipulation.destroy(),this._scaleManipulations.forEach((e=>e.destroy())),this._editGeometryOperations.destroy(),e.removeMany([this._graphicsLayer]),this._graphicsLayer.removeAll(),this._graphicsLayer=s(this._graphicsLayer),this._initialControlPoints=null,this._initialGeometry=null,this._graphic=null,this._preserveAspectRatio=null,this._snapRotation=null,this._planeCache=null,this._displayPlaneCache=null,this._rotationHandleCache=null,this._mainAxisCache=null,this._cornerA=null,this._cornerB=null,this._cornerC=null,this._cornerD=null,this._avgAB=null,this._avgBC=null,this._avgCD=null,this._avgDA=null,this._sharedUndoStack=null,this._sharedRedoStack=null}get _plane(){const e=this._graphic.geometry;if(null==e)return null;const t=this._editGeometryOperations.data,i=t.components[0].edges[0],s=c(this._mainAxisCache,i.leftVertex.pos,i.rightVertex.pos);h(s,s);let o=q*this.view.resolution;const a=this.view.spatialReference;return C(a,e.spatialReference)&&(o*=r(a)/r(e.spatialReference)),z(s,t,o,this._planeCache)}get _displayPlane(){const e=this._plane;if(!e)return null;const t=this._displayPlaneCache;j(e,t);const i=F*this.view.resolution;return d(t.basis1,t.basis1,1+i/_(t.basis1)),d(t.basis2,t.basis2,1+i/_(t.basis2)),t}get _backgroundGraphicGeometry(){const e=this._displayPlane;if(!e)return null;const t=this.view.spatialReference;return this._updateDisplayPlaneConrers(e),new G({spatialReference:t,rings:[[this._cornerA,this._cornerB,this._cornerC,this._cornerD,this._cornerA]]})}get _rotateGraphicGeometry(){const e=this._plane;if(!e)return null;const t=this._rotationHandleCache;return m(t,e.basis1),d(t,t,J*this.view.resolution),u(t,t,e.origin),u(t,t,e.basis1),new v({x:t[0],y:t[1],spatialReference:this.view.spatialReference})}get _scaleGraphicGeometries(){const e=this._displayPlane;if(!e)return[];const t=this.view.spatialReference;this._updateDisplayPlaneConrers(e);const{_cornerA:i,_cornerB:s,_cornerC:o,_cornerD:r}=this,a=y(this._avgAB,i,s,.5),n=y(this._avgBC,s,o,.5),c=y(this._avgCD,o,r,.5),h=y(this._avgDA,r,i,.5);return[new v({x:i[0],y:i[1],spatialReference:t}),new v({x:s[0],y:s[1],spatialReference:t}),new v({x:o[0],y:o[1],spatialReference:t}),new v({x:r[0],y:r[1],spatialReference:t}),new v({x:a[0],y:a[1],spatialReference:t}),new v({x:n[0],y:n[1],spatialReference:t}),new v({x:c[0],y:c[1],spatialReference:t}),new v({x:h[0],y:h[1],spatialReference:t})]}onActivate(){this.visible=!0}onDeactivate(){this.visible=!1}onShow(){this._graphicsLayer.visible=!0}onHide(){this._graphicsLayer.visible=!1}canUndo(){return this._editGeometryOperations.canUndo}canRedo(){return this._editGeometryOperations.canRedo}undo(){this._editGeometryOperations.undo(),this.updateGraphics()}redo(){this._editGeometryOperations.redo(),this.updateGraphics()}refresh(){const{view:e,target:t}=this,i=\"georeference\"in t?t.georeference.coords:t.geometry,s=this._editGeometryOperations,o=s.data.components[0].vertices,r=B.fromGeometry(w(i,e.spatialReference),T.Local).components[0].vertices;o.forEach(((e,t)=>{s.setVertexPosition(e,r[t].pos)})),this.updateGraphics()}reset(){const{target:e}=this;if(\"georeference\"in e){const t=e.georeference;\"control-points\"===t.type&&(t.controlPoints=this._initialControlPoints)}else e.geometry=this._initialGeometry;this.refresh(),this._sharedUndoStack.length=0,this._sharedRedoStack.length=0}updateGraphics(){const e=this._editGeometryOperations.data.geometry;if(\"georeference\"in this.target){this.target.georeference.coords=e}this._graphic.geometry=e,this._backgroundGraphic.geometry=this._backgroundGraphicGeometry,this._rotateGraphic.geometry=this._rotateGraphicGeometry,this._scaleGraphicGeometries.forEach(((e,t)=>{this._scaleGraphics[t].geometry=e}))}setSharedUndoStack(e){this._sharedUndoStack=e}setSharedRedoStack(e){this._sharedRedoStack=e}async _initialize(){const{view:e,target:s}=this;if(\"georeference\"in s){const e=s.georeference;this._graphic=new t({geometry:e.coords}),this._initialControlPoints=\"control-points\"===e.type?e.controlPoints:null}else this._graphic=s,this._initialGeometry=s.geometry;e.map.addMany([this._graphicsLayer]),e.focus(),this.visible=!1,this.finishToolCreation(),await this._loadProjectionEngine(),this._editGeometryOperations=H.fromGeometry(w(this._graphic.geometry,e.spatialReference),T.Local),this._backgroundGraphic=new t({symbol:new P({color:\"transparent\",outline:{type:\"simple-line\",color:e.effectiveTheme.accentColor,width:2}}),geometry:this._backgroundGraphicGeometry}),this._rotateGraphic=new t({symbol:new S({color:i(e.effectiveTheme.accentColor),outline:{type:\"simple-line\",color:e.effectiveTheme.accentColor,width:1}}),geometry:this._rotateGraphicGeometry}),this._scaleGraphics=this._scaleGraphicGeometries.map((s=>new t({symbol:new S({size:6,style:\"square\",color:i(e.effectiveTheme.accentColor),outline:{type:\"simple-line\",color:e.effectiveTheme.accentColor,width:1}}),geometry:s}))),this._graphicsLayer.graphics.addMany([this._backgroundGraphic,this._rotateGraphic,...this._scaleGraphics]),this._dragManipulation=new A({tool:this,view:e,graphic:this._graphic}),this._rotateManipulation=new M({tool:this,view:e,graphic:this._rotateGraphic,snapRotation:this._snapRotation}),this._scaleManipulations=this._scaleGraphics.map(((t,i)=>new x({tool:this,view:e,graphic:t,direction:K[i],preserveAspectRatio:this._preserveAspectRatio}))),this.addHandles([this._dragManipulation.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)),this._rotateManipulation.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)),...this._scaleManipulations.map((e=>e.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)))),o((()=>this.view.scale),(()=>this.active?this.updateGraphics():null)),e.on(\"click\",(async t=>{if(null!=e.activeTool&&e.activeTool!==this)return;const i=W(t),o=[];e.map.allLayers.forEach((e=>{\"vector-tile\"!==e.type&&\"imagery\"!==e.type||o.push(e)}));const r=await this.view.hitTest(i,{exclude:o}),a=r.results;if(0===a.length)e.activeTool=null;else{const t=N(r.results),i=\"georeference\"in s,o=a.map((e=>\"media\"===e.type?e.element:null)).filter(Boolean),n=new Set([...this._graphicsLayer.graphics,i?null:s].filter(Boolean));i&&o.includes(s)||null!=t&&n.has(t.graphic)?null==e.activeTool&&(e.activeTool=this):e.activeTool=null}}))]);const r=e=>{this.addHandles(e.events.on(\"grab-changed\",(e=>{\"georeference\"in s&&(\"start\"===e.action?s.opacity*=.5:\"end\"===e.action&&(s.opacity*=2))})))};this._dragManipulation.forEachManipulator(r),this._rotateManipulation.forEachManipulator(r),this._scaleManipulations.forEach((e=>e.forEachManipulator(r)));const a=new L;a.addToggle(E.preserveAspectRatio,(()=>{null==this.preserveAspectRatio&&(this._preserveAspectRatio.enabled=!this._preserveAspectRatio.enabled)})),a.addToggle(E.rotateIncrements,(()=>{null==this.snapRotation&&(this._snapRotation.enabled=!this._snapRotation.enabled)})),a.add(E.toggleOpacity,(()=>{\"georeference\"in s&&(s.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled)})),a.addToggle(E.factorModifier,(e=>this._factor=\"key-down\"===e.type?X:Q)),a.add(E.scaleUp,(()=>this._scale(this._factor))),a.add(E.scaleDown,(()=>this._scale(-this._factor))),a.add(E.moveUp,(()=>this._move(0,this._factor))),a.add(E.moveDown,(()=>this._move(0,-this._factor))),a.add(E.moveLeft,(()=>this._move(-this._factor,0))),a.add(E.moveRight,(()=>this._move(this._factor,0))),this.addHandles([e.on(\"key-down\",(t=>{e.activeTool===this&&a.dispatch(e.inputManager,t)})),e.on(\"key-up\",(t=>{e.activeTool===this&&a.dispatch(e.inputManager,t)}))])}async _loadProjectionEngine(){const e=this._graphic.geometry;return R(e.spatialReference,this.view.spatialReference)}_updateDisplayPlaneConrers(e){const{basis1:t,basis2:i,origin:s}=e,o=this._cornerA;u(o,s,t),u(o,o,i);const r=this._cornerB;u(r,s,t),g(r,r,i);const a=this._cornerC;g(a,s,t),g(a,a,i);const n=this._cornerD;g(n,s,t),u(n,n,i)}_getInfo(){return{editGeometryOperations:this._editGeometryOperations,plane:this._plane,displayPlane:this._displayPlane}}_updateGraphics(e,t){\"start\"===e.action&&(this._sharedUndoStack.push({tool:this,operation:t}),this._sharedRedoStack.length=0),this.updateGraphics()}_scale(e){const t=this._editGeometryOperations,i=t.data.geometry.extent?.width,s=(i+e*this.view.resolution)/i,o=t.scale(this._plane.origin,p,s,s,I.NEW_STEP,V.REPLACE);this._sharedUndoStack.push({tool:this,operation:o}),this._sharedRedoStack.length=0,this.updateGraphics()}_move(e,t){const i=this._editGeometryOperations.move(e*this.view.resolution,t*this.view.resolution,0,I.NEW_STEP);this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0,this.updateGraphics()}};e([a()],Y.prototype,\"_plane\",null),e([a()],Y.prototype,\"_backgroundGraphicGeometry\",null),e([a()],Y.prototype,\"_rotateGraphicGeometry\",null),e([a()],Y.prototype,\"_scaleGraphicGeometries\",null),e([a()],Y.prototype,\"preserveAspectRatio\",void 0),e([a()],Y.prototype,\"snapRotation\",void 0),e([a({constructOnly:!0,nonNullable:!0})],Y.prototype,\"target\",void 0),e([a({readOnly:!0})],Y.prototype,\"type\",void 0),e([a({constructOnly:!0})],Y.prototype,\"view\",void 0),Y=e([n(\"esri.views.2d.interactive.editingTools.TransformTool\")],Y);export{Y as TransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{watch as e}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ControlPointsTransformTool as a}from\"./ControlPointsTransformTool.js\";import{TransformTool as r}from\"./TransformTool.js\";const n={redo:\"r\",undo:\"z\"};let d=class extends t{constructor(o){super(o),this._transformTool=null,this._controlPointsTransformTool=null,this._advancedModeTransformTool=null,this._activeTool=null,this._sharedUndoStack=[],this._sharedRedoStack=[],this._originalOpacity=null,this.activeHandle=0}initialize(){const{view:o,mediaElement:t,preserveAspectRatio:s,snapRotation:i,advancedMode:d}=this;this._originalOpacity=t.opacity,this._transformTool=new r({target:t,view:o,preserveAspectRatio:s,snapRotation:i}),this._controlPointsTransformTool=new a({mediaElement:t,view:o}),this._advancedModeTransformTool=new a({mediaElement:d.mediaElement,view:d.view}),this._transformTool.setSharedUndoStack(this._sharedUndoStack),this._transformTool.setSharedRedoStack(this._sharedRedoStack),this._controlPointsTransformTool.setSharedUndoStack(this._sharedUndoStack),this._controlPointsTransformTool.setSharedRedoStack(this._sharedRedoStack),this._advancedModeTransformTool.setSharedUndoStack(this._sharedUndoStack),this._advancedModeTransformTool.setSharedRedoStack(this._sharedRedoStack);const l=t.georeference,c=d.mediaElement.georeference;d.view.tools.addMany([this._advancedModeTransformTool]),\"controlPoints\"in c&&\"controlPoints\"in l&&this.addHandles([d.view.on(\"key-down\",(o=>{o.key===n.undo&&this.canUndo()&&(this.undo(),o.stopPropagation()),o.key===n.redo&&this.canRedo()&&(this.redo(),o.stopPropagation())})),d.view.on(\"focus\",(async o=>{this._controlPointsTransformTool.removeHighlightActiveHandle(),this._advancedModeTransformTool.highlightActiveHandle()})),e((()=>c.controlPoints),(o=>{l.controlPoints=o.map((({sourcePoint:o},t)=>({sourcePoint:o,mapPoint:l.controlPoints[t].mapPoint}))),this._activeTool?.refresh()})),e((()=>this._controlPointsTransformTool.activeHandle),(o=>{this._advancedModeTransformTool.updateActiveHandle(o),this.activeHandle=o})),e((()=>this._advancedModeTransformTool.activeHandle),(o=>{this._controlPointsTransformTool.updateActiveHandle(o),this.activeHandle=o}))]),this.addHandles([o.on(\"key-down\",(o=>{o.key===n.undo&&this.canUndo()&&(this.undo(),o.stopPropagation()),o.key===n.redo&&this.canRedo()&&(this.redo(),o.stopPropagation())})),o.on(\"focus\",(async o=>{this._advancedModeTransformTool.removeHighlightActiveHandle(),this._controlPointsTransformTool.highlightActiveHandle()}))]),o.tools.addMany([this._transformTool,this._controlPointsTransformTool]),o.activeTool=this._transformTool,this._activeTool=this._transformTool,o.focus()}destroy(){this._transformTool?.destroy(),this._controlPointsTransformTool?.destroy(),this._transformTool=null,this._controlPointsTransformTool=null,this._advancedModeTransformTool=null,this._activeTool=null,this._sharedUndoStack=null,this._sharedRedoStack=null}canUndo(){return this._sharedUndoStack.length>0}canRedo(){return this._sharedRedoStack.length>0}undo(){if(this._sharedUndoStack.length>0){const{tool:o,operation:t}=this._sharedUndoStack.pop();o!==this._activeTool&&o.refresh(),t.undo(),o.updateGraphics(),this._sharedRedoStack.push({tool:o,operation:t}),this._activeTool!==o&&this._activeTool?.refresh()}}redo(){if(this._sharedRedoStack.length>0){const{tool:o,operation:t}=this._sharedRedoStack.pop();o!==this._activeTool&&o.refresh(),t.apply(),o.updateGraphics(),this._sharedUndoStack.push({tool:o,operation:t}),this._activeTool!==o&&this._activeTool?.refresh()}}refresh(){this._activeTool.refresh()}reset(){this._activeTool.reset(),this._advancedModeTransformTool.reset()}async enableAdvancedMode(){this.view.activeTool=this._controlPointsTransformTool,this._activeTool=this._controlPointsTransformTool,this._activeTool.refresh(),await this.advancedMode.view.when(),this.advancedMode.view.activeTool=this._advancedModeTransformTool,this._originalOpacity=this._controlPointsTransformTool.mediaElement.opacity,this._controlPointsTransformTool.mediaElement.opacity=.25*this._originalOpacity}disableAdvancedMode(){this.view.activeTool=this._transformTool,this._activeTool=this._transformTool,this._activeTool.refresh(),this.advancedMode.view.activeTool=null,this._controlPointsTransformTool.mediaElement.opacity=this._originalOpacity}};o([s()],d.prototype,\"activeHandle\",void 0),o([s({constructOnly:!0})],d.prototype,\"advancedMode\",void 0),o([s()],d.prototype,\"preserveAspectRatio\",void 0),o([s()],d.prototype,\"snapRotation\",void 0),o([s({constructOnly:!0,nonNullable:!0})],d.prototype,\"mediaElement\",void 0),o([s({constructOnly:!0})],d.prototype,\"view\",void 0),d=o([i(\"esri.views.2d.interactive.editingTools.MediaTransformToolsWrapper\")],d);export{d as MediaTransformToolsWrapper,n as keys};\n"],"names":["z","s","getLogger","G","constructor","this","plane","T","origin","v","basis1","basis2","W","Ms","P","Z","t","J","i","n","a","K","Math","abs","l","f","warn","ys","ws","E","Q","c","U","get","u","ts","g","_","is","O","Ps","rs","r","Ss","xs","o","Number","POSITIVE_INFINITY","e","Es","Ns","Ts","k","p","direction","es","B","q","C","us","as","F","M","vs","m","cs","L","max","gs","sqrt","ls","R","y","vector","b","I","x","Vs","As","_s","Os","ks","Object","freeze","defineProperty","__proto__","BoundedPlaneClass","altitudeAt","axisAt","w","X","j","Y","Is","cameraFrustumCoverage","closestPoint","closestPointOnSilhouette","copy","copyWithoutVerify","A","create","distance","distance2","distanceToSilhouette","NEGATIVE_INFINITY","S","elevate","equals","d","extrusionContainsPoint","fromAABoundingRect","fromValues","getExtent","N","intersectRay","intersectRayClosestSilhouette","normal","projectPoint","projectPointLocal","rotate","h","setAltitudeAt","setExtent","transform","up","updateUnboundedPlane","wrap","V","Symbol","toStringTag","value","data","type","symbol","symbolLayers","effects","dashTemplate","lineDashEnding","controlPointEnding","enable","capStyle","joinStyle","miterLimit","width","color","style","size","outline","super","_visualElementGraphics","regularVertices","activeVertex","activeEdge","activeFillSymbol","_visualElementSymbols","activeLineSymbol","regularVerticesSymbol","activeVertexSymbol","fill","addHandles","view","effectiveTheme","accentColor","clone","set","normalizeCtorArgs","initializeGraphic","internalGraphicsLayer","graphics","sort","makeDrawOperation","defaultZ","hasZ","_createOrUpdateGraphic","manipulators","geometryType","drawingMode","mode","snapToSceneEnabled","snapToScene","drawSurface","hasM","snappingManager","snappingVisualizer","graphic","cursor","constraintsEnabled","onActiveVertexChanged","spatialReference","geometry","attributes","displayOrder","add","remove","onCursorEdgeChanged","onRegularVerticesChanged","points","prototype","readOnly","constructOnly","nonNullable","hovering","someManipulator","grabbing","dragging","hasManipulator","forEachManipulator","TRANSLATE_XY","SCALE","ROTATE","_view","_tool","tool","_graphic","_manipulator","_createManipulator","destroy","createDragPipeline","offsetX","offsetY","next","action","editGeometryOperations","constraints","mapEnd","xmin","ymin","xmax","ymax","mapStart","NEW_STEP","ACCUMULATE_STEPS","move","selectable","_isOpacityToggled","_isModifierActive","_factor","_initialControlPoints","_graphicsLayer","internal","listMode","visible","effect","_undoStack","_redoStack","_sharedUndoStack","_sharedRedoStack","_highlightHandle","activeHandle","initialize","_initialize","map","_controlPointManipulations","forEach","_controlPointEditGeometryOperations","removeMany","removeAll","_georeference","_controlPointGraphics","_hasValidSpatialReference","onActivate","onDeactivate","onShow","onHide","canUndo","length","canRedo","undo","pop","updateGraphics","push","redo","refresh","mediaElement","georeference","coords","controlPoints","mapPoint","components","vertices","setVertexPosition","coordinateHelper","pointToVector","reset","sourcePoint","toSource","updateActiveHandle","surface","document","activeElement","highlightActiveHandle","removeHighlightActiveHandle","whenLayerView","highlight","setSharedUndoStack","setSharedRedoStack","addMany","focus","finishToolCreation","_loadProjectionEngine","fromGeometry","Local","colorLocked","anchorPoint","anchorPointUnits","dominantSizeAxis3D","billboardMode3D","frame","markerGraphics","rings","scaleSymbolsProportionally","respectFrame","clippingPath","clippingType","path","rotation","toArray","haloSize","scaleX","angleAlignment","angle","_getInfo","bind","operation","scale","active","events","on","activeTool","key","repeat","stopPropagation","opacity","_move","height","resolution","_lastDragEvent","_enabled","enabled","_adjustScaleFactors","execute","createDragEventPipelineStep","factor1","factor2","_adjustRotateAngle","rotateAngle","round","_handles","_originCache","_snapRotation","snapRotation","REPLACE","min","_planeStart","_displayPlaneStart","_axisCache","_renderStartCache","_renderEndCache","_resizeOriginCache","_direction","_preserveAspectRatio","preserveAspectRatio","displayPlane","valid","allVertices","scaleVertices","extent","updateVertices","_initialGeometry","_planeCache","_displayPlaneCache","_mainAxisCache","_rotationHandleCache","_cornerA","_cornerB","_cornerC","_cornerD","_avgAB","_avgBC","_avgCD","_avgDA","D","_dragManipulation","_rotateManipulation","_scaleManipulations","_editGeometryOperations","_plane","edges","leftVertex","pos","rightVertex","_displayPlane","_backgroundGraphicGeometry","_updateDisplayPlaneConrers","_rotateGraphicGeometry","_scaleGraphicGeometries","target","_backgroundGraphic","_rotateGraphic","_scaleGraphics","H","_updateGraphics","async","allLayers","hitTest","exclude","results","element","filter","Boolean","Set","includes","has","addToggle","rotateIncrements","toggleOpacity","factorModifier","scaleUp","_scale","scaleDown","moveUp","moveDown","moveLeft","moveRight","dispatch","inputManager","_transformTool","_controlPointsTransformTool","_advancedModeTransformTool","_activeTool","_originalOpacity","advancedMode","tools","apply","enableAdvancedMode","when","disableAdvancedMode"],"sourceRoot":""}