(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[170],{602:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return ee}));var n=s(12),i=s(715),r=s(2),a=s(265);function o(e){return 746===e||747===e||!(e<4352)&&(e>=12704&&e<=12735||e>=12544&&e<=12591||e>=65072&&e<=65103&&!(e>=65097&&e<=65103)||e>=63744&&e<=64255||e>=13056&&e<=13311||e>=11904&&e<=12031||e>=12736&&e<=12783||e>=12288&&e<=12351&&!(e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||e>=13312&&e<=19903||e>=19968&&e<=40959||e>=12800&&e<=13055||e>=12592&&e<=12687||e>=43360&&e<=43391||e>=55216&&e<=55295||e>=4352&&e<=4607||e>=44032&&e<=55215||e>=12352&&e<=12447||e>=12272&&e<=12287||e>=12688&&e<=12703||e>=12032&&e<=12255||e>=12784&&e<=12799||e>=12448&&e<=12543&&12540!==e||e>=65280&&e<=65519&&!(65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||e>=65104&&e<=65135&&!(e>=65112&&e<=65118||e>=65123&&e<=65126)||e>=5120&&e<=5759||e>=6320&&e<=6399||e>=65040&&e<=65055||e>=19904&&e<=19967||e>=40960&&e<=42127||e>=42128&&e<=42191)}function l(e){return!(e<11904)&&(e>=12704&&e<=12735||e>=12544&&e<=12591||e>=65072&&e<=65103||e>=63744&&e<=64255||e>=13056&&e<=13311||e>=11904&&e<=12031||e>=12736&&e<=12783||e>=12288&&e<=12351||e>=13312&&e<=19903||e>=19968&&e<=40959||e>=12800&&e<=13055||e>=65280&&e<=65519||e>=12352&&e<=12447||e>=12272&&e<=12287||e>=12032&&e<=12255||e>=12784&&e<=12799||e>=12448&&e<=12543||e>=65040&&e<=65055||e>=42128&&e<=42191||e>=40960&&e<=42127)}function c(e){switch(e){case 10:case 32:case 38:case 40:case 41:case 43:case 45:case 47:case 173:case 183:case 8203:case 8208:case 8211:case 8231:return!0}return!1}function _(e){switch(e){case 9:case 10:case 11:case 12:case 13:case 32:return!0}return!1}var h=s(395);class u{constructor(e,t,s,n,i,r,a){this._glyphItems=e,this._maxWidth=t,this._lineHeight=s,this._letterSpacing=n,this._hAnchor=i,this._vAnchor=r,this._justify=a}getShaping(e,t,s){const n=this._letterSpacing,i=this._lineHeight,r=this._justify,a=this._maxWidth,h=[];let u=0,f=0;const E=e.length;for(let l=0;l<E;l++){const t=e.charCodeAt(l),i=s&&o(t);let r;for(const e of this._glyphItems)if(r=e[t],r)break;h.push({codePoint:t,x:u,y:f,vertical:i,glyphMosaicItem:r}),r&&(u+=r.metrics.advance+n)}let d=u;a>0&&(d=u/Math.max(1,Math.ceil(u/a)));const T=e.indexOf("\u200b")>=0,I=[];for(let o=0;o<E-1;o++){const e=h[o].codePoint,t=l(e);if(c(e)||t){let s=0;if(10===e)s-=1e4;else if(t&&T)s+=150;else{40!==e&&65288!==e||(s+=50);const t=h[o+1].codePoint;41!==t&&65289!==t||(s+=50)}I.push(this._buildBreak(o+1,h[o].x,d,I,s,!1))}}const A=this._optimalBreaks(this._buildBreak(E,u,d,I,0,!0));let R=0;const x=t?-i:i;let y=0;for(let o=0;o<A.length;o++){const e=A[o];let t=y;for(;t<e&&_(h[t].codePoint);)h[t].glyphMosaicItem=null,++t;let s=e-1;for(;s>t&&_(h[s].codePoint);)h[s].glyphMosaicItem=null,--s;if(t<=s){const e=h[t].x;for(let i=t;i<=s;i++)h[i].x-=e,h[i].y=f;let n=h[s].x;h[s].glyphMosaicItem&&(n+=h[s].glyphMosaicItem.metrics.advance),R=Math.max(n,R),r&&this._applyJustification(h,t,s)}y=e,f+=x}if(h.length>0){const e=A.length-1,s=(r-this._hAnchor)*R;let n=(-this._vAnchor*(e+1)+.5)*i;t&&e&&(n+=e*i);for(const t of h)t.x+=s,t.y+=n}return h.filter(e=>e.glyphMosaicItem)}static getTextBox(e,t){if(!e.length)return null;let s=1/0,n=1/0,i=0,r=0;for(const a of e){const e=a.glyphMosaicItem.metrics.advance,o=a.x,l=a.y-17,c=o+e,_=l+t;s=Math.min(s,o),i=Math.max(i,c),n=Math.min(n,l),r=Math.max(r,_)}return{x:s,y:n,width:i-s,height:r-n}}static getBox(e){if(!e.length)return null;let t=1/0,s=1/0,n=0,i=0;for(const r of e){const{height:e,left:a,top:o,width:l}=r.glyphMosaicItem.metrics,c=r.x,_=r.y-(e-Math.abs(o)),h=c+l+a,u=_+e;t=Math.min(t,c),n=Math.max(n,h),s=Math.min(s,_),i=Math.max(i,u)}return{x:t,y:s,width:n-t,height:i-s}}static addDecoration(e,t){const s=e.length;if(0===s)return;let n=e[0].x+e[0].glyphMosaicItem.metrics.left,i=e[0].y;for(let a=1;a<s;a++){const s=e[a];if(s.y!==i){const r=e[a-1].x+e[a-1].glyphMosaicItem.metrics.left+e[a-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:n,y:i+t-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new h.a(4,0,4,8),metrics:{width:r-n,height:8,left:0,top:0,advance:0},page:0,code:0}}),i=s.y,n=s.x+s.glyphMosaicItem.metrics.left}}const r=e[s-1].x+e[s-1].glyphMosaicItem.metrics.left+e[s-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:n,y:i+t-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new h.a(4,0,4,8),metrics:{width:r-n,height:8,left:0,top:0,advance:0},page:0,code:0}})}_breakScore(e,t,s,n){const i=(e-t)*(e-t);return n?e<t?i/2:2*i:i+Math.abs(s)*s}_buildBreak(e,t,s,n,i,r){let a=null,o=this._breakScore(t,s,i,r);for(const l of n){const e=t-l.x,n=this._breakScore(e,s,i,r)+l.score;n<=o&&(a=l,o=n)}return{index:e,x:t,score:o,previousBreak:a}}_optimalBreaks(e){return e?this._optimalBreaks(e.previousBreak).concat(e.index):[]}_applyJustification(e,t,s){const n=e[s],i=n.vertical?24:n.glyphMosaicItem?n.glyphMosaicItem.metrics.advance:0,r=(n.x+i)*this._justify;for(let a=t;a<=s;a++)e[a].x-=r}}var f=s(649),E=s(622),d=s(652);class T{constructor(e,t,s=0,n=-1,i=.5){this.x=e,this.y=t,this.angle=s,this.segment=n,this.minzoom=i}}class I{constructor(e,t,s,n,i,r=.5,o=a.c){this.anchor=e,this.labelAngle=t,this.glyphAngle=s,this.page=n,this.alternateVerticalGlyph=i,this.minzoom=r,this.maxzoom=o}}class A{constructor(e,t,s,n,i,r,a,o,l,c,_,h){this.tl=e,this.tr=t,this.bl=s,this.br=n,this.mosaicRect=i,this.labelAngle=r,this.minAngle=a,this.maxAngle=o,this.anchor=l,this.minzoom=c,this.maxzoom=_,this.page=h}}class R{constructor(e){this.shapes=e}}class x{getIconPlacement(e,t,s){const n=new d.b(e.x,e.y),i=s.rotationAlignment===E.a.MAP,r=s.keepUpright;let o=s.rotate*a.b;i&&(o+=e.angle);const l=new R([]);return s.allowOverlap&&s.ignorePlacement||!f.c||(l.iconColliders=[]),this._addIconPlacement(l,n,t,s,o),i&&r&&this._addIconPlacement(l,n,t,s,o+a.d),l}_addIconPlacement(e,t,s,n,i){const r=s.pixelRatio,o=s.width/r,l=s.height/r,c=n.offset;let _=c[0],h=c[1];switch(n.anchor){case E.d.CENTER:_-=o/2,h-=l/2;break;case E.d.LEFT:h-=l/2;break;case E.d.RIGHT:_-=o,h-=l/2;break;case E.d.TOP:_-=o/2;break;case E.d.BOTTOM:_-=o/2,h-=l;break;case E.d.TOP_LEFT:break;case E.d.BOTTOM_LEFT:h-=l;break;case E.d.TOP_RIGHT:_-=o;break;case E.d.BOTTOM_RIGHT:_-=o,h-=l}const u=s.rect,T=2/r,I=_-T,R=h-T,x=I+u.width/r,y=R+u.height/r,g=new d.b(I,R),p=new d.b(x,y),N=new d.b(I,y),S=new d.b(x,R);if(0!==i){const e=Math.cos(i),t=Math.sin(i);g.rotate(e,t),p.rotate(e,t),N.rotate(e,t),S.rotate(e,t)}const C=new A(g,S,N,p,u,i,0,256,t,.5,a.c,0);if(e.shapes.push(C),(!n.allowOverlap||!n.ignorePlacement)&&f.c){const s=n.size,r=n.padding,c={xTile:t.x,yTile:t.y,dxPixels:_*s-r,dyPixels:h*s-r,hard:!n.optional,partIndex:0,width:o*s+2*r,height:l*s+2*r,angle:i,minLod:.5,maxLod:a.c};e.iconColliders.push(c)}}getTextPlacement(e,t,s,n){const i=new d.b(e.x,e.y),r=n.rotate*a.b,o=n.rotationAlignment===E.a.MAP,l=n.keepUpright,c=n.padding;let _=.5;const h=o?e.angle:0,f=e.segment>=0&&o,T=n.allowOverlap&&n.ignorePlacement?null:[],x=[],y=!f;let g=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,N=g,S=p;const C=(f||o)&&l,O=n.size/24;let M=!1;for(const a of t)if(a.vertical){M=!0;break}let m,P=0,L=0;if(!f&&M){const e=u.getTextBox(t,24*n.lineHeight);switch(n.anchor){case E.d.LEFT:P=e.height/2,L=-e.width/2;break;case E.d.RIGHT:P=-e.height/2,L=e.width/2;break;case E.d.TOP:P=e.height/2,L=e.width/2;break;case E.d.BOTTOM:P=-e.height/2,L=-e.width/2;break;case E.d.TOP_LEFT:P=e.height;break;case E.d.BOTTOM_LEFT:L=-e.width;break;case E.d.TOP_RIGHT:L=e.width;break;case E.d.BOTTOM_RIGHT:P=-e.height}}P+=24*n.offset[0],L+=24*n.offset[1];for(const u of t){const t=u.glyphMosaicItem;if(!t||t.rect.isEmpty)continue;const E=t.rect,R=t.metrics,D=t.page;if(T&&y){if(void 0!==m&&m!==u.y){let t,s,i,o;M?(t=-S+P,s=g+L,i=S-N,o=p-g):(t=g+P,s=N+L,i=p-g,o=S-N);const l={xTile:e.x,yTile:e.y,dxPixels:t*O-c,dyPixels:s*O-c,hard:!n.optional,partIndex:1,width:i*O+2*c,height:o*O+2*c,angle:r,minLod:.5,maxLod:a.c};T.push(l),g=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,N=g,S=p}m=u.y}const B=[];if(f){const n=.5*t.metrics.width,i=(u.x+R.left-4+n)*O*8;if(_=this._placeGlyph(e,_,i,s,e.segment,1,u.vertical,D,B),l&&(_=this._placeGlyph(e,_,i,s,e.segment,-1,u.vertical,D,B)),_>=2)break}else B.push(new I(i,h,h,D,!1)),o&&l&&B.push(new I(i,h+a.d,h+a.d,D,!1));const U=u.x+R.left,G=u.y-17-R.top,b=U+R.width,F=G+R.height;let V,w,H,v,k,Y,z,X;if(!f&&M)if(u.vertical){const e=(U+b)/2-R.height/2,t=(G+F)/2+R.width/2;V=new d.b(-t-4+P,e-4+L),w=new d.b(V.x+E.width,V.y+E.height),H=new d.b(V.x,w.y),v=new d.b(w.x,V.y)}else V=new d.b(4-G+P,U-4+L),w=new d.b(V.x-E.height,V.y+E.width),H=new d.b(w.x,V.y),v=new d.b(V.x,w.y);else V=new d.b(U-4+P,G-4+L),w=new d.b(V.x+E.width,V.y+E.height),H=new d.b(V.x,w.y),v=new d.b(w.x,V.y);for(const s of B){let t,i,a,o;if(s.alternateVerticalGlyph){if(!k){const e=(G+F)/2+L;k=new d.b((U+b)/2+P-R.height/2-4,e+R.width/2+4),Y=new d.b(k.x+E.height,k.y-E.width),z=new d.b(Y.x,k.y),X=new d.b(k.x,Y.y)}t=k,i=z,a=X,o=Y}else t=V,i=H,a=v,o=w;const l=G,_=F,h=s.glyphAngle+r;if(0!==h){const e=Math.cos(h),s=Math.sin(h);t=t.clone(),i=i.clone(),a=a.clone(),o=o.clone(),t.rotate(e,s),o.rotate(e,s),i.rotate(e,s),a.rotate(e,s)}let I=0,m=256;if(f&&M?u.vertical?s.alternateVerticalGlyph?(I=32,m=96):(I=224,m=32):(I=224,m=96):(I=192,m=64),x.push(new A(t,a,i,o,E,s.labelAngle,I,m,s.anchor,s.minzoom,s.maxzoom,s.page)),T&&(!C||this._legible(s.labelAngle)))if(y)U<g&&(g=U),l<N&&(N=l),b>p&&(p=b),_>S&&(S=_);else if(s.minzoom<2){const t={xTile:e.x,yTile:e.y,dxPixels:(U+P)*O-c,dyPixels:(l+P)*O-c,hard:!n.optional,partIndex:1,width:(b-U)*O+2*c,height:(_-l)*O+2*c,angle:h,minLod:s.minzoom,maxLod:s.maxzoom};T.push(t)}}}if(_>=2)return null;if(T&&y){let t,s,i,o;M?(t=-S+P,s=g+L,i=S-N,o=p-g):(t=g+P,s=N+L,i=p-g,o=S-N);const l={xTile:e.x,yTile:e.y,dxPixels:t*O-c,dyPixels:s*O-c,hard:!n.optional,partIndex:1,width:i*O+2*c,height:o*O+2*c,angle:r,minLod:.5,maxLod:a.c};T.push(l)}const D=new R(x);return T&&T.length>0&&(D.textColliders=T),D}_legible(e){const t=Object(a.h)(e);return t<65||t>=193}_placeGlyph(e,t,s,n,i,r,o,l,c){let _=r;const h=_<0?Object(a.g)(e.angle+a.d,a.a):e.angle;let u=0;s<0&&(_*=-1,s*=-1,u=a.d),_>0&&++i;let f=new d.b(e.x,e.y),E=n[i],T=a.c;if(n.length<=i)return T;for(;;){const e=E.x-f.x,r=E.y-f.y,d=Math.sqrt(e*e+r*r),A=Math.max(s/d,t),R=e/d,x=r/d,y=Object(a.g)(Math.atan2(x,R)+u,a.a);if(c.push(new I(f,h,y,l,!1,A,T)),o&&c.push(new I(f,h,y,l,!0,A,T)),A<=t)return A;f=E.clone();do{if(i+=_,n.length<=i||i<0)return A;E=n[i]}while(f.isEqual(E));let g=E.x-f.x,p=E.y-f.y;const N=Math.sqrt(g*g+p*p);g*=d/N,p*=d/N,f.x-=g,f.y-=p,T=A}}}var y,g,p=s(401),N=s(664);(g=y||(y={}))[g.moveTo=1]="moveTo",g[g.lineTo=2]="lineTo",g[g.close=7]="close";class S{constructor(e,t){this.values={};const s=t.keys,n=t.values;for(;e.next();)switch(e.tag()){case 1:this.id=e.getUInt64();break;case 2:{const t=e.getMessage(),i=this.values;for(;!t.empty();){const e=t.getUInt32(),r=t.getUInt32();i[s[e]]=n[r]}t.release();break}case 3:this.type=e.getUInt32();break;case 4:this._pbfGeometry=e.getMessage();break;default:e.skip()}}getGeometry(e){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;const t=this._pbfGeometry;let s,n;this._pbfGeometry=null,e?e.reset(this.type):s=[];let i,r=y.moveTo,a=0,o=0,l=0;for(;!t.empty();){if(0===a){const e=t.getUInt32();r=7&e,a=e>>3}switch(a--,r){case y.moveTo:o+=t.getSInt32(),l+=t.getSInt32(),e?e.moveTo(o,l):(n&&s.push(n),n=[],n.push(new d.b(o,l)));break;case y.lineTo:o+=t.getSInt32(),l+=t.getSInt32(),e?e.lineTo(o,l):n.push(new d.b(o,l));break;case y.close:e?e.close():n&&!n[0].equals(o,l)&&n.push(n[0].clone());break;default:throw t.release(),new Error("Invalid path operation")}}return e?i=e.result():(n&&s.push(n),i=s),t.release(),this._geometry=i,i}}var C=s(798);class O extends C.a{constructor(){super(12)}add(e,t,s){const n=this.array;n.push(e),n.push(t),n.push(s)}}C.a;class M{constructor(e){for(this.extent=4096,this.keys=[],this.values=[],this._pbfLayer=e.clone();e.next();)switch(e.tag()){case 1:this.name=e.getString();break;case 3:this.keys.push(e.getString());break;case 4:this.values.push(e.processMessage(M._parseValue));break;case 5:this.extent=e.getUInt32();break;default:e.skip()}}getData(){return this._pbfLayer}static _parseValue(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getInt64();case 5:return e.getUInt64();case 6:return e.getSInt64();case 7:return e.getBool();default:e.skip()}return null}}class m extends C.a{constructor(e){super(e)}add(e,t,s,n,i,r,a,o,l,c,_,h){const u=this.array;let f=C.a.i1616to32(e,t);u.push(f);const E=31;f=C.a.i8888to32(Math.round(E*s),Math.round(E*n),Math.round(E*i),Math.round(E*r)),u.push(f),f=C.a.i8888to32(Math.round(E*a),Math.round(E*o),Math.round(E*l),Math.round(E*c)),u.push(f),f=C.a.i1616to32(_,0),u.push(f),h&&u.push(...h)}}class P extends C.a{constructor(e){super(e)}add(e,t,s){const n=this.array;n.push(C.a.i1616to32(e,t)),s&&n.push(...s)}}class L extends C.a{constructor(e){super(e)}add(e,t,s,n,i,r,a){const o=this.array,l=this.index;let c=C.a.i1616to32(e,t);o.push(c);return c=C.a.i8888to32(Math.round(15*s),Math.round(15*n),i,r),o.push(c),a&&o.push(...a),l}}class D extends C.a{constructor(e){super(e)}add(e,t,s,n,i,r,o,l,c,_,h,u){const f=this.array;let E=C.a.i1616to32(e,t);f.push(E),E=C.a.i1616to32(Math.round(8*s),Math.round(8*n)),f.push(E),E=C.a.i8888to32(i/4,r/4,l,c),f.push(E),E=C.a.i8888to32(0,Object(a.h)(o),10*_,Math.min(10*h,255)),f.push(E),u&&f.push(...u)}}class B extends C.a{constructor(e){super(e)}add(e,t,s,n,i){const r=this.array,a=C.a.i1616to32(2*e+s,2*t+n);r.push(a),i&&r.push(...i)}}class U{constructor(e,t,s){this.layerExtent=4096,this._features=[],this.layer=e,this.zoom=t,this._spriteInfo=s,this._filter=e.getFeatureFilter()}pushFeature(e){this._filter&&!this._filter.filter(e,this.zoom)||this._features.push(e)}hasFeatures(){return this._features.length>0}getResources(e,t,s){}}class G extends U{constructor(e,t,s,n,r){super(e,t,s),this.type=i.a.CIRCLE,this._circleVertexBuffer=n,this._circleIndexBuffer=r}get circleIndexStart(){return this._circleIndexStart}get circleIndexCount(){return this._circleIndexCount}processFeatures(e){const t=this._circleVertexBuffer,s=this._circleIndexBuffer;this._circleIndexStart=3*s.index,this._circleIndexCount=0;const n=this.layer,i=this.zoom;e&&e.setExtent(this.layerExtent);for(const r of this._features){const a=r.getGeometry(e);if(!a)continue;const o=n.circleMaterial.encodeAttributes(r,i,n);for(const e of a)if(e)for(const n of e){const e=t.index;t.add(n.x,n.y,0,0,o),t.add(n.x,n.y,0,1,o),t.add(n.x,n.y,1,0,o),t.add(n.x,n.y,1,1,o),s.add(e+0,e+1,e+2),s.add(e+1,e+2,e+3),this._circleIndexCount+=6}}}serialize(){let e=6;e+=this.layerUIDs.length,e+=this._circleVertexBuffer.array.length,e+=this._circleIndexBuffer.array.length;const t=new Uint32Array(e),s=new Int32Array(t.buffer);let n=0;t[n++]=this.type,t[n++]=this.layerUIDs.length;for(let i=0;i<this.layerUIDs.length;i++)t[n++]=this.layerUIDs[i];t[n++]=this._circleIndexStart,t[n++]=this._circleIndexCount,t[n++]=this._circleVertexBuffer.array.length;for(let i=0;i<this._circleVertexBuffer.array.length;i++)s[n++]=this._circleVertexBuffer.array[i];t[n++]=this._circleIndexBuffer.array.length;for(let i=0;i<this._circleIndexBuffer.array.length;i++)t[n++]=this._circleIndexBuffer.array[i];return t.buffer}}var b=s(93),F=s(642);class V extends U{constructor(e,t,s,n,r,a,o){super(e,t,s),this.type=i.a.FILL,this._patternMap=new Map,this._fillVertexBuffer=n,this._fillIndexBuffer=r,this._outlineVertexBuffer=a,this._outlineIndexBuffer=o}get fillIndexStart(){return this._fillIndexStart}get fillIndexCount(){return this._fillIndexCount}get outlineIndexStart(){return this._outlineIndexStart}get outlineIndexCount(){return this._outlineIndexCount}getResources(e,t,s){const n=this.layer,i=this.zoom,r=n.getPaintProperty("fill-pattern");if(r)if(r.isDataDriven)for(const a of this._features)t(r.getValue(i,a),!0);else t(r.getValue(i),!0)}processFeatures(e){this._fillIndexStart=3*this._fillIndexBuffer.index,this._fillIndexCount=0,this._outlineIndexStart=3*this._outlineIndexBuffer.index,this._outlineIndexCount=0;const t=this.layer,s=this.zoom,{fillMaterial:n,outlineMaterial:i,hasDataDrivenFill:r,hasDataDrivenOutline:a}=t;e&&e.setExtent(this.layerExtent);const o=t.getPaintProperty("fill-pattern"),l=null==o?void 0:o.isDataDriven;let c=!o&&t.getPaintValue("fill-antialias",s);if(t.outlineUsesFillColor){if(c&&!t.hasDataDrivenOpacity){const e=t.getPaintValue("fill-opacity",s),n=t.getPaintValue("fill-opacity",s+1);e<1&&n<1&&(c=!1)}if(c&&!t.hasDataDrivenColor){const e=t.getPaintValue("fill-color",s),n=t.getPaintValue("fill-color",s+1);e[3]<1&&n[3]<1&&(c=!1)}}const _=this._features,h=null==e?void 0:e.validateTessellation;if(l){const r=[];for(const l of _){const _=o.getValue(s,l),u=this._spriteInfo[_];if(!u||!u.rect)continue;const f=n.encodeAttributes(l,s,t,u),E=c&&a?i.encodeAttributes(l,s,t):[],d=l.getGeometry(e);r.push({ddFillAttributes:f,ddOutlineAttributes:E,page:u.page,geometry:d}),r.sort((e,t)=>e.page-t.page);for(const{ddFillAttributes:e,ddOutlineAttributes:s,page:n,geometry:i}of r)this._processFeature(i,c,t.outlineUsesFillColor,e,s,h,n)}}else for(const u of _){const o=r?n.encodeAttributes(u,s,t):null,l=c&&a?i.encodeAttributes(u,s,t):null,_=u.getGeometry(e);this._processFeature(_,c,t.outlineUsesFillColor,o,l,h)}}serialize(){let e=10;e+=this.layerUIDs.length,e+=this._fillVertexBuffer.array.length,e+=this._fillIndexBuffer.array.length,e+=this._outlineVertexBuffer.array.length,e+=this._outlineIndexBuffer.array.length,e+=3*this._patternMap.size+1;const t=new Uint32Array(e),s=new Int32Array(t.buffer);let n=0;t[n++]=this.type,t[n++]=this.layerUIDs.length;for(let a=0;a<this.layerUIDs.length;a++)t[n++]=this.layerUIDs[a];t[n++]=this._fillIndexStart,t[n++]=this._fillIndexCount,t[n++]=this._outlineIndexStart,t[n++]=this._outlineIndexCount;const i=this._patternMap,r=i.size;if(t[n++]=r,r>0)for(const[a,[o,l]]of i)t[n++]=a,t[n++]=o,t[n++]=l;t[n++]=this._fillVertexBuffer.array.length;for(let a=0;a<this._fillVertexBuffer.array.length;a++)s[n++]=this._fillVertexBuffer.array[a];t[n++]=this._fillIndexBuffer.array.length;for(let a=0;a<this._fillIndexBuffer.array.length;a++)t[n++]=this._fillIndexBuffer.array[a];t[n++]=this._outlineVertexBuffer.array.length;for(let a=0;a<this._outlineVertexBuffer.array.length;a++)s[n++]=this._outlineVertexBuffer.array[a];t[n++]=this._outlineIndexBuffer.array.length;for(let a=0;a<this._outlineIndexBuffer.array.length;a++)t[n++]=this._outlineIndexBuffer.array[a];return t.buffer}_processFeature(e,t,s,n,i,r,a){if(!e)return;const o=e.length,l=!i||0===i.length;if(t&&(!s||l))for(let _=0;_<o;_++)this._processOutline(e[_],i);let c;for(let _=0;_<o;_++){const t=V._area(e[_]);t>32?(void 0!==c&&this._processFill(e,c,n,r,a),c=[_]):t<-32&&void 0!==c&&c.push(_)}void 0!==c&&this._processFill(e,c,n,r,a)}_processOutline(e,t){const s=this._outlineVertexBuffer,n=this._outlineIndexBuffer,i=n.index;let r,a,o;const l=new d.b(0,0),c=new d.b(0,0),_=new d.b(0,0);let h=-1,u=-1,f=-1,E=-1,T=-1,I=!1;let A=e.length;if(A<2)return;const R=e[0];let x=e[A-1];for(;A&&x.isEqual(R);)--A,x=e[A-1];if(!(A-0<2)){for(let i=0;i<A;++i){0===i?(r=e[A-1],a=e[0],o=e[1],l.assignSub(a,r),l.normalize(),l.rightPerpendicular()):(r=a,a=o,o=i!==A-1?e[i+1]:e[0],l.assign(c));const d=this._isClipEdge(r,a);-1===E&&(I=d),c.assignSub(o,a),c.normalize(),c.rightPerpendicular();const R=l.x*c.y-l.y*c.x;_.assignAdd(l,c),_.normalize();const x=-_.x*-l.x+-_.y*-l.y;let y=Math.abs(0!==x?1/x:1);y>8&&(y=8),R>=0?(f=s.add(a.x,a.y,l.x,l.y,0,1,t),-1===E&&(E=f),h>=0&&u>=0&&f>=0&&!d&&n.add(h,u,f),u=s.add(a.x,a.y,y*-_.x,y*-_.y,0,-1,t),-1===T&&(T=u),h>=0&&u>=0&&f>=0&&!d&&n.add(h,u,f),h=u,u=f,f=s.add(a.x,a.y,_.x,_.y,0,1,t),h>=0&&u>=0&&f>=0&&!d&&n.add(h,u,f),u=s.add(a.x,a.y,c.x,c.y,0,1,t),h>=0&&u>=0&&f>=0&&!d&&n.add(h,u,f)):(f=s.add(a.x,a.y,y*_.x,y*_.y,0,1,t),-1===E&&(E=f),h>=0&&u>=0&&f>=0&&!d&&n.add(h,u,f),u=s.add(a.x,a.y,-l.x,-l.y,0,-1,t),-1===T&&(T=u),h>=0&&u>=0&&f>=0&&!d&&n.add(h,u,f),h=u,u=f,f=s.add(a.x,a.y,-_.x,-_.y,0,-1,t),h>=0&&u>=0&&f>=0&&!d&&n.add(h,u,f),h=s.add(a.x,a.y,-c.x,-c.y,0,-1,t),h>=0&&u>=0&&f>=0&&!d&&n.add(h,u,f))}h>=0&&u>=0&&E>=0&&!I&&n.add(h,u,E),h>=0&&E>=0&&T>=0&&!I&&n.add(h,T,E),this._outlineIndexCount+=3*(n.index-i)}}_processFill(e,t,s,n,i){let r;t.length>1&&(r=[]);let a=0;for(const _ of t)0!==a&&r.push(a),a+=e[_].length;const o=2*a,l=b.a.acquire();for(const _ of t){const t=e[_],s=t.length;for(let e=0;e<s;++e)l.push(t[e].x,t[e].y)}const c=Object(F.a)(l,r,2);if(F.a.deviation(l,r,2,c)>0){const n=t.map(t=>e[t].length),{buffer:r,vertexCount:a}=Object(N.b)(l,n);if(a>0){const e=this._fillVertexBuffer.index;for(let t=0;t<a;t++)this._fillVertexBuffer.add(r[2*t],r[2*t+1],s);for(let t=0;t<a;t+=3){const s=e+t;this._fillIndexBuffer.add(s,s+1,s+2)}if(void 0!==i){const e=this._patternMap,t=e.get(i);t?t[1]+=a:e.set(i,[this._fillIndexStart+this._fillIndexCount,a])}this._fillIndexCount+=a}}else{const e=c.length;if(e>0){const t=this._fillVertexBuffer.index;let n=0;for(;n<o;)this._fillVertexBuffer.add(l[n++],l[n++],s);let r=0;for(;r<e;)this._fillIndexBuffer.add(t+c[r++],t+c[r++],t+c[r++]);if(void 0!==i){const t=this._patternMap,s=t.get(i);s?s[1]+=e:t.set(i,[this._fillIndexStart+this._fillIndexCount,e])}this._fillIndexCount+=e}}b.a.release(l)}_isClipEdge(e,t){return e.x===t.x?e.x<=-64||e.x>=4160:e.y===t.y&&(e.y<=-64||e.y>=4160)}static _area(e){let t=0;const s=e.length-1;for(let n=0;n<s;n++)t+=(e[n].x-e[n+1].x)*(e[n].y+e[n+1].y);return t+=(e[s].x-e[0].x)*(e[s].y+e[0].y),.5*t}}var w=s(689);class H extends U{constructor(e,t,s,n,r){super(e,t,s),this.type=i.a.LINE,this._tessellationOptions={pixelCoordRatio:8,halfWidth:0,offset:0},this._patternMap=new Map,this.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_ddValues:null},this.tessellationProperties._lineVertexBuffer=n,this.tessellationProperties._lineIndexBuffer=r,this._lineTessellator=new w.a(v(this.tessellationProperties),k(this.tessellationProperties),e.canUseThinTessellation)}get lineIndexStart(){return this._lineIndexStart}get lineIndexCount(){return this._lineIndexCount}getResources(e,t,s){const n=this.layer,i=this.zoom,r=n.hasDataDrivenLine,a=n.getPaintProperty("line-pattern"),o=n.getPaintProperty("line-dasharray"),l=n.getLayoutProperty("line-cap");if(!a&&!o)return;const c=(null==l?void 0:l.getValue(i))||0,_=null==l?void 0:l.isDataDriven;if(r){const e=null==a?void 0:a.isDataDriven,s=null==o?void 0:o.isDataDriven;if(!e&&!s)return;for(const r of this._features)t(e?a.getValue(i,r):this._getDashArrayKey(r,i,n,o,_,l,c))}else if(a)t(a.getValue(i));else if(o){const e=o.getValue(i);t(n.getDashKey(e,c))}}processFeatures(e){var t,s,n,i,r,a;this._lineIndexStart=3*this.tessellationProperties._lineIndexBuffer.index,this._lineIndexCount=0;const o=this.layer,l=this.zoom,c=this._features,_=this._tessellationOptions,{hasDataDrivenLine:h,lineMaterial:u}=o;e&&e.setExtent(this.layerExtent);const f=o.getPaintProperty("line-pattern"),E=o.getPaintProperty("line-dasharray"),d=null==f?void 0:f.isDataDriven,T=null==E?void 0:E.isDataDriven;let I;I=o.getLayoutProperty("line-cap");const A=null!=(t=I)&&t.isDataDriven?I:null,R=A?null:o.getLayoutValue("line-cap",l),x=R||0,y=!!A;I=o.getLayoutProperty("line-join");const g=null!=(s=I)&&s.isDataDriven?I:null,p=g?null:o.getLayoutValue("line-join",l);I=o.getLayoutProperty("line-miter-limit");const N=null!=(n=I)&&n.isDataDriven?I:null,S=N?null:o.getLayoutValue("line-miter-limit",l);I=o.getLayoutProperty("line-round-limit");const C=null!=(i=I)&&i.isDataDriven?I:null,O=C?null:o.getLayoutValue("line-round-limit",l);I=o.getPaintProperty("line-width");const M=null!=(r=I)&&r.isDataDriven?I:null,m=M?null:o.getPaintValue("line-width",l);I=o.getPaintProperty("line-offset");const P=null!=(a=I)&&a.isDataDriven?I:null,L=P?null:o.getPaintValue("line-offset",l);if(d||T){const t=[];for(const s of c){const n=d?f.getValue(l,s):this._getDashArrayKey(s,l,o,E,y,A,x),i=this._spriteInfo[n];if(!i||!i.rect)continue;const r=u.encodeAttributes(s,l,o,i),a=s.getGeometry(e);t.push({ddAttributes:r,page:i.page,cap:A?A.getValue(l,s):R,join:g?g.getValue(l,s):p,miterLimit:N?N.getValue(l,s):S,roundLimit:C?C.getValue(l,s):O,halfWidth:.5*(M?M.getValue(l,s):m),offset:P?P.getValue(l,s):L,geometry:a})}t.sort((e,t)=>e.page-t.page),_.textured=!0;for(const{ddAttributes:e,page:s,cap:n,join:i,miterLimit:r,roundLimit:a,halfWidth:o,offset:l,geometry:c}of t)_.capType=n,_.joinType=i,_.miterLimit=r,_.roundLimit=a,_.halfWidth=o,_.offset=l,this._processFeature(c,e,s)}else{_.textured=!(!f&&!E),_.capType=R,_.joinType=p,_.miterLimit=S,_.roundLimit=O,_.halfWidth=.5*m,_.offset=L;for(const t of c){const s=h?u.encodeAttributes(t,l,o):null;A&&(_.capType=A.getValue(l,t)),g&&(_.joinType=g.getValue(l,t)),N&&(_.miterLimit=N.getValue(l,t)),C&&(_.roundLimit=C.getValue(l,t)),M&&(_.halfWidth=.5*M.getValue(l,t)),P&&(_.offset=P.getValue(l,t));const n=t.getGeometry(e);this._processFeature(n,s)}}}serialize(){let e=6;e+=this.layerUIDs.length,e+=this.tessellationProperties._lineVertexBuffer.array.length,e+=this.tessellationProperties._lineIndexBuffer.array.length,e+=3*this._patternMap.size+1;const t=new Uint32Array(e),s=new Int32Array(t.buffer);let n=0;t[n++]=this.type,t[n++]=this.layerUIDs.length;for(let a=0;a<this.layerUIDs.length;a++)t[n++]=this.layerUIDs[a];t[n++]=this._lineIndexStart,t[n++]=this._lineIndexCount;const i=this._patternMap,r=i.size;if(t[n++]=r,r>0)for(const[a,[o,l]]of i)t[n++]=a,t[n++]=o,t[n++]=l;t[n++]=this.tessellationProperties._lineVertexBuffer.array.length;for(let a=0;a<this.tessellationProperties._lineVertexBuffer.array.length;a++)s[n++]=this.tessellationProperties._lineVertexBuffer.array[a];t[n++]=this.tessellationProperties._lineIndexBuffer.array.length;for(let a=0;a<this.tessellationProperties._lineIndexBuffer.array.length;a++)t[n++]=this.tessellationProperties._lineIndexBuffer.array[a];return t.buffer}_processFeature(e,t,s){if(!e)return;const n=e.length;for(let i=0;i<n;i++)this._processGeometry(e[i],t,s)}_processGeometry(e,t,s){if(e.length<2)return;let n,i,r=e[0],a=1;for(;a<e.length;)n=e[a].x-r.x,i=e[a].y-r.y,n*n+i*i<1e-6?e.splice(a,1):(r=e[a],++a);if(e.length<2)return;const o=this.tessellationProperties._lineIndexBuffer,l=3*o.index;this._tessellationOptions.initialDistance=0,this._tessellationOptions.wrapDistance=65535,this.tessellationProperties._ddValues=t,this._lineTessellator.tessellate(e,this._tessellationOptions);const c=3*o.index-l;if(void 0!==s){const e=this._patternMap,t=e.get(s);t?t[1]+=c:e.set(s,[l+this._lineIndexCount,c])}this._lineIndexCount+=c}_getDashArrayKey(e,t,s,n,i,r,a){const o=i?r.getValue(t,e):a,l=n.getValue(t,e);return s.getDashKey(l,o)}}const v=e=>(t,s,n,i,r,a,o,l,c,_,h)=>(e._lineVertexBuffer.add(t,s,o,l,n,i,r,a,c,_,h,e._ddValues),e._lineVertexBuffer.index-1),k=e=>(t,s,n)=>{e._lineIndexBuffer.add(t,s,n)};var Y=s(449),z=s(41),X=s(858);function W(e,t){return e.iconMosaicItem&&t.iconMosaicItem?e.iconMosaicItem.page===t.iconMosaicItem.page?0:e.iconMosaicItem.page-t.iconMosaicItem.page:e.iconMosaicItem&&!t.iconMosaicItem?1:!e.iconMosaicItem&&t.iconMosaicItem?-1:0}class j extends U{constructor(e,t,s,n,r,a,o,l){super(e,t,l.getSpriteItems()),this.type=i.a.SYMBOL,this._markerMap=new Map,this._glyphMap=new Map,this._glyphBufferDataStorage=new Map,this._isIconSDF=!1,this._iconVertexBuffer=s,this._iconIndexBuffer=n,this._textVertexBuffer=r,this._textIndexBuffer=a,this._placementEngine=o,this._workerTileHandler=l}get markerPageMap(){return this._markerMap}get glyphsPageMap(){return this._glyphMap}get symbolInstances(){return this._symbolInstances}getResources(e,t,s){const n=this.layer,i=this.zoom;e&&e.setExtent(this.layerExtent);const r=n.getLayoutProperty("icon-image"),a=n.getLayoutProperty("text-field");let o=n.getLayoutProperty("text-transform"),l=n.getLayoutProperty("text-font");const c=[];let _,h,u,f;r&&!r.isDataDriven&&(_=r.getValue(i)),a&&!a.isDataDriven&&(h=a.getValue(i)),o&&o.isDataDriven||(u=n.getLayoutValue("text-transform",i),o=null),l&&l.isDataDriven||(f=n.getLayoutValue("text-font",i),l=null);for(const d of this._features){const T=d.getGeometry(e);if(!T||0===T.length)continue;let I,A;r&&(I=r.isDataDriven?r.getValue(i,d):this._replaceKeys(_,d.values),I&&t(I));let R=!1;if(a&&(A=a.isDataDriven?a.getValue(i,d):this._replaceKeys(h,d.values),A)){switch(A=A.replace(/\\n/g,"\n"),o&&(u=o.getValue(i,d)),u){case E.g.LOWERCASE:A=A.toLowerCase();break;case E.g.UPPERCASE:A=A.toUpperCase()}if(j._bidiEngine.hasBidiChar(A)){let e;e="rtl"===j._bidiEngine.checkContextual(A)?"IDNNN":"ICNNN",A=j._bidiEngine.bidiTransform(A,e,"VLYSN"),R=!0}const e=A.length;if(e>0){l&&(f=l.getValue(i,d));for(const t of f){let n=s[t];n||(n=s[t]=new Set);for(let t=0;t<e;t++){const e=A.charCodeAt(t);n.add(e)}}}}if(!I&&!A)continue;const x=n.getLayoutValue("symbol-sort-key",i,d),y={feature:d,sprite:I,label:A,rtl:R,geometry:T,hash:(A?Object(z.b)(A):0)^(I?Object(z.b)(I):0),priority:x,textFont:f};c.push(y)}this._symbolFeatures=c}processFeatures(e){e&&e.setExtent(this.layerExtent);const t=this.layer,s=this.zoom,n=t.getLayoutValue("symbol-placement",s),i=n!==E.e.POINT,r=8*t.getLayoutValue("symbol-spacing",s),o=t.getLayoutProperty("icon-image"),l=t.getLayoutProperty("text-field"),c=o?new X.d(t,s,i):null,_=l?new X.g(t,s,i):null,h=this._workerTileHandler;let f;o&&(f=h.getSpriteItems()),this._iconIndexStart=3*this._iconIndexBuffer.index,this._textIndexStart=3*this._textIndexBuffer.index,this._iconIndexCount=0,this._textIndexCount=0,this._markerMap.clear(),this._glyphMap.clear();const I=[];let A=1;_&&_.size&&(A=_.size/24);const R=_?_.maxAngle*a.b:0,x=_?8*_.size:0;for(const a of this._symbolFeatures){let e,t;c&&f&&a.sprite&&(e=f[a.sprite],e&&e.sdf&&(this._isIconSDF=!0)),e&&c.update(s,a.feature);let o=0;const l=a.label;if(l){_.update(s,a.feature);const e=i?_.keepUpright:_.writingMode&&_.writingMode.indexOf(E.h.VERTICAL)>=0;let n=.5;switch(_.anchor){case E.d.TOP_LEFT:case E.d.LEFT:case E.d.BOTTOM_LEFT:n=0;break;case E.d.TOP_RIGHT:case E.d.RIGHT:case E.d.BOTTOM_RIGHT:n=1}let r=.5;switch(_.anchor){case E.d.TOP_LEFT:case E.d.TOP:case E.d.TOP_RIGHT:r=0;break;case E.d.BOTTOM_LEFT:case E.d.BOTTOM:case E.d.BOTTOM_RIGHT:r=1}let c=.5;switch(_.justify){case E.f.AUTO:c=n;break;case E.f.LEFT:c=0;break;case E.f.RIGHT:c=1}const f=24*_.letterSpacing,d=i?0:24*_.maxWidth,T=24*_.lineHeight,I=a.textFont.map(e=>h.getGlyphItems(e));if(t=new u(I,d,T,f,n,r,c).getShaping(l,a.rtl,e),t&&t.length>0){let e=1e30,s=-1e30;for(const n of t)e=Math.min(e,n.x),s=Math.max(s,n.x);o=(s-e+48)*A*8}}for(let s of a.geometry){const l=[];if(n===E.e.LINE){if(t&&t.length>0&&_&&_.size){const e=8*_.size*(2+Math.min(2,4*Math.abs(_.offset[1])));s=j._smoothVertices(s,e)}j._pushAnchors(l,s,r,o)}else n===E.e.LINE_CENTER?j._pushCenterAnchor(l,s):a.feature.type===d.a.Polygon?j._pushCentroid(l,s):l.push(new T(s[0].x,s[0].y));for(const n of l){if(n.x<0||n.x>4096||n.y<0||n.y>4096)continue;if(i&&o>0&&_.rotationAlignment===E.a.MAP&&!j._honorsTextMaxAngle(s,n,o,R,x))continue;const r={shaping:t,line:s,iconMosaicItem:e,anchor:n,symbolFeature:a,textColliders:[],iconColliders:[],textVertexRanges:[],iconVertexRanges:[]};I.push(r),this._processFeature(r,c,_)}}}I.sort(W),this._addPlacedGlyphs(),this._symbolInstances=I}serialize(){let e=11;e+=this.layerUIDs.length,e+=3*this.markerPageMap.size,e+=3*this.glyphsPageMap.size,e+=j._symbolsSerializationLength(this._symbolInstances),e+=this._iconVertexBuffer.array.length,e+=this._iconIndexBuffer.array.length,e+=this._textVertexBuffer.array.length,e+=this._textIndexBuffer.array.length;const t=new Uint32Array(e),s=new Int32Array(t.buffer),n=new Float32Array(t.buffer);let i=0;t[i++]=this.type,t[i++]=this.layerUIDs.length;for(let r=0;r<this.layerUIDs.length;r++)t[i++]=this.layerUIDs[r];t[i++]=this._isIconSDF?1:0,t[i++]=this.markerPageMap.size;for(const[r,[a,o]]of this.markerPageMap)t[i++]=r,t[i++]=a,t[i++]=o;t[i++]=this.glyphsPageMap.size;for(const[r,[a,o]]of this.glyphsPageMap)t[i++]=r,t[i++]=a,t[i++]=o;t[i++]=this._iconVertexBuffer.index/4,t[i++]=this._textVertexBuffer.index/4,i=j.serializeSymbols(t,s,n,i,this._symbolInstances),t[i++]=this._iconVertexBuffer.array.length;for(let r=0;r<this._iconVertexBuffer.array.length;r++)s[i++]=this._iconVertexBuffer.array[r];t[i++]=this._iconIndexBuffer.array.length;for(let r=0;r<this._iconIndexBuffer.array.length;r++)t[i++]=this._iconIndexBuffer.array[r];t[i++]=this._textVertexBuffer.array.length;for(let r=0;r<this._textVertexBuffer.array.length;r++)s[i++]=this._textVertexBuffer.array[r];t[i++]=this._textIndexBuffer.array.length;for(let r=0;r<this._textIndexBuffer.array.length;r++)t[i++]=this._textIndexBuffer.array[r];return t.buffer}static _symbolsSerializationLength(e){let t=0;t+=1;for(const s of e||[]){t+=4,t+=1;for(const e of s.textColliders)t+=10;for(const e of s.iconColliders)t+=10;t+=1,t+=2*s.textVertexRanges.length,t+=1,t+=2*s.iconVertexRanges.length}return t}static serializeSymbols(e,t,s,n,i){i=i||[],t[n++]=i.length;for(const r of i){t[n++]=r.anchor.x,t[n++]=r.anchor.y,t[n++]=r.symbolFeature.hash,t[n++]=r.symbolFeature.priority,t[n++]=r.textColliders.length+r.iconColliders.length;for(const e of r.textColliders)t[n++]=e.xTile,t[n++]=e.yTile,t[n++]=e.dxPixels,t[n++]=e.dyPixels,t[n++]=e.hard?1:0,t[n++]=e.partIndex,s[n++]=e.minLod,s[n++]=e.maxLod,t[n++]=e.width,t[n++]=e.height;for(const e of r.iconColliders)t[n++]=e.xTile,t[n++]=e.yTile,t[n++]=e.dxPixels,t[n++]=e.dyPixels,t[n++]=e.hard?1:0,t[n++]=e.partIndex,s[n++]=e.minLod,s[n++]=e.maxLod,t[n++]=e.width,t[n++]=e.height;t[n++]=r.textVertexRanges.length;for(const[e,s]of r.textVertexRanges)t[n++]=e,t[n++]=s;t[n++]=r.iconVertexRanges.length;for(const[e,s]of r.iconVertexRanges)t[n++]=e,t[n++]=s}return n}_replaceKeys(e,t){return e.replace(/{([^{}]+)}/g,(function(e,s){return s in t?t[s]:""}))}_processFeature(e,t,s){const{line:n,iconMosaicItem:i,shaping:r,anchor:o}=e,l=this.zoom,c=this.layer,_=!!i;let h=!0;_&&(h=t.optional||!i);const u=r&&r.length>0;let f,d,T=!0;if(u&&(T=s.optional),_&&(f=this._placementEngine.getIconPlacement(o,i,t)),(f||h)&&(u&&(d=this._placementEngine.getTextPlacement(o,r,n,s)),d||T)){if(f&&d||(T||h?T||d?h||f||(d=null):f=null:(f=null,d=null)),d){const t=c.hasDataDrivenText?c.textMaterial.encodeAttributes(e.symbolFeature.feature,l,c):null;if(this._storePlacedGlyphs(e,d.shapes,l,s.rotationAlignment,t),d.textColliders){e.textColliders=d.textColliders;for(const e of d.textColliders){e.minLod=Math.max(l+Object(a.f)(e.minLod),0),e.maxLod=Math.min(l+Object(a.f)(e.maxLod),25);const t=e.angle;if(t){const s=Math.cos(t),n=Math.sin(t),i=e.dxPixels*s-e.dyPixels*n,r=e.dxPixels*n+e.dyPixels*s,a=(e.dxPixels+e.width)*s-e.dyPixels*n,o=(e.dxPixels+e.width)*n+e.dyPixels*s,l=e.dxPixels*s-(e.dyPixels+e.height)*n,c=e.dxPixels*n+(e.dyPixels+e.height)*s,_=(e.dxPixels+e.width)*s-(e.dyPixels+e.height)*n,h=(e.dxPixels+e.width)*n+(e.dyPixels+e.height)*s,u=Math.min(i,a,l,_),f=Math.max(i,a,l,_),E=Math.min(r,o,c,h),d=Math.max(r,o,c,h);e.dxPixels=u,e.dyPixels=E,e.width=f-u,e.height=d-E}}}}if(f){const s=c.hasDataDrivenIcon?c.iconMaterial.encodeAttributes(e.symbolFeature.feature,l,c):null;if(this._addPlacedIcons(e,f.shapes,l,i.page,t.rotationAlignment===E.a.VIEWPORT,s),f.iconColliders){e.iconColliders=f.iconColliders;for(const e of f.iconColliders){e.minLod=Math.max(l+Object(a.f)(e.minLod),0),e.maxLod=Math.min(l+Object(a.f)(e.maxLod),25);const t=e.angle;if(t){const s=Math.cos(t),n=Math.sin(t),i=e.dxPixels*s-e.dyPixels*n,r=e.dxPixels*n+e.dyPixels*s,a=(e.dxPixels+e.width)*s-e.dyPixels*n,o=(e.dxPixels+e.width)*n+e.dyPixels*s,l=e.dxPixels*s-(e.dyPixels+e.height)*n,c=e.dxPixels*n+(e.dyPixels+e.height)*s,_=(e.dxPixels+e.width)*s-(e.dyPixels+e.height)*n,h=(e.dxPixels+e.width)*n+(e.dyPixels+e.height)*s,u=Math.min(i,a,l,_),f=Math.max(i,a,l,_),E=Math.min(r,o,c,h),d=Math.max(r,o,c,h);e.dxPixels=u,e.dyPixels=E,e.width=f-u,e.height=d-E}}}}}}_addPlacedIcons(e,t,s,n,i,r){const o=Math.max(s-1,0),l=this._iconVertexBuffer,c=this._iconIndexBuffer,_=this._markerMap;for(const h of t){const t=i?0:Math.max(s+Object(a.f)(h.minzoom),o),u=i?25:Math.min(s+Object(a.f)(h.maxzoom),25);if(u<=t)continue;const f=h.tl,E=h.tr,d=h.bl,T=h.br,I=h.mosaicRect,A=h.labelAngle,R=h.minAngle,x=h.maxAngle,y=h.anchor,g=l.index,p=I.x,N=I.y,S=p+I.width,C=N+I.height,O=l.index;l.add(y.x,y.y,f.x,f.y,p,N,A,R,x,t,u,r),l.add(y.x,y.y,E.x,E.y,S,N,A,R,x,t,u,r),l.add(y.x,y.y,d.x,d.y,p,C,A,R,x,t,u,r),l.add(y.x,y.y,T.x,T.y,S,C,A,R,x,t,u,r),e.iconVertexRanges.length>0&&e.iconVertexRanges[0][0]+e.iconVertexRanges[0][1]===O?e.iconVertexRanges[0][1]+=4:e.iconVertexRanges.push([O,4]),c.add(g+0,g+1,g+2),c.add(g+1,g+2,g+3),_.has(n)?_.get(n)[1]+=6:_.set(n,[this._iconIndexStart+this._iconIndexCount,6]),this._iconIndexCount+=6}}_addPlacedGlyphs(){const e=this._textVertexBuffer,t=this._textIndexBuffer,s=this._glyphMap;for(const[n,i]of this._glyphBufferDataStorage)for(const r of i){const i=e.index,a=r.symbolInstance,o=r.ddAttributes,l=e.index;e.add(r.glyphAnchor[0],r.glyphAnchor[1],r.tl[0],r.tl[1],r.xmin,r.ymin,r.labelAngle,r.minAngle,r.maxAngle,r.minLod,r.maxLod,o),e.add(r.glyphAnchor[0],r.glyphAnchor[1],r.tr[0],r.tr[1],r.xmax,r.ymin,r.labelAngle,r.minAngle,r.maxAngle,r.minLod,r.maxLod,o),e.add(r.glyphAnchor[0],r.glyphAnchor[1],r.bl[0],r.bl[1],r.xmin,r.ymax,r.labelAngle,r.minAngle,r.maxAngle,r.minLod,r.maxLod,o),e.add(r.glyphAnchor[0],r.glyphAnchor[1],r.br[0],r.br[1],r.xmax,r.ymax,r.labelAngle,r.minAngle,r.maxAngle,r.minLod,r.maxLod,o),a.textVertexRanges.length>0&&a.textVertexRanges[0][0]+a.textVertexRanges[0][1]===l?a.textVertexRanges[0][1]+=4:a.textVertexRanges.push([l,4]),t.add(i+0,i+1,i+2),t.add(i+1,i+2,i+3),s.has(n)?s.get(n)[1]+=6:s.set(n,[this._textIndexStart+this._textIndexCount,6]),this._textIndexCount+=6}this._glyphBufferDataStorage.clear()}_storePlacedGlyphs(e,t,s,n,i){const r=Math.max(s-1,0),o=n===E.a.VIEWPORT;let l,c,_,h,u,f,d,T,I,A,R;for(const E of t)l=o?0:Math.max(s+Object(a.f)(E.minzoom),r),c=o?25:Math.min(s+Object(a.f)(E.maxzoom),25),c<=l||(_=E.tl,h=E.tr,u=E.bl,f=E.br,d=E.labelAngle,T=E.minAngle,I=E.maxAngle,A=E.anchor,R=E.mosaicRect,this._glyphBufferDataStorage.has(E.page)||this._glyphBufferDataStorage.set(E.page,[]),this._glyphBufferDataStorage.get(E.page).push({glyphAnchor:[A.x,A.y],tl:[_.x,_.y],tr:[h.x,h.y],bl:[u.x,u.y],br:[f.x,f.y],xmin:R.x,ymin:R.y,xmax:R.x+R.width,ymax:R.y+R.height,labelAngle:d,minAngle:T,maxAngle:I,minLod:l,maxLod:c,placementLod:r,symbolInstance:e,ddAttributes:i}))}static _pushAnchors(e,t,s,n){s+=n;let i=0;const r=t.length-1;for(let a=0;a<r;a++)i+=d.b.distance(t[a],t[a+1]);let o=n||s;if(o*=.5,i<=o)return;const l=o/i;let c=0,_=-(s=i/Math.max(Math.round(i/s),1))/2;const h=t.length-1;for(let u=0;u<h;u++){const n=t[u],i=t[u+1],r=i.x-n.x,o=i.y-n.y,h=Math.sqrt(r*r+o*o);let f;for(;_+s<c+h;){_+=s;const t=(_-c)/h,E=Object(a.e)(n.x,i.x,t),d=Object(a.e)(n.y,i.y,t);void 0===f&&(f=Math.atan2(o,r)),e.push(new T(E,d,f,u,l))}c+=h}}static _pushCenterAnchor(e,t){let s=0;const n=t.length-1;for(let a=0;a<n;a++)s+=d.b.distance(t[a],t[a+1]);const i=s/2;let r=0;const o=t.length-1;for(let l=0;l<o;l++){const s=t[l],n=t[l+1],o=n.x-s.x,c=n.y-s.y,_=Math.sqrt(o*o+c*c);if(i<r+_){const t=(i-r)/_,h=Object(a.e)(s.x,n.x,t),u=Object(a.e)(s.y,n.y,t),f=Math.atan2(c,o);return void e.push(new T(h,u,f,l,0))}r+=_}}static _deviation(e,t,s){const n=(t.x-e.x)*(s.x-t.x)+(t.y-e.y)*(s.y-t.y),i=(t.x-e.x)*(s.y-t.y)-(t.y-e.y)*(s.x-t.x);return Math.atan2(i,n)}static _honorsTextMaxAngle(e,t,s,n,i){let r=0;const a=s/2;let o=new d.b(t.x,t.y),l=t.segment+1;for(;r>-a;){if(--l,l<0)return!1;r-=d.b.distance(e[l],o),o=e[l]}r+=d.b.distance(e[l],e[l+1]);const c=[];let _=0;const h=e.length;for(;r<a;){const t=e[l];let s,a=l;do{if(++a,a===h)return!1;s=e[a]}while(s.isEqual(t));let o,u=a;do{if(++u,u===h)return!1;o=e[u]}while(o.isEqual(s));const f=this._deviation(t,s,o);for(c.push({deviation:f,distToAnchor:r}),_+=f;r-c[0].distToAnchor>i;)_-=c.shift().deviation;if(Math.abs(_)>n)return!1;r+=d.b.distance(s,o),l=a}return!0}static _smoothVertices(e,t){if(t<=0)return e;let s=e.length;if(s<3)return e;const n=[];let i=0,r=0;n.push(0);for(let E=1;E<s;E++){const t=d.b.distance(e[E],e[E-1]);t>0&&(i+=t,n.push(i),r++,r!==E&&(e[r]=e[E]))}if(s=r+1,s<3)return e;t=Math.min(t,.2*i);const a=e[0].x,o=e[0].y,l=e[s-1].x,c=e[s-1].y,_=d.b.sub(e[0],e[1]);_.normalize(),e[0].x+=t*_.x,e[0].y+=t*_.y,_.assignSub(e[s-1],e[s-2]),_.normalize(),e[s-1].x+=t*_.x,e[s-1].y+=t*_.y,n[0]-=t,n[s-1]+=t;const h=[];h.push(new d.b(a,o));const u=1e-6,f=.5*t;for(let E=1;E<s-1;E++){let i=0,r=0,a=0;for(let s=E-1;s>=0;s--){const o=f+n[s+1]-n[E];if(o<0)break;const l=n[s+1]-n[s],c=n[E]-n[s]<f?1:o/l;if(c<u)break;const _=c*c,h=c*o-.5*_*l,d=c*l/t,T=e[s+1],I=e[s].x-T.x,A=e[s].y-T.y;i+=d/h*(T.x*c*o+.5*_*(o*I-l*T.x)-_*c*l*I/3),r+=d/h*(T.y*c*o+.5*_*(o*A-l*T.y)-_*c*l*A/3),a+=d}for(let o=E+1;o<s;o++){const s=f-n[o-1]+n[E];if(s<0)break;const l=n[o]-n[o-1],c=n[o]-n[E]<f?1:s/l;if(c<u)break;const _=c*c,h=c*s-.5*_*l,d=c*l/t,T=e[o-1],I=e[o].x-T.x,A=e[o].y-T.y;i+=d/h*(T.x*c*s+.5*_*(s*I-l*T.x)-_*c*l*I/3),r+=d/h*(T.y*c*s+.5*_*(s*A-l*T.y)-_*c*l*A/3),a+=d}h.push(new d.b(i/a,r/a))}return h.push(new d.b(l,c)),e[0].x=a,e[0].y=o,e[s-1].x=l,e[s-1].y=c,h}static _pushCentroid(e,t){const s=4096,n=4096,i=t.length-1;let r=0,a=0,o=0,l=t[0].x,c=t[0].y;l>s&&(l=s),l<0&&(l=0),c>n&&(c=n),c<0&&(c=0);for(let _=1;_<i;_++){let e=t[_].x,i=t[_].y,h=t[_+1].x,u=t[_+1].y;e>s&&(e=s),e<0&&(e=0),i>n&&(i=n),i<0&&(i=0),h>s&&(h=s),h<0&&(h=0),u>n&&(u=n),u<0&&(u=0);const f=(e-l)*(u-c)-(h-l)*(i-c);r+=f*(l+e+h),a+=f*(c+i+u),o+=f}r/=3*o,a/=3*o,isNaN(r)||isNaN(a)||e.push(new T(r,a))}}j._bidiEngine=new Y.a;var K,q,Z=s(690);(q=K||(K={}))[q.INITIALIZED=0]="INITIALIZED",q[q.NO_DATA=1]="NO_DATA",q[q.READY=2]="READY",q[q.MODIFIED=3]="MODIFIED",q[q.INVALID=4]="INVALID";class Q{constructor(e,t,s,n,i){if(this._pbfTiles={},this._tileClippers={},this._client=s,this._tile=t,i){this._styleLayerUIDs=new Set;for(const e of i)this._styleLayerUIDs.add(e)}this._styleRepository=n,this._layers=this._styleRepository.layers;const[r,a,o]=t.tileKey.split("/").map(parseFloat);this._level=r;const l=8+Math.max(5*(this._level-14),0);for(const c of Object.keys(e)){const t=e[c];if(this._pbfTiles[c]=new p.a(new Uint8Array(t.protobuff),new DataView(t.protobuff)),t.refKey){const[e]=t.refKey.split("/").map(parseFloat),s=r-e;if(s>0){const e=(1<<s)-1,t=a&e,n=o&e;this._tileClippers[c]=new Z.b(s,t,n,8,l)}}this._tileClippers[c]||(this._tileClippers[c]=new Z.a)}}_canParseStyleLayer(e){return!this._styleLayerUIDs||this._styleLayerUIDs.has(e)}async parse(e){const t=Object(N.a)(),s=this._initialize(e),{returnedBuckets:n}=s;this._processLayers(s),this._linkReferences(s),this._filterFeatures(s);const i=[],r=new Set,a=(e,t)=>{r.has(e)||(i.push({name:e,repeat:t}),r.add(e))},o={};for(const c of n)c.getResources(c.tileClipper,a,o);if(this._tile.status===K.INVALID)return Promise.resolve([]);const l=this._fetchResources(i,o,e);return Promise.all([...l,t]).then(()=>this._processFeatures(s.returnedBuckets))}_initialize(e){return{signal:e&&e.signal,sourceNameToTileData:this._parseTileData(this._pbfTiles),layers:this._layers,zoom:this._level,sourceNameToTileClipper:this._tileClippers,sourceNameToUniqueSourceLayerBuckets:{},sourceNameToUniqueSourceLayers:{},returnedBuckets:[],layerIdToBucket:{},referencerUIDToReferencedId:new Map}}_processLayers(e){const{sourceNameToTileData:t,layers:s,zoom:n,sourceNameToTileClipper:i,sourceNameToUniqueSourceLayerBuckets:r,sourceNameToUniqueSourceLayers:a,returnedBuckets:o,layerIdToBucket:l,referencerUIDToReferencedId:c}=e;for(let _=s.length-1;_>=0;_--){const e=s[_];if(!this._canParseStyleLayer(e.uid)||e.minzoom&&n<Math.floor(e.minzoom)||e.maxzoom&&n>=e.maxzoom||e.type===E.c.BACKGROUND)continue;if(!t[e.source]||!i[e.source])continue;const h=t[e.source],u=i[e.source],f=e.sourceLayer,d=h[f];if(d){let t=a[e.source];if(t||(t=a[e.source]=new Set),t.add(e.sourceLayer),e.refLayerId)c.set(e.uid,e.refLayerId);else{const t=this._createBucket(e);if(t){t.layerUIDs=[e.uid],t.layerExtent=d.extent,t.tileClipper=u;let s=r[e.source];s||(s=r[e.source]={});let n=s[f];n||(n=s[f]=[]),n.push(t),o.push(t),l[e.id]=t}}}}}_linkReferences(e){const{layerIdToBucket:t,referencerUIDToReferencedId:s}=e;s.forEach((e,s)=>{t[e=e]&&t[e].layerUIDs.push(s)})}_filterFeatures(e){const{signal:t,sourceNameToTileData:s,sourceNameToUniqueSourceLayerBuckets:i,sourceNameToUniqueSourceLayers:r}=e,a=10*this._level,o=10*(this._level+1),l=[],c=[];for(const n of Object.keys(r))r[n].forEach(e=>{l.push(e),c.push(n)});for(let _=0;_<l.length;_++){const e=c[_],r=l[_];if(!s[e]||!i[e])continue;const h=s[e][r],u=i[e][r];if(!u||0===u.length)continue;if(Object(n.m)(t))return;const f=h.getData();for(;f.nextTag(2);){const e=f.getMessage(),t=new S(e,h);e.release();const s=t.values;if(s){const e=s._minzoom;if(e&&e>=o)continue;const t=s._maxzoom;if(t&&t<=a)continue}for(const n of u)n.pushFeature(t)}}}_fetchResources(e,t,s){const n=[],i=this._tile.getWorkerTileHandler();let r,a;e.length>0&&(r=i.fetchSprites(e,this._client,s),n.push(r));for(const o in t){const e=t[o];e.size>0&&(a=i.fetchGlyphs(this._tile.tileKey,o,e,this._client,s),n.push(a))}return n}_processFeatures(e){const t=e.filter(e=>e.hasFeatures()||this._canParseStyleLayer(e.layer.uid));for(const s of t)s.processFeatures(s.tileClipper);return t}_parseTileData(e){const t={};for(const s of Object.keys(e)){const n=e[s],i={};for(;n.next();)switch(n.tag()){case 3:{const e=n.getMessage(),t=new M(e);e.release(),i[t.name]=t;break}default:n.skip()}t[s]=i}return t}_createBucket(e){switch(e.type){case E.c.BACKGROUND:return null;case E.c.FILL:return this._createFillBucket(e);case E.c.LINE:return this._createLineBucket(e);case E.c.CIRCLE:return this._createCircleBucket(e);case E.c.SYMBOL:return this._createSymbolBucket(e)}}_createFillBucket(e){return new V(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new P(e.fillMaterial.getStride()),new O,new L(e.outlineMaterial.getStride()),new O)}_createLineBucket(e){return new H(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new m(e.lineMaterial.getStride()),new O)}_createCircleBucket(e){return new G(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new B(e.circleMaterial.getStride()),new O)}_createSymbolBucket(e){const t=this._tile;return new j(e,this._level,new D(e.iconMaterial.getStride()),new O,new D(e.textMaterial.getStride()),new O,t.placementEngine,t.getWorkerTileHandler())}}class J{constructor(e,t,s,n){this.status=K.INITIALIZED,this.placementEngine=new x,this.tileKey=e,this.refKeys=t,this._workerTileHandler=s,this._styleRepository=n}release(){this.tileKey="",this.refKeys=null,this.status=K.INITIALIZED,this._workerTileHandler=null}async parse(e,t){const s=t&&t.signal;if(Object(r.j)(s)){const e=()=>{s.removeEventListener("abort",e),this.status=K.INVALID};s.addEventListener("abort",e)}let i;const a={bucketsWithData:[],emptyBuckets:null};try{i=await this._parse(e,t)}catch(h){if(Object(n.l)(h))throw h;return{result:a,transferList:[]}}this.status=K.READY;const o=a.bucketsWithData,l=[];for(const n of i)if(n.hasFeatures()){const e=n.serialize();o.push(e)}else l.push(n.layer.uid);const c=[...o];let _=null;return l.length>0&&(_=Uint32Array.from(l),c.push(_.buffer)),a.emptyBuckets=_,{result:a,transferList:c}}setObsolete(){this.status=K.INVALID}getLayers(){return this._workerTileHandler.getLayers()}getWorkerTileHandler(){return this._workerTileHandler}async _parse(e,t){const s=e.sourceName2DataAndRefKey;return 0===Object.keys(s).length?[]:(this.status=K.MODIFIED,new Q(s,this,t.client,this._styleRepository,e.styleLayerUIDs).parse(t))}}var $=s(823);class ee{constructor(){this._spriteInfo={},this._glyphInfo={}}reset(){return this._spriteInfo={},this._glyphInfo={},Promise.resolve()}getLayers(){var e;return null==(e=this._styleRepository)?void 0:e.layers}async createTileAndParse(e,t){const{key:s}=e,i={};for(const n of Object.keys(e.sourceName2DataAndRefKey)){const t=e.sourceName2DataAndRefKey[n];i[n]=t.refKey}const r=new J(s,i,this,this._styleRepository);try{return await r.parse(e,t)}catch(a){if(r.setObsolete(),r.release(),!Object(n.l)(a))throw a;return null}}updateStyle(e){if(!e||0===e.length||!this._styleRepository)return;const t=this._styleRepository;for(const s of e){const e=s.type,n=s.data;switch(e){case i.c.PAINTER_CHANGED:t.setPaintProperties(n.layer,n.paint);break;case i.c.LAYOUT_CHANGED:t.setLayoutProperties(n.layer,n.layout);break;case i.c.LAYER_REMOVED:t.deleteStyleLayer(n.layer);break;case i.c.LAYER_CHANGED:t.setStyleLayer(n.layer,n.index);break;case i.c.SPRITES_CHANGED:this._spriteInfo={}}}}setStyle(e){this._styleRepository=new $.a(e),this._spriteInfo={},this._glyphInfo={}}fetchSprites(e,t,s){const n=[],i=this._spriteInfo;for(const r of e)void 0===i[r.name]&&n.push(r);return 0===n.length?Promise.resolve():t.invoke("getSprites",n,{signal:s&&s.signal}).then(e=>{for(const t in e){const s=e[t];i[t]=s}})}getSpriteItems(){return this._spriteInfo}fetchGlyphs(e,t,s,n,i){const r=[];let a=this._glyphInfo[t];return a?s.forEach(e=>{a[e]||r.push(e)}):(a=this._glyphInfo[t]=[],s.forEach(e=>r.push(e))),0===r.length?Promise.resolve():n.invoke("getGlyphs",{tileID:e,font:t,codePoints:r},i).then(e=>{for(let t=0;t<e.length;t++)e[t]&&(a[t]=e[t])})}getGlyphItems(e){return this._glyphInfo[e]}}},614:function(e,t,s){"use strict";var n,i,r,a,o,l,c,_,h,u,f,E,d,T,I,A,R,x,y,g,p,N;s.d(t,"a",(function(){return S})),s.d(t,"b",(function(){return r})),s.d(t,"c",(function(){return a})),s.d(t,"d",(function(){return o})),s.d(t,"e",(function(){return n})),s.d(t,"f",(function(){return B})),s.d(t,"g",(function(){return O})),s.d(t,"h",(function(){return h})),s.d(t,"i",(function(){return m})),s.d(t,"j",(function(){return c})),s.d(t,"k",(function(){return _})),s.d(t,"l",(function(){return M})),s.d(t,"m",(function(){return N})),s.d(t,"n",(function(){return l})),s.d(t,"o",(function(){return g})),s.d(t,"p",(function(){return T})),s.d(t,"q",(function(){return A})),s.d(t,"r",(function(){return i})),s.d(t,"s",(function(){return R})),s.d(t,"t",(function(){return C})),s.d(t,"u",(function(){return y})),s.d(t,"v",(function(){return I})),s.d(t,"w",(function(){return u})),s.d(t,"x",(function(){return U})),s.d(t,"y",(function(){return p})),s.d(t,"z",(function(){return f})),s.d(t,"A",(function(){return d})),s.d(t,"B",(function(){return E})),s.d(t,"C",(function(){return P})),s.d(t,"D",(function(){return x})),function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT"}(n||(n={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(i||(i={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(r||(r={})),function(e){e[e.ADD=32774]="ADD",e[e.SUBTRACT=32778]="SUBTRACT",e[e.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(a||(a={})),function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER"}(o||(o={})),function(e){e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(l||(l={})),function(e){e[e.CW=2304]="CW",e[e.CCW=2305]="CCW"}(c||(c={})),function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT"}(_||(_={})),function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"}(h||(h={})),function(e){e[e.ZERO=0]="ZERO",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP"}(u||(u={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(f||(f={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(E||(E={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(d||(d={})),function(e){e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.RG=33319]="RG",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER"}(T||(T={})),function(e){e[e.RGBA4=32854]="RGBA4",e[e.R16F=33325]="R16F",e[e.RG16F=33327]="RG16F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.R32F=33326]="R32F",e[e.RG32F=33328]="RG32F",e[e.RGBA32F=34836]="RGBA32F",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB5_A1=32855]="RGB5_A1",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.RGB16F=34843]="RGB16F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.RGB565=36194]="RGB565",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2=32857]="RGB10_A2",e[e.RGB10_A2UI=36975]="RGB10_A2UI"}(I||(I={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.INT=5124]="INT",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(A||(A={})),function(e){e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(R||(R={})),function(e){e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_READ=35045]="STATIC_READ",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.STREAM_COPY=35042]="STREAM_COPY"}(x||(x={})),function(e){e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER"}(y||(y={})),function(e){e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(g||(g={})),function(e){e[e.TEXTURE=0]="TEXTURE",e[e.RENDER_BUFFER=1]="RENDER_BUFFER",e[e.CUBEMAP=2]="CUBEMAP"}(p||(p={})),function(e){e[e.NONE=0]="NONE",e[e.DEPTH_RENDER_BUFFER=1]="DEPTH_RENDER_BUFFER",e[e.STENCIL_RENDER_BUFFER=2]="STENCIL_RENDER_BUFFER",e[e.DEPTH_STENCIL_RENDER_BUFFER=3]="DEPTH_STENCIL_RENDER_BUFFER",e[e.DEPTH_STENCIL_TEXTURE=4]="DEPTH_STENCIL_TEXTURE"}(N||(N={}));const S=33984;var C,O;!function(e){e[e.Texture=0]="Texture",e[e.Buffer=1]="Buffer",e[e.VAO=2]="VAO",e[e.Shader=3]="Shader",e[e.Program=4]="Program",e[e.Framebuffer=5]="Framebuffer",e[e.Renderbuffer=6]="Renderbuffer",e[e.Sync=7]="Sync",e[e.COUNT=8]="COUNT"}(C||(C={})),function(e){e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(O||(O={}));const M=33306;var m,P,L,D,B,U,G;!function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"}(m||(m={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT=5124]="INT",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(P||(P={})),function(e){e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS"}(L||(L={})),function(e){e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED"}(D||(D={})),function(e){e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED"}(B||(B={})),function(e){e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(U||(U={})),function(e){e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(G||(G={}))},631:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));class n{constructor(e,t,s,n,i,r=!1,a=0){this.name=e,this.count=t,this.type=s,this.offset=n,this.stride=i,this.normalized=r,this.divisor=a}}},649:function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return r})),s.d(t,"c",(function(){return n})),s.d(t,"d",(function(){return a}));const n=!0,i=32,r=1.5,a=200}}]);
//# sourceMappingURL=170.ad948000.chunk.js.map