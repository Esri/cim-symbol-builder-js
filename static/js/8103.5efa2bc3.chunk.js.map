{"version":3,"file":"static/js/8103.5efa2bc3.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/symbols/support/previewSymbol2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{getColorLuminance as t}from\"../../core/colorUtils.js\";import a from\"../../core/Error.js\";import{loadFont as n}from\"../../core/fontUtils.js\";import{pt2px as l,px2pt as o}from\"../../core/screenUtils.js\";import{getFill as i,getStroke as s,getPatternUrlWithColor as r}from\"./gfxUtils.js\";import{SymbolSizeDefaults as c,shapes as u,adjustColorBrightness as h}from\"./previewUtils.js\";import{renderSymbol as m}from\"./renderUtils.js\";import{backgroundPadding as p}from\"./textUtils.js\";const d=\"picture-fill\",f=\"picture-marker\",y=\"simple-fill\",g=\"simple-line\",w=\"simple-marker\",v=\"text\",b=\"Aa\",k=c.size,x=c.maxSize,z=c.maxOutlineSize,L=c.lineWidth,M=225,j=document.createElement(\"canvas\");function C(e,t){const a=j.getContext(\"2d\"),n=[];return t&&(t.weight&&n.push(t.weight),t.size&&n.push(t.size+\"px\"),t.family&&n.push(t.family)),a.font=n.join(\" \"),a.measureText(e).width}const S=7.2/2.54,F=72/2.54;function U(e){if(0===e.length)return 0;if(e.length>2){const t=o(1),a=parseFloat(e);switch(e.slice(-2)){case\"px\":return a;case\"pt\":return a*t;case\"in\":return 72*a*t;case\"pc\":return 12*a*t;case\"mm\":return a*S*t;case\"cm\":return a*F*t}}return parseFloat(e)}function E(e){const t=e?.size;return{width:null!=t&&\"object\"==typeof t&&\"width\"in t?l(t.width):null,height:null!=t&&\"object\"==typeof t&&\"height\"in t?l(t.height):null}}async function Z(e,t){const a=t.fill,n=e.color;if(\"pattern\"===a?.type&&n&&e.type!==d){const e=await r(a.src,n.toCss(!0));a.src=e,t.fill=a}}async function q(e,t,a,l){if(!(\"font\"in e)||!e.font||\"text\"!==t.shape.type)return;try{await n(e.font)}catch{}const{width:o}=E(l),i=/[\\uE600-\\uE6FF]/.test(t.shape.text);null!=o||i||(a[0]=C(t.shape.text,{weight:t.font?.weight,size:t.font?.size,family:t.font?.family}))}function D(e,t,a,n,o){if(null!=e.haloColor&&null!=e.haloSize){o.masking??=a.map((()=>[]));const i=l(e.haloSize);n[0]+=i,n[1]+=i,a.unshift([{...t,fill:null,stroke:{color:e.haloColor,width:2*i,join:\"round\",cap:\"round\"}}]),o.masking.unshift([{shape:{type:\"rect\",x:0,y:0,width:n[0]+2*p,height:n[1]+2*p},fill:[255,255,255],stroke:null},{...t,fill:[0,0,0,0],stroke:null}])}null==e.backgroundColor&&null==e.borderLineColor||(n[0]+=2*p,n[1]+=2*p,a.unshift([{shape:{type:\"rect\",x:0,y:0,width:n[0],height:n[1]},fill:e.backgroundColor,stroke:{color:e.borderLineColor,width:l(e.borderLineSize)}}]),o.masking?.unshift([]))}function O(e,t){return e>t?\"dark\":\"light\"}function T(e,t){const a=\"number\"==typeof t?.size?t?.size:null,n=null!=a?l(a):null,o=null!=t?.maxSize?l(t.maxSize):null,r=null!=t?.rotation?t.rotation:\"angle\"in e?e.angle:null,c=i(e);let h=s(e);\"dark\"!==P(e,245)||t?.ignoreWhiteSymbols||(h={width:.75,...h,color:\"#bdc3c7\"});const m={shape:null,fill:c,stroke:h,offset:[0,0]};h?.width&&(h.width=Math.min(h.width,z));const p=h?.width||0;let M=null!=t?.size&&(null==t?.scale||t?.scale),j=0,S=0,F=!1;switch(e.type){case w:{const a=e.style,{width:i,height:s}=E(t),c=i===s&&null!=i?i:null!=n?n:Math.min(l(e.size),o||x);switch(j=c,S=c,a){case\"circle\":m.shape={type:\"circle\",cx:0,cy:0,r:.5*c},M||(j+=p,S+=p);break;case\"cross\":m.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*S]},{command:\"L\",values:[j,.5*S]},{command:\"M\",values:[.5*j,0]},{command:\"L\",values:[.5*j,S]}]};break;case\"diamond\":m.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*S]},{command:\"L\",values:[.5*j,0]},{command:\"L\",values:[j,.5*S]},{command:\"L\",values:[.5*j,S]},{command:\"Z\",values:[]}]},M||(j+=p,S+=p);break;case\"square\":m.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[j,0]},{command:\"L\",values:[j,S]},{command:\"L\",values:[0,S]},{command:\"Z\",values:[]}]},M||(j+=p,S+=p),r&&(F=!0);break;case\"triangle\":m.shape={type:\"path\",path:[{command:\"M\",values:[.5*j,0]},{command:\"L\",values:[j,S]},{command:\"L\",values:[0,S]},{command:\"Z\",values:[]}]},M||(j+=p,S+=p),r&&(F=!0);break;case\"x\":m.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[j,S]},{command:\"M\",values:[j,0]},{command:\"L\",values:[0,S]}]},r&&(F=!0);break;case\"path\":m.shape={type:\"path\",path:e.path||\"\"},M||(j+=p,S+=p),r&&(F=!0),M=!0}break}case g:{const{width:e,height:a}=E(t),l=null!=a?a:null!=n?n:p,o=null!=e?e:L;h&&(h.width=l),j=o,S=l;const i=m?.stroke?.cap||\"butt\",s=\"round\"===i;M=!0,m.stroke&&(m.stroke.cap=\"butt\"===i?\"square\":i),m.shape={type:\"path\",path:[{command:\"M\",values:[s?l/2:0,S/2]},{command:\"L\",values:[s?j-l/2:j,S/2]}]};break}case d:case y:{const e=\"object\"==typeof t?.symbolConfig&&!!t?.symbolConfig?.isSquareFill,{width:a,height:l}=E(t);j=!e&&a!==l||null==a?null!=n?n:k:a,S=!e&&a!==l||null==l?j:l,M||(j+=p,S+=p),M=!0,m.shape=e?{type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[j,0]},{command:\"L\",values:[j,S]},{command:\"L\",values:[0,S]},{command:\"L\",values:[0,0]},{command:\"Z\",values:[]}]}:u.fill[0];break}case f:{const a=Math.min(l(e.width),o||x),i=Math.min(l(e.height),o||x),{width:s,height:c}=E(t),u=s===c&&null!=s?s:null!=n?n:Math.max(a,i),h=a/i;j=h<=1?Math.ceil(u*h):u,S=h<=1?u:Math.ceil(u/h),m.shape={type:\"image\",x:-Math.round(j/2),y:-Math.round(S/2),width:j,height:S,src:e.url||\"\"},r&&(F=!0);break}case v:{const a=e,i=t?.overrideText||a.text||b,s=a.font,{width:r,height:c}=E(t),u=null!=c?c:null!=n?n:Math.min(l(s.size),o||x),h=C(i,{weight:s.weight,size:u,family:s.family}),p=/[\\uE600-\\uE6FF]/.test(i);j=r??(p?u:h),S=u;let d=.25*U((s?u:0).toString());p&&(d+=5),m.shape={type:\"text\",text:i,x:a.xoffset||0,y:a.yoffset||d,align:\"middle\",alignBaseline:a.verticalAlignment,decoration:s&&s.decoration,rotated:a.rotated,kerning:a.kerning},m.font=s&&{size:u,style:s.style,decoration:s.decoration,weight:s.weight,family:s.family};break}}return{shapeDescriptor:m,size:[j,S],renderOptions:{node:t?.node,scale:M,opacity:t?.opacity,rotation:r,useRotationSize:F,effectView:t?.effectView,ariaLabel:t?.ariaLabel}}}async function A(e,t){const{shapeDescriptor:n,size:l,renderOptions:o}=T(e,t);if(!n.shape)throw new a(\"symbolPreview: renderPreviewHTML2D\",\"symbol not supported.\");await Z(e,n),await q(e,n,l,t);const i=[[n]];if(\"object\"==typeof t?.symbolConfig&&t?.symbolConfig?.applyColorModulation){const e=.6*l[0];i.unshift([{...n,offset:[-e,0],fill:h(n.fill,-.3)}]),i.push([{...n,offset:[e,0],fill:h(n.fill,.3)}]),l[0]+=2*e,o.scale=!1}return\"text\"===e.type&&D(e,n,i,l,o),m(i,l,o)}function P(a,n=M){const l=i(a),o=s(a),r=!l||\"type\"in l?null:new e(l),c=o?.color?new e(o?.color):null,u=r?O(t(r),n):null,h=c?O(t(c),n):null;return h?u?u===h?u:n>=M?\"light\":\"dark\":h:u}export{P as getContrastingBackgroundTheme,T as getRenderSymbolParameters,A as previewSymbol2D};\n"],"names":["d","k","c","x","z","L","M","j","document","createElement","C","e","t","a","getContext","n","weight","push","size","family","font","join","measureText","width","U","length","o","parseFloat","slice","E","l","height","O","T","maxSize","r","rotation","angle","i","h","s","P","ignoreWhiteSymbols","color","m","shape","fill","stroke","offset","Math","min","p","scale","S","F","type","style","cx","cy","path","command","values","cap","symbolConfig","isSquareFill","u","max","ceil","round","y","src","url","overrideText","text","test","toString","xoffset","yoffset","align","alignBaseline","verticalAlignment","decoration","rotated","kerning","shapeDescriptor","renderOptions","node","opacity","useRotationSize","effectView","ariaLabel","async","A","toCss","Z","q","applyColorModulation","unshift","haloColor","haloSize","masking","map","backgroundColor","borderLineColor","borderLineSize","D"],"sourceRoot":""}