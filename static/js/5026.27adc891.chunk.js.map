{"version":3,"file":"static/js/5026.27adc891.chunk.js","mappings":"6GAIA,IAAIA,E,iBAAG,SAASA,GAAGA,EAAEA,EAAEC,iBAAiB,GAAG,mBAApC,CAAwDD,IAAIA,EAAE,M,iCCArE,MAAME,EAAE,CAACC,oBAAmB,EAAGC,8BAA6B,EAAGC,sCAAqC,EAAGC,sCAAsC,CAACC,UAAS,EAAGC,UAAS,EAAGC,YAAW,GAAIC,kBAAiB,EAAGC,mBAAkB,EAAGC,kBAAiB,EAAGC,kBAAiB,EAAGC,gBAAe,EAAGC,4BAA2B,EAAGC,sBAAqB,EAAGC,iBAAgB,EAAGC,oBAAmB,EAAGC,sBAAqB,EAAGC,8BAA6B,EAAGC,uBAAsB,EAAGC,oBAAmB,EAAGC,uBAAsB,EAAGC,8BAA6B,EAAGC,iCAAgC,EAAGC,0BAAyB,EAAGC,uBAAsB,EAAGC,wBAAuB,EAAGC,mBAAkB,EAAGC,qCAAoC,EAAGC,iCAAgC,EAAGC,wBAAuB,EAAGC,yBAAwB,EAAGC,0BAAqB,EAAOC,oBAAe,EAAOC,4BAAuB,EAAOC,wBAAmB,I,8UCAwe,MAAMrC,EAAE,IAAIsC,EAAAA,EAAE,CAACC,2BAA2B,gCAAgCC,KAAK,SAASC,eAAeC,EAAEC,GAAG,GAAG,iBAAiBA,EAAE,CAAc,OAALC,EAAAA,EAAAA,IAAED,IAAa,CAACE,KAAKF,GAAG,OAAO,IAAIG,SAAS,CAAC5C,EAAE6C,KAAK,MAAMC,EAAE,IAAIC,WAAWD,EAAEE,cAAcP,GAAGK,EAAEG,OAAO,IAAIjD,GAAE0C,EAAAA,EAAAA,IAAEI,EAAEI,SAASJ,EAAEK,QAAQV,GAAGI,EAAEJ,MAAM,MAAMW,EAAE,IAAIC,IAAI,CAAC,gBAAgB,UAAUC,EAAE,IAAIlB,EAAAA,EAAE,CAACmB,QAAQ,YAAYC,WAAW,aAAaC,QAAQ,gBAAgB,IAAIC,EAAE,cAAcC,EAAAA,EAAEC,cAAcC,SAASC,WAAWC,KAAKC,KAAK,gBAAgBD,KAAKE,SAAQC,EAAAA,EAAAA,KAAG3B,gBAAgBwB,KAAKI,OAAO,MAAM1B,EAAEsB,KAAKK,WAAWC,aAAaC,aAAa,GAAG,MAAM7B,EAAE,MAAM,CAAC8B,aAAY,EAAGC,QAAQ,IAAI,UAAUT,KAAKU,cAAc,MAAM,MAAM,MAAM,CAACF,aAAY,EAAGC,QAAQ,IAAI,MAAMxE,EAAEyC,IAAIsB,KAAKK,WAAWC,aAAaC,aAAa,MAAM,CAACC,YAAYvE,EAAEwE,QAAQxE,EAAE,CAACqE,YAAYN,KAAKK,WAAWC,YAAYK,OAAOX,KAAKK,WAAWM,QAAQ,SAASP,KAAK1B,GAAG,MAAMzC,GAAE2E,EAAAA,EAAAA,IAAElC,GAAGA,EAAEmC,OAAO,KAAK/B,EAAEkB,KAAKc,MAAMT,WAAW,OAAOL,KAAKe,oBAAoBf,KAAKU,cAAc5B,EAAE7C,IAAI4C,QAAQmC,QAAQhB,MAAUiB,gBAAY,MAAMC,aAAaxC,EAAEyC,UAAUlF,EAAEmF,kBAAkBtC,EAAEuC,UAAUtC,EAAEuC,WAAWC,EAAEC,iBAAiBC,EAAEC,YAAYrD,GAAG2B,KAAKc,MAAMlB,GAAE+B,EAAAA,EAAAA,GAAI,qBAAqBjD,GAAGkD,MAAMhE,oBAAmBiE,EAAAA,EAAAA,IAAE9C,GAAG6B,EAAElC,GAAGoD,YAAYC,2BAA0B,EAAG,OAAO,IAAIC,EAAAA,EAAE,CAACC,IAAIhG,EAAEiG,KAAKC,aAAavC,EAAE8B,YAAYrD,EAAEgD,UAAUtC,EAAEqC,kBAAkBtC,EAAEwC,WAAWC,EAAEa,uBAAuBX,EAAEY,0BAA0BzB,IAAuB,oBAAClC,EAAEzC,SAAS+D,KAAKI,OAAO,MAAMtB,EAAEJ,EAAE4D,WAAWtC,KAAKc,MAAMyB,eAAehB,EAAEvB,KAAKc,MAAMK,UAAUe,KAAK,IAAIpD,EAAE,iBAAiB2C,EAAEzB,KAAKwC,0BAA0BnE,EAAE2B,KAAKyC,0BAA0BxG,EAAEwF,EAAEG,OAAO,IAAI,MAAMlD,QAAQK,EAAAA,EAAAA,SAAEwC,EAAE,CAACmB,KAAKrE,IAAI,OAAO2B,KAAK2C,yBAAyBjE,EAAEE,KAAKgE,qBAAqB,MAAMhD,GAAG,MAAMI,KAAK6C,6BAA6B/D,EAAEc,IAA0B,uBAAClB,EAAEzC,EAAE6C,SAASkB,KAAKI,OAAO,MAAMmB,EAAE7C,EAAE4D,WAAWtC,KAAKc,MAAMyB,eAAed,EAAEzB,KAAKc,MAAMK,UAAUe,KAAK,IAAIX,EAAE,oBAAoBlD,EAAE2B,KAAKwC,wBAAwB,CAACZ,MAAM,CAACkB,aAAa7G,KAAK2D,EAAEI,KAAKyC,0BAA0B3D,EAAET,EAAEuD,OAAO,IAAI,MAAMlD,QAAQK,EAAAA,EAAAA,SAAE0C,EAAE,CAACiB,KAAK9C,IAAI,OAAOI,KAAK2C,yBAAyBjE,EAAEE,KAAKmE,wBAAwB,MAAMnC,GAAG,MAAMZ,KAAK6C,6BAA6BtB,EAAEX,IAAoB,iBAAClC,EAAEzC,SAAS+D,KAAKI,OAAO,MAAMmB,EAAEvB,KAAKc,MAAMO,UAAUI,GAAEb,EAAAA,EAAAA,IAAEW,GAAGlD,EAAEoD,IAAIxF,GAAG+G,eAAc,GAAIpD,EAAElB,EAAEuE,aAAaC,KAAKxE,GAAGsB,KAAKmD,kBAAkBzE,EAAE6C,KAAK6B,OAAOxC,EAAAA,KAAI,GAAGiB,EAAEnD,EAAE2E,gBAAgBH,KAAKxE,GAAGsB,KAAKmD,kBAAkBzE,EAAE6C,KAAK6B,OAAOxC,EAAAA,KAAI,GAAG0C,EAAEtD,KAAKuD,eAAe7E,EAAE8E,eAAenF,IAAGoF,EAAAA,EAAAA,GAAE7D,EAAEiC,EAAE7B,KAAKc,MAAMU,kBAAkB,MAAMrB,EAAE,GAAGuD,EAAE,GAAG/E,EAAE,IAAID,EAAEiF,mBAAmB,IAAI,IAAI,MAAM7E,KAAKJ,EAAEkF,gBAAgB,GAAGzD,EAAE0D,WAAW7D,KAAK8D,qBAAqBhF,IAAI,IAAI,MAAMA,KAAKJ,EAAEqF,mBAAmB,GAAGL,EAAEG,WAAW7D,KAAK8D,qBAAqBhF,IAAI,MAAMkF,EAAE7D,EAAE8D,QAAQP,EAAEO,QAAQtF,EAAEsF,OAAO,CAACC,KAAK/D,EAAEM,QAAQiD,EAAES,QAAQxF,GAAG,KAAK,IAAIyF,EAAEC,EAAE,KAAK,GAAG5C,EAAE,CAAC4C,EAAE,IAAIC,IAAI,MAAMrI,EAAE,GAAG,IAAI,MAAM8C,KAAKL,EAAE6F,WAAW,GAAGtI,EAAE4H,KAAK7D,KAAKwE,sCAAsCzF,EAAEsF,IAAI,MAAMvF,QAAQD,QAAQ4F,IAAIxI,GAAGmI,EAAEtF,EAAEmF,OAAO,CAACC,KAAKpF,EAAE2B,QAAQ,GAAG0D,QAAQ,SAAI,EAAO,MAAMO,EAAE,CAACpD,WAAWrF,GAAGqF,YAAYtB,KAAKc,MAAMQ,WAAWqD,kBAAkB1I,GAAG2I,yBAAyBC,aAAaxG,EAAEyG,iBAAiB7I,GAAG6I,iBAAiBC,sBAAsB9I,GAAG8I,sBAAsBC,UAAU/I,GAAG+I,WAAW/I,GAAGgJ,0BAA0BP,EAAEQ,MAAMC,KAAKC,UAAU,CAAC,CAACC,GAAGrF,KAAKc,MAAMwE,QAAQpB,KAAKtE,EAAEa,QAAQoB,EAAEsC,QAAQb,EAAEiC,YAAYvB,EAAEwB,WAAUC,EAAAA,EAAAA,IAAErB,MAAMM,EAAEO,yBAAyBlJ,EAAE2J,OAAOzJ,GAAGgJ,0BAA0BP,EAAEiB,6BAA6B1J,GAAG0J,+BAA+BjB,EAAER,KAAKtE,EAAEqE,OAAOkB,KAAKC,UAAUxF,GAAG,KAAK8E,EAAEjE,QAAQoB,EAAEoC,OAAOkB,KAAKC,UAAUvD,GAAG,KAAK6C,EAAEP,QAAQb,EAAEW,OAAO5F,EAAE8G,KAAKC,UAAU9B,GAAGA,EAAEsC,KAAK,KAAK,KAAKlB,EAAEa,YAAYvB,GAAGmB,KAAKC,UAAUpB,GAAGU,EAAEc,WAAU5E,EAAAA,EAAAA,IAAEwD,GAAGe,KAAKC,UAAUhB,QAAG,GAAQ,MAAMyB,EAAE7F,KAAKwC,wBAAwB,CAACsD,OAAO,OAAOlE,MAAM8C,IAAIqB,EAAE9J,GAAGgJ,yBAAyBjF,KAAKc,MAAMmB,IAAIjC,KAAKc,MAAMK,UAAUe,KAAKF,QAAQjD,EAAAA,EAAAA,SAAEgH,EAAE,cAAcF,GAAG,IAAI7F,KAAKc,MAAMI,aAAaY,YAAYkE,iBAAiBhG,KAAKc,MAAMmF,uBAAuBnE,YAAYkE,gBAAgB,CAAC,MAAMtH,EAAEI,EAAAA,IAAGoH,eAAelG,KAAKc,MAAMmB,WAAWvD,GAAGyH,gBAAgB,GAAG1E,GAAG,MAAMO,EAAEpD,MAAM,MAAMoD,EAAEpD,KAAK4G,UAAU,CAAC,MAAM9G,EAAEsD,EAAEpD,KAAK3C,EAAE+D,KAAKc,MAAMyB,cAAczD,EAAE,GAAG,IAAI,MAAMC,KAAKL,EAAE0H,WAAWrH,EAAEsH,SAASvH,EAAE+E,KAAK9E,EAAEuH,UAAU,IAAI,MAAMvH,KAAKL,EAAE6H,cAAcxH,EAAEsH,SAASvH,EAAE+E,KAAK9E,EAAEuH,UAAU,MAAM/E,EAAEvB,KAAKwG,6BAA6B/E,QAAQ1C,EAAAA,EAAAA,SAAEgH,EAAE,SAAS,IAAIxE,EAAEK,MAAM,CAACwC,EAAE,OAAOqC,kBAAkB,SAASC,MAAO,gBAAe5H,EAAE8G,KAAK,QAAQe,UAAW,GAAE1K,OAAO,GAAGwF,GAAGA,EAAE7C,MAAM6C,EAAE7C,KAAK4G,YAAW5E,EAAAA,EAAAA,IAAEyD,GAAG,CAAC,MAAM3F,EAAE+C,EAAE7C,KAAK4G,UAAU,IAAI,MAAMvJ,KAAKyC,EAAE,CAAC,MAAMA,EAAE2F,EAAEuC,IAAI3K,EAAE4K,gBAAgBC,UAASlG,EAAAA,EAAAA,IAAElC,IAAI,SAASA,EAAEuB,MAAMvB,EAAEqI,qBAAqB,CAACC,OAAO,CAAC,CAACC,KAAKhL,EAAEiL,UAAUF,OAAO/K,EAAEiL,YAAYvG,OAAOjC,EAAEiC,WAAW,OAAOX,KAAKmH,mBAAmBnF,GAA0B,wBAACtD,EAAEzC,SAAS+D,KAAKI,OAAO,MAAMtB,EAAEJ,EAAE4D,WAAWtC,KAAKc,MAAMyB,eAAehB,EAAEvB,KAAKc,MAAMK,UAAUe,KAAK,IAAIpD,EAAE,qBAAqB,IAAI,aAAaC,EAAAA,EAAAA,SAAEwC,EAAEvB,KAAKwC,wBAAwB,CAACZ,MAAM,CAACwF,cAAcnL,EAAE2J,KAAK,MAAME,OAAO,WAAWlH,KAAKyI,wBAAwBnE,IAAIlD,KAAK2C,0BAA0B,MAAMlB,GAAG,MAAMzB,KAAK6C,6BAA6B/D,EAAE2C,IAAI6F,yBAA4B,IAAL5I,EAAK,uDAAH,GAAI,MAAMzC,EAAEyC,EAAEmC,OAAO,OAAOb,KAAKI,KAAK,CAACS,OAAO5E,IAAIsL,MAAM/I,UAAU,MAAMvC,EAAE+D,KAAKwC,wBAAwB,IAAI9D,EAAEkD,MAAM,CAAC4F,eAAc,MAAOlC,QAAQxG,EAAEmD,IAAIR,GAAGzB,KAAKc,OAAOlC,KAAKP,SAASU,EAAAA,EAAAA,SAAG,GAAE0C,KAAK3C,IAAI7C,IAAIoJ,GAAGzF,EAAEe,OAAOC,EAAE6G,WAAW5F,EAAE6F,WAAWjC,GAAGpH,EAAEiF,EAAE1C,GAAGiB,EAAE,MAAM,CAACwD,GAAGzF,EAAE6H,WAAWnE,GAAGe,EAAAA,EAAAA,SAAWf,GAAGoE,WAAWjC,GAAGlE,EAAAA,EAAAA,SAAW,CAACoG,MAAMlC,EAAE,GAAGmC,IAAInC,EAAE,SAA+B,uBAAC/G,GAAO,IAALzC,EAAK,uDAAH,SAAU+D,KAAKI,OAAO,MAAMtB,EAAEkB,KAAKwC,wBAAwBvG,GAAG,OAAO+D,KAAKiB,UAAU4G,uBAAuBnJ,EAAEI,GAAsB,oBAACJ,EAAEzC,GAAG,aAAa+D,KAAKI,OAAOJ,KAAKiB,UAAU6G,QAAQpJ,EAAE,IAAIzC,EAAE2F,MAAM5B,KAAKwG,2BAA2BvK,KAA4B,wBAACyC,EAAEzC,GAAG,aAAa+D,KAAKI,OAAOJ,KAAKiB,UAAU8G,YAAYrJ,EAAE,IAAIzC,EAAE2F,MAAM5B,KAAKwG,2BAA2BvK,KAAyB,qBAACyC,EAAEzC,GAAG,aAAa+D,KAAKI,OAAOJ,KAAKiB,UAAU+G,cAActJ,EAAE,IAAIzC,EAAE2F,MAAM5B,KAAKwG,2BAA2BvK,KAA4B,wBAACyC,EAAEzC,GAAG,aAAa+D,KAAKI,OAAOJ,KAAKiB,UAAUgH,gBAAgBvJ,EAAE,IAAIzC,EAAE2F,MAAM5B,KAAKwG,2BAA2BvK,KAAsB,kBAACyC,EAAEzC,GAAG,aAAa+D,KAAKI,OAAOJ,KAAKiB,UAAUiH,iBAAiBxJ,EAAE,IAAIzC,EAAE2F,MAAM5B,KAAKwG,2BAA2BvK,KAA+B,2BAACyC,EAAEzC,GAAG,aAAa+D,KAAKI,OAAOJ,KAAKiB,UAAUkH,yBAAyBzJ,EAAE,IAAIzC,EAAE2F,MAAM5B,KAAKwG,2BAA2BvK,KAAoC,gCAACyC,EAAEzC,GAAG,aAAa+D,KAAKI,OAAOJ,KAAKiB,UAAUmH,iCAAiC1J,EAAE,IAAIzC,EAAE2F,MAAM5B,KAAKwG,2BAA2BvK,KAA2B,uBAACyC,EAAEzC,GAAG,aAAa+D,KAAKI,OAAOJ,KAAKiB,UAAUoH,wBAAwB3J,EAAE,IAAIzC,EAAE2F,MAAM5B,KAAKwG,2BAA2BvK,KAA4B,wBAACyC,EAAEzC,GAAG,aAAa+D,KAAKI,OAAOJ,KAAKiB,UAAUqH,iBAAiB5J,EAAE,IAAIzC,EAAE2F,MAAM5B,KAAKwG,2BAA2BvK,KAA0B,sBAACyC,EAAEzC,GAAG,aAAa+D,KAAKI,OAAOJ,KAAKiB,UAAUsH,qBAAqB7J,EAAE,IAAIzC,EAAE2F,MAAM5B,KAAKwG,2BAA2BvK,KAAwB,oBAACyC,EAAEzC,GAAG,aAAa+D,KAAKI,OAAOJ,KAAKiB,UAAUuH,mBAAmB9J,EAAE,IAAIzC,EAAE2F,MAAM5B,KAAKwG,2BAA2BvK,KAAgC,8BAAG,KAAIwM,EAAAA,EAAAA,IAAEzI,KAAKc,MAAMmB,KAAK,MAAM,cAAc,MAAMvD,GAAEgF,EAAAA,EAAAA,IAAE1D,KAAKc,MAAMmB,IAAI,UAAUhG,QAAQ8C,EAAAA,EAAAA,SAAEL,EAAE,CAACkD,MAAM,CAACwC,EAAE,UAAU,OAAO7E,EAAEmJ,SAASzM,EAAE2C,KAAK+J,QAAQnC,2BAA2B9H,GAAG,MAAMzC,EAAE,IAAI+D,KAAKc,MAAM8H,iBAAiBC,MAAM7I,KAAKc,MAAMgI,UAAUpK,GAAGkD,OAAO,OAAO5B,KAAKc,MAAMiI,yBAAyB9M,EAAE+M,4BAA2B,GAAI/M,EAAqB,oBAACyC,EAAEzC,GAAG,IAAIyC,EAAE,CAAC,MAAME,KAAKE,SAASC,EAAAA,EAAAA,SAAEiB,KAAKc,MAAMK,UAAUe,KAAKlC,KAAKwC,wBAAwB,CAACZ,OAAMD,EAAAA,EAAAA,GAAI,iCAAiC,CAACsH,uBAAsB,GAAI,GAAGpI,OAAO5E,KAAKyC,EAAEI,EAAEkB,KAAKK,WAAWL,KAAKkJ,kBAAkBxK,GAAG,MAAMI,EAAEJ,EAAEuB,KAAK,IAAIZ,EAAEsC,IAAI7C,GAAG,MAAM,IAAI2C,EAAAA,EAAE,wCAAyC,gBAAe3C,uBAAuBoK,kBAAkBxK,GAAG,GAAG,UAAUA,EAAEuB,MAAMvB,EAAEyK,eAAezK,GAAG0K,aAAaC,WAAW3K,EAAE4K,cAAc,CAAC,MAAMrN,GAAE8J,EAAAA,EAAAA,IAAErH,EAAEyK,cAAcE,UAAS/F,EAAAA,EAAAA,IAAE,uBAAuBrH,EAAEyC,GAAG,MAAM,2BAA2BA,EAAEyK,cAAczK,EAAE2C,YAAY3C,EAAEyK,aAAa,QAAQzK,EAAEyE,kBAAkBzE,EAAEzC,GAAG,MAAM6K,SAAShI,EAAEwD,WAAWvD,GAAGL,EAAE,IAAGkC,EAAAA,EAAAA,IAAE3E,KAAI2E,EAAAA,EAAAA,IAAElC,EAAEoI,WAAW,SAASpI,EAAEoI,SAAS7G,KAAK,CAAC,MAAMnB,EAAE,IAAIC,GAAGwC,EAAE7C,EAAEoI,SAASrF,EAAEF,EAAEgI,OAAOlL,EAAEkD,EAAEiI,UAAU,GAAG1K,EAAE7C,EAAEwN,oBAAoBC,SAASjI,EAAEkI,EAAE7K,EAAE7C,EAAEwN,oBAAoBG,SAASnI,EAAE9C,EAAEG,EAAE7C,EAAEwN,oBAAoBI,SAASpI,EAAEqI,GAAElJ,EAAAA,EAAAA,IAAEvC,GAAG,CAAC,MAAMK,EAAEL,EAAE0L,YAAYhL,EAAEV,EAAE2L,MAAMzI,EAAElD,EAAE4L,SAASnL,EAAE7C,EAAEwN,oBAAoBS,cAAcxL,EAAE,GAAGI,EAAE7C,EAAEwN,oBAAoBU,eAAezL,EAAE,GAAGI,EAAE7C,EAAEwN,oBAAoBW,cAAc1L,EAAE,GAAGI,EAAE7C,EAAEwN,oBAAoBY,QAAQtL,EAAE,GAAGD,EAAE7C,EAAEwN,oBAAoBa,QAAQvL,EAAE,GAAGD,EAAE7C,EAAEwN,oBAAoBc,QAAQxL,EAAE,GAAGD,EAAE7C,EAAEwN,oBAAoBe,WAAWjJ,EAAE,GAAGzC,EAAE7C,EAAEwN,oBAAoBgB,WAAWlJ,EAAE,GAAGzC,EAAE7C,EAAEwN,oBAAoBiB,WAAWnJ,EAAE,GAAGzC,EAAE7C,EAAEwN,oBAAoBkB,aAAapJ,EAAE,GAAG,MAAM,CAACuF,SAAS,KAAKxE,WAAWxD,GAAG,OAAO+C,EAAAA,EAAAA,IAAE/C,GAAG,CAACwD,WAAWvD,GAAG,SAASD,EAAEmB,MAAM,WAAWnB,EAAEmB,KAAK,KAAK,CAAC6G,SAAShI,EAAE4G,SAASpD,WAAWvD,GAA6B,2BAACL,GAAG,MAAMkM,QAAQ3O,EAAE4O,WAAW/L,GAAGJ,GAAGoM,SAAS/L,EAAEkI,KAAK1F,EAAEwJ,YAAYtJ,EAAE7C,KAAKP,EAAE2M,SAASpL,GAAGd,EAAE8B,EAAE,CAACkK,SAAS/L,EAAE8H,eAAe,KAAKkE,YAAY,KAAK9D,KAAK,KAAK+D,SAAS,KAAKpM,KAAK,MAAM,GAAG3C,IAAI2E,EAAEiG,eAAe,eAAe5K,EAAEA,EAAEqG,YAAYrG,EAAEqG,WAAWtC,KAAKc,MAAMmK,eAAehP,EAAE6O,UAAUlL,EAAEgB,EAAEoK,SAASpL,OAAO,GAAGvB,EAAE,CAAC,MAAMK,QAAQD,EAAEJ,GAAGK,IAAIkC,EAAEmK,YAAYrM,EAAEwM,UAAUtK,EAAEhC,KAAKF,EAAEE,MAAMP,aAAa8M,OAAOvK,EAAEqG,KAAK5I,EAAE4I,MAAM,OAAO1F,IAAIX,EAAEqG,KAAK1F,GAAGE,IAAIb,EAAEmK,YAAYtJ,GAAGb,EAA6C,4CAAClC,EAAEzC,GAAG,MAAM6C,EAAEkB,KAAKc,MAAMmB,IAAI,IAAIV,EAAE,KAAK,IAAI,MAAMtF,EAAE,IAAImP,KAAK,CAAC1M,EAAEE,MAAM,CAACqB,KAAKvB,EAAE2M,WAAWhN,EAAE,IAAIiN,SAASjN,EAAEkN,OAAO,IAAI,QAAQlN,EAAEkN,OAAO,OAAOtP,EAAG,GAAEyC,EAAEwI,aAAa,MAAMtH,EAAE,CAAC8C,KAAKrE,EAAEyH,OAAO,OAAO0F,aAAa,SAAS5M,KAAKgC,SAAS7B,EAAAA,EAAAA,SAAG,GAAED,mBAAmBc,GAAG,IAAIgB,EAAEyF,QAAQ,MAAM,IAAI5E,EAAAA,EAAE,sCAAsC,sCAAsCF,EAAE,CAACkK,UAAU/M,EAAE+M,UAAUC,cAAc9K,EAAE+K,KAAKC,QAAQ,MAAMzL,GAAGoB,EAAE,KAAK,IAAGM,EAAAA,EAAAA,IAAEN,GAAG,CAAC,MAAMtF,QAAQwC,EAAE,IAAI2M,KAAK,CAAC1M,EAAEE,QAAQ,IAAI3C,EAAE4P,SAAS,MAAM,IAAIpK,EAAAA,EAAE,4CAA4C,yDAAyDF,EAAE,CAACkK,UAAU/M,EAAE+M,UAAUK,UAAU7P,EAAE2C,MAAM,IAAGiD,EAAAA,EAAAA,IAAEN,GAAG,MAAM,IAAIE,EAAAA,EAAE,4CAA4C,kDAAkD,MAAMpD,EAAE,CAACyH,OAAO,OAAOlE,MAAM,CAACwC,EAAE,OAAO2H,OAAO5G,KAAKC,UAAU,CAAC7D,KAAKiK,aAAa,QAAQ5L,QAAQb,EAAAA,EAAAA,UAAE2E,EAAAA,EAAAA,IAAE1D,KAAKc,MAAMK,UAAUe,KAAK,gBAAgB7D,GAAG,GAAG,IAAIuB,EAAEhB,KAAKoN,cAAc/H,SAASrE,EAAEhB,KAAKoN,cAAc,GAAG3F,QAAQ,MAAM,IAAI5E,EAAAA,EAAE,4CAA4C,iBAAiB,MAAMb,EAAEhB,EAAEhB,KAAKoN,cAAc,GAAGC,UAAUxG,EAAE,GAAG/G,EAAEwN,MAAMrG,EAAAA,EAAAA,kBAAoBJ,EAAE5B,KAAK,oBAAoB,MAAMP,EAAE,CAACwH,SAASpM,EAAEyN,iBAAiBtF,eAAenI,EAAE0N,gBAAgBlF,UAAUxI,EAAEwI,UAAU+E,UAAUrL,EAAEsL,MAAMzG,GAAG,OAAOxJ,EAAEoQ,IAAI3N,EAAE0N,gBAAgB1N,EAAEkM,SAAStH,EAAEC,eAAe7E,EAAEzC,GAAG,MAAM6C,EAAEJ,IAAI,GAAG,OAAOI,EAAEkB,KAAKsM,iBAAiBrQ,EAAEyC,GAAGsB,KAAKuM,mCAAmC7N,GAAG,aAAaI,EAAEkB,KAAKwM,mCAAmC9N,GAAGsB,KAAKyM,oBAAoB/N,GAAG,GAAG+N,oBAAoB/N,GAAG,MAAMzC,EAAE+D,KAAKc,MAAMyB,cAAc,OAAO7D,EAAEwE,KAAKxE,GAAGA,EAAE4D,YAAY5D,EAAE4D,WAAWrG,KAAKqQ,iBAAiB5N,EAAEzC,GAAG,OAAOyC,GAAG,aAAazC,EAAE,GAAGuQ,mCAAmC9N,GAAG,OAAOA,EAAEwE,KAAKxE,GAAGA,EAAE4H,WAAWiG,mCAAmC7N,GAAG,OAAOA,EAAEwE,KAAKxE,GAAGA,EAAEoM,WAAW3D,mBAAmBzI,GAAG,MAAMzC,EAAEyC,EAAEE,MAAM0G,QAAQxG,GAAGkB,KAAKc,MAAM/B,EAAE,GAAG,IAAIwC,EAAE,KAAK,GAAGmL,MAAMC,QAAQ1Q,GAAG,IAAI,MAAM2D,KAAK3D,EAAE8C,EAAE8E,KAAK,CAACwB,GAAGzF,EAAEyF,GAAGuH,eAAehN,EAAEgN,iBAAiBhN,EAAEyF,KAAKvG,IAAIyC,EAAE,CAAC6E,WAAWxG,EAAEwG,YAAY,GAAGG,cAAc3G,EAAE2G,eAAe,GAAGsG,cAAcjN,EAAEiN,eAAe,GAAGtH,YAAY3F,EAAE2F,YAAYuH,WAAWlN,EAAEkN,kBAAkBvL,EAAEtF,EAAE,MAAMwF,EAAEF,GAAGgE,YAAYlH,EAAE,CAAC0O,kBAAkBxL,GAAG6E,YAAYlD,IAAIlD,KAAK2C,yBAAyB3C,OAAO,GAAGgN,qBAAqBzL,GAAGgF,eAAerD,IAAIlD,KAAK2C,yBAAyB3C,OAAO,GAAGiN,qBAAqB1L,GAAGsL,eAAe3J,IAAIlD,KAAK2C,yBAAyB3C,OAAO,GAAGkN,qBAAqBzL,GAAGA,EAAE2E,WAAW3E,EAAE2E,WAAWlD,IAAIlD,KAAK2C,yBAAyB3C,MAAM,GAAGmN,wBAAwB1L,GAAGA,EAAE8E,cAAc9E,EAAE8E,cAAcrD,IAAIlD,KAAK2C,yBAAyB3C,MAAM,GAAGqH,wBAAwB5F,GAAGA,EAAEoL,cAAcpL,EAAEoL,cAAc3J,IAAIlD,KAAK2C,yBAAyB3C,MAAM,IAAI,GAAGuB,GAAGuL,aAAazO,EAAEyO,WAAWvL,EAAEuL,YAAY/N,EAAEkF,OAAO,EAAE,CAAC5F,EAAE+O,qBAAqB,GAAG,IAAI,MAAM1O,KAAKK,EAAE,CAAC,MAAM6N,eAAe3Q,GAAGyC,EAAEI,EAAE7C,GAAGuF,iBAAiB,IAAI6L,EAAAA,EAAEpR,EAAEuF,kBAAkB,KAAKnD,EAAE+O,qBAAqBvJ,KAAK,CAACyB,QAAQ5G,EAAE2G,GAAGuH,eAAe,CAAC1I,KAAKjI,GAAGiI,MAAMhB,KAAKxE,GAAGsB,KAAKsN,qBAAqB5O,EAAEI,MAAM,GAAG2B,QAAQxE,GAAGwE,SAASyC,KAAKxE,IAAC,CAAI6O,SAASvN,KAAKsN,qBAAqB5O,EAAE,GAAGI,GAAG0O,QAAQxN,KAAKsN,qBAAqB5O,EAAE,GAAGI,QAAQ,GAAGqF,QAAQlI,GAAGkI,SAASjB,KAAKxE,GAAGsB,KAAKsN,qBAAqB5O,EAAEI,MAAM,GAAG0C,iBAAiB1C,MAAM,OAAOT,EAAEiP,qBAAqB5O,EAAEI,GAAG,OAAO,IAAI7C,EAAAA,EAAE,CAACqG,WAAW5D,EAAE4D,WAAWwE,UAASpC,EAAAA,EAAAA,IAAE,IAAIhG,EAAEoI,SAAStF,iBAAiB1C,MAAM6D,yBAAyBjE,GAAG,MAAMzC,GAAE,IAAKyC,EAAE2H,QAAQ,KAAK3H,EAAE+O,OAAO,CAACC,UAAK,EAAOC,iBAAY,GAAQ,MAAM,CAACrH,SAAS5H,EAAE4H,SAASwE,SAASpM,EAAEoM,SAAS2C,MAAMxR,EAAE,IAAIwF,EAAAA,EAAE,oCAAoCxF,EAAE0R,YAAY,CAACD,KAAKzR,EAAEyR,OAAO,MAAM7K,6BAA6BnE,EAAEzC,GAAG,MAAM6C,EAAE7C,EAAE2R,QAAQC,UAAU5R,EAAE2R,QAAQC,SAAS,IAAI5R,EAAE6R,QAAQ/O,EAAE9C,EAAE2R,QAAQG,YAAY9R,EAAE2R,QAAQI,YAAY,MAAM,CAAC1H,SAAS5H,EAAEoM,SAAS,KAAK2C,MAAM,IAAIhM,EAAAA,EAAE,0CAA0C3C,EAAE,CAAC4O,KAAK3O,KAAK0D,0BAA0B/D,EAAEzC,GAAG,MAAM6C,EAAEJ,aAAa4M,SAAS5M,EAAEA,GAAGA,EAAEuP,SAAS,IAAI3C,SAAS5M,GAAG,KAAK,GAAGI,EAAE,IAAI,MAAMC,KAAK9C,EAAE,CAAC,MAAMyC,EAAEzC,EAAE8C,GAAG,MAAML,IAAII,EAAEuN,IAAIvN,EAAEuN,IAAItN,EAAEL,GAAGI,EAAEyM,OAAOxM,EAAEL,IAAI,OAAOI,EAAE0D,0BAA6B,IAAL9D,EAAK,uDAAH,GAAI,MAAMyC,UAAUlF,EAAEqF,WAAWxC,EAAEsC,kBAAkBrC,GAAGiB,KAAKc,MAAM,MAAM,IAAIpC,EAAEkD,MAAM,CAACN,WAAWxC,EAAEgC,MAAM/B,EAAEoG,KAAKC,UAAU,CAAC4B,OAAOjI,SAAI,KAAU9C,EAAE2F,MAAMwC,EAAE,UAAUpE,KAAKwG,2BAA2B9H,IAAI8M,aAAa,WAAU9M,EAAAA,EAAAA,GAAE,EAACsF,EAAAA,EAAAA,OAAKrE,EAAEuO,UAAU,YAAO,IAAQxP,EAAAA,EAAAA,GAAE,EAACsF,EAAAA,EAAAA,IAAE,CAACmK,eAAc,KAAMxO,EAAEuO,UAAU,aAAQ,IAAQxP,EAAAA,EAAAA,GAAE,EAACsF,EAAAA,EAAAA,IAAE,CAACoK,UAAS,KAAMzO,EAAEuO,UAAU,YAAY,MAAMvO,GAAEjB,EAAAA,EAAAA,GAAE,EAAC0F,EAAAA,EAAAA,GAAE,oDAAoDzE,GAAG,MAAM0O,EAAE1O,G,wRCAtod,SAASC,EAAElB,EAAEzC,GAAG,OAAOA,EAAE,SAAS8C,EAAEL,EAAEzC,EAAEsF,EAAEzC,GAAG,OAAOyC,GAAG,KAAK,EAAE,OAAO+B,EAAE5E,EAAEzC,EAAE6C,EAAE,GAAG,KAAK,EAAE,MAAM,cAAcJ,EAAE4P,eAAehL,EAAE5E,EAAEzC,EAAE6C,EAAE,GAAuO,WAAiCyC,EAAEzC,GAAE,IAAzByP,UAAU7P,EAAEsL,MAAM/N,GAAO,EAAC,OAAOyC,EAAEI,GAAGyC,EAAEtF,EAAE6C,GAA1R+C,CAAEnD,EAAEzC,EAAE6C,EAAE,IAAI,SAAS4E,EAAEhF,EAAEzC,EAAEsF,EAAEzC,GAAG,OAAO,IAAIyC,EAAE+B,EAAE5E,EAAEzC,EAAE,GAAG8C,EAAEL,EAAEzC,EAAEsF,EAAEzC,GAAG,SAAS8B,EAAElC,EAAEzC,EAAEsF,EAAEzC,GAAG,OAAO,IAAIyC,EAAE+B,EAAE5E,EAAEzC,EAAE,GAAG8C,EAAEL,EAAEzC,EAAEsF,EAAEzC,GAAG,SAAS2G,EAAE/G,EAAEzC,EAAEsF,EAAEzC,GAAG,OAAO,IAAIyC,EAAE+B,EAAE5E,EAAEzC,EAAE,GAAGyH,EAAEhF,EAAEzC,EAAEsF,EAAEzC,GAAG,SAASwE,EAAT,EAAiC/B,EAAEzC,GAAE,IAAzByP,UAAU7P,EAAEsL,MAAM/N,GAAO,EAAC,OAAOyC,EAAEI,GAAGyC,EAAEtF,EAAE6C,GAA4D,MAAMsF,EAAEvE,YAAYnB,GAAGsB,KAAKwO,SAAS9P,EAAEsB,KAAKyO,cAAc,CAAC,oBAAoB,yBAAyB,uBAAuB,uBAAuBzO,KAAK0O,oBAAoB,CAAC,EAAE,GAAG1O,KAAK2O,WAAW,KAAK3O,KAAK4O,gBAAgBhP,EAAEI,KAAK6O,SAAS,GAAG7O,KAAK8O,oBAAoB,EAAE9O,KAAK+O,oBAAoB,EAAE/O,KAAKgP,iBAAiB,EAAEhP,KAAKiP,kBAAkB,KAAKjP,KAAKkP,qBAAqB,EAAElP,KAAKmP,uBAAuB,QAAQC,sBAAsB,MAAM,CAACC,OAAO,GAAGC,SAAS,IAAIC,oBAAoBtT,GAAG,GAAG+D,KAAKwO,SAASgB,iBAAiBvT,EAAEuN,UAAU,MAAMxJ,KAAKmP,uBAAuB,QAAQnP,KAAKiP,kBAAkB,KAAKjP,KAAK6O,SAAS5K,OAAO,GAAGhI,EAAEwT,KAAK,OAAO,MAAMlO,GAAEzC,EAAAA,EAAAA,GAAE7C,EAAEkN,aAAanJ,KAAKwO,SAASpM,uBAAuBnG,EAAEuF,kBAAkB,KAAI9C,EAAAA,EAAAA,IAAE6C,GAAG,IAAI,MAAM7C,KAAKzC,EAAEqT,SAAS/N,EAAE7C,EAAEoI,UAAU4I,yBAAyB,MAAM,GAAGC,SAASjR,EAAE6C,GAAG,MAAMzC,EAAEJ,EAAE2Q,QAAOpT,EAAAA,EAAAA,IAAE6C,GAAGA,EAAE+E,KAAKtC,GAAG,MAAME,EAAE3C,EAAEoE,KAAKxE,GAAGA,EAAEuI,OAAOjH,KAAKmP,uBAAuB,WAAW,IAAI,MAAMzQ,KAAK+C,EAAEzB,KAAKtB,GAAG,MAAMkR,WAAWlR,EAAEzC,GAAGyC,EAAE4Q,SAASzL,KAAK5H,GAAG4T,gBAAgBnR,GAAG,OAAOsB,KAAK2O,WAAWjQ,EAAE8K,UAAUxJ,KAAKwO,SAASgB,gBAAgB9Q,EAAE8K,YAAYxJ,KAAK4O,gBAAgB5O,KAAK8P,sBAAsBpR,IAAIsB,KAAKgP,iBAAiB,EAAEtQ,EAAE+Q,MAAMzP,KAAKgP,mBAAmBtQ,EAAEqR,MAAM/P,KAAKgP,mBAAmBtQ,EAAEyK,cAAc,IAAI,oBAAoBnJ,KAAKgQ,cAAc,CAACtR,EAAEzC,EAAEsF,IAAIvB,KAAKiQ,mBAAmBvR,EAAEzC,EAAEsF,GAAGvB,KAAKkQ,eAAexR,GAAGsB,KAAKmQ,oBAAoBzR,GAAG,MAAM,IAAI,sBAAsBsB,KAAKgQ,cAAc,CAACtR,EAAEzC,EAAEsF,IAAIvB,KAAKoQ,sBAAsB1R,EAAEzC,EAAEsF,GAAGvB,KAAKkQ,eAAexR,GAAGsB,KAAKqQ,uBAAuB3R,GAAG,MAAM,IAAI,uBAAuBsB,KAAKgQ,cAAc,CAACtR,EAAEzC,EAAEsF,IAAIvB,KAAKsQ,uBAAuB5R,EAAEzC,EAAEsF,GAAGvB,KAAKkQ,eAAexR,GAAGsB,KAAKuQ,wBAAwB7R,GAAG,MAAM,IAAI,yBAAyBsB,KAAKgQ,cAAc,CAACtR,EAAEzC,EAAEsF,IAAIvB,KAAKwQ,yBAAyB9R,EAAEzC,EAAEsF,GAAGvB,KAAKkQ,eAAexR,GAAGsB,KAAKyQ,0BAA0B/R,IAAIgS,gBAAgB,OAAO1Q,KAAK6O,SAAS5K,OAAO,EAAEjE,KAAK8O,oBAAoB,EAAE9O,KAAK0O,oBAAoB,GAAG,EAAE1O,KAAK0O,oBAAoB,GAAG,EAAE1O,KAAKiP,kBAAkB,KAAKjP,KAAKkP,qBAAqB,EAAE,CAAC5M,WAAW,IAAItC,KAAKmP,wBAAwBwB,uBAAuBC,UAAUlS,EAAEzC,EAAEsF,GAAG,IAAIvB,KAAK6O,SAAS5K,SAASjE,KAAK+O,oBAAoB9S,GAAG+D,KAAK6O,SAAShL,KAAK5H,GAAG4U,iBAAiBnS,EAAEzC,GAAG,MAAM6U,cAAcvP,EAAEwP,kBAAkBjS,GAAG7C,EAAE2D,GAAE6B,EAAAA,EAAAA,IAAEF,EAAEyP,QAAQzP,GAAE,GAAG,EAAGvB,KAAK2O,YAAY5P,GAAEV,EAAAA,EAAAA,IAAEuB,EAAEd,GAAE,GAAG,GAAIJ,EAAEqS,kBAAkBjS,EAAEJ,EAAEoS,cAAc,IAAI/R,GAAGoR,oBAAoBzR,GAAG,MAAMzC,EAAE,CAAC0N,EAAE,EAAEhL,EAAE,EAAE6C,iBAAiB9C,EAAE8C,kBAAkB,OAAO9C,EAAE+Q,OAAOxT,EAAE6N,EAAE,GAAGpL,EAAEqR,OAAO9T,EAAE+H,EAAE,GAAG/H,EAAEgU,mBAAmBvR,EAAEzC,EAAE6C,GAAG,MAAM2C,GAAEF,EAAAA,EAAAA,IAAEvB,KAAK2O,WAAW,aAAa,OAAO1S,EAAE+D,KAAK4O,gBAAgBnN,EAAExF,EAAE6C,EAAE,GAAGA,GAAG,KAAK,EAAEJ,EAAEiL,EAAE1N,EAAE,MAAM,KAAK,EAAEyC,EAAEC,EAAE1C,EAAE,MAAM,KAAK,EAAE,MAAMyC,EAAEA,EAAEoL,EAAE7N,EAAEyC,EAAEsF,EAAE/H,EAAE,MAAM,KAAK,EAAEyC,EAAEsF,EAAE/H,GAAGgV,wBAAwBvS,EAAEzC,GAAG,IAAI6C,EAAE,EAAE7C,GAAG,IAAI6C,EAAEkB,KAAK0O,oBAAoBzS,GAAG+D,KAAK0O,oBAAoBzS,IAAIyC,GAAG,MAAM+C,GAAEF,EAAAA,EAAAA,IAAEvB,KAAK2O,WAAW,aAAa,OAAO3O,KAAK4O,gBAAgBnN,EAAE/C,EAAEzC,EAAE6C,GAAGwR,uBAAuB5R,EAAEzC,EAAEsF,GAAGvB,KAAKkR,+BAA+BxS,EAAEyS,MAAMlV,EAAEsF,GAAG6O,sBAAsB1R,EAAEzC,EAAEsF,GAAGvB,KAAKkR,+BAA+BxS,EAAE0S,MAAMnV,EAAEsF,GAAGiP,yBAAyB9R,EAAEzC,EAAEsF,GAAG,IAAIA,GAAG7C,EAAE2S,OAAOxN,KAAK,IAAI,MAAM/E,EAAEkB,KAAKiR,wBAAwBhV,EAAEsF,GAAG7C,EAAE2S,OAAO3S,EAAE2S,OAAOpN,OAAO,GAAGJ,KAAK/E,GAAGuR,uBAAuB3R,GAAG,MAAM,CAAC0S,MAAM,CAAC,IAAI5P,iBAAiB9C,EAAE8C,iBAAiBiO,OAAO/Q,EAAE+Q,KAAKM,OAAOrR,EAAEqR,MAAMQ,wBAAwB7R,GAAG,MAAM,CAACyS,MAAM,CAAC,IAAI3P,iBAAiB9C,EAAE8C,iBAAiBiO,OAAO/Q,EAAE+Q,KAAKM,OAAOrR,EAAEqR,MAAMU,0BAA0B/R,GAAG,MAAM,CAAC2S,OAAO,GAAG7P,iBAAiB9C,EAAE8C,iBAAiBiO,OAAO/Q,EAAE+Q,KAAKM,OAAOrR,EAAEqR,MAAMmB,+BAA+BxS,EAAEzC,EAAEsF,GAAG,IAAIA,GAAG,GAAGvB,KAAK+O,wBAAwBrQ,EAAEmF,KAAK,IAAI7D,KAAK+O,oBAAoB/O,KAAK6O,WAAW7O,KAAK8O,qBAAqB,EAAE9O,KAAK0O,oBAAoB,GAAG,EAAE1O,KAAK0O,oBAAoB,GAAG,GAAG,MAAM5P,EAAEkB,KAAKiR,wBAAwBhV,EAAEsF,GAAGE,EAAE/C,EAAEA,EAAEuF,OAAO,GAAG,IAAI1C,IAAIvB,KAAKkP,qBAAqB,EAAElP,KAAKiP,kBAAkB,IAAIvC,MAAM1M,KAAKgP,kBAAkBvN,EAAEoC,KAAK7D,KAAKiP,oBAAoBjP,KAAKiP,kBAAkBjP,KAAKkP,wBAAwBpQ,EAAEgR,sBAAsBpR,GAAG,MAAM+Q,KAAKxT,EAAE8T,KAAKxO,GAAG7C,EAAE,OAAOzC,GAAGsF,EAAEkE,EAAExJ,EAAEyH,EAAEnC,EAAEX,EAAE7B,G,eCApwIP,eAAeoB,EAAE6B,EAAE3C,EAAEc,GAAG,MAAMO,GAAEoB,EAAAA,EAAAA,IAAEE,GAAGpD,EAAE,IAAIuB,GAAGgB,EAAE7B,EAAAA,EAAAA,KAAOD,GAAGkF,GAAGpD,EAAE0Q,wBAAwB1S,KAAKwF,SAASnI,EAAAA,EAAAA,IAAEkE,EAAES,EAAE,IAAIlC,EAAE,CAAC0D,uBAAuBxB,EAAEwB,uBAAuBoN,eAAexL,IAAI3F,GAAG,OAAO+F,ECAqtB,IAAIyB,EAAE,cAAc5J,EAAAA,EAAE4D,YAAYnB,GAAGoB,MAAMpB,GAAGsB,KAAKoB,kBAAkB,KAAKpB,KAAK0B,YAAY,KAAK1B,KAAKsB,WAAW,KAAKtB,KAAKqB,UAAU,KAAKrB,KAAKmC,cAAa,EAAGnC,KAAKqC,2BAA0B,EAAGrC,KAAKoC,uBAAuB,KAAKpC,KAAKiC,IAAI,KAASd,gBAAY,OAAOP,EAAAA,EAAAA,IAAEZ,KAAKiC,KAAkB,cAACvD,EAAEzC,GAAG,MAAMsF,QAAQvB,KAAK+H,YAAYrJ,EAAEzC,GAAG,OAAO+D,KAAKuR,mBAAmB7S,EAAE6C,EAAEtF,GAAoB,kBAACyC,EAAEzC,GAAG,MAAMsF,EAAEvB,KAAKwR,gBAAgB9S,GAAG+C,EAAE,MAAM/C,EAAE+S,gBAAgB,GAAG3S,GAAE6C,EAAAA,EAAAA,GAAI,+BAA+BtD,GAAGoD,GAAG3C,EAAE,IAAI8B,EAAE,GAAGZ,KAAKmC,cAAc9D,EAAE,IAAIuC,QAAQwD,EAAEpE,KAAKiC,IAAIV,EAAEtF,GAAG,MAAM8C,GAAG,GAAG,sBAAsBA,EAAEkI,KAAK,MAAMlI,EAAEiB,KAAKmC,cAAa,EAAG,OAAOnC,KAAKmC,cAAc9D,IAAIuC,QAAQ6E,EAAAA,EAAAA,GAAEzF,KAAKiC,IAAIV,EAAEtF,IAAI+D,KAAK0R,iBAAiB9Q,EAAEyO,QAAQzO,EAA0B,yBAAClC,EAAEzC,EAAEsF,GAAG,IAAIvB,KAAK2R,uBAAuBjT,KAAI+C,EAAAA,EAAAA,IAAEzB,KAAKqB,aAAapF,EAAEuJ,YAAYvJ,EAAEqT,WAAWrT,EAAEqT,SAASrL,OAAO,OAAOP,EAAAA,EAAAA,SAAWzH,GAAG,MAAM2V,uBAAuB9S,SAAST,EAAAA,EAAAA,IAAE,mEAAqDkD,GAAG,OAAOzC,EAAEJ,EAAEsB,KAAKqB,UAAUpF,GAAGgM,gBAAgBvJ,EAAEzC,GAAG,OAAO4F,EAAAA,EAAAA,GAAE7B,KAAKiC,IAAIjC,KAAKwR,gBAAgB9S,GAAGzC,GAAGiM,iBAAiBxJ,EAAEzC,GAAG,OCAxkEuC,eAAiBwF,EAAEpE,EAAEd,GAAG,MAAMqB,GAAElE,EAAAA,EAAAA,IAAE+H,GAAG,OAAOvC,EAAAA,EAAAA,IAAEtB,EAAEoB,EAAAA,EAAAA,KAAO3B,GAAG,IAAId,IAAIyI,MAAMtL,IAAC,CAAI4V,MAAM5V,EAAE2C,KAAKiT,MAAMlR,OAAOjC,EAAAA,EAAAA,SAAWzC,EAAE2C,KAAK+B,YDAs9DqD,CAAEhE,KAAKiC,IAAIjC,KAAKwR,gBAAgB9S,GAAGzC,GAAG+L,cAActJ,EAAEzC,GAAG,OAAO0C,EAAAA,EAAAA,GAAEqB,KAAKiC,IAAIjC,KAAKwR,gBAAgB9S,GAAGzC,GAAiC,+BAACyC,EAAEzC,GAAG,OAAO6V,QAAQvQ,IAAI4G,yBAAyB1G,UAAUpD,EAAAA,EAAAA,IAAEQ,QAAQ4F,IAAI,CAAC,wCAAwD,kCAA+DxI,GAAG,OAAOyC,EAAE6C,EAAEwQ,KAAKrT,IAAIsB,KAAKsB,YAAYtB,KAAKoB,sBAAsB1C,EAAEA,EAAEsS,SAAS1P,WAAW5C,EAAE4C,YAAYtB,KAAKsB,WAAW5C,EAAE0C,kBAAkB1C,EAAE0C,mBAAmBpB,KAAKoB,mBAAmBK,EAAEzB,KAAKiC,IAAIvD,EAAEzC,GAAyC,uCAACyC,EAAEzC,GAAG,OAAO6V,QAAQvQ,IAAI6G,iCAAiC3G,UAAUpD,EAAAA,EAAAA,IAAEQ,QAAQ4F,IAAI,CAAC,wCAAwD,kCAA+DxI,GAAG,OAAOyC,EAAE6C,EAAEwQ,KAAKrT,IAAIsB,KAAKsB,YAAYtB,KAAKoB,sBAAsB1C,EAAEA,EAAEsS,SAAS1P,WAAW5C,EAAE4C,YAAYtB,KAAKsB,WAAW5C,EAAE0C,kBAAkB1C,EAAE0C,mBAAmBpB,KAAKoB,mBAAmBK,EAAEzB,KAAKiC,IAAIvD,EAAEzC,GAA+B,6BAACyC,EAAEzC,GAAG,MAAM4L,uBAAuBtG,EAAEyQ,iBAAiBvQ,EAAEwQ,6BAA6BnT,SAAST,EAAAA,EAAAA,IAAE,gCAAgEpC,GAAG2E,GAAET,EAAAA,EAAAA,IAAEH,KAAKiC,KAAK,OAAOnD,EAAE8B,QAAQZ,KAAKqC,0BAA0Bd,EAAEX,EAAElC,EAAEzC,GAAGwF,EAAEb,EAAElC,EAAEzC,KAAkC,8BAACyC,EAAEzC,GAAG,MAAMoM,wBAAwB9G,SAASlD,EAAAA,EAAAA,IAAE,gCAA4DpC,GAAG,OAAOsF,EAAEvB,KAAKmB,UAAUzC,EAAEsB,KAAKoC,uBAAuBnG,GAAyB,uBAACyC,EAAEzC,GAAG,MAAMqM,iBAAiB/G,SAASlD,EAAAA,EAAAA,IAAE,gCAAqDpC,GAAG,OAAOsF,EAAEvB,KAAKmB,UAAUzC,EAAEzC,GAA6B,2BAACyC,EAAEzC,GAAG,MAAMsM,qBAAqBhH,SAASlD,EAAAA,EAAAA,IAAE,gCAAyDpC,GAAG,OAAOsF,EAAEvB,KAAKmB,UAAUzC,EAAEzC,GAA2B,yBAACyC,EAAEzC,GAAG,MAAMuM,mBAAmBjH,SAASlD,EAAAA,EAAAA,IAAE,gCAAuDpC,GAAG,OAAOsF,EAAEvB,KAAKmB,UAAUzC,EAAEzC,GAAGuV,gBAAgB9S,GAAG,IAAIzC,EAAEwC,EAAAA,EAAAA,KAAOC,GAAG,GAAGzC,EAAEmG,uBAAuBnG,EAAEmG,wBAAwBpC,KAAKoC,wBAAwBpC,KAAKsB,YAAYtB,KAAKoB,qBAAqBnF,EAAEA,IAAIyC,EAAEzC,EAAE+U,QAAQ/U,EAAEA,EAAEqF,WAAW5C,EAAE4C,YAAYtB,KAAKsB,WAAWrF,EAAEmF,kBAAkB1C,EAAE0C,kBAAkBkC,EAAAA,EAAAA,KAAO5E,EAAE0C,mBAAmBpB,KAAKoB,oBAAmBtC,EAAAA,EAAAA,IAAEkB,KAAKqB,YAAYrB,KAAK2R,uBAAuBjT,GAAG,CAACzC,EAAEA,IAAIyC,EAAEzC,EAAE+U,QAAQ/U,EAAEA,EAAEwK,kBAAkB,KAAK,IAAI,MAAM/H,KAAKsB,KAAKqB,UAAU6Q,aAAa,CAAC,GAAG,WAAWxT,EAAE,CAACzC,EAAEwK,kBAAkB/H,EAAE,MAAM,YAAYA,GAAGzC,EAAEwK,oBAAoBxK,EAAEwK,kBAAkB/H,GAAG,IAAIzC,EAAEwK,kBAAkB,MAAM,IAAIlF,EAAAA,EAAE,qCAAqC,sGAAsG,IAAGE,EAAAA,EAAAA,IAAExF,EAAE0K,aAAa1K,EAAE0K,UAAUwL,SAAS,KAAK,CAAClW,EAAEA,IAAIyC,EAAEzC,EAAE+U,QAAQ/U,GAAEwF,EAAAA,EAAAA,IAAExF,EAAE0K,aAAa1K,EAAE0K,UAAU,IAAI,MAAM+C,QAAQnI,EAAEqI,QAAQ9K,EAAE+K,QAAQxL,EAAE6L,aAAatJ,EAAEuJ,aAAapL,EAAEqL,aAAaxK,EAAEyK,OAAO/G,EAAEgH,OAAOnK,EAAEoK,OAAO1I,EAAE2I,UAAUxG,EAAEyG,UAAU9L,EAAE+L,UAAUjF,EAAEkF,YAAYvG,GAAGpE,KAAKqB,UAAUoI,oBAAoBxN,EAAE0K,UAAU9C,KAAKtC,EAAEzC,EAAET,EAAEuC,EAAE7B,EAAEa,EAAE0D,EAAEnD,EAAE0B,EAAEmC,EAAErF,EAAE8G,EAAErB,IAAI,OAAOnI,EAAEyV,iBAAiBhT,GAAG,IAAGI,EAAAA,EAAAA,IAAEkB,KAAK0B,eAAc5C,EAAAA,EAAAA,IAAEJ,GAAG,IAAI,MAAMzC,KAAKyC,EAAE,CAAC,MAAMA,EAAEsB,KAAK0B,YAAYkF,IAAI3K,EAAEgL,MAAMvI,GAAG0T,OAAOC,OAAOpW,EAAEyC,EAAEgH,WAAWiM,uBAAuBjT,GAAG,OAAOI,EAAAA,EAAAA,IAAEkB,KAAKqB,aAAY,IAAK3C,EAAE4T,gBAAgB,gBAAgB5T,EAAE6T,mBAAmB7T,EAAE+S,iBAAgB/S,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,IAAE,CAACkB,KAAKqD,EAAAA,KAAKuC,EAAEqI,UAAU,yBAAoB,IAAQxP,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,OAAK8G,EAAEqI,UAAU,mBAAc,IAAQxP,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,OAAK8G,EAAEqI,UAAU,kBAAa,IAAQxP,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,OAAK8G,EAAEqI,UAAU,iBAAY,IAAQxP,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,IAAE,CAACqP,UAAS,KAAMvI,EAAEqI,UAAU,YAAY,OAAMxP,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,OAAK8G,EAAEqI,UAAU,oBAAe,IAAQxP,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,OAAK8G,EAAEqI,UAAU,iCAA4B,IAAQxP,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,OAAK8G,EAAEqI,UAAU,8BAAyB,IAAQxP,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,IAAE,CAACkB,KAAKuS,UAAU3M,EAAEqI,UAAU,WAAM,GAAQrI,GAAEnH,EAAAA,EAAAA,GAAE,EAACkB,EAAAA,EAAAA,GAAE,yBAAyBiG,GAAG,MAAM8D,EAAE9D,G,6GEA3mL,SAASpE,EAAExF,GAAG,MAAM,CAACoN,SAAS,CAACpJ,KAAK,SAASwS,OAAO,sBAAsBxW,GAAG,2BAA2BA,EAAEyC,EAAAA,GAAE,yBAAyBzC,EAAEsF,EAAAA,GAAEpB,EAAAA,KAAI,MAAMS,EAAE,6BAA6B,IAAIhB,EAAE,EAAE,SAASvB,EAAEpC,EAAE6C,GAAG,IAAG6C,EAAAA,EAAAA,GAAI,yBAAyB,MAAM,MAAM,CAAC7C,GAAG,QAAQ7C,IAAI,IAAI,IAAIyC,EAAG,QAAOI,YAAY,IAAI,MAAMA,KAAK7C,EAAGyC,GAAI,OAAMkC,EAAE8R,KAAK5T,GAAI,IAAGA,IAAK,KAAIA,WAAWqG,KAAKC,UAAUnJ,EAAE6C,OAAO,MAAMyC,EAAE,IAAIoR,SAAU,wCAAuC/S,6CAA6ClB,+BAAlG,GAAoI,MAAM,IAAI,IAAI6C,EAAE,MAAM7C,GAAG,MAAM,MAAM,CAACI,GAAG,QAAQ7C,KAAK,SAAS8C,IAAO,IAALD,EAAK,uDAAH,GAAI,MAAM,CAAC,CAACmI,KAAK,cAAc0G,YAAY,GAAGO,UAAU,CAAC5L,YAAWrG,EAAAA,EAAAA,IAAE6C,MAAM,SAAS+C,EAAE5F,EAAEyC,GAAG,MAAM,CAACkU,UAAU,CAAClW,mBAAkB,GAAImO,WAAW,KAAKjM,KAAK,CAACiU,aAAY,EAAGC,oBAAmB,EAAGC,WAAU,EAAGC,UAAU/W,GAAGgX,SAAS,CAACC,iCAAgC,GAAIpR,WAAW,CAACqR,mBAAkB,EAAGC,kBAAiB,EAAGC,qBAAoB,EAAGC,YAAY5U,EAAE6U,eAAe7U,EAAEsH,gBAAgBtH,EAAE8U,wBAAuB,EAAGC,eAAc,EAAGC,wBAAuB,EAAG3R,0BAAyB,EAAG4R,0BAAyB,EAAGC,2BAA0B,EAAGC,cAAa,EAAGC,eAAepV,EAAEqV,gCAA+B,GAAInS,MAAM9C,EAAAA,EAAEkV,aAAa,CAACC,eAAc,EAAGjX,iBAAgB,EAAGC,oBAAmB,EAAGP,mBAAkB,GAAIwX,iBAAiB,CAACxX,mBAAkB,GAAIyX,QAAQ,CAACC,uBAAuB1V,EAAE2V,kBAAiB,EAAGC,oDAAmD,EAAGC,2BAA0B,EAAGC,wBAAuB,EAAGC,0BAAyB,EAAGC,2BAA0B,EAAGC,wBAAuB,EAAGC,2BAA0B,EAAGC,wBAAuB,M,qECAlxDrW,eAAeoB,EAAEA,EAAEd,EAAEkF,GAAG,MAAM7D,GAAEsB,EAAAA,EAAAA,IAAE7B,GAAG,OAAO2B,EAAAA,EAAAA,IAAEpB,EAAElE,EAAAA,EAAAA,KAAO6C,GAAG,IAAIkF,IAAIuD,MAAM9F,GAAGA,EAAE7C,KAAKiT,U,qECApFrT,eAAeM,EAAEA,EAAEJ,EAAEsF,GAAG,MAAMpE,GAAE6B,EAAAA,EAAAA,IAAE3C,GAAG,OAAOyC,EAAAA,EAAAA,IAAE3B,EAAE3D,EAAAA,EAAAA,KAAOyC,GAAG,IAAIsF,IAAIuD,MAAM9F,GAAGA,EAAE7C,KAAKkW","sources":["../node_modules/@arcgis/core/layers/graphics/assetEditingSupport.js","../node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js","../node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js","../node_modules/@arcgis/core/rest/query/operations/pbfJSONFeatureSet.js","../node_modules/@arcgis/core/rest/query/executeQueryPBF.js","../node_modules/@arcgis/core/layers/graphics/sources/support/QueryTask.js","../node_modules/@arcgis/core/rest/query/executeForExtent.js","../node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js","../node_modules/@arcgis/core/rest/query/executeForCount.js","../node_modules/@arcgis/core/rest/query/executeForIds.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nvar E;!function(E){E[E.PROJECT_VERTICES=1]=\"PROJECT_VERTICES\"}(E||(E={}));export{E as AssetMapEditFlags};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};export{t as queryCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import{id as s}from\"../../../kernel.js\";import a from\"../../../request.js\";import r from\"../../../TimeExtent.js\";import o from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import{JSONMap as i}from\"../../../core/jsonMap.js\";import n from\"../../../core/Loadable.js\";import{isSome as u,isNone as l,unwrap as d}from\"../../../core/maybe.js\";import{setDeepValue as c}from\"../../../core/object.js\";import{debounce as p}from\"../../../core/promiseUtils.js\";import{join as h,dataComponents as y}from\"../../../core/urlUtils.js\";import{property as m}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as f}from\"../../../core/accessorSupport/decorators/subclass.js\";import g from\"../../../geometry/Extent.js\";import{fromJSON as R}from\"../../../geometry/support/jsonUtils.js\";import{AssetMapEditFlags as F}from\"../assetEditingSupport.js\";import{createDrawingInfo as b}from\"./support/clientSideDefaults.js\";import q from\"./support/QueryTask.js\";import{isHostedAgolService as I}from\"../../support/arcgisLayerUrl.js\";import{unapplyEditsZUnitScaling as _}from\"../../../rest/query/operations/editsZScale.js\";import w from\"../../../geometry/SpatialReference.js\";const E=new i({originalAndCurrentFeatures:\"original-and-current-features\",none:\"none\"});async function S(e){if(\"string\"==typeof e){const t=y(e);return t||{data:e}}return new Promise(((t,s)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>t(y(a.result)),a.onerror=e=>s(e)}))}const O=new Set([\"Feature Layer\",\"Table\"]),j=new i({Started:\"published\",Publishing:\"publishing\",Stopped:\"unavailable\"});let T=class extends n{constructor(){super(...arguments),this.type=\"feature-layer\",this.refresh=p((async()=>{await this.load();const e=this.sourceJSON.editingInfo?.lastEditDate;if(null==e)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}const t=e!==this.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:t,updates:t?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}}))}load(e){const t=u(e)?e.signal:null,s=this.layer.sourceJSON;return this.addResolvingPromise(this._fetchService(s,t)),Promise.resolve(this)}get queryTask(){const{capabilities:e,parsedUrl:t,dynamicDataSource:s,infoFor3D:a,gdbVersion:r,spatialReference:o,fieldsIndex:i}=this.layer,n=has(\"featurelayer-pbf\")&&e?.query.supportsFormatPBF&&l(a),u=e?.operations?.supportsQueryAttachments??!1;return new q({url:t.path,pbfSupported:n,fieldsIndex:i,infoFor3D:a,dynamicDataSource:s,gdbVersion:r,sourceSpatialReference:o,queryAttachmentsSupported:u})}async addAttachment(e,t){await this.load();const s=e.attributes[this.layer.objectIdField],r=this.layer.parsedUrl.path+\"/\"+s+\"/addAttachment\",o=this._getLayerRequestOptions(),i=this._getFormDataForAttachment(t,o.query);try{const e=await a(r,{body:i});return this._createFeatureEditResult(e.data.addAttachmentResult)}catch(n){throw this._createAttachmentErrorResult(s,n)}}async updateAttachment(e,t,s){await this.load();const r=e.attributes[this.layer.objectIdField],o=this.layer.parsedUrl.path+\"/\"+r+\"/updateAttachment\",i=this._getLayerRequestOptions({query:{attachmentId:t}}),n=this._getFormDataForAttachment(s,i.query);try{const e=await a(o,{body:n});return this._createFeatureEditResult(e.data.updateAttachmentResult)}catch(u){throw this._createAttachmentErrorResult(r,u)}}async applyEdits(e,t){await this.load();const r=this.layer.infoFor3D,o=u(r),i=o||(t?.globalIdUsed??!1),n=e.addFeatures?.map((e=>this._serializeFeature(e,r))).filter(u)??[],l=e.updateFeatures?.map((e=>this._serializeFeature(e,r))).filter(u)??[],c=this._getFeatureIds(e.deleteFeatures,i);_(n,l,this.layer.spatialReference);const p=[],h=[],y=[...e.deleteAttachments??[]];for(const s of e.addAttachments??[])p.push(await this._serializeAttachment(s));for(const s of e.updateAttachments??[])h.push(await this._serializeAttachment(s));const m=p.length||h.length||y.length?{adds:p,updates:h,deletes:y}:null;let f,g=null;if(o){g=new Map;const t=[];for(const a of e.addAssets??[])t.push(this._serializeAssetMapEditAndUploadAssets(a,g));const s=await Promise.all(t);f=s.length?{adds:s,updates:[],deletes:[]}:void 0}const R={gdbVersion:t?.gdbVersion||this.layer.gdbVersion,rollbackOnFailure:t?.rollbackOnFailureEnabled,useGlobalIds:i,returnEditMoment:t?.returnEditMoment,usePreviousEditMoment:t?.usePreviousEditMoment,sessionId:t?.sessionId};t?.returnServiceEditsOption?(R.edits=JSON.stringify([{id:this.layer.layerId,adds:n,updates:l,deletes:c,attachments:m,assetMaps:d(f)}]),R.returnServiceEditsOption=E.toJSON(t?.returnServiceEditsOption),R.returnServiceEditsInSourceSR=t?.returnServiceEditsInSourceSR):(R.adds=n.length?JSON.stringify(n):null,R.updates=l.length?JSON.stringify(l):null,R.deletes=c.length?i?JSON.stringify(c):c.join(\",\"):null,R.attachments=m&&JSON.stringify(m),R.assetMaps=u(f)?JSON.stringify(f):void 0);const F=this._getLayerRequestOptions({method:\"post\",query:R}),b=t?.returnServiceEditsOption?this.layer.url:this.layer.parsedUrl.path,q=await a(b+\"/applyEdits\",F);if(!this.layer.capabilities.operations?.supportsEditing&&this.layer.effectiveCapabilities?.operations?.supportsEditing){const e=s?.findCredential(this.layer.url);await(e?.refreshToken())}if(o&&null!=q.data&&null!=q.data.assetMaps){const e=q.data,t=this.layer.objectIdField,s=[];for(const a of e.addResults)a.success&&s.push(a.objectId);for(const a of e.updateResults)a.success&&s.push(a.objectId);const r=this._createRequestQueryOptions(),o=await a(b+\"/query\",{...r,query:{f:\"json\",formatOf3DObjects:\"3D_glb\",where:`OBJECTID IN (${s.join(\",\")})`,outFields:`${t}`}});if(o&&o.data&&o.data.assetMaps&&u(g)){const e=o.data.assetMaps;for(const t of e){const e=g.get(t.parentGlobalId).geometry;u(e)&&\"mesh\"===e.type&&e.updateExternalSource({source:[{name:t.assetName,source:t.assetName}],extent:e.extent})}}}return this._createEditsResult(q)}async deleteAttachments(e,t){await this.load();const s=e.attributes[this.layer.objectIdField],r=this.layer.parsedUrl.path+\"/\"+s+\"/deleteAttachments\";try{return(await a(r,this._getLayerRequestOptions({query:{attachmentIds:t.join(\",\")},method:\"post\"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(o){throw this._createAttachmentErrorResult(s,o)}}fetchRecomputedExtents(e={}){const t=e.signal;return this.load({signal:t}).then((async()=>{const t=this._getLayerRequestOptions({...e,query:{returnUpdates:!0}}),{layerId:s,url:o}=this.layer,{data:i}=await a(`${o}/${s}`,t),{id:n,extent:u,fullExtent:l,timeExtent:d}=i,c=u||l;return{id:n,fullExtent:c&&g.fromJSON(c),timeExtent:d&&r.fromJSON({start:d[0],end:d[1]})}}))}async queryAttachments(e,t={}){await this.load();const s=this._getLayerRequestOptions(t);return this.queryTask.executeAttachmentQuery(e,s)}async queryFeatures(e,t){return await this.load(),this.queryTask.execute(e,{...t,query:this._createRequestQueryOptions(t)})}async queryFeaturesJSON(e,t){return await this.load(),this.queryTask.executeJSON(e,{...t,query:this._createRequestQueryOptions(t)})}async queryObjectIds(e,t){return await this.load(),this.queryTask.executeForIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryFeatureCount(e,t){return await this.load(),this.queryTask.executeForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryExtent(e,t){return await this.load(),this.queryTask.executeForExtent(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeatures(e,t){return await this.load(),this.queryTask.executeRelationshipQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeaturesCount(e,t){return await this.load(),this.queryTask.executeRelationshipQueryForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopFeatures(e,t){return await this.load(),this.queryTask.executeTopFeaturesQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopObjectIds(e,t){return await this.load(),this.queryTask.executeForTopIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopExtents(e,t){return await this.load(),this.queryTask.executeForTopExtents(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopCount(e,t){return await this.load(),this.queryTask.executeForTopCount(e,{...t,query:this._createRequestQueryOptions(t)})}async fetchPublishingStatus(){if(!I(this.layer.url))return\"unavailable\";const e=h(this.layer.url,\"status\"),t=await a(e,{query:{f:\"json\"}});return j.fromJSON(t.data.status)}_createRequestQueryOptions(e){const t={...this.layer.customParameters,token:this.layer.apiKey,...e?.query};return this.layer.datesInUnknownTimezone&&(t.timeReferenceUnknownClient=!0),t}async _fetchService(e,t){if(!e){const{data:s}=await a(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:has(\"featurelayer-advanced-symbols\")?{returnAdvancedSymbols:!0}:{},signal:t}));e=s}this.sourceJSON=this._patchServiceJSON(e);const s=e.type;if(!O.has(s))throw new o(\"feature-layer-source:unsupported-type\",`Source type \"${s}\" is not supported`)}_patchServiceJSON(e){if(\"Table\"!==e.type&&e.geometryType&&!e?.drawingInfo?.renderer&&!e.defaultSymbol){const t=b(e.geometryType).renderer;c(\"drawingInfo.renderer\",t,e)}return\"esriGeometryMultiPatch\"===e.geometryType&&e.infoFor3D&&(e.geometryType=\"mesh\"),e}_serializeFeature(e,t){const{geometry:s,attributes:a}=e;if(u(t)&&u(e.geometry)&&\"mesh\"===e.geometry.type){const s={...a},r=e.geometry,o=r.origin,i=r.transform;if(s[t.transformFieldRoles.originX]=o.x,s[t.transformFieldRoles.originY]=o.y,s[t.transformFieldRoles.originZ]=o.z,u(i)){const e=i.translation,a=i.scale,r=i.rotation;s[t.transformFieldRoles.translationX]=e[0],s[t.transformFieldRoles.translationY]=-e[2],s[t.transformFieldRoles.translationZ]=e[1],s[t.transformFieldRoles.scaleX]=a[0],s[t.transformFieldRoles.scaleY]=a[1],s[t.transformFieldRoles.scaleZ]=a[2],s[t.transformFieldRoles.rotationX]=r[0],s[t.transformFieldRoles.rotationY]=r[2],s[t.transformFieldRoles.rotationZ]=r[1],s[t.transformFieldRoles.rotationDeg]=r[3]}return{geometry:null,attributes:s}}return l(s)?{attributes:a}:\"mesh\"===s.type||\"extent\"===s.type?null:{geometry:s.toJSON(),attributes:a}}async _serializeAttachment(e){const{feature:t,attachment:s}=e,{globalId:a,name:r,contentType:o,data:i,uploadId:n}=s,u={globalId:a,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};if(t&&(u.parentGlobalId=\"attributes\"in t?t.attributes&&t.attributes[this.layer.globalIdField]:t.globalId),n)u.uploadId=n;else if(i){const e=await S(i);e&&(u.contentType=e.mediaType,u.data=e.data),i instanceof File&&(u.name=i.name)}return r&&(u.name=r),o&&(u.contentType=o),u}async _serializeAssetMapEditAndUploadAssets(e,t){const s=this.layer.url;let r=null;try{const t=new Blob([e.data],{type:e.mimeType}),i=new FormData;i.append(\"f\",\"json\"),i.append(\"file\",t,`${e.assetName}`);const n={body:i,method:\"post\",responseType:\"json\"},{data:u}=await a(`${s}/uploads/upload`,n);if(!u.success)throw new o(\"feature-layer-source:upload-failure\",\"Expected upload to be successfull.\");r={assetType:e.assetType,assetUploadId:u.item.itemID}}catch(p){r=null}if(l(r)){const t=await S(new Blob([e.data]));if(!t.isBase64)throw new o(\"feature-layer-source:uploadAssets-failure\",\"Expected gltf data in base64 format after conversion.\");r={assetType:e.assetType,assetData:t.data}}if(l(r))throw new o(\"feature-layer-source:uploadAssets-failure\",\"Unable to prepare uploadAsset request options.\");const i={method:\"post\",query:{f:\"json\",assets:JSON.stringify([r])},responseType:\"json\"},n=await a(h(this.layer.parsedUrl.path,\"uploadAssets\"),i);if(1!==n.data.uploadResults.length||!n.data.uploadResults[0].success)throw new o(\"feature-layer-source:uploadAssets-failure\",\"Bad response.\");const u=n.data.uploadResults[0].assetHash,d=[];e.flags&F.PROJECT_VERTICES&&d.push(\"PROJECT_VERTICES\");const c={globalId:e.assetMapGlobalId,parentGlobalId:e.featureGlobalId,assetName:e.assetName,assetHash:u,flags:d};return t.set(e.featureGlobalId,e.feature),c}_getFeatureIds(e,t){const s=e?.[0];return s?this._canUseGlobalIds(t,e)?this._getGlobalIdsFromFeatureIdentifier(e):\"objectId\"in s?this._getObjectIdsFromFeatureIdentifier(e):this._getIdsFromFeatures(e):[]}_getIdsFromFeatures(e){const t=this.layer.objectIdField;return e.map((e=>e.attributes&&e.attributes[t]))}_canUseGlobalIds(e,t){return e&&\"globalId\"in t[0]}_getObjectIdsFromFeatureIdentifier(e){return e.map((e=>e.objectId))}_getGlobalIdsFromFeatureIdentifier(e){return e.map((e=>e.globalId))}_createEditsResult(e){const t=e.data,{layerId:s}=this.layer,a=[];let r=null;if(Array.isArray(t))for(const n of t)a.push({id:n.id,editedFeatures:n.editedFeatures}),n.id===s&&(r={addResults:n.addResults??[],updateResults:n.updateResults??[],deleteResults:n.deleteResults??[],attachments:n.attachments,editMoment:n.editMoment});else r=t;const o=r?.attachments,i={addFeatureResults:r?.addResults?.map(this._createFeatureEditResult,this)??[],updateFeatureResults:r?.updateResults?.map(this._createFeatureEditResult,this)??[],deleteFeatureResults:r?.deleteResults?.map(this._createFeatureEditResult,this)??[],addAttachmentResults:o&&o.addResults?o.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:o&&o.updateResults?o.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:o&&o.deleteResults?o.deleteResults.map(this._createFeatureEditResult,this):[]};if(r?.editMoment&&(i.editMoment=r.editMoment),a.length>0){i.editedFeatureResults=[];for(const e of a){const{editedFeatures:t}=e,s=t?.spatialReference?new w(t.spatialReference):null;i.editedFeatureResults.push({layerId:e.id,editedFeatures:{adds:t?.adds?.map((e=>this._createEditedFeature(e,s)))||[],updates:t?.updates?.map((e=>({original:this._createEditedFeature(e[0],s),current:this._createEditedFeature(e[1],s)})))||[],deletes:t?.deletes?.map((e=>this._createEditedFeature(e,s)))||[],spatialReference:s}})}}return i}_createEditedFeature(e,s){return new t({attributes:e.attributes,geometry:R({...e.geometry,spatialReference:s})})}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new o(\"feature-layer-source:edit-failure\",t.description,{code:t.code}):null}}_createAttachmentErrorResult(e,t){const s=t.details.messages&&t.details.messages[0]||t.message,a=t.details.httpStatus||t.details.messageCode;return{objectId:e,globalId:null,error:new o(\"feature-layer-source:attachment-failure\",s,{code:a})}}_getFormDataForAttachment(e,t){const s=e instanceof FormData?e:e&&e.elements?new FormData(e):null;if(s)for(const a in t){const e=t[a];null!=e&&(s.set?s.set(a,e):s.append(a,e))}return s}_getLayerRequestOptions(e={}){const{parsedUrl:t,gdbVersion:s,dynamicDataSource:a}=this.layer;return{...e,query:{gdbVersion:s,layer:a?JSON.stringify({source:a}):void 0,...t.query,f:\"json\",...this._createRequestQueryOptions(e)},responseType:\"json\"}}};e([m()],T.prototype,\"type\",void 0),e([m({constructOnly:!0})],T.prototype,\"layer\",void 0),e([m({readOnly:!0})],T.prototype,\"queryTask\",null),T=e([f(\"esri.layers.graphics.sources.FeatureLayerSource\")],T);const A=T;export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,assertIsSome as t,unwrapOrThrow as r}from\"../../../core/maybe.js\";import{getGeometryZScaler as s}from\"../../../geometry/support/zscale.js\";import{unquantizeOptimizedGeometry as o,convertToGeometry as i}from\"../../../layers/graphics/featureConversionUtils.js\";function n(e,t){return t}function a(e,t,r,s){switch(r){case 0:return c(e,t+s,0);case 1:return\"lowerLeft\"===e.originPosition?c(e,t+s,1):l(e,t+s,1)}}function h(e,t,r,s){return 2===r?c(e,t,2):a(e,t,r,s)}function u(e,t,r,s){return 2===r?c(e,t,3):a(e,t,r,s)}function d(e,t,r,s){return 3===r?c(e,t,3):h(e,t,r,s)}function c({translate:e,scale:t},r,s){return e[s]+r*t[s]}function l({translate:e,scale:t},r,s){return e[s]-r*t[s]}class f{constructor(e){this._options=e,this.geometryTypes=[\"esriGeometryPoint\",\"esriGeometryMultipoint\",\"esriGeometryPolyline\",\"esriGeometryPolygon\"],this._previousCoordinate=[0,0],this._transform=null,this._applyTransform=n,this._lengths=[],this._currentLengthIndex=0,this._toAddInCurrentPath=0,this._vertexDimension=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,this._attributesConstructor=class{}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(t){if(this._options.applyTransform&&(t.transform=null),this._attributesConstructor=class{},this._coordinateBuffer=null,this._lengths.length=0,!t.hasZ)return;const r=s(t.geometryType,this._options.sourceSpatialReference,t.spatialReference);if(!e(r))for(const e of t.features)r(e.geometry)}createSpatialReference(){return{}}addField(e,r){const s=e.fields;t(s),s.push(r);const o=s.map((e=>e.name));this._attributesConstructor=function(){for(const e of o)this[e]=null}}addFeature(e,t){e.features.push(t)}prepareFeatures(e){switch(this._transform=e.transform,this._options.applyTransform&&e.transform&&(this._applyTransform=this._deriveApplyTransform(e)),this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++,e.geometryType){case\"esriGeometryPoint\":this.addCoordinate=(e,t,r)=>this.addCoordinatePoint(e,t,r),this.createGeometry=e=>this.createPointGeometry(e);break;case\"esriGeometryPolygon\":this.addCoordinate=(e,t,r)=>this._addCoordinatePolygon(e,t,r),this.createGeometry=e=>this._createPolygonGeometry(e);break;case\"esriGeometryPolyline\":this.addCoordinate=(e,t,r)=>this._addCoordinatePolyline(e,t,r),this.createGeometry=e=>this._createPolylineGeometry(e);break;case\"esriGeometryMultipoint\":this.addCoordinate=(e,t,r)=>this._addCoordinateMultipoint(e,t,r),this.createGeometry=e=>this._createMultipointGeometry(e)}}createFeature(){return this._lengths.length=0,this._currentLengthIndex=0,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(e,t,r){0===this._lengths.length&&(this._toAddInCurrentPath=t),this._lengths.push(t)}addQueryGeometry(e,t){const{queryGeometry:r,queryGeometryType:s}=t,n=o(r.clone(),r,!1,!1,this._transform),a=i(n,s,!1,!1);e.queryGeometryType=s,e.queryGeometry={...a}}createPointGeometry(e){const t={x:0,y:0,spatialReference:e.spatialReference};return e.hasZ&&(t.z=0),e.hasM&&(t.m=0),t}addCoordinatePoint(e,t,s){const o=r(this._transform,\"transform\");switch(t=this._applyTransform(o,t,s,0),s){case 0:e.x=t;break;case 1:e.y=t;break;case 2:\"z\"in e?e.z=t:e.m=t;break;case 3:e.m=t}}_transformPathLikeValue(e,t){let s=0;t<=1&&(s=this._previousCoordinate[t],this._previousCoordinate[t]+=e);const o=r(this._transform,\"transform\");return this._applyTransform(o,e,t,s)}_addCoordinatePolyline(e,t,r){this._dehydratedAddPointsCoordinate(e.paths,t,r)}_addCoordinatePolygon(e,t,r){this._dehydratedAddPointsCoordinate(e.rings,t,r)}_addCoordinateMultipoint(e,t,r){0===r&&e.points.push([]);const s=this._transformPathLikeValue(t,r);e.points[e.points.length-1].push(s)}_createPolygonGeometry(e){return{rings:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_createPolylineGeometry(e){return{paths:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_createMultipointGeometry(e){return{points:[],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_dehydratedAddPointsCoordinate(e,t,r){0===r&&0==this._toAddInCurrentPath--&&(e.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);const s=this._transformPathLikeValue(t,r),o=e[e.length-1];0===r&&(this._coordinateBufferPtr=0,this._coordinateBuffer=new Array(this._vertexDimension),o.push(this._coordinateBuffer)),this._coordinateBuffer[this._coordinateBufferPtr++]=s}_deriveApplyTransform(e){const{hasZ:t,hasM:r}=e;return t&&r?d:t?h:r?u:a}}export{f as JSONFeatureSetParserContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{parseUrl as r}from\"../utils.js\";import{JSONFeatureSetParserContext as e}from\"./operations/pbfJSONFeatureSet.js\";import{executeQueryPBF as t}from\"./operations/query.js\";import o from\"../support/FeatureSet.js\";import a from\"../support/Query.js\";async function s(r,e,t){const s=await n(r,a.from(e),t);return o.fromJSON(s)}async function n(o,s,n){const p=r(o),i={...n},u=a.from(s),m=!u.quantizationParameters,{data:f}=await t(p,u,new e({sourceSpatialReference:u.sourceSpatialReference,applyTransform:m}),i);return f}export{s as executeQueryPBF,n as executeRawQueryPBF};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import{isNone as o,isSome as s}from\"../../../../core/maybe.js\";import{whenOrAbort as i}from\"../../../../core/promiseUtils.js\";import{urlToObject as u}from\"../../../../core/urlUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{DataLayerSource as c}from\"../../../support/source/DataLayerSource.js\";import{parseUrl as p}from\"../../../../rest/utils.js\";import{executeForCount as l}from\"../../../../rest/query/executeForCount.js\";import{executeForExtent as m}from\"../../../../rest/query/executeForExtent.js\";import{executeForIds as y}from\"../../../../rest/query/executeForIds.js\";import{executeRawQueryJSON as d}from\"../../../../rest/query/executeQueryJSON.js\";import{executeRawQueryPBF as f}from\"../../../../rest/query/executeQueryPBF.js\";import h from\"../../../../rest/support/FeatureSet.js\";import S from\"../../../../rest/support/Query.js\";let F=class extends t{constructor(e){super(e),this.dynamicDataSource=null,this.fieldsIndex=null,this.gdbVersion=null,this.infoFor3D=null,this.pbfSupported=!1,this.queryAttachmentsSupported=!1,this.sourceSpatialReference=null,this.url=null}get parsedUrl(){return u(this.url)}async execute(e,t){const r=await this.executeJSON(e,t);return this.featureSetFromJSON(e,r,t)}async executeJSON(e,t){const r=this._normalizeQuery(e),o=null!=e.outStatistics?.[0],s=has(\"featurelayer-pbf-statistics\"),i=!o||s;let u;if(this.pbfSupported&&i)try{u=await f(this.url,r,t)}catch(a){if(\"query:parsing-pbf\"!==a.name)throw a;this.pbfSupported=!1}return this.pbfSupported&&i||(u=await d(this.url,r,t)),this._normalizeFields(u.fields),u}async featureSetFromJSON(e,t,r){if(!this._queryIs3DObjectFormat(e)||o(this.infoFor3D)||!t.assetMaps||!t.features||!t.features.length)return h.fromJSON(t);const{meshFeatureSetFromJSON:s}=await i(import(\"../../../../rest/support/meshFeatureSet.js\"),r);return s(e,this.infoFor3D,t)}executeForCount(e,t){return l(this.url,this._normalizeQuery(e),t)}executeForExtent(e,t){return m(this.url,this._normalizeQuery(e),t)}executeForIds(e,t){return y(this.url,this._normalizeQuery(e),t)}async executeRelationshipQuery(e,t){const[{default:r},{executeRelationshipQuery:o}]=await i(Promise.all([import(\"../../../../rest/support/RelationshipQuery.js\"),import(\"../../../../rest/query/executeRelationshipQuery.js\")]),t);return e=r.from(e),(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),o(this.url,e,t)}async executeRelationshipQueryForCount(e,t){const[{default:r},{executeRelationshipQueryForCount:o}]=await i(Promise.all([import(\"../../../../rest/support/RelationshipQuery.js\"),import(\"../../../../rest/query/executeRelationshipQuery.js\")]),t);return e=r.from(e),(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),o(this.url,e,t)}async executeAttachmentQuery(e,t){const{executeAttachmentQuery:r,fetchAttachments:o,processAttachmentQueryResult:s}=await i(import(\"../../../../rest/query/operations/queryAttachments.js\"),t),u=p(this.url);return s(u,await(this.queryAttachmentsSupported?r(u,e,t):o(u,e,t)))}async executeTopFeaturesQuery(e,t){const{executeTopFeaturesQuery:r}=await i(import(\"../../../../rest/query/executeTopFeaturesQuery.js\"),t);return r(this.parsedUrl,e,this.sourceSpatialReference,t)}async executeForTopIds(e,t){const{executeForTopIds:r}=await i(import(\"../../../../rest/query/executeForTopIds.js\"),t);return r(this.parsedUrl,e,t)}async executeForTopExtents(e,t){const{executeForTopExtents:r}=await i(import(\"../../../../rest/query/executeForTopExtents.js\"),t);return r(this.parsedUrl,e,t)}async executeForTopCount(e,t){const{executeForTopCount:r}=await i(import(\"../../../../rest/query/executeForTopCount.js\"),t);return r(this.parsedUrl,e,t)}_normalizeQuery(e){let t=S.from(e);if(t.sourceSpatialReference=t.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&(t=t===e?t.clone():t,t.gdbVersion=e.gdbVersion||this.gdbVersion,t.dynamicDataSource=e.dynamicDataSource?c.from(e.dynamicDataSource):this.dynamicDataSource),s(this.infoFor3D)&&this._queryIs3DObjectFormat(e)){t=t===e?t.clone():t,t.formatOf3DObjects=null;for(const e of this.infoFor3D.queryFormats){if(\"3D_glb\"===e){t.formatOf3DObjects=e;break}\"3D_gltf\"!==e||t.formatOf3DObjects||(t.formatOf3DObjects=e)}if(!t.formatOf3DObjects)throw new r(\"query:unsupported-3d-query-formats\",\"Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf\");if(o(t.outFields)||!t.outFields.includes(\"*\")){t=t===e?t.clone():t,o(t.outFields)&&(t.outFields=[]);const{originX:r,originY:s,originZ:i,translationX:u,translationY:a,translationZ:n,scaleX:c,scaleY:p,scaleZ:l,rotationX:m,rotationY:y,rotationZ:d,rotationDeg:f}=this.infoFor3D.transformFieldRoles;t.outFields.push(r,s,i,u,a,n,c,p,l,m,y,d,f)}}return t}_normalizeFields(e){if(s(this.fieldsIndex)&&s(e))for(const t of e){const e=this.fieldsIndex.get(t.name);e&&Object.assign(t,e.toJSON())}}_queryIs3DObjectFormat(e){return s(this.infoFor3D)&&!0===e.returnGeometry&&\"xyFootprint\"!==e.multipatchOption&&!e.outStatistics}};e([a({type:c})],F.prototype,\"dynamicDataSource\",void 0),e([a()],F.prototype,\"fieldsIndex\",void 0),e([a()],F.prototype,\"gdbVersion\",void 0),e([a()],F.prototype,\"infoFor3D\",void 0),e([a({readOnly:!0})],F.prototype,\"parsedUrl\",null),e([a()],F.prototype,\"pbfSupported\",void 0),e([a()],F.prototype,\"queryAttachmentsSupported\",void 0),e([a()],F.prototype,\"sourceSpatialReference\",void 0),e([a({type:String})],F.prototype,\"url\",void 0),F=e([n(\"esri.tasks.QueryTask\")],F);const x=F;export{x as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{parseUrl as t}from\"../utils.js\";import{executeQueryForExtent as o}from\"./operations/query.js\";import r from\"../support/Query.js\";import e from\"../../geometry/Extent.js\";async function m(m,n,s){const p=t(m);return o(p,r.from(n),{...s}).then((t=>({count:t.data.count,extent:e.fromJSON(t.data.extent)})))}export{m as executeForExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clone as t}from\"../../../../core/lang.js\";import{queryCapabilities as s}from\"../../data/QueryEngineCapabilities.js\";import{defaultPointSymbolJSON as e,defaultPolylineSymbolJSON as r,defaultPolygonSymbolJSON as p}from\"../../../../symbols/support/defaultsJSON.js\";function o(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?e:\"esriGeometryPolyline\"===t?r:p}}}const u=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let n=1;function i(t,s){if(has(\"esri-csp-restrictions\"))return()=>({[s]:null,...t});try{let e=`this.${s} = null;`;for(const s in t){e+=`this${u.test(s)?`.${s}`:`[\"${s}\"]`} = ${JSON.stringify(t[s])};`}const r=new Function(`\\n      return class AttributesClass$${n++} {\\n        constructor() {\\n          ${e};\\n        }\\n      }\\n    `)();return()=>new r}catch(e){return()=>({[s]:null,...t})}}function a(s={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:t(s)}}]}function l(t,e){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:e,supportsDelete:e,supportsEditing:e,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:e,supportsExceedsLimitStatistics:!0},query:s,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:e,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}export{l as createCapabilities,i as createDefaultAttributesFunction,a as createDefaultTemplate,o as createDrawingInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{parseUrl as o}from\"../utils.js\";import{executeQueryForCount as r}from\"./operations/query.js\";import t from\"../support/Query.js\";async function n(n,s,m){const p=o(n);return r(p,t.from(s),{...m}).then((o=>o.data.count))}export{n as executeForCount};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{parseUrl as o}from\"../utils.js\";import{executeQueryForIds as r}from\"./operations/query.js\";import t from\"../support/Query.js\";async function s(s,e,m){const n=o(s);return r(n,t.from(e),{...m}).then((o=>o.data.objectIds))}export{s as executeForIds};\n"],"names":["E","PROJECT_VERTICES","t","supportsStatistics","supportsPercentileStatistics","supportsSpatialAggregationStatistics","supportedSpatialAggregationStatistics","envelope","centroid","convexHull","supportsCentroid","supportsCacheHint","supportsDistance","supportsDistinct","supportsExtent","supportsGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQuantization","supportsQuantizationEditMode","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsMaxRecordCountFactor","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsQueryByOthers","supportsHistoricMoment","supportsFormatPBF","supportsDisjointSpatialRelationship","supportsDefaultSpatialReference","supportsFullTextSearch","supportsCompactGeometry","maxRecordCountFactor","maxRecordCount","standardMaxRecordCount","tileMaxRecordCount","i","originalAndCurrentFeatures","none","async","S","e","y","data","Promise","s","a","FileReader","readAsDataURL","onload","result","onerror","O","Set","j","Started","Publishing","Stopped","T","n","constructor","super","arguments","this","type","refresh","p","load","sourceJSON","editingInfo","lastEditDate","dataChanged","updates","_fetchService","extent","u","signal","layer","addResolvingPromise","resolve","queryTask","capabilities","parsedUrl","dynamicDataSource","infoFor3D","gdbVersion","r","spatialReference","o","fieldsIndex","has","query","l","operations","supportsQueryAttachments","q","url","path","pbfSupported","sourceSpatialReference","queryAttachmentsSupported","attributes","objectIdField","_getLayerRequestOptions","_getFormDataForAttachment","body","_createFeatureEditResult","addAttachmentResult","_createAttachmentErrorResult","attachmentId","updateAttachmentResult","globalIdUsed","addFeatures","map","_serializeFeature","filter","updateFeatures","c","_getFeatureIds","deleteFeatures","_","h","deleteAttachments","addAttachments","push","_serializeAttachment","updateAttachments","m","length","adds","deletes","f","g","Map","addAssets","_serializeAssetMapEditAndUploadAssets","all","R","rollbackOnFailure","rollbackOnFailureEnabled","useGlobalIds","returnEditMoment","usePreviousEditMoment","sessionId","returnServiceEditsOption","edits","JSON","stringify","id","layerId","attachments","assetMaps","d","toJSON","returnServiceEditsInSourceSR","join","F","method","b","supportsEditing","effectiveCapabilities","findCredential","refreshToken","addResults","success","objectId","updateResults","_createRequestQueryOptions","formatOf3DObjects","where","outFields","get","parentGlobalId","geometry","updateExternalSource","source","name","assetName","_createEditsResult","attachmentIds","deleteAttachmentResults","fetchRecomputedExtents","then","returnUpdates","fullExtent","timeExtent","start","end","executeAttachmentQuery","execute","executeJSON","executeForIds","executeForCount","executeForExtent","executeRelationshipQuery","executeRelationshipQueryForCount","executeTopFeaturesQuery","executeForTopIds","executeForTopExtents","executeForTopCount","I","fromJSON","status","customParameters","token","apiKey","datesInUnknownTimezone","timeReferenceUnknownClient","returnAdvancedSymbols","_patchServiceJSON","geometryType","drawingInfo","renderer","defaultSymbol","origin","transform","transformFieldRoles","originX","x","originY","originZ","z","translation","scale","rotation","translationX","translationY","translationZ","scaleX","scaleY","scaleZ","rotationX","rotationY","rotationZ","rotationDeg","feature","attachment","globalId","contentType","uploadId","globalIdField","mediaType","File","Blob","mimeType","FormData","append","responseType","assetType","assetUploadId","item","itemID","isBase64","assetData","assets","uploadResults","assetHash","flags","assetMapGlobalId","featureGlobalId","set","_canUseGlobalIds","_getGlobalIdsFromFeatureIdentifier","_getObjectIdsFromFeatureIdentifier","_getIdsFromFeatures","Array","isArray","editedFeatures","deleteResults","editMoment","addFeatureResults","updateFeatureResults","deleteFeatureResults","addAttachmentResults","updateAttachmentResults","editedFeatureResults","w","_createEditedFeature","original","current","error","code","description","details","messages","message","httpStatus","messageCode","elements","prototype","constructOnly","readOnly","A","originPosition","translate","_options","geometryTypes","_previousCoordinate","_transform","_applyTransform","_lengths","_currentLengthIndex","_toAddInCurrentPath","_vertexDimension","_coordinateBuffer","_coordinateBufferPtr","_attributesConstructor","createFeatureResult","fields","features","finishFeatureResult","applyTransform","hasZ","createSpatialReference","addField","addFeature","prepareFeatures","_deriveApplyTransform","hasM","addCoordinate","addCoordinatePoint","createGeometry","createPointGeometry","_addCoordinatePolygon","_createPolygonGeometry","_addCoordinatePolyline","_createPolylineGeometry","_addCoordinateMultipoint","_createMultipointGeometry","createFeature","allocateCoordinates","addLength","addQueryGeometry","queryGeometry","queryGeometryType","clone","_transformPathLikeValue","_dehydratedAddPointsCoordinate","paths","rings","points","quantizationParameters","featureSetFromJSON","_normalizeQuery","outStatistics","_normalizeFields","_queryIs3DObjectFormat","meshFeatureSetFromJSON","count","default","from","fetchAttachments","processAttachmentQueryResult","queryFormats","includes","Object","assign","returnGeometry","multipatchOption","String","symbol","test","Function","analytics","isVersioned","supportsAttachment","supportsM","supportsZ","metadata","supportsAdvancedFieldProperties","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsChangeTracking","supportsQuery","supportsQueryAnalytics","supportsQueryTopFeatures","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","queryRelated","supportsCount","queryTopFeatures","editing","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateWithoutM","supportsUploadWithItemId","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers","objectIds"],"sourceRoot":""}