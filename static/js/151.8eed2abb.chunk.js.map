{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/arcgisLayers.js","../node_modules/@arcgis/core/layers/support/lazyLayerLoader.js"],"names":["async","i","e","r","a","properties","customParameters","t","l","s","f","url","serverType","n","sublayer","o","u","FeatureServer","StreamServer","VectorTileServer","w","tileInfo","S","then","format","toUpperCase","cacheType","toLowerCase","path","Point","IntegratedMesh","PointCloud","Building","Array","isArray","layers","length","layerType","c","d","parsedUrl","Constructor","layerOrTableId","sublayerIds","tableIds","p","FeatureLayer","SceneLayer","v","sublayerInfos","layerInfos","tableInfos","layerIds","I","b","sourceJSON","m","layerId","default","title","sublayerTitleMode","forEach","y","add","tables","find","id","type","hasOwnProperty","name","serviceUrl","filter","serviceJSON","currentVersion","layersJSON","map","reverse","responseType","query","data","BingMapsLayer","BuildingSceneLayer","CSVLayer","ElevationLayer","GroupLayer","GeoRSSLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","MapImageLayer","MapNotesLayer","OGCFeatureLayer","OpenStreetMapLayer","PointCloudLayer","RouteLayer","StreamLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","VoxelLayer","WebTileLayer","WFSLayer","WMSLayer","WMTSLayer"],"mappings":"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","file":"static/js/151.8eed2abb.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import r from\"../../core/Error.js\";import{isNone as a,isSome as t}from\"../../core/maybe.js\";import{getFilename as l,urlToObject as n}from\"../../core/urlUtils.js\";import{parse as s,parseNonStandardSublayerUrl as o}from\"./arcgisLayerUrl.js\";import{layerLookupMap as u}from\"./lazyLayerLoader.js\";async function i(e){var r;const a=null==(r=e.properties)?void 0:r.customParameters,t=await d(e.url,a),l={...e.properties,url:e.url};if(!t.sublayerIds)return null!=t.layerOrTableId&&(l.layerId=t.layerOrTableId,l.sourceJSON=t.sourceJSON),new t.Constructor(l);const n=new(0,(await import(\"../GroupLayer.js\")).default)({title:t.parsedUrl.title});return c(n,t,l),n}function y(e,r){return e?e.find((e=>e.id===r)):null}function c(e,r,a){function l(e,l){const n={...a,layerId:e,sublayerTitleMode:\"service-name\"};return t(l)&&(n.sourceJSON=l),new r.Constructor(n)}r.sublayerIds.forEach((a=>{const t=l(a,y(r.sublayerInfos,a));e.add(t)})),r.tableIds.forEach((a=>{const t=l(a,y(r.tableInfos,a));e.tables.add(t)}))}async function d(e,t){let l=s(e);if(a(l)&&(l=await f(e,t)),a(l))throw new r(\"arcgis-layers:url-mismatch\",\"The url '${url}' is not a valid arcgis resource\",{url:e});const{serverType:n,sublayer:o}=l;let u;const i={FeatureServer:\"FeatureLayer\",StreamServer:\"StreamLayer\",VectorTileServer:\"VectorTileLayer\"};switch(n){case\"MapServer\":u=null!=o?\"FeatureLayer\":S(e,t).then((e=>e?\"TileLayer\":\"MapImageLayer\"));break;case\"ImageServer\":u=w(e,t).then((e=>{const r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?!r||\"LERC\"!==r.toUpperCase()||e.cacheType&&\"elevation\"!==e.cacheType.toLowerCase()?\"ImageryTileLayer\":\"ElevationLayer\":\"ImageryLayer\"}));break;case\"SceneServer\":u=w(l.url.path,t).then((e=>{const r={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};if(e&&Array.isArray(e.layers)&&e.layers.length>0){const a=e.layers[0].layerType;if(null!=r[a])return r[a]}return\"SceneLayer\"}));break;default:u=i[n]}const y={FeatureLayer:!0,SceneLayer:!0},c=\"FeatureServer\"===n,d={parsedUrl:l,Constructor:null,layerOrTableId:c?o:null,sublayerIds:null,tableIds:null},p=await u;if(y[p]&&null==o){const r=await v(e,n,t);c&&(d.sublayerInfos=r.layerInfos,d.tableInfos=r.tableInfos);if(1!==r.layerIds.length+r.tableIds.length)d.sublayerIds=r.layerIds,d.tableIds=r.tableIds;else if(c){var I,b;d.layerOrTableId=null!=(I=r.layerIds[0])?I:r.tableIds[0],d.sourceJSON=null!=(b=r.layerInfos[0])?b:r.tableInfos[0]}}return d.Constructor=await m(p),d}async function f(e,r){var a;const s=await w(e,r);let u=null,i=null;const y=s.type;if(\"Feature Layer\"===y||\"Table\"===y?(u=\"FeatureServer\",i=s.id):\"indexedVector\"===y?u=\"VectorTileServer\":s.hasOwnProperty(\"mapName\")?u=\"MapServer\":s.hasOwnProperty(\"bandCount\")&&s.hasOwnProperty(\"pixelSizeX\")?u=\"ImageServer\":s.hasOwnProperty(\"maxRecordCount\")&&s.hasOwnProperty(\"allowGeometryUpdates\")?u=\"FeatureServer\":s.hasOwnProperty(\"streamUrls\")?u=\"StreamServer\":p(s)?(u=\"SceneServer\",i=s.id):s.hasOwnProperty(\"layers\")&&p(null==(a=s.layers)?void 0:a[0])&&(u=\"SceneServer\"),!u)return null;const c=null!=i?o(e):null;return{title:t(c)&&s.name||l(e),serverType:u,sublayer:i,url:{path:t(c)?c.serviceUrl:n(e).path}}}function p(e){return(null==e?void 0:e.hasOwnProperty(\"store\"))&&e.hasOwnProperty(\"id\")&&\"number\"==typeof e.id}async function v(e,r,a){var t,l;let n,s=!1;if(\"FeatureServer\"===r){const r=await b(e,a);s=!!r.layersJSON,n=r.layersJSON||r.serviceJSON}else n=await w(e,a);const o=null==(t=n)?void 0:t.layers,u=null==(l=n)?void 0:l.tables;return{layerIds:(null==o?void 0:o.map((e=>e.id)).reverse())||[],tableIds:(null==u?void 0:u.map((e=>e.id)).reverse())||[],layerInfos:s?o:[],tableInfos:s?u:[]}}function I(e){return!e.type||\"Feature Layer\"===e.type}async function b(e,r){var a,t;let l=await w(e,r);l=l||{},l.layers=(null==(a=l.layers)?void 0:a.filter(I))||[];const n={serviceJSON:l};if(l.currentVersion<10.5)return n;const s=await w(e+\"/layers\",r);return n.layersJSON={layers:(null==s||null==(t=s.layers)?void 0:t.filter(I))||[],tables:(null==s?void 0:s.tables)||[]},n}async function m(e){return(0,u[e])()}async function S(e,r){return(await w(e,r)).tileInfo}async function w(r,a){return(await e(r,{responseType:\"json\",query:{f:\"json\",...a}})).data}export{i as fromUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OGCFeatureLayer:async()=>(await import(\"../OGCFeatureLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,VoxelLayer:async()=>(await import(\"../VoxelLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WFSLayer:async()=>(await import(\"../WFSLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n"],"sourceRoot":""}