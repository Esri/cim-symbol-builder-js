"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[4609],{67760:(t,e,r)=>{r.d(e,{ij:()=>Y,cW:()=>z});var n=r(20102),a=r(78286),o=r(35270),s=r(62357);function u(){const t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}const i=u();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:function(t){const e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},create:u,createView:function(t,e){return new Float32Array(t,e,16)},fromValues:function(t,e,r,n,a,o,s,u,i,c,l,f,h,p,m,g){const d=new Float32Array(16);return d[0]=t,d[1]=e,d[2]=r,d[3]=n,d[4]=a,d[5]=o,d[6]=s,d[7]=u,d[8]=i,d[9]=c,d[10]=l,d[11]=f,d[12]=h,d[13]=p,d[14]=m,d[15]=g,d}},Symbol.toStringTag,{value:"Module"}));var c=r(52138);class l{constructor(t,e,r){this.strength=t,this.radius=e,this.threshold=r,this.type="bloom"}interpolate(t,e,r){this.strength=d(t.strength,e.strength,r),this.radius=d(t.radius,e.radius,r),this.threshold=d(t.threshold,e.threshold,r)}clone(){return new l(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:y(this.radius),strength:this.strength,threshold:this.threshold}}}class f{constructor(t){this.radius=t,this.type="blur"}interpolate(t,e,r){this.radius=Math.round(d(t.radius,e.radius,r))}clone(){return new f(this.radius)}toJSON(){return{type:"blur",radius:y(this.radius)}}}class h{constructor(t,e){this.type=t,this.amount=e,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,e,r){this.amount=d(t.amount,e.amount,r),this._updateMatrix()}clone(){return new h(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||u();switch(this.type){case"brightness":this._colorMatrix=((t,e)=>{const r=(0,c.s)(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1);return(0,c.t)(r,r)})(t,this.amount);break;case"contrast":this._colorMatrix=((t,e)=>{const r=(0,c.s)(t,e,0,0,.5-.5*e,0,e,0,.5-.5*e,0,0,e,.5-.5*e,0,0,0,1);return(0,c.t)(r,r)})(t,this.amount);break;case"grayscale":this._colorMatrix=((t,e)=>{const r=1-this.amount,n=(0,c.s)(t,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return(0,c.t)(n,n)})(t);break;case"invert":this._colorMatrix=((t,e)=>{const r=1-2*e,n=(0,c.s)(t,r,0,0,e,0,r,0,e,0,0,r,e,0,0,0,1);return(0,c.t)(n,n)})(t,this.amount);break;case"saturate":this._colorMatrix=((t,e)=>{const r=(0,c.s)(t,.213+.787*e,.715-.715*e,.072-.072*e,0,.213-.213*e,.715+.285*e,.072-.072*e,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,1);return(0,c.t)(r,r)})(t,this.amount);break;case"sepia":this._colorMatrix=((t,e)=>{const r=1-this.amount,n=(0,c.s)(t,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return(0,c.t)(n,n)})(t)}}}class p{constructor(t,e,r,n){this.offsetX=t,this.offsetY=e,this.blurRadius=r,this.color=n,this.type="drop-shadow"}interpolate(t,e,r){this.offsetX=d(t.offsetX,e.offsetX,r),this.offsetY=d(t.offsetY,e.offsetY,r),this.blurRadius=d(t.blurRadius,e.blurRadius,r),this.color[0]=Math.round(d(t.color[0],e.color[0],r)),this.color[1]=Math.round(d(t.color[1],e.color[1],r)),this.color[2]=Math.round(d(t.color[2],e.color[2],r)),this.color[3]=d(t.color[3],e.color[3],r)}clone(){return new p(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:y(this.offsetX),yoffset:y(this.offsetY),blurRadius:y(this.blurRadius),color:t}}}class m{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,e,r){this.angle=d(t.angle,e.angle,r),this._updateMatrix()}clone(){return new m(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||u();this._colorMatrix=((t,e)=>{const r=Math.sin(e*Math.PI/180),n=Math.cos(e*Math.PI/180),a=(0,c.s)(t,.213+.787*n-.213*r,.715-.715*n-.715*r,.072-.072*n+.928*r,0,.213-.213*n+.143*r,.715+.285*n+.14*r,.072-.072*n-.283*r,0,.213-.213*n-.787*r,.715-.715*n+.715*r,.072+.928*n+.072*r,0,0,0,0,1);return(0,c.t)(a,a)})(t,this.angle)}}class g{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,e,r){this.amount=d(t.amount,e.amount,r)}clone(){return new g(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function d(t,e,r){return t+(e-t)*r}function y(t){return Math.round(1e3*(0,s.Wz)(t))/1e3}function v(t){switch(t.type){case"grayscale":case"sepia":case"invert":return new h(t.type,0);case"saturate":case"brightness":case"contrast":return new h(t.type,1);case"opacity":return new g(1);case"hue-rotate":return new m(0);case"blur":return new f(0);case"drop-shadow":return new p(0,0,0,[...(0,o.h$)("transparent")]);case"bloom":return new l(0,0,1)}}function w(t,e){const r=t.length>e.length?t:e;return(t.length>e.length?e:t).every(((t,e)=>t.type===r[e].type))}function x(t,e){const r=t.length>e.length?t:e,n=t.length>e.length?e:t;for(let t=n.length;t<r.length;t++)n.push(v(r[t]))}r(5732);var b,A,S={exports:{}};A=function(){function t(e,r,n,a){var o=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(o,t.prototype),o.expected=r,o.found=n,o.location=a,o.name="SyntaxError",o}function e(t,e,r){return r=r||" ",t.length>e?t:(e-=t.length,t+(r+=r.repeat(e)).slice(0,e))}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),t.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var n,a=null;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){a=t[n].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,s=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(o):o,u=this.location.source+":"+s.line+":"+s.column;if(a){var i=this.location.end,c=e("",s.line.toString().length," "),l=a[o.line-1],f=(o.line===i.line?i.column:l.length+1)-o.column||1;r+="\n --\x3e "+u+"\n"+c+" |\n"+s.line+" | "+l+"\n"+c+" | "+e("",o.column-1," ")+e("",f,"^")}else r+="\n at "+u}return r},t.buildMessage=function(t,e){var r={literal:function(t){return'"'+a(t.text)+'"'},class:function(t){var e=t.parts.map((function(t){return Array.isArray(t)?o(t[0])+"-"+o(t[1]):o(t)}));return"["+(t.inverted?"^":"")+e.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function a(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function s(t){return r[t.type](t)}return"Expected "+function(t){var e,r,n=t.map(s);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+a(t)+'"':"end of input"}(e)+" found."},{SyntaxError:t,parse:function(e,r){var n,a={},o=(r=void 0!==r?r:{}).grammarSource,s={start:Wt},u=Wt,i="none",c=")",l=",",f="(",h="%",p="px",m="cm",g="mm",d="in",y="pt",v="pc",w="deg",x="rad",b="grad",A="turn",S="#",M=".",_="e",C=/^[ \t\n\r]/,$=/^[a-z\-]/,R=/^[0-9a-fA-F]/,F=/^[+\-]/,j=/^[0-9]/,k=Xt("none"),N=zt("none",!1),O=zt(")",!1),Z=zt(",",!1),E=Xt("whitespace"),J=Pt([" ","\t","\n","\r"],!1,!1),I=Xt("function"),Y=zt("(",!1),z=Xt("identifier"),P=Pt([["a","z"],"-"],!1,!1),X=Xt("percentage"),q=zt("%",!1),T=Xt("length"),B=zt("px",!1),W=zt("cm",!1),L=zt("mm",!1),V=zt("in",!1),D=zt("pt",!1),U=zt("pc",!1),G=Xt("angle"),H=zt("deg",!1),K=zt("rad",!1),Q=zt("grad",!1),tt=zt("turn",!1),et=Xt("number"),rt=Xt("color"),nt=zt("#",!1),at=Pt([["0","9"],["a","f"],["A","F"]],!1,!1),ot=Pt(["+","-"],!1,!1),st=Pt([["0","9"]],!1,!1),ut=zt(".",!1),it=zt("e",!1),ct=function(){return[]},lt=function(t,e){return{type:"function",name:t,parameters:e||[]}},ft=function(t,e){return e.length>0?function(t,e,r){return[t].concat(function(t,e){return t.map((function(t){return t[3]}))}(e))}(t,e):[t]},ht=function(t){return{type:"quantity",value:t.value,unit:t.unit}},pt=function(t){return{type:"color",colorType:t.type,value:t.value}},mt=function(t){return t},gt=function(){return Yt()},dt=function(t){return{value:t,unit:"%"}},yt=function(t){return{value:t,unit:"px"}},vt=function(t){return{value:t,unit:"cm"}},wt=function(t){return{value:t,unit:"mm"}},xt=function(t){return{value:t,unit:"in"}},bt=function(t){return{value:t,unit:"pt"}},At=function(t){return{value:t,unit:"pc"}},St=function(t){return{value:t,unit:"deg"}},Mt=function(t){return{value:t,unit:"rad"}},_t=function(t){return{value:t,unit:"grad"}},Ct=function(t){return{value:t,unit:"turn"}},$t=function(t){return{value:t,unit:null}},Rt=function(){return{type:"hex",value:Yt()}},Ft=function(t){return{type:"function",value:t}},jt=function(){return{type:"named",value:Yt()}},kt=function(){return parseFloat(Yt())},Nt=0,Ot=0,Zt=[{line:1,column:1}],Et=0,Jt=[],It=0;if("startRule"in r){if(!(r.startRule in s))throw new Error("Can't start parsing from rule \""+r.startRule+'".');u=s[r.startRule]}function Yt(){return e.substring(Ot,Nt)}function zt(t,e){return{type:"literal",text:t,ignoreCase:e}}function Pt(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function Xt(t){return{type:"other",description:t}}function qt(t){var r,n=Zt[t];if(n)return n;for(r=t-1;!Zt[r];)r--;for(n={line:(n=Zt[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return Zt[t]=n,n}function Tt(t,e,r){var n=qt(t),a=qt(e),s={source:o,start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:a.line,column:a.column}};return r&&o&&"function"==typeof o.offset&&(s.start=o.offset(s.start),s.end=o.offset(s.end)),s}function Bt(t){Nt<Et||(Nt>Et&&(Et=Nt,Jt=[]),Jt.push(t))}function Wt(){var t;return(t=Lt())===a&&(t=function(){var t,e;if(t=[],(e=Vt())!==a)for(;e!==a;)t.push(e),e=Vt();else t=a;return t}()),t}function Lt(){var t,r;return It++,t=Nt,Ut(),e.substr(Nt,4)===i?(r=i,Nt+=4):(r=a,0===It&&Bt(N)),r!==a?(Ut(),Ot=t,t=ct()):(Nt=t,t=a),It--,t===a&&0===It&&Bt(k),t}function Vt(){var t,r,n,o;return t=Nt,Ut(),(r=function(){var t,r,n;return It++,t=Nt,(r=Gt())!==a?(40===e.charCodeAt(Nt)?(n=f,Nt++):(n=a,0===It&&Bt(Y)),n!==a?(Ot=t,t=mt(r)):(Nt=t,t=a)):(Nt=t,t=a),It--,t===a&&(r=a,0===It&&Bt(I)),t}())!==a?(Ut(),(n=function(){var t,r,n,o,s,u,i,c;if(t=Nt,(r=Dt())!==a){for(n=[],o=Nt,s=Ut(),44===e.charCodeAt(Nt)?(u=l,Nt++):(u=a,0===It&&Bt(Z)),u===a&&(u=null),i=Ut(),(c=Dt())!==a?o=s=[s,u,i,c]:(Nt=o,o=a);o!==a;)n.push(o),o=Nt,s=Ut(),44===e.charCodeAt(Nt)?(u=l,Nt++):(u=a,0===It&&Bt(Z)),u===a&&(u=null),i=Ut(),(c=Dt())!==a?o=s=[s,u,i,c]:(Nt=o,o=a);Ot=t,t=ft(r,n)}else Nt=t,t=a;return t}())===a&&(n=null),Ut(),41===e.charCodeAt(Nt)?(o=c,Nt++):(o=a,0===It&&Bt(O)),o!==a?(Ut(),Ot=t,t=lt(r,n)):(Nt=t,t=a)):(Nt=t,t=a),t}function Dt(){var t,e;return t=Nt,(e=Ht())===a&&(e=Kt())===a&&(e=Qt())===a&&(e=function(){var t,e;return It++,t=Nt,Ut(),(e=ee())!==a?(Ot=t,t=$t(e)):(Nt=t,t=a),It--,t===a&&0===It&&Bt(et),t}()),e!==a&&(Ot=t,e=ht(e)),(t=e)===a&&(t=Nt,(e=te())!==a&&(Ot=t,e=pt(e)),t=e),t}function Ut(){var t,r;for(It++,t=[],C.test(e.charAt(Nt))?(r=e.charAt(Nt),Nt++):(r=a,0===It&&Bt(J));r!==a;)t.push(r),C.test(e.charAt(Nt))?(r=e.charAt(Nt),Nt++):(r=a,0===It&&Bt(J));return It--,r=a,0===It&&Bt(E),t}function Gt(){var t,r,n;if(It++,t=Nt,r=[],$.test(e.charAt(Nt))?(n=e.charAt(Nt),Nt++):(n=a,0===It&&Bt(P)),n!==a)for(;n!==a;)r.push(n),$.test(e.charAt(Nt))?(n=e.charAt(Nt),Nt++):(n=a,0===It&&Bt(P));else r=a;return r!==a&&(Ot=t,r=gt()),It--,(t=r)===a&&(r=a,0===It&&Bt(z)),t}function Ht(){var t,r,n;return It++,t=Nt,Ut(),(r=ee())!==a?(37===e.charCodeAt(Nt)?(n=h,Nt++):(n=a,0===It&&Bt(q)),n!==a?(Ot=t,t=dt(r)):(Nt=t,t=a)):(Nt=t,t=a),It--,t===a&&0===It&&Bt(X),t}function Kt(){var t,r,n;return It++,t=Nt,Ut(),(r=ee())!==a?(e.substr(Nt,2)===p?(n=p,Nt+=2):(n=a,0===It&&Bt(B)),n!==a?(Ot=t,t=yt(r)):(Nt=t,t=a)):(Nt=t,t=a),t===a&&(t=Nt,Ut(),(r=ee())!==a?(e.substr(Nt,2)===m?(n=m,Nt+=2):(n=a,0===It&&Bt(W)),n!==a?(Ot=t,t=vt(r)):(Nt=t,t=a)):(Nt=t,t=a),t===a&&(t=Nt,Ut(),(r=ee())!==a?(e.substr(Nt,2)===g?(n=g,Nt+=2):(n=a,0===It&&Bt(L)),n!==a?(Ot=t,t=wt(r)):(Nt=t,t=a)):(Nt=t,t=a),t===a&&(t=Nt,Ut(),(r=ee())!==a?(e.substr(Nt,2)===d?(n=d,Nt+=2):(n=a,0===It&&Bt(V)),n!==a?(Ot=t,t=xt(r)):(Nt=t,t=a)):(Nt=t,t=a),t===a&&(t=Nt,Ut(),(r=ee())!==a?(e.substr(Nt,2)===y?(n=y,Nt+=2):(n=a,0===It&&Bt(D)),n!==a?(Ot=t,t=bt(r)):(Nt=t,t=a)):(Nt=t,t=a),t===a&&(t=Nt,Ut(),(r=ee())!==a?(e.substr(Nt,2)===v?(n=v,Nt+=2):(n=a,0===It&&Bt(U)),n!==a?(Ot=t,t=At(r)):(Nt=t,t=a)):(Nt=t,t=a)))))),It--,t===a&&0===It&&Bt(T),t}function Qt(){var t,r,n;return It++,t=Nt,(r=ee())!==a?(e.substr(Nt,3)===w?(n=w,Nt+=3):(n=a,0===It&&Bt(H)),n!==a?(Ot=t,t=St(r)):(Nt=t,t=a)):(Nt=t,t=a),t===a&&(t=Nt,(r=ee())!==a?(e.substr(Nt,3)===x?(n=x,Nt+=3):(n=a,0===It&&Bt(K)),n!==a?(Ot=t,t=Mt(r)):(Nt=t,t=a)):(Nt=t,t=a),t===a&&(t=Nt,(r=ee())!==a?(e.substr(Nt,4)===b?(n=b,Nt+=4):(n=a,0===It&&Bt(Q)),n!==a?(Ot=t,t=_t(r)):(Nt=t,t=a)):(Nt=t,t=a),t===a&&(t=Nt,(r=ee())!==a?(e.substr(Nt,4)===A?(n=A,Nt+=4):(n=a,0===It&&Bt(tt)),n!==a?(Ot=t,t=Ct(r)):(Nt=t,t=a)):(Nt=t,t=a)))),It--,t===a&&(r=a,0===It&&Bt(G)),t}function te(){var t,r,n,o;if(It++,t=Nt,35===e.charCodeAt(Nt)?(r=S,Nt++):(r=a,0===It&&Bt(nt)),r!==a){if(n=[],R.test(e.charAt(Nt))?(o=e.charAt(Nt),Nt++):(o=a,0===It&&Bt(at)),o!==a)for(;o!==a;)n.push(o),R.test(e.charAt(Nt))?(o=e.charAt(Nt),Nt++):(o=a,0===It&&Bt(at));else n=a;n!==a?(Ot=t,t=Rt()):(Nt=t,t=a)}else Nt=t,t=a;return t===a&&(t=Nt,(r=Vt())!==a&&(Ot=t,r=Ft(r)),(t=r)===a&&(t=Nt,(r=Gt())!==a&&(Ot=t,r=jt()),t=r)),It--,t===a&&(r=a,0===It&&Bt(rt)),t}function ee(){var t,r,n,o,s,u,i;for(t=Nt,F.test(e.charAt(Nt))?(e.charAt(Nt),Nt++):0===It&&Bt(ot),r=Nt,n=[],j.test(e.charAt(Nt))?(o=e.charAt(Nt),Nt++):(o=a,0===It&&Bt(st));o!==a;)n.push(o),j.test(e.charAt(Nt))?(o=e.charAt(Nt),Nt++):(o=a,0===It&&Bt(st));if(46===e.charCodeAt(Nt)?(o=M,Nt++):(o=a,0===It&&Bt(ut)),o!==a){if(s=[],j.test(e.charAt(Nt))?(u=e.charAt(Nt),Nt++):(u=a,0===It&&Bt(st)),u!==a)for(;u!==a;)s.push(u),j.test(e.charAt(Nt))?(u=e.charAt(Nt),Nt++):(u=a,0===It&&Bt(st));else s=a;s!==a?r=n=[n,o,s]:(Nt=r,r=a)}else Nt=r,r=a;if(r===a)if(r=[],j.test(e.charAt(Nt))?(n=e.charAt(Nt),Nt++):(n=a,0===It&&Bt(st)),n!==a)for(;n!==a;)r.push(n),j.test(e.charAt(Nt))?(n=e.charAt(Nt),Nt++):(n=a,0===It&&Bt(st));else r=a;if(r!==a){if(n=Nt,101===e.charCodeAt(Nt)?(o=_,Nt++):(o=a,0===It&&Bt(it)),o!==a){if(F.test(e.charAt(Nt))?(s=e.charAt(Nt),Nt++):(s=a,0===It&&Bt(ot)),s===a&&(s=null),u=[],j.test(e.charAt(Nt))?(i=e.charAt(Nt),Nt++):(i=a,0===It&&Bt(st)),i!==a)for(;i!==a;)u.push(i),j.test(e.charAt(Nt))?(i=e.charAt(Nt),Nt++):(i=a,0===It&&Bt(st));else u=a;u!==a?n=o=[o,s,u]:(Nt=n,n=a)}else Nt=n,n=a;n===a&&(n=null),Ot=t,t=kt()}else Nt=t,t=a;return t}if((n=u())!==a&&Nt===e.length)return n;throw n!==a&&Nt<e.length&&Bt({type:"end"}),function(e,r,n){return new t(t.buildMessage(e,r),e,r,n)}(Jt,Et<e.length?e.charAt(Et):null,Et<e.length?Tt(Et,Et+1):Tt(Et,Et))}}},(b=S).exports&&(b.exports=A());var M=S.exports;function _(t){if(!t||0===t.length)return null;if("string"==typeof t){const e=C(t);return e&&0!==e.length?e:null}const e=t.map((t=>{if(!Number.isFinite(t.scale)||t.scale<=0)throw new n.Z("effect:invalid-scale","scale must be finite and greater than 0",{stop:t});return{scale:t.scale,effects:C(t.value)}}));e.sort(((t,e)=>e.effects.length-t.effects.length));for(let t=0;t<e.length-1;t++){if(!w(e[t].effects,e[t+1].effects))throw new n.Z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:e[t].effects,b:e[t+1].effects});x(e[t].effects,e[t+1].effects)}return e.sort(((t,e)=>e.scale-t.scale)),e}function C(t){let e;if(!t)return[];try{e=M.parse(t)}catch(e){throw new n.Z("effect:invalid-syntax","Invalid effect syntax",{value:t,error:e})}return e.map((t=>function(t){try{switch(t.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function(t){let e=1;return $(t.parameters,1),1===t.parameters.length&&(e=N(t.parameters[0])),new h(t.name,e)}(t);case"opacity":return function(t){let e=1;return $(t.parameters,1),1===t.parameters.length&&(e=N(t.parameters[0])),new g(e)}(t);case"hue-rotate":return function(t){let e=0;return $(t.parameters,1),1===t.parameters.length&&(e=function(t){return function(t){if("quantity"!==t.type||!(0===t.value&&null===t.unit||t.unit&&null!=j[t.unit]))throw new n.Z("effect:type-error",`Expected <angle>, Actual: ${R(t)}`,{term:t})}(t),t.value*j[t.unit]||0}(t.parameters[0])),new m(e)}(t);case"blur":return function(t){let e=0;return $(t.parameters,1),1===t.parameters.length&&(e=O(t.parameters[0]),F(e,t.parameters[0])),new f(e)}(t);case"drop-shadow":return function(t){const e=[];let r=null;for(const a of t.parameters)if("color"===a.type){if(e.length&&Object.freeze(e),r)throw new n.Z("effect:type-error","Accepts only one color",{});r=Z(a)}else{const t=O(a);if(Object.isFrozen(e))throw new n.Z("effect:type-error","<length> parameters not consecutive",{lengths:e});e.push(t),3===e.length&&F(t,a)}if(e.length<2||e.length>3)throw new n.Z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${e.length}}`,{lengths:e});return new p(e[0],e[1],e[2]||0,r||E("black"))}(t);case"bloom":return function(t){let e=1,r=0,n=0;return $(t.parameters,3),t.parameters[0]&&(e=N(t.parameters[0])),t.parameters[1]&&(r=O(t.parameters[1]),F(r,t.parameters[1])),t.parameters[2]&&(n=N(t.parameters[2])),new l(e,r,n)}(t)}}catch(e){throw e.details.filter=t,e}throw new n.Z("effect:unknown-effect",`Effect '${t.name}' is not supported`,{effect:t})}(t)))}function $(t,e){if(t.length>e)throw new n.Z("effect:type-error",`Function supports up to ${e} parameters, Actual: ${t.length}`,{parameters:t})}function R(t){if("color"===t.type)return"<color>";if(t.unit){if(t.unit in k)return"<length>";if(t.unit in j)return"<angle>";if("%"===t.unit)return"<percentage>"}return"<double>"}function F(t,e){if(t<0)throw new n.Z("effect:type-error",`Negative values are not allowed, Actual: ${t}`,{term:e})}const j={deg:1,grad:.9,rad:180/Math.PI,turn:360},k={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function N(t){!function(t){if("quantity"!==t.type||null!==t.unit&&"%"!==t.unit)throw new n.Z("effect:type-error",`Expected <double> or <percentage>, Actual: ${R(t)}`,{term:t})}(t);const e=t.value;return F(e,t),"%"===t.unit?.01*e:e}function O(t){return function(t){if("quantity"!==t.type||!(0===t.value&&null===t.unit||t.unit&&null!=k[t.unit]))throw new n.Z("effect:type-error",`Expected <length>, Actual: ${R(t)}`,{term:t})}(t),t.value*k[t.unit]||0}function Z(t){switch(t.colorType){case"hex":return(0,o.rW)(t.value);case"named":return E(t.value);case"function":return function(t){if($(t.parameters,4),J.test(t.name))return[N(t.parameters[0]),N(t.parameters[1]),N(t.parameters[2]),t.parameters[3]?N(t.parameters[3]):1];if(I.test(t.name))return(0,o.B7)(function(t){return function(t){if("quantity"!==t.type||null!==t.unit)throw new n.Z("effect:type-error",`Expected <double>, Actual: ${R(t)}`,{term:t})}(t),F(t.value,t),t.value}(t.parameters[0]),N(t.parameters[1]),N(t.parameters[2]),t.parameters[3]?N(t.parameters[3]):1);throw new n.Z("effect:syntax-error",`Invalid color function '${t.name}'`,{colorFunction:t})}(t.value)}}function E(t){if(!(0,o.St)(t))throw new n.Z("effect:unknown-color",`color '${t}' isn't valid`,{namedColor:t});return(0,o.VL)(t)}const J=/^rgba?/i,I=/^hsla?/i;function Y(t,e,r){try{return function(t){if(!t||0===t.length)return null;if(function(t){const e=t[0];return!!e&&"scale"in e}(t)){const e=[];for(const r of t)e.push({scale:r.scale,value:P(r.value)});return e}return P(t)}(t)}catch(t){r?.messages?.push(t)}return null}function z(t,e,r,n){try{const n=function(t){const e=_(t);return e?function(t){const e=t[0];return!!e&&"type"in e}(e)?e.map((t=>t.toJSON())):e.map((({scale:t,effects:e})=>({scale:t,value:e.map((t=>t.toJSON()))}))):null}(t);(0,a.RB)(r,n,e)}catch(t){n.messages&&n.messages.push(t)}}function P(t){if(!t||!t.length)return"";const e=[];for(const r of t){let t=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":t=[X(r,"amount")];break;case"blur":t=[X(r,"radius","pt")];break;case"hue-rotate":t=[X(r,"angle","deg")];break;case"drop-shadow":t=[X(r,"xoffset","pt"),X(r,"yoffset","pt"),X(r,"blurRadius","pt"),q(r,"color")];break;case"bloom":t=[X(r,"strength"),X(r,"radius","pt"),X(r,"threshold")]}const n=`${r.type}(${t.filter(Boolean).join(" ")})`;_(n),e.push(n)}return e.join(" ")}function X(t,e,r){if(null==t[e])throw new n.Z("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});return r?t[e]+r:""+t[e]}function q(t,e){if(null==t[e])throw new n.Z("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});const r=t[e];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}},71612:(t,e,r)=>{r.d(e,{h:()=>i});var n=r(43697),a=r(5600),o=(r(75215),r(67676),r(80442),r(52011)),s=r(67760);const u={read:{reader:s.ij},write:{allowNull:!0,writer:s.cW}},i=t=>{let e=class extends t{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,n._)([(0,a.Cb)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],e.prototype,"blendMode",void 0),(0,n._)([(0,a.Cb)({json:{read:!1,write:!1,origins:{"web-map":u,"portal-item":u}}})],e.prototype,"effect",void 0),e=(0,n._)([(0,o.j)("esri.layers.mixins.BlendLayer")],e),e}},72965:(t,e,r)=>{r.d(e,{M:()=>s});var n=r(43697),a=r(5600),o=(r(75215),r(67676),r(80442),r(52011));const s=t=>{let e=class extends t{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const t={minScale:this.minScale,maxScale:this.maxScale},e=this.parent;e&&"effectiveScaleRange"in e&&function(t,e){t.minScale=t.minScale>0?e.minScale>0?Math.min(t.minScale,e.minScale):t.minScale:e.minScale,t.maxScale=t.maxScale>0?e.maxScale>0?Math.max(t.maxScale,e.maxScale):t.maxScale:e.maxScale}(t,e.effectiveScaleRange);const r=this._get("effectiveScaleRange");return r&&r.minScale===t.minScale&&r.maxScale===t.maxScale?r:t}};return(0,n._)([(0,a.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"minScale",void 0),(0,n._)([(0,a.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"maxScale",void 0),(0,n._)([(0,a.Cb)({readOnly:!0})],e.prototype,"effectiveScaleRange",null),e=(0,n._)([(0,o.j)("esri.layers.mixins.ScaleRangeLayer")],e),e}}}]);