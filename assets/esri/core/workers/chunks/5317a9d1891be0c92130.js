"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[8846,2141],{73354:(t,n,r)=>{function e(t,n,r){o(t.typedBuffer,n.typedBuffer,r,t.typedBufferStride,n.typedBufferStride)}function o(t,n,r,e=3,o=e){if(t.length/e!==Math.ceil(n.length/o))return t;const a=t.length/e,i=r[0],l=r[1],u=r[2],s=r[4],c=r[5],f=r[6],p=r[8],g=r[9],h=r[10],y=r[12],d=r[13],m=r[14];let A=0,M=0;for(let r=0;r<a;r++){const r=n[A],a=n[A+1],v=n[A+2];t[M]=i*r+s*a+p*v+y,t[M+1]=l*r+c*a+g*v+d,t[M+2]=u*r+f*a+h*v+m,A+=o,M+=e}return t}function a(t,n,r){i(t.typedBuffer,n.typedBuffer,r,t.typedBufferStride,n.typedBufferStride)}function i(t,n,r,e=3,o=e){if(t.length/e!==Math.ceil(n.length/o))return;const a=t.length/e,i=r[0],l=r[1],u=r[2],s=r[3],c=r[4],f=r[5],p=r[6],g=r[7],h=r[8];let y=0,d=0;for(let r=0;r<a;r++){const r=n[y],a=n[y+1],m=n[y+2];t[d]=i*r+s*a+p*m,t[d+1]=l*r+c*a+g*m,t[d+2]=u*r+f*a+h*m,y+=o,d+=e}}function l(t,n,r){u(t.typedBuffer,n.typedBuffer,r,t.typedBufferStride,n.typedBufferStride)}function u(t,n,r,e=3,o=e){const a=Math.min(t.length/e,n.length/o);let i=0,l=0;for(let u=0;u<a;u++)t[l]=r*n[i],t[l+1]=r*n[i+1],t[l+2]=r*n[i+2],i+=o,l+=e;return t}function s(t,n,r,e=3,o=e){const a=t.length/e;if(a!==Math.ceil(n.length/o))return t;let i=0,l=0;for(let u=0;u<a;u++)t[l]=n[i]+r[0],t[l+1]=n[i+1]+r[1],t[l+2]=n[i+2]+r[2],i+=o,l+=e;return t}function c(t,n){f(t.typedBuffer,n.typedBuffer,t.typedBufferStride,n.typedBufferStride)}function f(t,n,r=3,e=r){const o=Math.min(t.length/r,n.length/e);let a=0,i=0;for(let l=0;l<o;l++){const o=n[a],l=n[a+1],u=n[a+2],s=o*o+l*l+u*u;if(s>0){const n=1/Math.sqrt(s);t[i]=n*o,t[i+1]=n*l,t[i+2]=n*u}a+=e,i+=r}}r.d(n,{a:()=>o,b:()=>s,c:()=>a,d:()=>e,e:()=>c,f:()=>u,n:()=>f,s:()=>l,t:()=>i}),r(44208),r(53966),Object.freeze(Object.defineProperty({__proto__:null,normalize:f,normalizeView:c,scale:u,scaleView:l,shiftRight:function(t,n,r){const e=Math.min(t.count,n.count),o=t.typedBuffer,a=t.typedBufferStride,i=n.typedBuffer,l=n.typedBufferStride;let u=0,s=0;for(let t=0;t<e;t++)o[s]=i[u]>>r,o[s+1]=i[u+1]>>r,o[s+2]=i[u+2]>>r,u+=l,s+=a},transformMat3:i,transformMat3View:a,transformMat4:o,transformMat4View:e,translate:s},Symbol.toStringTag,{value:"Module"}))},65686:(t,n,r)=>{r.d(n,{a:()=>o,b:()=>u,n:()=>i,s:()=>l,t:()=>a}),r(44208);var e=r(53966);function o(t,n,r){a(t.typedBuffer,n.typedBuffer,r,t.typedBufferStride,n.typedBufferStride)}function a(t,n,r,e=4,o=e){if(t.length/e!=n.length/o)return;const a=t.length/e,i=r[0],l=r[1],u=r[2],s=r[3],c=r[4],f=r[5],p=r[6],g=r[7],h=r[8];let y=0,d=0;for(let r=0;r<a;r++){const r=n[y],a=n[y+1],m=n[y+2],A=n[y+3];t[d]=i*r+s*a+p*m,t[d+1]=l*r+c*a+g*m,t[d+2]=u*r+f*a+h*m,t[d+3]=A,y+=o,d+=e}}function i(t,n){const r=Math.min(t.count,n.count),e=t.typedBuffer,o=t.typedBufferStride,a=n.typedBuffer,i=n.typedBufferStride;for(let t=0;t<r;t++){const n=t*o,r=t*i,l=a[r],u=a[r+1],s=a[r+2],c=l*l+u*u+s*s;if(c>0){const t=1/Math.sqrt(c);e[n]=t*l,e[n+1]=t*u,e[n+2]=t*s}}}function l(t,n,r){u(t.typedBuffer,n,r,t.typedBufferStride)}function u(t,n,r,e=4){const o=Math.min(t.length/e,n.count),a=n.typedBuffer,i=n.typedBufferStride;let l=0,u=0;for(let n=0;n<o;n++)t[u]=r*a[l],t[u+1]=r*a[l+1],t[u+2]=r*a[l+2],t[u+3]=r*a[l+3],l+=i,u+=e}Object.freeze(Object.defineProperty({__proto__:null,normalize:i,scale:u,scaleView:l,transformMat3:a,transformMat3View:o,transformMat4:function(t,n,r,o=4,a=o){if(t.length/o!=n.length/a)return void e.A.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const i=t.length/o,l=r[0],u=r[1],s=r[2],c=r[3],f=r[4],p=r[5],g=r[6],h=r[7],y=r[8],d=r[9],m=r[10],A=r[11],M=r[12],v=r[13],b=r[14],w=r[15];let T=0,S=0;for(let r=0;r<i;r++){const r=n[T],e=n[T+1],i=n[T+2],B=n[T+3];t[S]=l*r+f*e+y*i+M*B,t[S+1]=u*r+p*e+d*i+v*B,t[S+2]=s*r+g*e+m*i+b*B,t[S+3]=c*r+h*e+A*i+w*B,T+=a,S+=o}},transformMat4View:function(t,n,r){if(t.count!==n.count)return;const e=t.count,o=r[0],a=r[1],i=r[2],l=r[3],u=r[4],s=r[5],c=r[6],f=r[7],p=r[8],g=r[9],h=r[10],y=r[11],d=r[12],m=r[13],A=r[14],M=r[15],v=t.typedBuffer,b=t.typedBufferStride,w=n.typedBuffer,T=n.typedBufferStride;for(let t=0;t<e;t++){const n=t*b,r=t*T,e=w[r],S=w[r+1],B=w[r+2],C=w[r+3];v[n]=o*e+u*S+p*B+d*C,v[n+1]=a*e+s*S+g*B+m*C,v[n+2]=i*e+c*S+h*B+A*C,v[n+3]=l*e+f*S+y*B+M*C}}},Symbol.toStringTag,{value:"Module"}))},77690:(t,n,r)=>{r.d(n,{B8:()=>l,Ge:()=>p,I0:()=>f,KC:()=>u,hZ:()=>a,hs:()=>c,lw:()=>s,mg:()=>i,z0:()=>o});var e=r(34304);function o(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t}function a(t,n,r,e,o,a,i,l,u,s){return t[0]=n,t[1]=r,t[2]=e,t[3]=o,t[4]=a,t[5]=i,t[6]=l,t[7]=u,t[8]=s,t}function i(t,n){if(t===n){const r=n[1],e=n[2],o=n[5];t[1]=n[3],t[2]=n[6],t[3]=r,t[5]=n[7],t[6]=e,t[7]=o}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t}function l(t,n){const r=n[0],e=n[1],o=n[2],a=n[3],i=n[4],l=n[5],u=n[6],s=n[7],c=n[8],f=c*i-l*s,p=-c*a+l*u,g=s*a-i*u;let h=r*f+e*p+o*g;return h?(h=1/h,t[0]=f*h,t[1]=(-c*e+o*s)*h,t[2]=(l*e-o*i)*h,t[3]=p*h,t[4]=(c*r-o*u)*h,t[5]=(-l*r+o*a)*h,t[6]=g*h,t[7]=(-s*r+e*u)*h,t[8]=(i*r-e*a)*h,t):null}function u(t,n){const r=n[0],e=n[1],o=n[2],a=n[3],i=n[4],l=n[5],u=n[6],s=n[7],c=n[8];return t[0]=i*c-l*s,t[1]=o*s-e*c,t[2]=e*l-o*i,t[3]=l*u-a*c,t[4]=r*c-o*u,t[5]=o*a-r*l,t[6]=a*s-i*u,t[7]=e*u-r*s,t[8]=r*i-e*a,t}function s(t,n,r){const e=n[0],o=n[1],a=n[2],i=n[3],l=n[4],u=n[5],s=n[6],c=n[7],f=n[8],p=r[0],g=r[1],h=r[2],y=r[3],d=r[4],m=r[5],A=r[6],M=r[7],v=r[8];return t[0]=p*e+g*i+h*s,t[1]=p*o+g*l+h*c,t[2]=p*a+g*u+h*f,t[3]=y*e+d*i+m*s,t[4]=y*o+d*l+m*c,t[5]=y*a+d*u+m*f,t[6]=A*e+M*i+v*s,t[7]=A*o+M*l+v*c,t[8]=A*a+M*u+v*f,t}function c(t,n,r){const e=r[0],o=r[1],a=r[2];return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t[6]=a*n[6],t[7]=a*n[7],t[8]=a*n[8],t}function f(t,n){const r=n[0],e=n[1],o=n[2],a=n[3],i=r+r,l=e+e,u=o+o,s=r*i,c=e*i,f=e*l,p=o*i,g=o*l,h=o*u,y=a*i,d=a*l,m=a*u;return t[0]=1-f-h,t[3]=c-m,t[6]=p+d,t[1]=c+m,t[4]=1-s-h,t[7]=g-y,t[2]=p-d,t[5]=g+y,t[8]=1-s-f,t}function p(t,n){const r=n[0],e=n[1],o=n[2],a=n[3],i=n[4],l=n[5],u=n[6],s=n[7],c=n[8],f=n[9],p=n[10],g=n[11],h=n[12],y=n[13],d=n[14],m=n[15],A=r*l-e*i,M=r*u-o*i,v=r*s-a*i,b=e*u-o*l,w=e*s-a*l,T=o*s-a*u,S=c*y-f*h,B=c*d-p*h,C=c*m-g*h,F=f*d-p*y,x=f*m-g*y,R=p*m-g*d;let O=A*R-M*x+v*F+b*C-w*B+T*S;return O?(O=1/O,t[0]=(l*R-u*x+s*F)*O,t[1]=(u*C-i*R-s*B)*O,t[2]=(i*x-l*C+s*S)*O,t[3]=(o*x-e*R-a*F)*O,t[4]=(r*R-o*C+a*B)*O,t[5]=(e*C-r*x-a*S)*O,t[6]=(y*T-d*w+m*b)*O,t[7]=(d*v-h*T-m*M)*O,t[8]=(h*w-y*v+m*A)*O,t):null}function g(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t[6]=n[6]-r[6],t[7]=n[7]-r[7],t[8]=n[8]-r[8],t}const h=s,y=g;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t[8]=n[8]+r[8],t},adjoint:u,copy:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},determinant:function(t){const n=t[0],r=t[1],e=t[2],o=t[3],a=t[4],i=t[5],l=t[6],u=t[7],s=t[8];return n*(s*a-i*u)+r*(-s*o+i*l)+e*(u*o-a*l)},equals:function(t,n){const r=t[0],o=t[1],a=t[2],i=t[3],l=t[4],u=t[5],s=t[6],c=t[7],f=t[8],p=n[0],g=n[1],h=n[2],y=n[3],d=n[4],m=n[5],A=n[6],M=n[7],v=n[8],b=(0,e.FD)();return Math.abs(r-p)<=b*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(o-g)<=b*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(a-h)<=b*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(i-y)<=b*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(l-d)<=b*Math.max(1,Math.abs(l),Math.abs(d))&&Math.abs(u-m)<=b*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(s-A)<=b*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(c-M)<=b*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(f-v)<=b*Math.max(1,Math.abs(f),Math.abs(v))},exactEquals:function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)},fromMat2d:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},fromMat4:o,fromQuat:f,fromRotation:function(t,n){const r=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=r,t[2]=0,t[3]=-r,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromScaling:function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromTranslation:function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},invert:l,isOrthoNormal:function(t){const n=(0,e.FD)(),r=t[0],o=t[1],a=t[2],i=t[3],l=t[4],u=t[5],s=t[6],c=t[7],f=t[8];return Math.abs(1-(r*r+i*i+s*s))<=n&&Math.abs(1-(o*o+l*l+c*c))<=n&&Math.abs(1-(a*a+u*u+f*f))<=n},mul:h,multiply:s,multiplyScalar:function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*r,t},multiplyScalarAndAdd:function(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t[3]=n[3]+r[3]*e,t[4]=n[4]+r[4]*e,t[5]=n[5]+r[5]*e,t[6]=n[6]+r[6]*e,t[7]=n[7]+r[7]*e,t[8]=n[8]+r[8]*e,t},normalFromMat4:p,normalFromMat4Legacy:function(t,n){const r=n[0],e=n[1],o=n[2],a=n[4],i=n[5],l=n[6],u=n[8],s=n[9],c=n[10],f=c*i-l*s,p=-c*a+l*u,g=s*a-i*u,h=r*f+e*p+o*g;if(!h)return null;const y=1/h;return t[0]=f*y,t[1]=(-c*e+o*s)*y,t[2]=(l*e-o*i)*y,t[3]=p*y,t[4]=(c*r-o*u)*y,t[5]=(-l*r+o*a)*y,t[6]=g*y,t[7]=(-s*r+e*u)*y,t[8]=(i*r-e*a)*y,t},projection:function(t,n,r){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},rotate:function(t,n,r){const e=n[0],o=n[1],a=n[2],i=n[3],l=n[4],u=n[5],s=n[6],c=n[7],f=n[8],p=Math.sin(r),g=Math.cos(r);return t[0]=g*e+p*i,t[1]=g*o+p*l,t[2]=g*a+p*u,t[3]=g*i-p*e,t[4]=g*l-p*o,t[5]=g*u-p*a,t[6]=s,t[7]=c,t[8]=f,t},scale:c,scaleByVec2:function(t,n,r){const e=r[0],o=r[1];return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t},set:a,str:function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},sub:y,subtract:g,translate:function(t,n,r){const e=n[0],o=n[1],a=n[2],i=n[3],l=n[4],u=n[5],s=n[6],c=n[7],f=n[8],p=r[0],g=r[1];return t[0]=e,t[1]=o,t[2]=a,t[3]=i,t[4]=l,t[5]=u,t[6]=p*e+g*i+s,t[7]=p*o+g*l+c,t[8]=p*a+g*u+f,t},transpose:i},Symbol.toStringTag,{value:"Module"}))},48353:(t,n,r)=>{r.d(n,{l:()=>s});var e=r(34727),o=r(58083),a=r(51850);function i(t,n,r){const e=Math.sin(t),o=Math.cos(t),a=Math.sin(n),i=Math.cos(n),l=r;return l[0]=-e,l[4]=-a*o,l[8]=i*o,l[12]=0,l[1]=o,l[5]=-a*e,l[9]=i*e,l[13]=0,l[2]=0,l[6]=i,l[10]=a,l[14]=0,l[3]=0,l[7]=0,l[11]=0,l[15]=1,l}var l=r(37539),u=r(21325);function s(t,n,r,e){if(null==t||null==e)return!1;const a=(0,l.Qk)(t,l.Wv),s=(0,l.Qk)(e,l.zp);if(a===s&&!c(s)&&(a!==l.rz.UNKNOWN||(0,u.aI)(t,e)))return(0,o.kN)(r,n),!0;if(c(s)){const t=l.w5[a][l.rz.LON_LAT],e=l.w5[l.rz.LON_LAT][s];return null!=t&&null!=e&&(t(n,0,p,0),e(p,0,g,0),i(f*p[0],f*p[1],r),r[12]=g[0],r[13]=g[1],r[14]=g[2],!0)}if(!(s!==l.rz.WEB_MERCATOR&&s!==l.rz.PLATE_CARREE&&s!==l.rz.WGS84&&s!==l.rz.CGCS2000||a!==l.rz.WGS84&&a!==l.rz.SPHERICAL_ECEF&&a!==l.rz.WEB_MERCATOR&&a!==l.rz.CGCS2000)){const t=l.w5[a][l.rz.LON_LAT],e=l.w5[l.rz.LON_LAT][s];return null!=t&&null!=e&&(t(n,0,p,0),e(p,0,g,0),a===l.rz.SPHERICAL_ECEF?function(t,n,r){i(t,n,r),(0,o.mg)(r,r)}(f*p[0],f*p[1],r):(0,o.D_)(r),r[12]=g[0],r[13]=g[1],r[14]=g[2],!0)}return!1}function c(t){return t===l.rz.SPHERICAL_ECEF||t===l.rz.SPHERICAL_MARS_PCPF||t===l.rz.SPHERICAL_MOON_PCPF}const f=(0,e.kU)(1),p=(0,a.vt)(),g=(0,a.vt)()},65806:(t,n,r)=>{r.d(n,{g:()=>i});var e=r(51850),o=r(57251),a=r(9762);function i(t,n,r,e){if((0,o.canProjectWithoutEngine)(t.spatialReference,r)){l[0]=t.x,l[1]=t.y;const o=t.z;return l[2]=o??e??0,(0,a.projectBuffer)(l,t.spatialReference,0,n,r,0,1)}const i=(0,o.tryProjectWithZConversion)(t,r);return!!i&&(n[0]=i?.x,n[1]=i?.y,n[2]=i?.z??e??0,!0)}const l=(0,e.vt)()},98764:(t,n,r)=>{r.d(n,{Y0:()=>s,lO:()=>c});var e=r(73941),o=r(16930),a=r(21325);const i=new o.A(e.fv),l=new o.A(e.FY),u=new o.A(e.LJ),s=new o.A(e.Ro);function c(t){const n=f.get(t);if(n)return n;let r=i;if(t)if(t===l)r=l;else if(t===u)r=u;else{const n=t.wkid,e=t.latestWkid;if(null!=n||null!=e)(0,a.tl)(n)||(0,a.tl)(e)?r=l:((0,a.ZL)(n)||(0,a.ZL)(e))&&(r=u);else{const n=t.wkt2??t.wkt;if(n){const t=n.toUpperCase();t===p?r=l:t===g&&(r=u)}}}return f.set(t,r),r}const f=new Map,p=l.wkt.toUpperCase(),g=u.wkt.toUpperCase()},4197:(t,n,r)=>{r.d(n,{Ns:()=>u,jh:()=>o,l5:()=>i,s:()=>l,xm:()=>a});var e=r(34275);function o(t,n=!1){return t<=e.y9?n?new Array(t).fill(0):new Array(t):new Float64Array(t)}function a(t){return((0,e.cy)(t)?t.length:t.byteLength/8)<=e.y9?Array.from(t):new Float64Array(t)}function i(t,n,r){return Array.isArray(t)?t.slice(n,n+r):t.subarray(n,n+r)}function l(t,n){for(let r=0;r<n.length;++r)t[r]=n[r];return t}function u(t){return Array.isArray(t)?new Float64Array(t):t}},1193:(t,n,r)=>{r.d(n,{H:()=>p});var e,o=r(90237),a=r(25482),i=r(4718),l=r(53966),u=r(10107),s=r(79901),c=r(40608),f=r(31199);let p=e=class extends a.oY{constructor(t){super(t),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(t){return(0,f.b)(t,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},l.A.getLogger(this))}castPosition(t){return t&&t instanceof Float32Array&&l.A.getLogger(this).warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),(0,f.b)(t,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},l.A.getLogger(this))}castUv(t){return(0,f.b)(t,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},l.A.getLogger(this))}castNormal(t){return(0,f.b)(t,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},l.A.getLogger(this))}castTangent(t){return(0,f.b)(t,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},l.A.getLogger(this))}clone(){const t={position:(0,i.o8)(this.position),uv:(0,i.o8)(this.uv),normal:(0,i.o8)(this.normal),tangent:(0,i.o8)(this.tangent),color:(0,i.o8)(this.color)};return new e(t)}clonePositional(){const t={position:(0,i.o8)(this.position),normal:(0,i.o8)(this.normal),tangent:(0,i.o8)(this.tangent),uv:this.uv,color:this.color};return new e(t)}get memoryUsage(){let t=0;return t+=this.position.byteLength,null!=this.uv&&(t+=this.uv.byteLength),null!=this.normal&&(t+=this.normal.byteLength),null!=this.tangent&&(t+=this.tangent.byteLength),null!=this.color&&(t+=this.color.byteLength),t}};(0,o._)([(0,u.MZ)({json:{write:f.B}})],p.prototype,"color",void 0),(0,o._)([(0,s.w)("color")],p.prototype,"castColor",null),(0,o._)([(0,u.MZ)({nonNullable:!0,json:{write:f.B}})],p.prototype,"position",void 0),(0,o._)([(0,s.w)("position")],p.prototype,"castPosition",null),(0,o._)([(0,u.MZ)({json:{write:f.B}})],p.prototype,"uv",void 0),(0,o._)([(0,s.w)("uv")],p.prototype,"castUv",null),(0,o._)([(0,u.MZ)({json:{write:f.B}})],p.prototype,"normal",void 0),(0,o._)([(0,s.w)("normal")],p.prototype,"castNormal",null),(0,o._)([(0,u.MZ)({json:{write:f.B}})],p.prototype,"tangent",void 0),(0,o._)([(0,s.w)("tangent")],p.prototype,"castTangent",null),p=e=(0,o._)([(0,c.$)("esri.geometry.support.MeshVertexAttributes")],p)},31199:(t,n,r)=>{function e(t,n,r,e){const{loggerTag:o,stride:a}=n;return t.length%a!=0?(e.error(o,`Invalid array length, expected a multiple of ${a}`),new r([])):t}function o(t,n,r,o,a){if(!t)return t;if(t instanceof n)return e(t,o,n,a);for(const i of r)if(t instanceof i)return e(new n(t),o,n,a);if(Array.isArray(t))return e(new n(t),o,n,a);{const e=r.map((t=>`'${t.name}'`));return a.error(`Failed to set property, expected one of ${e}, but got ${t.constructor.name}`),new n([])}}function a(t,n,r){n[r]=function(t){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}(t)}r.d(n,{B:()=>a,b:()=>o})},28846:(t,n,r)=>{r.d(n,{convertMeshVertexSpace:()=>u});var e=r(49186),o=r(4718),a=r(74887),i=r(1193),l=r(72258);async function u(t,n,r){await Promise.resolve(),(0,a.Te)(r);const u=(0,l.UR)(t,n);if(!u)throw new e.A("meshUtils:convertVertexSpace()","Failed to convert to provided vertex space due to projection errors");const s=t.cloneAndModifyVertexAttributes(new i.H({...u,uv:(0,o.o8)(t.vertexAttributes.uv),color:(0,o.o8)(t.vertexAttributes.color)}),n);return s.transform=null,s}},22141:(t,n,r)=>{r.d(n,{$5:()=>B,CN:()=>b,JP:()=>v,KM:()=>F,Mv:()=>R,X4:()=>w,gr:()=>S,project:()=>L,qs:()=>C,si:()=>T,xA:()=>x});var e=r(34727),o=r(77690),a=r(29242),i=r(58083),l=r(9093),u=r(38954),s=r(51850),c=r(57251),f=r(98764),p=r(48353),g=r(9762),h=r(4197),y=(r(79258),r(21325)),d=r(28735),m=r(13030),A=r(73354),M=r(65686);const v="Projection may be possible after calling projection.load().";function b(t,n,r,e){t.error(`Failed to project from (wkid:${n.wkid}) to (wkid:${r.wkid}).${e?" ":""}${e}`)}function w(t,n,r,e,o){return P(_.TO_PCPF,m.xs.fromTypedArray(t),O.NORMAL,m.Xm.fromTypedArray(n),m.Xm.fromTypedArray(r),e,m.xs.fromTypedArray(o))?o:null}function T(t,n,r,e,o){return P(_.FROM_PCPF,m.xs.fromTypedArray(t),O.NORMAL,m.Xm.fromTypedArray(n),m.Xm.fromTypedArray(r),e,m.xs.fromTypedArray(o))?o:null}function S(t,n,r){return(0,g.projectBuffer)(t,n,0,r,(0,f.lO)(n),0,t.length/3)?r:null}function B(t,n,r){return(0,g.projectBuffer)(t,(0,f.lO)(r),0,n,r,0,t.length/3)?n:null}function C(t,n,r){return(0,o.Ge)(G,r),(0,A.t)(n,t,G),(0,e.or)(G)&&(0,A.n)(n,n),n}function F(t,n,r){return(0,o.z0)(G,r),(0,M.t)(n,t,G),(0,e.or)(G)&&(0,A.n)(n,n,4),n}function x(t,n,r,e,o){if(!P(_.TO_PCPF,m.xs.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),O.TANGENT,m.Xm.fromTypedArray(n),m.Xm.fromTypedArray(r),e,m.xs.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let n=3;n<t.length;n+=4)o[n]=t[n];return o}function R(t,n,r,e,o){if(!P(_.FROM_PCPF,m.xs.fromTypedArray(t,16),O.TANGENT,m.Xm.fromTypedArray(n),m.Xm.fromTypedArray(r),e,m.xs.fromTypedArray(o,16)))return null;for(let n=3;n<t.length;n+=4)o[n]=t[n];return o}var O,_,E;function N(t,n,r,e,a){switch((0,p.l)(e,r,U,e),t===_.FROM_PCPF&&(0,i.B8)(U,U),n){case O.NORMAL:return(0,o.Ge)(a,U);case O.TANGENT:return(0,o.z0)(a,U)}}function P(t,n,r,e,o,a,i){if(!n)return;const l=e.count,s=(0,f.lO)(a);if(function(t){return t.isWGS84||(0,y.x1)(t)||(0,y.q8)(t)||(0,y.KQ)(t)}(a))for(let e=0;e<l;e++)o.getVec(e,z),n.getVec(e,j),(0,u.t)(j,j,N(t,r,z,s,G)),i.setVec(e,j);else for(let a=0;a<l;a++){o.getVec(a,z),n.getVec(a,j);const l=(0,d.jg)(e.get(a,1));let c=Math.cos(l);r===O.TANGENT!=(t===_.TO_PCPF)&&(c=1/c),N(t,r,z,s,G),t===_.TO_PCPF?(G[0]*=c,G[1]*=c,G[2]*=c,G[3]*=c,G[4]*=c,G[5]*=c):(G[0]*=c,G[3]*=c,G[6]*=c,G[1]*=c,G[4]*=c,G[7]*=c),(0,u.t)(j,j,G),(0,u.n)(j,j),i.setVec(a,j)}return i}function L(t){return"local"===t.vertexSpace.type?function({vertexSpace:t,transform:n,inSpatialReference:r,outSpatialReference:e,localMode:o,outPositions:a,positions:u}){const y=t.origin??s.uY,d=null!=t.origin?n?.localMatrix??l.zK:l.zK,m=(0,f.lO)(r),M=e.isWebMercator&&o||!(0,c.canProjectWithoutEngine)(r,m)?r:m;(0,p.l)(r,y,U,M),(0,i.lw)(U,U,d);const v=a??(0,h.jh)(u.length);return(0,A.a)(v,u,U),(0,g.projectBuffer)(v,M,0,v,e,0,v.length/3),v}(t):function({vertexSpace:t,transform:n,outPositions:r,positions:e,inSpatialReference:o,outSpatialReference:a}){const c=null!=t.origin?n?.localMatrix??l.zK:l.zK,f=r??(0,h.jh)(e.length);(0,i.aI)(c,l.zK)?(0,h.s)(f,e):(0,A.a)(f,e,c);const p=t.origin??s.uY;if(!(0,u.e)(p,s.uY)){const[t,n,r]=p;for(let e=0;e<f.length;e+=3)f[e]+=t,f[e+1]+=n,f[e+2]+=r}return(0,g.projectBuffer)(f,o,0,f,a,0,f.length/3)?f:null}(t)}(E=O||(O={}))[E.NORMAL=0]="NORMAL",E[E.TANGENT=1]="TANGENT",function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(_||(_={}));const z=(0,s.vt)(),j=(0,s.vt)(),U=(0,l.vt)(),G=(0,a.vt)()},72258:(t,n,r)=>{r.d(n,{UR:()=>v,p5:()=>M,xK:()=>S});var e=r(53966),o=r(34727),a=r(83047),i=r(77690),l=r(29242),u=r(58083),s=r(9093),c=r(38954),f=r(51850),p=r(98764),g=r(48353),h=r(65806),y=r(27615),d=r(73354),m=r(22141);const A=()=>e.A.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function M(t,n,{vertexSpace:r,spatialReference:e}){if("georeferenced"===r.type){const o=t;if(!(0,h.g)(n,o,e))return!1;const{origin:a}=r;return(0,c.f)(t,o,a),!0}const o=(0,p.lO)(e),a=t;if(!(0,h.g)(n,a,o))return!1;const{origin:i}=r,l=R;if(!(0,g.l)(e,i,l,o))return!1;const s=(0,u.B8)(R,l);return null!=s&&((0,c.h)(t,a,s),!0)}function v(t,n,r){const{vertexSpace:e,transform:a,vertexAttributes:l}=t,f=T(t.spatialReference,r,O.SOURCE|O.TARGET);if((0,y.yJ)(e,n)&&(!a||(0,u.t2)(a.localMatrix,s.zK))&&(0,o.Io)(f,1)){const{position:t,normal:n,tangent:e}=l,o=r?.allowBufferReuse;return{position:o?t:t.slice(),normal:o?n:n?.slice(),tangent:o?e:e?.slice()}}switch(t.vertexSpace.type){case"local":return"local"===n.type?function({vertexAttributes:t,spatialReference:n,transform:r},{origin:e},o,a){const i=(0,p.lO)(n);if(!(0,g.l)(n,e,B,i))return(0,m.CN)(A(),n,i),null;if(r&&(0,u.lw)(B,B,r.localMatrix),!(0,g.l)(n,o,C,i))return(0,m.CN)(A(),i,n),null;(0,u.B8)(C,C);const l=(0,u.lw)(B,C,B);return w(l,n,a,O.SOURCE|O.TARGET),b(t,l)}(t,t.vertexSpace,n.origin,r):function({spatialReference:t,vertexAttributes:n,transform:r},{origin:e},o,a){const i=(0,p.lO)(t);if(!(0,g.l)(t,e,B,i))return(0,m.CN)(A(),t,i),null;r&&(0,u.lw)(B,B,r.localMatrix),w(B,t,a,O.SOURCE);const l=new Float64Array(n.position.length),s=function(t,n,r,e){(0,d.a)(e,t,n);const o=new Float64Array(t.length);return(0,m.$5)(e,o,r)?o:((0,m.CN)(A(),(0,p.lO)(r),r),null)}(n.position,B,t,l);if(!s)return null;const f=function(t,n,r,e,o){if(null==r)return null;const a=new Float32Array(r.length);return(0,m.qs)(r,a,e),(0,m.si)(a,t,n,o,a)?a:((0,m.CN)(A(),(0,p.lO)(o),o),null)}(s,l,n.normal,B,t);if(n.normal&&!f)return null;const h=function(t,n,r,e,o){if(null==r)return null;const a=new Float32Array(r.length);return(0,m.KM)(r,a,e),(0,m.Mv)(a,t,n,o,a)?a:((0,m.CN)(A(),(0,p.lO)(o),o),null)}(s,l,n.tangent,B,t);if(n.tangent&&!h)return null;if(o){const t=(0,c.k)(x,o);(0,d.b)(s,s,t)}return{position:s,normal:f,tangent:h}}(t,t.vertexSpace,n.origin,r);case"georeferenced":return"local"===n.type?function({vertexAttributes:t,spatialReference:n,transform:r},{origin:e},o,a){const l=(0,p.lO)(n);if(!(0,g.l)(n,o,B,l))return(0,m.CN)(A(),n,l),null;const s=1/T(n,a,O.TARGET);(0,u.hs)(B,B,[s,s,s]);const c=(0,u.B8)(C,B),{position:f,normal:h,tangent:y}=function(t,n,r){if(!n)return t;if(!r){const{position:r,normal:e,tangent:o}=t;return{position:(0,d.b)(new Float64Array(r.length),r,n),tangent:o,normal:e}}const e=b(t,r.localMatrix);return(0,d.b)(e.position,e.position,n),e}(t,e,r),M=new Float64Array(f.length),v=function(t,n,r,e){const o=(0,m.gr)(t,n,e);if(!o)return(0,m.CN)(A(),n,(0,p.lO)(n)),null;const a=new Float64Array(o.length);return(0,d.a)(a,o,r),a}(f,n,c,M);if(!v)return null;const w=(0,i.Ge)(F,c),S=function(t,n,r,e,o,a){if(null==t)return null;const i=a??new Float32Array(t.length);return(0,m.X4)(t,n,r,e,i)?((0,d.t)(i,i,o),i):((0,m.CN)(A(),e,(0,p.lO)(e)),null)}(h,f,M,n,w,h!==t.normal?h:void 0);if(!S&&h)return null;const x=function(t,n,r,e,o,a){if(null==t)return null;const i=a??new Float32Array(t.length);return(0,m.xA)(t,n,r,e,i)?((0,d.t)(i,i,o,4),i):((0,m.CN)(A(),e,(0,p.lO)(e)),null)}(y,f,M,n,w,y!==t.tangent?y:void 0);return!x&&y?null:{position:v,normal:S,tangent:x}}(t,t.vertexSpace,n.origin,r):function({vertexAttributes:t,transform:n,spatialReference:r},{origin:e},o,a){const{position:i,normal:l,tangent:u}=n?b(t,n.localMatrix):t,s=new Float64Array(i.length);let f=i;if(e&&(f=(0,d.b)(s,f,e)),o){const t=(0,c.k)(x,o);f=(0,d.b)(s,f,t)}T(r,a,O.NONE);const p=a?.allowBufferReuse;return{position:f!==t.position||p?f:f.slice(),normal:l!==t.normal||p?l:l?.slice(),tangent:u!==t.tangent||p?u:u?.slice()}}(t,t.vertexSpace,n.origin,r)}}function b(t,n){const r=new Float64Array(t.position.length);(0,d.a)(r,t.position,n);const e=t.normal?new Float32Array(t.normal.length):null,o=t.tangent?new Float32Array(t.tangent.length):null;return e&&t.normal&&(0,m.qs)(t.normal,e,n),o&&t.tangent&&(0,m.KM)(t.tangent,o,n),{position:r,normal:e,tangent:o}}function w(t,n,r,e){const o=T(n,r,e);1!==o&&(0,u.hs)(t,t,[o,o,o])}function T(t,n,r){const e=!!(r&O.SOURCE),o=!!(r&O.TARGET),a=n?.sourceUnit,i=n?.targetUnit;if(!a&&!i)return 1;let l=S(a,t);!e&&a&&1!==l&&(A().warn("source unit conversion not supported"),l=1);let u=1/S(i,t);return!o&&i&&1!==u&&(A().warn("target unit conversion not supported"),u=1),l*u}function S(t,n){if(null==t)return 1;const r=(0,a.KX)(n);return 1/(0,a.oU)(r,"meters",t)}const B=(0,s.vt)(),C=(0,s.vt)(),F=(0,l.vt)(),x=(0,f.vt)(),R=(0,s.vt)();var O,_;(_=O||(O={}))[_.NONE=0]="NONE",_[_.SOURCE=1]="SOURCE",_[_.TARGET=2]="TARGET"}}]);