"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[6537],{99880:(t,e,r)=>{r.d(e,{V:()=>u});var n=r(68773),o=(r(3172),r(20102)),a=r(92604),s=r(17452);const i=a.Z.getLogger("esri.assets");function u(t){if(!n.default.assetsPath)throw i.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new o.Z("assets:path-not-set","config.assetsPath is not set");return(0,s.v_)(n.default.assetsPath,t)}},46851:(t,e,r)=>{r.d(e,{R:()=>a,a:()=>c,g:()=>o,t:()=>u});let n=1e-6;function o(){return n}const a=Math.random,s=Math.PI/180,i=180/Math.PI;function u(t){return t*s}function c(t){return t*i}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:a,equals:function(t,e){return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))},getEpsilon:o,setEpsilon:function(t){n=t},toDegree:c,toRadian:u},Symbol.toStringTag,{value:"Module"}))},17896:(t,e,r)=>{r.d(e,{A:()=>l,B:()=>h,C:()=>L,D:()=>p,a:()=>y,b:()=>T,c:()=>s,e:()=>S,f:()=>c,g:()=>u,h:()=>C,i:()=>M,j:()=>v,k:()=>N,l:()=>a,m:()=>w,n:()=>q,o:()=>g,p:()=>O,q:()=>b,r:()=>A,s:()=>i,t:()=>x,u:()=>_,v:()=>k,w:()=>d,x:()=>m,z:()=>f});var n=r(65617),o=r(46851);function a(t){const e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function i(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function u(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function c(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function l(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function h(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function d(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t}function f(t,e){return t[0]=Math.sign(e[0]),t[1]=Math.sign(e[1]),t[2]=Math.sign(e[2]),t}function m(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function p(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function M(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function b(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function g(t,e){const r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(r*r+n*n+o*o)}function y(t,e){const r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return r*r+n*n+o*o}function w(t){const e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function q(t,e){const r=e[0],n=e[1],o=e[2];let a=r*r+n*n+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t}function v(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function T(t,e,r){const n=e[0],o=e[1],a=e[2],s=r[0],i=r[1],u=r[2];return t[0]=o*u-a*i,t[1]=a*s-n*u,t[2]=n*i-o*s,t}function O(t,e,r,n){const o=e[0],a=e[1],s=e[2];return t[0]=o+n*(r[0]-o),t[1]=a+n*(r[1]-a),t[2]=s+n*(r[2]-s),t}function S(t,e,r){const n=e[0],o=e[1],a=e[2];return t[0]=r[0]*n+r[4]*o+r[8]*a+r[12],t[1]=r[1]*n+r[5]*o+r[9]*a+r[13],t[2]=r[2]*n+r[6]*o+r[10]*a+r[14],t}function x(t,e,r){const n=e[0],o=e[1],a=e[2];return t[0]=n*r[0]+o*r[3]+a*r[6],t[1]=n*r[1]+o*r[4]+a*r[7],t[2]=n*r[2]+o*r[5]+a*r[8],t}function k(t,e,r){const n=r[0],o=r[1],a=r[2],s=r[3],i=e[0],u=e[1],c=e[2];let l=o*c-a*u,h=a*i-n*c,d=n*u-o*i,f=o*d-a*h,m=a*l-n*d,p=n*h-o*l;const M=2*s;return l*=M,h*=M,d*=M,f*=2,m*=2,p*=2,t[0]=i+l+f,t[1]=u+h+m,t[2]=c+d+p,t}const E=(0,n.c)(),P=(0,n.c)();function C(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function L(t,e,r){const n=r[0]-e[0],o=r[1]-e[1],a=r[2]-e[2];let s=n*n+o*o+a*a;return s>0?(s=1/Math.sqrt(s),t[0]=n*s,t[1]=o*s,t[2]=a*s,t):(t[0]=0,t[1]=0,t[2]=0,t)}const _=c,D=l,j=h,A=g,I=y,N=a,U=w;Object.freeze(Object.defineProperty({__proto__:null,abs:d,add:u,angle:function(t,e){s(E,t),s(P,e),q(E,E),q(P,P);const r=v(E,P);return r>1?0:r<-1?Math.PI:Math.acos(r)},bezier:function(t,e,r,n,o,a){const s=1-a,i=s*s,u=a*a,c=i*s,l=3*a*i,h=3*u*s,d=u*a;return t[0]=e[0]*c+r[0]*l+n[0]*h+o[0]*d,t[1]=e[1]*c+r[1]*l+n[1]*h+o[1]*d,t[2]=e[2]*c+r[2]*l+n[2]*h+o[2]*d,t},ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},copy:s,cross:T,direction:L,dist:A,distance:g,div:j,divide:h,dot:v,equals:function(t,e){if(t===e)return!0;const r=t[0],n=t[1],a=t[2],s=e[0],i=e[1],u=e[2],c=(0,o.g)();return Math.abs(r-s)<=c*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-i)<=c*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(a-u)<=c*Math.max(1,Math.abs(a),Math.abs(u))},exactEquals:C,floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},hermite:function(t,e,r,n,o,a){const s=a*a,i=s*(2*a-3)+1,u=s*(a-2)+a,c=s*(a-1),l=s*(3-2*a);return t[0]=e[0]*i+r[0]*u+n[0]*c+o[0]*l,t[1]=e[1]*i+r[1]*u+n[1]*c+o[1]*l,t[2]=e[2]*i+r[2]*u+n[2]*c+o[2]*l,t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},len:N,length:a,lerp:O,max:p,min:m,mul:D,multiply:l,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},normalize:q,random:function(t,e){e=e||1;const r=o.R,n=2*r()*Math.PI,a=2*r()-1,s=Math.sqrt(1-a*a)*e;return t[0]=Math.cos(n)*s,t[1]=Math.sin(n)*s,t[2]=a*e,t},rotateX:function(t,e,r,n){const o=[],a=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],a[0]=o[0],a[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),a[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},rotateY:function(t,e,r,n){const o=[],a=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],a[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),a[1]=o[1],a[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},rotateZ:function(t,e,r,n){const o=[],a=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],a[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),a[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),a[2]=o[2],t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},scale:M,scaleAndAdd:b,set:i,sign:f,sqrDist:I,sqrLen:U,squaredDistance:y,squaredLength:w,str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},sub:_,subtract:c,transformMat3:x,transformMat4:S,transformQuat:k},Symbol.toStringTag,{value:"Module"}))},65617:(t,e,r)=>{function n(){return[0,0,0]}function o(t){return[t[0],t[1],t[2]]}function a(t,e,r){return[t,e,r]}function s(t,e=[0,0,0]){const r=Math.min(3,t.length);for(let n=0;n<r;++n)e[n]=t[n];return e}function i(t,e){return new Float64Array(t,e,3)}function u(){return a(1,1,1)}function c(){return a(1,0,0)}function l(){return a(0,1,0)}function h(){return a(0,0,1)}r.d(e,{O:()=>f,U:()=>m,Z:()=>d,a:()=>i,b:()=>p,c:()=>n,d:()=>M,e:()=>s,f:()=>a,g:()=>o});const d=[0,0,0],f=u(),m=c(),p=l(),M=h();Object.freeze(Object.defineProperty({__proto__:null,ONES:f,UNIT_X:m,UNIT_Y:p,UNIT_Z:M,ZEROS:d,clone:o,create:n,createView:i,fromArray:s,fromValues:a,ones:u,unitX:c,unitY:l,unitZ:h,zeros:function(){return[0,0,0]}},Symbol.toStringTag,{value:"Module"}))},98766:(t,e,r)=>{r.d(e,{a:()=>s,b:()=>l,c:()=>o,d:()=>M,e:()=>y,f:()=>f,g:()=>m,h:()=>g,l:()=>b,n:()=>p,s:()=>a});var n=r(46851);function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function a(t,e,r,n,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t}function s(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function i(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function u(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function c(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function l(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function h(t,e){const r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(r*r+n*n+o*o+a*a)}function d(t,e){const r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return r*r+n*n+o*o+a*a}function f(t){const e=t[0],r=t[1],n=t[2],o=t[3];return Math.sqrt(e*e+r*r+n*n+o*o)}function m(t){const e=t[0],r=t[1],n=t[2],o=t[3];return e*e+r*r+n*n+o*o}function p(t,e){const r=e[0],n=e[1],o=e[2],a=e[3];let s=r*r+n*n+o*o+a*a;return s>0&&(s=1/Math.sqrt(s),t[0]=r*s,t[1]=n*s,t[2]=o*s,t[3]=a*s),t}function M(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function b(t,e,r,n){const o=e[0],a=e[1],s=e[2],i=e[3];return t[0]=o+n*(r[0]-o),t[1]=a+n*(r[1]-a),t[2]=s+n*(r[2]-s),t[3]=i+n*(r[3]-i),t}function g(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function y(t,e){const r=t[0],o=t[1],a=t[2],s=t[3],i=e[0],u=e[1],c=e[2],l=e[3],h=(0,n.g)();return Math.abs(r-i)<=h*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(o-u)<=h*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-c)<=h*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(s-l)<=h*Math.max(1,Math.abs(s),Math.abs(l))}const w=i,q=u,v=c,T=h,O=d,S=f,x=m;Object.freeze(Object.defineProperty({__proto__:null,add:s,ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},copy:o,dist:T,distance:h,div:v,divide:c,dot:M,equals:y,exactEquals:g,floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},len:S,length:f,lerp:b,max:function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},min:function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},mul:q,multiply:u,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},normalize:p,random:function(t,e){const r=n.R;let o,a,s,i,u,c;e=e||1;do{o=2*r()-1,a=2*r()-1,u=o*o+a*a}while(u>=1);do{s=2*r()-1,i=2*r()-1,c=s*s+i*i}while(c>=1);const l=Math.sqrt((1-u)/c);return t[0]=e*o,t[1]=e*a,t[2]=e*s*l,t[3]=e*i*l,t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},scale:l,scaleAndAdd:function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},set:a,sqrDist:O,sqrLen:x,squaredDistance:d,squaredLength:m,str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},sub:w,subtract:i,transformMat4:function(t,e,r){const n=e[0],o=e[1],a=e[2],s=e[3];return t[0]=r[0]*n+r[4]*o+r[8]*a+r[12]*s,t[1]=r[1]*n+r[5]*o+r[9]*a+r[13]*s,t[2]=r[2]*n+r[6]*o+r[10]*a+r[14]*s,t[3]=r[3]*n+r[7]*o+r[11]*a+r[15]*s,t},transformQuat:function(t,e,r){const n=e[0],o=e[1],a=e[2],s=r[0],i=r[1],u=r[2],c=r[3],l=c*n+i*a-u*o,h=c*o+u*n-s*a,d=c*a+s*o-i*n,f=-s*n-i*o-u*a;return t[0]=l*c+f*-s+h*-u-d*-i,t[1]=h*c+f*-i+d*-s-l*-u,t[2]=d*c+f*-u+l*-i-h*-s,t[3]=e[3],t}},Symbol.toStringTag,{value:"Module"}))},22021:(t,e,r)=>{r.d(e,{BV:()=>h,F3:()=>q,Kt:()=>f,Sf:()=>a,Vl:()=>l,W8:()=>m,ZF:()=>d,bA:()=>c,jE:()=>y,oK:()=>b,oc:()=>w,t7:()=>u,uZ:()=>s,wt:()=>i});var n=r(17896);r(98766);const o=new Float32Array(1);function a(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function s(t,e,r){return Math.min(Math.max(t,e),r)}function i(t){return 0==(t&t-1)}function u(t,e,r){return t+(e-t)*r}function c(t,e,r,n,o){return u(n,o,(t-e)/(r-e))}function l(t){return t*Math.PI/180}function h(t){return 180*t/Math.PI}function d(t){return Math.acos(s(t,-1,1))}function f(t){return Math.asin(s(t,-1,1))}function m(t,e,r=1e-6){return t===e||!(!Number.isFinite(t)||!Number.isFinite(e))&&(t>e?t-e:e-t)<=r}const p=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));const M=BigInt("1000000");function b(t){return g(Math.max(-q,Math.min(t,q)))}function g(t){return o[0]=t,o[0]}function y(t,e){const r=(0,n.l)(t),o=f(t[2]/r),a=Math.atan2(t[1]/r,t[0]/r);return(0,n.s)(e,r,o,a),e}function w(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],n=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(m(e,1)&&m(r,1)&&m(n,1))}!function(t){const e=function(t){return p.setFloat64(0,t),p.getBigInt64(0)}(t=Math.abs(t)),r=function(t){return p.setBigInt64(0,t),p.getFloat64(0)}(e<=M?M:e-M);Math.abs(t-r)}(1);const q=g(34028234663852886e22)},3172:(t,e,r)=>{r.d(e,{Z:()=>f});var n=r(68773),o=r(40330),a=r(20102),s=r(80442),i=r(22974),u=r(95330),c=r(17452),l=r(19745),h=r(71058),d=r(85958);async function f(t,e){t instanceof URL&&(t=t.toString()),e?.query instanceof URLSearchParams&&(e.query=(0,c.u0)(e.query.toString().replaceAll("+"," ")));const i=(0,c.HK)(t),l=(0,c.jc)(t);l||i||(t=(0,c.Fv)(t));const b={url:t,requestOptions:{...e}};let g=(0,c.oh)(t);if(g){const t=await async function(t,e){if(null!=t.responseData)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let r,n;try{n=await t.before(e)}catch(t){r=T("request:interceptor",t,e)}if((n instanceof Error||n instanceof a.Z)&&(r=T("request:interceptor",n,e)),r)throw t.error&&t.error(r),r;return n}}(g,b);if(null!=t)return{data:t,getHeader:w,httpStatus:200,requestOptions:b.requestOptions,url:b.url};g.after||g.error||(g=null)}if(t=b.url,"image"===(e=b.requestOptions).responseType&&((0,s.Z)("host-webworker")||(0,s.Z)("host-node")))throw T("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),b);if("head"===e.method){if(e.body)throw T("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),b);if(i||l)throw T("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),b)}if(await async function(){(0,s.Z)("host-webworker")?m||(m=await r.e(9884).then(r.bind(r,29884))):f._abortableFetch||(f._abortableFetch=globalThis.fetch.bind(globalThis))}(),m)return m.execute(t,e);const y=new AbortController;(0,u.fu)(e,(()=>y.abort()));const q={controller:y,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:g,params:b,redoRequest:!1,useIdentity:p.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},v=await async function(t){let e,r;await async function(t){const e=t.params.url,r=t.params.requestOptions,a=t.controller.signal,s=r.body;let i=null,c=null;if(M&&"HTMLFormElement"in globalThis&&(s instanceof FormData?i=s:s instanceof HTMLFormElement&&(i=new FormData(s))),"string"==typeof s&&(c=s),t.fetchOptions={cache:r.cacheBust&&!("polyfill"in f._abortableFetch)?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:"head"===r.method?"HEAD":"GET",mode:"cors",priority:p.priority,redirect:"follow",signal:a},(i||c)&&(t.fetchOptions.body=i||c),"anonymous"===r.authMode&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||r.query?.token||i?.get("token")),!t.hasToken&&n.default.apiKey&&(0,h.r)(e)&&(r.query||(r.query={}),r.query.token=n.default.apiKey,t.hasToken=!0),t.useIdentity&&!t.hasToken&&!t.credentialToken&&!S(e)&&!(0,u.Hc)(a)){let n;"immediate"===r.authMode?(await O(),n=await o.id.getCredential(e,{signal:a}),t.credential=n):"no-prompt"===r.authMode?(await O(),n=await o.id.getCredential(e,{prompt:!1,signal:a}).catch((()=>{})),t.credential=n):o.id&&(n=o.id.findCredential(e)),n&&(t.credentialToken=n.token,t.useSSL=!!n.ssl)}}(t);try{do{[e,r]=await x(t)}while(!await E(t,e,r))}catch(r){const n=T("request:server",r,t.params,e);throw n.details.ssl=t.useSSL,t.interceptor?.error&&t.interceptor.error(n),n}const a=t.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(a)){if(!t.hasToken&&!t.credentialToken&&r.user?.username&&!(0,c.kl)(a)){const t=(0,c.P$)(a,!0);t&&p.trustedServers.push(t)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&(0,d.Hu)(r.authorizedCrossOriginNoCorsDomains)}const s=t.credential;if(s&&o.id){const t=o.id.findServerInfo(s.server);let e=t?.owningSystemUrl;if(e){e=e.replace(/\/?$/,"/sharing");const t=o.id.findCredential(e,s.userId);t&&-1===o.id._getIdenticalSvcIdx(e,t)&&t.resources.unshift(e)}}return{data:r,getHeader:e?t=>e?.headers.get(t):w,httpStatus:e?.status??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}(q);return g?.after?.(v),v}let m;const p=n.default.request,M="FormData"in globalThis,b=new Set([499,498,403,401]),g=new Set(["COM_0056","COM_0057","SB_0008"]),y=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],w=()=>null,q=Symbol();function v(t){const e=(0,c.P$)(t);return!e||e.endsWith(".arcgis.com")||f._corsServers.includes(e)||(0,c.kl)(e)}function T(t,e,r,n){let o="Error";const s={url:r.url,requestOptions:r.requestOptions,getHeader:w,ssl:!1};if(e instanceof a.Z)return e.details?(e.details=(0,i.d9)(e.details),e.details.url=r.url,e.details.requestOptions=r.requestOptions):e.details=s,e;if(e){const t=n&&(t=>n.headers.get(t)),r=n?.status,a=e.message;a&&(o=a),t&&(s.getHeader=t),s.httpStatus=(null!=e.httpCode?e.httpCode:e.code)||r||0,s.subCode=e.subcode,s.messageCode=e.messageCode,"string"==typeof e.details?s.messages=[e.details]:s.messages=e.details,s.raw=q in e?e[q]:e}return(0,u.D_)(e)?(0,u.zE)():new a.Z(t,o,s)}async function O(){o.id||await Promise.all([r.e(7126),r.e(6261),r.e(8657),r.e(8853)]).then(r.bind(r,53865))}function S(t){return y.some((e=>e.test(t)))}async function x(t){let e=t.params.url;const r=t.params.requestOptions,n=t.fetchOptions??{},a=(0,c.jc)(e)||(0,c.HK)(e),i=r.responseType||"json",h=a?0:null!=r.timeout?r.timeout:p.timeout;let m=!1;if(!a){t.useSSL&&(e=(0,c.hO)(e)),r.cacheBust&&"default"===n.cache&&(e=(0,c.ZN)(e,"request.preventCache",Date.now()));let a={...r.query};t.credentialToken&&(a.token=t.credentialToken);let i=(0,c.B7)(a);(0,s.Z)("esri-url-encodes-apostrophe")&&(i=i.replaceAll("'","%27"));const u=e.length+1+i.length;let h;m="delete"===r.method||"post"===r.method||"put"===r.method||!!r.body||u>p.maxUrlLength;const f=r.useProxy||!!(0,c.ed)(e);if(f){const t=(0,c.b7)(e);h=t.path,!m&&h.length+1+u>p.maxUrlLength&&(m=!0),t.query&&(a={...t.query,...a})}if("HEAD"===n.method&&(m||f)){if(m){if(u>p.maxUrlLength)throw T("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params);throw T("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params)}if(f)throw T("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}if(m?(n.method="delete"===r.method?"DELETE":"put"===r.method?"PUT":"POST",r.body?e=(0,c.fl)(e,a):(n.body=(0,c.B7)(a),n.headers||(n.headers={}),n.headers["Content-Type"]="application/x-www-form-urlencoded")):e=(0,c.fl)(e,a),f&&(t.useProxy=!0,e=`${h}?${e}`),a.token&&M&&n.body instanceof FormData&&!(0,l.P)(e)&&n.body.set("token",a.token),r.hasOwnProperty("withCredentials"))t.withCredentials=r.withCredentials;else if(!(0,c.D6)(e,(0,c.TI)()))if((0,c.kl)(e))t.withCredentials=!0;else if(o.id){const r=o.id.findServerInfo(e);r?.webTierAuth&&(t.withCredentials=!0)}t.withCredentials&&(n.credentials="include",(0,d.jH)(e)&&await(0,d.jz)(m?(0,c.fl)(e,a):e))}let b,g,y=0,w=!1;h>0&&(y=setTimeout((()=>{w=!0,t.controller.abort()}),h));try{if("native-request-init"===r.responseType)g=n,g.url=e;else if("image"!==r.responseType||"default"!==n.cache||"GET"!==n.method||m||function(t){if(t)for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0;return!1}(r.headers)||!a&&!t.useProxy&&p.proxyUrl&&!v(e)){if(b=await f._abortableFetch(e,n),t.useProxy||function(t){const e=(0,c.P$)(t);e&&!f._corsServers.includes(e)&&f._corsServers.push(e)}(e),"native"===r.responseType)g=b;else if("HEAD"!==n.method)if(b.ok){switch(i){case"array-buffer":g=await b.arrayBuffer();break;case"blob":case"image":g=await b.blob();break;default:g=await b.text()}if(y&&(clearTimeout(y),y=0),"json"===i||"xml"===i||"document"===i)if(g)switch(i){case"json":g=JSON.parse(g);break;case"xml":g=k(g,"application/xml");break;case"document":g=k(g,"text/html")}else g=null;if(g){if("array-buffer"===i||"blob"===i){const t=b.headers.get("Content-Type");if(t&&/application\/json|text\/plain/i.test(t)&&g["blob"===i?"size":"byteLength"]<=750)try{const t=await new Response(g).json();t.error&&(g=t)}catch{}}"image"===i&&g instanceof Blob&&(g=await P(URL.createObjectURL(g),t,!0))}}else{g=await b.text();try{g=JSON.parse(g)}catch{}}}else g=await P(e,t)}catch(n){if("AbortError"===n.name){if(w)throw(0,d.Tf)();throw(0,u.zE)("Request canceled")}if(!(!b&&n instanceof TypeError&&p.proxyUrl)||r.body||"delete"===r.method||"head"===r.method||"post"===r.method||"put"===r.method||t.useProxy||v(e))throw n;t.redoRequest=!0,(0,c.tD)({proxyUrl:p.proxyUrl,urlPrefix:(0,c.P$)(e)??""})}finally{y&&clearTimeout(y)}return[b,g]}function k(t,e){let r;try{r=(new DOMParser).parseFromString(t,e)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function E(t,e,r){if(t.redoRequest)return t.redoRequest=!1,!1;const n=t.params.requestOptions;if(!e||"native"===n.responseType||"native-request-init"===n.responseType)return!0;let a,s;if(r&&(r.error?a=r.error:"error"===r.status&&Array.isArray(r.messages)&&(a={...r},a[q]=r,a.details=r.messages)),!a&&!e.ok)throw a=new Error(`Unable to load ${e.url} status: ${e.status}`),a[q]=r,a;let i,u=null;a&&(s=Number(a.code),u=a.hasOwnProperty("subcode")?Number(a.subcode):null,i=a.messageCode,i=i?.toUpperCase());const c=n.authMode;if(403===s&&(4===u||a.message?.toLowerCase().includes("ssl")&&!a.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&("no-prompt"!==c||498===s)&&void 0!==s&&b.has(s)&&!S(t.params.url)&&(403!==s||(!i||!g.has(i))&&(null==u||2===u&&t.credentialToken))){await O();try{const e=await o.id.getCredential(t.params.url,{error:T("request:server",a,t.params),prompt:"no-prompt"!==c,signal:t.controller.signal,token:t.credentialToken});return t.credential=e,t.credentialToken=e.token,t.useSSL=t.useSSL||e.ssl,!1}catch(e){if("no-prompt"===c)return t.credential=void 0,t.credentialToken=void 0,!1;a=e}}if(a)throw a;return!0}function P(t,e,r=!1){const n=e.controller.signal,o=new Image;return e.withCredentials?o.crossOrigin="use-credentials":o.crossOrigin="anonymous",o.alt="",o.fetchPriority=p.priority,o.src=t,(0,d.fY)(o,t,r,n)}f._abortableFetch=null,f._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},71058:(t,e,r)=>{r.d(e,{r:()=>a});var n=r(17452);const o=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function a(t){const e=(0,n.P$)(t,!0);return!!e&&e.endsWith(".arcgis.com")&&!o.has(e)&&!t.endsWith("/sharing/rest/generateToken")}},85958:(t,e,r)=>{r.d(e,{Hu:()=>h,Tf:()=>l,fY:()=>i,jH:()=>d,jz:()=>f});var n=r(68773),o=r(80442),a=r(95330),s=r(17452);function i(t,e,r=!1,n){return new Promise(((s,i)=>{if((0,a.Hc)(n))return void i(u());let c=()=>{d(),i(new Error(`Unable to load ${e}`))},l=()=>{const e=t;d(),s(e)},h=()=>{if(!t)return;const e=t;d(),e.src="",i(u())};const d=()=>{(0,o.Z)("esri-image-decode")||(t.removeEventListener("error",c),t.removeEventListener("load",l)),c=null,l=null,t=null,null!=n&&n.removeEventListener("abort",h),h=null,r&&URL.revokeObjectURL(e)};null!=n&&n.addEventListener("abort",h),(0,o.Z)("esri-image-decode")?t.decode().then(l,c):(t.addEventListener("error",c),t.addEventListener("load",l))}))}function u(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const c="Timeout exceeded";function l(){return new Error(c)}function h(t){n.default.request.crossOriginNoCorsDomains||(n.default.request.crossOriginNoCorsDomains={});const e=n.default.request.crossOriginNoCorsDomains;for(let r of t)r=r.toLowerCase(),/^https?:\/\//.test(r)?e[(0,s.P$)(r)??""]=0:(e[(0,s.P$)("http://"+r)??""]=0,e[(0,s.P$)("https://"+r)??""]=0)}function d(t){const e=n.default.request.crossOriginNoCorsDomains;if(e){let r=(0,s.P$)(t);if(r)return r=r.toLowerCase(),!(0,s.D6)(r,(0,s.TI)())&&e[r]<Date.now()-36e5}return!1}async function f(t){const e=n.default.request.crossOriginNoCorsDomains,r=(0,s.P$)(t);e&&r&&(e[r.toLowerCase()]=Date.now());const o=(0,s.mN)(t);t=o.path,"json"===o.query?.f&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}}}}]);