"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[9005,7360],{22303:(t,e,n)=>{n.d(e,{Z:()=>d});var r,o,i=n(35270),s=n(22021),l=n(75215);function a(t){return(0,s.uZ)((0,l.vU)(t),0,255)}function u(t,e,n){return t=Number(t),isNaN(t)?n:t<e?e:t>n?n:t}function c(t,e){const n=t.toString(16).padStart(2,"0");return e?n.substring(0,1):n}class f{static blendColors(t,e,n,r=new f){return r.r=Math.round(t.r+(e.r-t.r)*n),r.g=Math.round(t.g+(e.g-t.g)*n),r.b=Math.round(t.b+(e.b-t.b)*n),r.a=t.a+(e.a-t.a)*n,r._sanitize()}static fromRgb(t,e){const n=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(n){const t=n[2].split(/\s*,\s*/),r=n[1];if("rgb"===r&&3===t.length||"rgba"===r&&4===t.length){const n=t[0];if("%"===n.charAt(n.length-1)){const n=t.map((t=>2.56*parseFloat(t)));return 4===t.length&&(n[3]=parseFloat(t[3])),f.fromArray(n,e)}return f.fromArray(t.map((t=>parseFloat(t))),e)}if("hsl"===r&&3===t.length||"hsla"===r&&4===t.length)return f.fromArray((0,i.B7)(parseFloat(t[0]),parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])),e)}return null}static fromHex(t,e=new f){if("#"!==t[0]||isNaN(Number(`0x${t.substring(1)}`)))return null;switch(t.length){case 4:case 5:{const n=parseInt(t.substring(1,2),16),r=parseInt(t.substring(2,3),16),o=parseInt(t.substring(3,4),16),i=5===t.length?15:parseInt(t.substring(4),16);return f.fromArray([n+16*n,r+16*r,o+16*o,(i+16*i)/255],e)}case 7:case 9:{const n=parseInt(t.substring(1,3),16),r=parseInt(t.substring(3,5),16),o=parseInt(t.substring(5,7),16),i=7===t.length?255:parseInt(t.substring(7),16);return f.fromArray([n,r,o,i/255],e)}default:return null}}static fromArray(t,e=new f){return e._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(e.a)&&(e.a=1),e._sanitize()}static fromString(t,e){const n=(0,i.St)(t)?(0,i.h$)(t):null;return n&&f.fromArray(n,e)||f.fromRgb(t,e)||f.fromHex(t,e)}static fromJSON(t){return null!=t?new f([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return null!=t?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return null!=t?[t.r/255,t.g/255,t.b/255,null!=t.a?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return"string"==typeof t?f.fromString(t,this):Array.isArray(t)?f.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof f||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const e=t?.capitalize??!1,n=t?.digits??6,r=3===n||4===n,o=4===n||8===n,i=`#${c(this.r,r)}${c(this.g,r)}${c(this.b,r)}${o?c(Math.round(255*this.a),r):""}`;return e?i.toUpperCase():i}toCss(t=!1){const e=this.r+", "+this.g+", "+this.b;return t?`rgba(${e}, ${this.a})`:`rgb(${e})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=f.AlphaMode.ALWAYS){const e=a(this.r),n=a(this.g),r=a(this.b);return t===f.AlphaMode.ALWAYS||1!==this.a?[e,n,r,a(255*this.a)]:[e,n,r]}clone(){return new f(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return null!=t&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(u(this.r,0,255)),this.g=Math.round(u(this.g,0,255)),this.b=Math.round(u(this.b,0,255)),this.a=u(this.a,0,1),this}_set(t,e,n,r){this.r=t,this.g=e,this.b=n,this.a=r}}f.prototype.declaredClass="esri.Color",(o=(r=f||(f={})).AlphaMode||(r.AlphaMode={}))[o.ALWAYS=0]="ALWAYS",o[o.UNLESS_OPAQUE=1]="UNLESS_OPAQUE";const d=f},35270:(t,e,n)=>{n.d(e,{B7:()=>a,St:()=>o,VL:()=>s,h$:()=>i,rW:()=>u});const r={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function o(t){return!!r[t]||!!r[t.toLowerCase()]}function i(t){return r[t]??r[t.toLowerCase()]}function s(t){return[...i(t)]}function l(t,e,n){n<0&&++n,n>1&&--n;const r=6*n;return r<1?t+(e-t)*r:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function a(t,e,n,r=1){const o=(t%360+360)%360/360,i=n<=.5?n*(e+1):n+e-n*e,s=2*n-i;return[Math.round(255*l(s,i,o+1/3)),Math.round(255*l(s,i,o)),Math.round(255*l(s,i,o-1/3)),r]}function u(t){const e=t.length>5,n=e?8:4,r=(1<<n)-1,o=e?1:17,i=e?9===t.length:5===t.length;let s=Number("0x"+t.substr(1));if(isNaN(s))return null;const l=[0,0,0,1];let a;return i&&(a=s&r,s>>=n,l[3]=o*a/255),a=s&r,s>>=n,l[2]=o*a,a=s&r,s>>=n,l[1]=o*a,a=s&r,s>>=n,l[0]=o*a,l}},22549:(t,e,n)=>{function r(){return[0,0,0,0]}function o(t,e,n,r){return[t,e,n,r]}function i(){return o(1,1,1,1)}function s(){return o(1,0,0,0)}function l(){return o(0,1,0,0)}function a(){return o(0,0,1,0)}function u(){return o(0,0,0,1)}n.d(e,{Ue:()=>r,al:()=>o});const c=i(),f=s(),d=l(),h=a(),p=u();Object.freeze(Object.defineProperty({__proto__:null,ONES:c,UNIT_W:p,UNIT_X:f,UNIT_Y:d,UNIT_Z:h,ZEROS:[0,0,0,0],clone:function(t){return[t[0],t[1],t[2],t[3]]},create:r,createView:function(t,e){return new Float64Array(t,e,4)},fromArray:function(t,e=[0,0,0,0]){const n=Math.min(4,t.length);for(let r=0;r<n;++r)e[r]=t[r];return e},fromValues:o,ones:i,unitW:u,unitX:s,unitY:l,unitZ:a,zeros:function(){return[0,0,0,0]}},Symbol.toStringTag,{value:"Module"}))},55488:(t,e,n)=>{n.d(e,{I6:()=>A,Iu:()=>c,Iw:()=>g,Jp:()=>u,U1:()=>d,U_:()=>a,Us:()=>p,aC:()=>b,bA:()=>f,fS:()=>_,lv:()=>m,p4:()=>l,pV:()=>S,t8:()=>i,vc:()=>h,yR:()=>s});var r=n(28712),o=n(39514);function i(t,e,n,r,o,i,s,l,a,u,c,f,d,h,p,b,C){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=s,t[6]=l,t[7]=a,t[8]=u,t[9]=c,t[10]=f,t[11]=d,t[12]=h,t[13]=p,t[14]=b,t[15]=C,t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function l(t,e){if(t===e){const n=e[1],r=e[2],o=e[3],i=e[6],s=e[7],l=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=o,t[13]=s,t[14]=l}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function a(t,e){const n=e[0],r=e[1],o=e[2],i=e[3],s=e[4],l=e[5],a=e[6],u=e[7],c=e[8],f=e[9],d=e[10],h=e[11],p=e[12],b=e[13],C=e[14],y=e[15],g=n*l-r*s,M=n*a-o*s,A=n*u-i*s,_=r*a-o*l,S=r*u-i*l,m=o*u-i*a,E=c*b-f*p,R=c*C-d*p,w=c*y-h*p,O=f*C-d*b,P=f*y-h*b,N=d*y-h*C;let L=g*N-M*P+A*O+_*w-S*R+m*E;return L?(L=1/L,t[0]=(l*N-a*P+u*O)*L,t[1]=(o*P-r*N-i*O)*L,t[2]=(b*m-C*S+y*_)*L,t[3]=(d*S-f*m-h*_)*L,t[4]=(a*w-s*N-u*R)*L,t[5]=(n*N-o*w+i*R)*L,t[6]=(C*A-p*m-y*M)*L,t[7]=(c*m-d*A+h*M)*L,t[8]=(s*P-l*w+u*E)*L,t[9]=(r*w-n*P-i*E)*L,t[10]=(p*S-b*A+y*g)*L,t[11]=(f*A-c*S-h*g)*L,t[12]=(l*R-s*O-a*E)*L,t[13]=(n*O-r*R+o*E)*L,t[14]=(b*M-p*_-C*g)*L,t[15]=(c*_-f*M+d*g)*L,t):null}function u(t,e,n){const r=e[0],o=e[1],i=e[2],s=e[3],l=e[4],a=e[5],u=e[6],c=e[7],f=e[8],d=e[9],h=e[10],p=e[11],b=e[12],C=e[13],y=e[14],g=e[15];let M=n[0],A=n[1],_=n[2],S=n[3];return t[0]=M*r+A*l+_*f+S*b,t[1]=M*o+A*a+_*d+S*C,t[2]=M*i+A*u+_*h+S*y,t[3]=M*s+A*c+_*p+S*g,M=n[4],A=n[5],_=n[6],S=n[7],t[4]=M*r+A*l+_*f+S*b,t[5]=M*o+A*a+_*d+S*C,t[6]=M*i+A*u+_*h+S*y,t[7]=M*s+A*c+_*p+S*g,M=n[8],A=n[9],_=n[10],S=n[11],t[8]=M*r+A*l+_*f+S*b,t[9]=M*o+A*a+_*d+S*C,t[10]=M*i+A*u+_*h+S*y,t[11]=M*s+A*c+_*p+S*g,M=n[12],A=n[13],_=n[14],S=n[15],t[12]=M*r+A*l+_*f+S*b,t[13]=M*o+A*a+_*d+S*C,t[14]=M*i+A*u+_*h+S*y,t[15]=M*s+A*c+_*p+S*g,t}function c(t,e,n){const r=n[0],o=n[1],i=n[2];if(e===t)t[12]=e[0]*r+e[4]*o+e[8]*i+e[12],t[13]=e[1]*r+e[5]*o+e[9]*i+e[13],t[14]=e[2]*r+e[6]*o+e[10]*i+e[14],t[15]=e[3]*r+e[7]*o+e[11]*i+e[15];else{const n=e[0],s=e[1],l=e[2],a=e[3],u=e[4],c=e[5],f=e[6],d=e[7],h=e[8],p=e[9],b=e[10],C=e[11];t[0]=n,t[1]=s,t[2]=l,t[3]=a,t[4]=u,t[5]=c,t[6]=f,t[7]=d,t[8]=h,t[9]=p,t[10]=b,t[11]=C,t[12]=n*r+u*o+h*i+e[12],t[13]=s*r+c*o+p*i+e[13],t[14]=l*r+f*o+b*i+e[14],t[15]=a*r+d*o+C*i+e[15]}return t}function f(t,e,n){const r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function d(t,e,n,r){let i,s,l,a,u,c,f,d,h,p,b,C,y,g,M,A,_,S,m,E,R,w,O,P,N=r[0],L=r[1],v=r[2],I=Math.sqrt(N*N+L*L+v*v);return I<(0,o.bn)()?null:(I=1/I,N*=I,L*=I,v*=I,i=Math.sin(n),s=Math.cos(n),l=1-s,a=e[0],u=e[1],c=e[2],f=e[3],d=e[4],h=e[5],p=e[6],b=e[7],C=e[8],y=e[9],g=e[10],M=e[11],A=N*N*l+s,_=L*N*l+v*i,S=v*N*l-L*i,m=N*L*l-v*i,E=L*L*l+s,R=v*L*l+N*i,w=N*v*l+L*i,O=L*v*l-N*i,P=v*v*l+s,t[0]=a*A+d*_+C*S,t[1]=u*A+h*_+y*S,t[2]=c*A+p*_+g*S,t[3]=f*A+b*_+M*S,t[4]=a*m+d*E+C*R,t[5]=u*m+h*E+y*R,t[6]=c*m+p*E+g*R,t[7]=f*m+b*E+M*R,t[8]=a*w+d*O+C*P,t[9]=u*w+h*O+y*P,t[10]=c*w+p*O+g*P,t[11]=f*w+b*O+M*P,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function h(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function p(t,e,n){if(0===e)return s(t);let r,i,l,a=n[0],u=n[1],c=n[2],f=Math.sqrt(a*a+u*u+c*c);return f<(0,o.bn)()?null:(f=1/f,a*=f,u*=f,c*=f,r=Math.sin(e),i=Math.cos(e),l=1-i,t[0]=a*a*l+i,t[1]=u*a*l+c*r,t[2]=c*a*l-u*r,t[3]=0,t[4]=a*u*l-c*r,t[5]=u*u*l+i,t[6]=c*u*l+a*r,t[7]=0,t[8]=a*c*l+u*r,t[9]=u*c*l-a*r,t[10]=c*c*l+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function b(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function C(t,e,n){const r=e[0],o=e[1],i=e[2],s=e[3],l=r+r,a=o+o,u=i+i,c=r*l,f=r*a,d=r*u,h=o*a,p=o*u,b=i*u,C=s*l,y=s*a,g=s*u;return t[0]=1-(h+b),t[1]=f+g,t[2]=d-y,t[3]=0,t[4]=f-g,t[5]=1-(c+b),t[6]=p+C,t[7]=0,t[8]=d+y,t[9]=p-C,t[10]=1-(c+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}const y=(0,r.Ue)();function g(t,e,n,r){const o=e[0],i=e[1],s=e[2],l=e[3],a=o+o,u=i+i,c=s+s,f=o*a,d=o*u,h=o*c,p=i*u,b=i*c,C=s*c,y=l*a,g=l*u,M=l*c,A=r[0],_=r[1],S=r[2];return t[0]=(1-(p+C))*A,t[1]=(d+M)*A,t[2]=(h-g)*A,t[3]=0,t[4]=(d-M)*_,t[5]=(1-(f+C))*_,t[6]=(b+y)*_,t[7]=0,t[8]=(h+g)*S,t[9]=(b-y)*S,t[10]=(1-(f+p))*S,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function M(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function A(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function _(t,e){if(t===e)return!0;const n=t[0],r=t[1],i=t[2],s=t[3],l=t[4],a=t[5],u=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],b=t[12],C=t[13],y=t[14],g=t[15],M=e[0],A=e[1],_=e[2],S=e[3],m=e[4],E=e[5],R=e[6],w=e[7],O=e[8],P=e[9],N=e[10],L=e[11],v=e[12],I=e[13],T=e[14],U=e[15],F=(0,o.bn)();return Math.abs(n-M)<=F*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(r-A)<=F*Math.max(1,Math.abs(r),Math.abs(A))&&Math.abs(i-_)<=F*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(s-S)<=F*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-m)<=F*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(a-E)<=F*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(u-R)<=F*Math.max(1,Math.abs(u),Math.abs(R))&&Math.abs(c-w)<=F*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(f-O)<=F*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(d-P)<=F*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(h-N)<=F*Math.max(1,Math.abs(h),Math.abs(N))&&Math.abs(p-L)<=F*Math.max(1,Math.abs(p),Math.abs(L))&&Math.abs(b-v)<=F*Math.max(1,Math.abs(b),Math.abs(v))&&Math.abs(C-I)<=F*Math.max(1,Math.abs(C),Math.abs(I))&&Math.abs(y-T)<=F*Math.max(1,Math.abs(y),Math.abs(T))&&Math.abs(g-U)<=F*Math.max(1,Math.abs(g),Math.abs(U))}function S(t){const e=(0,o.bn)(),n=t[0],r=t[1],i=t[2],s=t[4],l=t[5],a=t[6],u=t[8],c=t[9],f=t[10];return Math.abs(1-(n*n+s*s+u*u))<=e&&Math.abs(1-(r*r+l*l+c*c))<=e&&Math.abs(1-(i*i+a*a+f*f))<=e}function m(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[8]&&0===t[9]&&1===t[10]}const E=u,R=M;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},adjoint:function(t,e){const n=e[0],r=e[1],o=e[2],i=e[3],s=e[4],l=e[5],a=e[6],u=e[7],c=e[8],f=e[9],d=e[10],h=e[11],p=e[12],b=e[13],C=e[14],y=e[15];return t[0]=l*(d*y-h*C)-f*(a*y-u*C)+b*(a*h-u*d),t[1]=-(r*(d*y-h*C)-f*(o*y-i*C)+b*(o*h-i*d)),t[2]=r*(a*y-u*C)-l*(o*y-i*C)+b*(o*u-i*a),t[3]=-(r*(a*h-u*d)-l*(o*h-i*d)+f*(o*u-i*a)),t[4]=-(s*(d*y-h*C)-c*(a*y-u*C)+p*(a*h-u*d)),t[5]=n*(d*y-h*C)-c*(o*y-i*C)+p*(o*h-i*d),t[6]=-(n*(a*y-u*C)-s*(o*y-i*C)+p*(o*u-i*a)),t[7]=n*(a*h-u*d)-s*(o*h-i*d)+c*(o*u-i*a),t[8]=s*(f*y-h*b)-c*(l*y-u*b)+p*(l*h-u*f),t[9]=-(n*(f*y-h*b)-c*(r*y-i*b)+p*(r*h-i*f)),t[10]=n*(l*y-u*b)-s*(r*y-i*b)+p*(r*u-i*l),t[11]=-(n*(l*h-u*f)-s*(r*h-i*f)+c*(r*u-i*l)),t[12]=-(s*(f*C-d*b)-c*(l*C-a*b)+p*(l*d-a*f)),t[13]=n*(f*C-d*b)-c*(r*C-o*b)+p*(r*d-o*f),t[14]=-(n*(l*C-a*b)-s*(r*C-o*b)+p*(r*a-o*l)),t[15]=n*(l*d-a*f)-s*(r*d-o*f)+c*(r*a-o*l),t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},determinant:function(t){const e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],s=t[5],l=t[6],a=t[7],u=t[8],c=t[9],f=t[10],d=t[11],h=t[12],p=t[13],b=t[14],C=t[15];return(e*s-n*i)*(f*C-d*b)-(e*l-r*i)*(c*C-d*p)+(e*a-o*i)*(c*b-f*p)+(n*l-r*s)*(u*C-d*h)-(n*a-o*s)*(u*b-f*h)+(r*a-o*l)*(u*p-c*h)},equals:_,exactEquals:A,frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)},fromQuat:function(t,e){const n=e[0],r=e[1],o=e[2],i=e[3],s=n+n,l=r+r,a=o+o,u=n*s,c=r*s,f=r*l,d=o*s,h=o*l,p=o*a,b=i*s,C=i*l,y=i*a;return t[0]=1-f-p,t[1]=c+y,t[2]=d-C,t[3]=0,t[4]=c-y,t[5]=1-u-p,t[6]=h+b,t[7]=0,t[8]=d+C,t[9]=h-b,t[10]=1-u-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromQuat2:function(t,e){const n=y,r=-e[0],o=-e[1],i=-e[2],s=e[3],l=e[4],a=e[5],u=e[6],c=e[7],f=r*r+o*o+i*i+s*s;return f>0?(n[0]=2*(l*s+c*r+a*i-u*o)/f,n[1]=2*(a*s+c*o+u*r-l*i)/f,n[2]=2*(u*s+c*i+l*o-a*r)/f):(n[0]=2*(l*s+c*r+a*i-u*o),n[1]=2*(a*s+c*o+u*r-l*i),n[2]=2*(u*s+c*i+l*o-a*r)),C(t,e,n),t},fromRotation:p,fromRotationTranslation:C,fromRotationTranslationScale:g,fromRotationTranslationScaleOrigin:function(t,e,n,r,o){const i=e[0],s=e[1],l=e[2],a=e[3],u=i+i,c=s+s,f=l+l,d=i*u,h=i*c,p=i*f,b=s*c,C=s*f,y=l*f,g=a*u,M=a*c,A=a*f,_=r[0],S=r[1],m=r[2],E=o[0],R=o[1],w=o[2],O=(1-(b+y))*_,P=(h+A)*_,N=(p-M)*_,L=(h-A)*S,v=(1-(d+y))*S,I=(C+g)*S,T=(p+M)*m,U=(C-g)*m,F=(1-(d+b))*m;return t[0]=O,t[1]=P,t[2]=N,t[3]=0,t[4]=L,t[5]=v,t[6]=I,t[7]=0,t[8]=T,t[9]=U,t[10]=F,t[11]=0,t[12]=n[0]+E-(O*E+L*R+T*w),t[13]=n[1]+R-(P*E+v*R+U*w),t[14]=n[2]+w-(N*E+I*R+F*w),t[15]=1,t},fromScaling:function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromTranslation:h,fromXRotation:b,fromYRotation:function(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromZRotation:function(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},frustum:function(t,e,n,r,o,i,s){const l=1/(n-e),a=1/(o-r),u=1/(i-s);return t[0]=2*i*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*a,t[6]=0,t[7]=0,t[8]=(n+e)*l,t[9]=(o+r)*a,t[10]=(s+i)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*i*2*u,t[15]=0,t},getRotation:function(t,e){const n=e[0]+e[5]+e[10];let r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},getScaling:function(t,e){const n=e[0],r=e[1],o=e[2],i=e[4],s=e[5],l=e[6],a=e[8],u=e[9],c=e[10];return t[0]=Math.sqrt(n*n+r*r+o*o),t[1]=Math.sqrt(i*i+s*s+l*l),t[2]=Math.sqrt(a*a+u*u+c*c),t},getTranslation:function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},hasIdentityRotation:m,identity:s,invert:a,invertOrIdentity:function(t,e){return a(t,e)||s(t),t},isOrthoNormal:S,lookAt:function(t,e,n,r){const i=e[0],l=e[1],a=e[2];let u=i-n[0],c=l-n[1],f=a-n[2];const d=(0,o.bn)();if(Math.abs(u)<d&&Math.abs(c)<d&&Math.abs(f)<d)return void s(t);let h=1/Math.sqrt(u*u+c*c+f*f);u*=h,c*=h,f*=h;const p=r[0],b=r[1],C=r[2];let y=b*f-C*c,g=C*u-p*f,M=p*c-b*u;h=Math.sqrt(y*y+g*g+M*M),h?(h=1/h,y*=h,g*=h,M*=h):(y=0,g=0,M=0);let A=c*M-f*g,_=f*y-u*M,S=u*g-c*y;h=Math.sqrt(A*A+_*_+S*S),h?(h=1/h,A*=h,_*=h,S*=h):(A=0,_=0,S=0),t[0]=y,t[1]=A,t[2]=u,t[3]=0,t[4]=g,t[5]=_,t[6]=c,t[7]=0,t[8]=M,t[9]=S,t[10]=f,t[11]=0,t[12]=-(y*i+g*l+M*a),t[13]=-(A*i+_*l+S*a),t[14]=-(u*i+c*l+f*a),t[15]=1},mul:E,multiply:u,multiplyScalar:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},multiplyScalarAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},ortho:function(t,e,n,r,o,i,s){const l=1/(e-n),a=1/(r-o),u=1/(i-s);return t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*l,t[13]=(o+r)*a,t[14]=(s+i)*u,t[15]=1,t},perspective:function(t,e,n,r,o){const i=1/Math.tan(e/2);let s;return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(s=1/(r-o),t[10]=(o+r)*s,t[14]=2*o*r*s):(t[10]=-1,t[14]=-2*r),t},perspectiveFromFieldOfView:function(t,e,n,r){const o=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),l=Math.tan(e.rightDegrees*Math.PI/180),a=2/(s+l),u=2/(o+i);return t[0]=a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(s-l)*a*.5,t[9]=(o-i)*u*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},rotate:d,rotateX:function(t,e,n){const r=Math.sin(n),o=Math.cos(n),i=e[4],s=e[5],l=e[6],a=e[7],u=e[8],c=e[9],f=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+u*r,t[5]=s*o+c*r,t[6]=l*o+f*r,t[7]=a*o+d*r,t[8]=u*o-i*r,t[9]=c*o-s*r,t[10]=f*o-l*r,t[11]=d*o-a*r,t},rotateY:function(t,e,n){const r=Math.sin(n),o=Math.cos(n),i=e[0],s=e[1],l=e[2],a=e[3],u=e[8],c=e[9],f=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o-u*r,t[1]=s*o-c*r,t[2]=l*o-f*r,t[3]=a*o-d*r,t[8]=i*r+u*o,t[9]=s*r+c*o,t[10]=l*r+f*o,t[11]=a*r+d*o,t},rotateZ:function(t,e,n){const r=Math.sin(n),o=Math.cos(n),i=e[0],s=e[1],l=e[2],a=e[3],u=e[4],c=e[5],f=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+u*r,t[1]=s*o+c*r,t[2]=l*o+f*r,t[3]=a*o+d*r,t[4]=u*o-i*r,t[5]=c*o-s*r,t[6]=f*o-l*r,t[7]=d*o-a*r,t},scale:f,set:i,str:function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},sub:R,subtract:M,targetTo:function(t,e,n,r){const o=e[0],i=e[1],s=e[2],l=r[0],a=r[1],u=r[2];let c=o-n[0],f=i-n[1],d=s-n[2],h=c*c+f*f+d*d;h>0&&(h=1/Math.sqrt(h),c*=h,f*=h,d*=h);let p=a*d-u*f,b=u*c-l*d,C=l*f-a*c;return h=p*p+b*b+C*C,h>0&&(h=1/Math.sqrt(h),p*=h,b*=h,C*=h),t[0]=p,t[1]=b,t[2]=C,t[3]=0,t[4]=f*C-d*b,t[5]=d*p-c*C,t[6]=c*b-f*p,t[7]=0,t[8]=c,t[9]=f,t[10]=d,t[11]=0,t[12]=o,t[13]=i,t[14]=s,t[15]=1,t},translate:c,transpose:l},Symbol.toStringTag,{value:"Module"}))},87360:(t,e,n)=>{n.r(e),n.d(e,{projectBuffer:()=>o});var r=n(29166);function o(t,e,n,o,i,s,l=1){const a=(0,r.R8)(e,i,r._U);if(null==a)return!1;if(a===r.iq){if(t===o&&n===s)return!0;const e=n+3*l;for(let r=n,i=s;r<e;r++,i++)o[i]=t[r];return!0}const u=n+3*l;for(let e=n,r=s;e<u;e+=3,r+=3)a(t,e,o,r);return!0}},29166:(t,e,n)=>{n.d(e,{Ej:()=>c,eT:()=>C,iq:()=>y,sp:()=>G,R8:()=>b,zl:()=>p,rf:()=>h,_U:()=>W,Jz:()=>F});var r=n(22021),o=n(67900),i=n(2109),s=n(68441);Math.PI;const l=s.sv.radius,a=s.sv.eccentricitySquared,u={a1:l*a,a2:l*a*l*a,a3:l*a*a/2,a4:l*a*l*a*2.5,a5:l*a+l*a*a/2,a6:1-a};s.sv.radius,s.sv.flattening,s.Z1.radius,s.Z1.flattening,s.yr.radius,s.yr.flattening,s.yr.radius;var c,f=n(8744),d=n(56726);!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",t[t.WGS84=2]="WGS84",t[t.WEB_MERCATOR=3]="WEB_MERCATOR",t[t.WGS84_ECEF=4]="WGS84_ECEF",t[t.CGCS2000=5]="CGCS2000",t[t.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",t[t.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",t[t.GCSMARS2000=8]="GCSMARS2000",t[t.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",t[t.GCSMOON2000=10]="GCSMOON2000",t[t.LON_LAT=11]="LON_LAT",t[t.PLATE_CARREE=12]="PLATE_CARREE"}(c||(c={}));const h={[c.WGS84]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:y,[c.WGS84_COMPARABLE_LON_LAT]:y,[c.SPHERICAL_ECEF]:O,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:M,[c.PLATE_CARREE]:S,[c.WGS84]:y,[c.WGS84_ECEF]:I},[c.CGCS2000]:{[c.CGCS2000]:y,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:y,[c.WGS84_COMPARABLE_LON_LAT]:y,[c.SPHERICAL_ECEF]:O,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:S,[c.WGS84]:null,[c.WGS84_ECEF]:I},[c.GCSMARS2000]:{[c.CGCS2000]:null,[c.GCSMARS2000]:y,[c.GCSMOON2000]:null,[c.LON_LAT]:y,[c.WGS84_COMPARABLE_LON_LAT]:null,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:w,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.GCSMOON2000]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:y,[c.LON_LAT]:y,[c.WGS84_COMPARABLE_LON_LAT]:null,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:R,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.WEB_MERCATOR]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:g,[c.WGS84_COMPARABLE_LON_LAT]:g,[c.SPHERICAL_ECEF]:function(t,e,n,r){g(t,e,n,r),O(n,r,n,r)},[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:y,[c.PLATE_CARREE]:function(t,e,n,r){g(t,e,n,r),S(n,r,n,r)},[c.WGS84]:g,[c.WGS84_ECEF]:function(t,e,n,r){g(t,e,n,r),I(n,r,n,r)}},[c.WGS84_ECEF]:{[c.CGCS2000]:T,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:T,[c.WGS84_COMPARABLE_LON_LAT]:T,[c.SPHERICAL_ECEF]:function(t,e,n,r){T(t,e,n,r),O(n,r,n,r)},[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:function(t,e,n,r){T(t,e,n,r),M(n,r,n,r)},[c.PLATE_CARREE]:function(t,e,n,r){T(t,e,n,r),S(n,r,n,r)},[c.WGS84]:T,[c.WGS84_ECEF]:y},[c.SPHERICAL_ECEF]:{[c.CGCS2000]:v,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:v,[c.WGS84_COMPARABLE_LON_LAT]:v,[c.SPHERICAL_ECEF]:y,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:function(t,e,n,r){v(t,e,n,r),M(n,r,n,r)},[c.PLATE_CARREE]:function(t,e,n,r){v(t,e,n,r),S(n,r,n,r)},[c.WGS84]:v,[c.WGS84_ECEF]:function(t,e,n,r){v(t,e,n,r),I(n,r,n,r)}},[c.SPHERICAL_MARS_PCPF]:{[c.CGCS2000]:null,[c.GCSMARS2000]:L,[c.GCSMOON2000]:null,[c.LON_LAT]:L,[c.WGS84_COMPARABLE_LON_LAT]:null,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:y,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.SPHERICAL_MOON_PCPF]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:N,[c.LON_LAT]:N,[c.WGS84_COMPARABLE_LON_LAT]:null,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:y,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.UNKNOWN]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:null,[c.WGS84_COMPARABLE_LON_LAT]:null,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:y,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.LON_LAT]:{[c.CGCS2000]:y,[c.GCSMARS2000]:y,[c.GCSMOON2000]:y,[c.LON_LAT]:y,[c.WGS84_COMPARABLE_LON_LAT]:y,[c.SPHERICAL_ECEF]:O,[c.SPHERICAL_MARS_PCPF]:w,[c.SPHERICAL_MOON_PCPF]:R,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:M,[c.PLATE_CARREE]:S,[c.WGS84]:y,[c.WGS84_ECEF]:I},[c.WGS84_COMPARABLE_LON_LAT]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:y,[c.WGS84_COMPARABLE_LON_LAT]:y,[c.SPHERICAL_ECEF]:O,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:S,[c.WGS84]:y,[c.WGS84_ECEF]:I},[c.PLATE_CARREE]:{[c.CGCS2000]:m,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:m,[c.WGS84_COMPARABLE_LON_LAT]:m,[c.SPHERICAL_ECEF]:function(t,e,n,r){m(t,e,n,r),O(n,r,n,r)},[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:function(t,e,n,r){m(t,e,n,r),M(n,r,n,r)},[c.PLATE_CARREE]:y,[c.WGS84]:m,[c.WGS84_ECEF]:function(t,e,n,r){m(t,e,n,r),I(n,r,n,r)}}};function p(t){const e=C(t,F);return h[e][c.WGS84_COMPARABLE_LON_LAT]}function b(t,e,n=U()){return null==t||null==e?null:function(t,e,n){if(null==t||null==e||n.source.spatialReference===t&&n.dest.spatialReference===e)return n;const r=C(t,n.source),o=C(e,n.dest);return r===c.UNKNOWN&&o===c.UNKNOWN?(0,f.fS)(t,e)?n.projector=y:n.projector=null:n.projector=h[r][o],n}(t,e,n).projector}function C(t,e){return t?e.spatialReference===t?e.spatialReferenceId:(e.spatialReference=t,"metersPerUnit"in e&&(e.metersPerUnit=(0,o.c9)(t,1)),(0,i.fY)(t)?e.spatialReferenceId=c.SPHERICAL_ECEF:(0,f.oR)(t)?e.spatialReferenceId=c.WGS84:(0,f.sS)(t)?e.spatialReferenceId=c.WEB_MERCATOR:(0,f.QM)(t)?e.spatialReferenceId=c.PLATE_CARREE:t.wkt===i.pn.wkt?e.spatialReferenceId=c.WGS84_ECEF:t.wkid===d.W.CGCS2000?e.spatialReferenceId=c.CGCS2000:t.wkt===i.JL.wkt?e.spatialReferenceId=c.SPHERICAL_MARS_PCPF:t.wkt===i.mM.wkt?e.spatialReferenceId=c.SPHERICAL_MOON_PCPF:(0,f.BZ)(t)?e.spatialReferenceId=c.GCSMARS2000:(0,f.V2)(t)?e.spatialReferenceId=c.GCSMOON2000:e.spatialReferenceId=c.UNKNOWN):c.UNKNOWN}function y(t,e,n,r){t!==n&&(n[r++]=t[e++],n[r++]=t[e++],n[r]=t[e])}function g(t,e,n,r){n[r++]=B*(t[e++]/s.sv.radius),n[r++]=B*(Math.PI/2-2*Math.atan(Math.exp(-t[e++]/s.sv.radius))),n[r]=t[e]}function M(t,e,n,o){!function(t,e,n,o,i){const s=.4999999*Math.PI,l=(0,r.uZ)(Z*t[e+1],-s,s),a=Math.sin(l);n[o++]=Z*t[e]*i.radius,n[o++]=i.halfSemiMajorAxis*Math.log((1+a)/(1-a)),n[o]=t[e+2]}(t,e,n,o,s.sv)}const A=s.sv.radius*Math.PI/180,_=180/(s.sv.radius*Math.PI);function S(t,e,n,r){n[r]=t[e]*A,n[r+1]=t[e+1]*A,n[r+2]=t[e+2]}function m(t,e,n,r){n[r]=t[e]*_,n[r+1]=t[e+1]*_,n[r+2]=t[e+2]}function E(t,e,n,r,o){const i=o+t[e+2],s=Z*t[e+1],l=Z*t[e],a=Math.cos(s);n[r++]=Math.cos(l)*a*i,n[r++]=Math.sin(l)*a*i,n[r]=Math.sin(s)*i}function R(t,e,n,r){E(t,e,n,r,s.Z1.radius)}function w(t,e,n,r){E(t,e,n,r,s.yr.radius)}function O(t,e,n,r){E(t,e,n,r,s.sv.radius)}function P(t,e,n,o,i){const s=t[e],l=t[e+1],a=t[e+2],u=Math.sqrt(s*s+l*l+a*a),c=(0,r.Kt)(a/(0===u?1:u)),f=Math.atan2(l,s);n[o++]=B*f,n[o++]=B*c,n[o]=u-i}function N(t,e,n,r){P(t,e,n,r,s.Z1.radius)}function L(t,e,n,r){P(t,e,n,r,s.yr.radius)}function v(t,e,n,r){P(t,e,n,r,s.sv.radius)}function I(t,e,n,r){!function(t,e,n,r,o){const i=Z*t[e],s=Z*t[e+1],l=t[e+2],a=Math.sin(s),u=Math.cos(s),c=o.radius/Math.sqrt(1-o.eccentricitySquared*a*a);n[r++]=(c+l)*u*Math.cos(i),n[r++]=(c+l)*u*Math.sin(i),n[r++]=(c*(1-o.eccentricitySquared)+l)*a}(t,e,n,r,s.sv)}function T(t,e,n,r){const o=u,i=t[e],l=t[e+1],a=t[e+2];let c,f,d,h,p,b,C,y,g,M,A,_,S,m,E,R,w,O,P,N,L;c=Math.abs(a),f=i*i+l*l,d=Math.sqrt(f),h=f+a*a,p=Math.sqrt(h),N=Math.atan2(l,i),b=a*a/h,C=f/h,m=o.a2/p,E=o.a3-o.a4/p,C>.3?(y=c/p*(1+C*(o.a1+m+b*E)/p),P=Math.asin(y),M=y*y,g=Math.sqrt(1-M)):(g=d/p*(1-b*(o.a5-m-C*E)/p),P=Math.acos(g),M=1-g*g,y=Math.sqrt(M)),A=1-s.sv.eccentricitySquared*M,_=s.sv.radius/Math.sqrt(A),S=o.a6*_,m=d-_*g,E=c-S*y,w=g*m+y*E,R=g*E-y*m,O=R/(S/A+w),P+=O,L=w+R*O/2,a<0&&(P=-P),n[r++]=B*N,n[r++]=B*P,n[r]=L}function U(){return{source:{spatialReference:null,spatialReferenceId:c.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:c.UNKNOWN,metersPerUnit:1},projector:y}}const F={spatialReference:null,spatialReferenceId:c.UNKNOWN},G={spatialReference:null,spatialReferenceId:c.UNKNOWN},W=U(),Z=(0,r.Vl)(1),B=(0,r.BV)(1)},23030:(t,e,n)=>{n.d(e,{Z:()=>g});var r,o=n(43697),i=n(22974),s=n(5600),l=(n(80442),n(92604),n(36030)),a=n(52011),u=n(25848),c=n(66338),f=n(22303),d=n(96674),h=n(75215);let p=r=class extends d.wq{constructor(){super(...arguments),this.description=null,this.label=null,this.minValue=0,this.maxValue=0,this.color=null}clone(){return new r({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:(0,i.d9)(this.color)})}};(0,o._)([(0,s.Cb)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,o._)([(0,s.Cb)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,o._)([(0,s.Cb)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],p.prototype,"minValue",void 0),(0,o._)([(0,s.Cb)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],p.prototype,"maxValue",void 0),(0,o._)([(0,s.Cb)({type:f.Z,json:{type:[h.z8],write:!0}})],p.prototype,"color",void 0),p=r=(0,o._)([(0,a.j)("esri.renderers.support.pointCloud.ColorClassBreakInfo")],p);const b=p;var C;let y=C=class extends u.Z{constructor(t){super(t),this.type="point-cloud-class-breaks",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.colorClassBreakInfos=null}clone(){return new C({...this.cloneProperties(),field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:(0,i.d9)(this.colorClassBreakInfos),legendOptions:(0,i.d9)(this.legendOptions)})}};(0,o._)([(0,l.J)({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],y.prototype,"type",void 0),(0,o._)([(0,s.Cb)({json:{write:!0},type:String})],y.prototype,"field",void 0),(0,o._)([(0,s.Cb)({type:c.I,json:{write:!0}})],y.prototype,"legendOptions",void 0),(0,o._)([(0,s.Cb)({type:u.Z.fieldTransformTypeKebabDict.apiValues,json:{type:u.Z.fieldTransformTypeKebabDict.jsonValues,read:u.Z.fieldTransformTypeKebabDict.read,write:u.Z.fieldTransformTypeKebabDict.write}})],y.prototype,"fieldTransformType",void 0),(0,o._)([(0,s.Cb)({type:[b],json:{write:!0}})],y.prototype,"colorClassBreakInfos",void 0),y=C=(0,o._)([(0,a.j)("esri.renderers.PointCloudClassBreaksRenderer")],y);const g=y},25848:(t,e,n)=>{n.d(e,{Z:()=>E});var r,o=n(43697),i=n(35454),s=n(96674),l=n(22974),a=n(5600),u=(n(80442),n(92604),n(52011));n(77734);let c=r=class extends s.wq{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new r({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};(0,o._)([(0,a.Cb)({type:String,json:{write:!0}})],c.prototype,"field",void 0),(0,o._)([(0,a.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],c.prototype,"minValue",void 0),(0,o._)([(0,a.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],c.prototype,"maxValue",void 0),c=r=(0,o._)([(0,u.j)("esri.renderers.support.pointCloud.ColorModulation")],c);const f=c,d=new i.X({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});let h=class extends s.wq{};(0,o._)([(0,a.Cb)({type:d.apiValues,readOnly:!0,nonNullable:!0,json:{type:d.jsonValues,read:!1,write:d.write}})],h.prototype,"type",void 0),h=(0,o._)([(0,u.j)("esri.renderers.support.pointCloud.PointSizeAlgorithm")],h);const p=h;var b,C=n(36030);let y=b=class extends p{constructor(){super(...arguments),this.type="fixed-size",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new b({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};(0,o._)([(0,C.J)({pointCloudFixedSizeAlgorithm:"fixed-size"})],y.prototype,"type",void 0),(0,o._)([(0,a.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],y.prototype,"size",void 0),(0,o._)([(0,a.Cb)({type:Boolean,json:{write:!0}})],y.prototype,"useRealWorldSymbolSizes",void 0),y=b=(0,o._)([(0,u.j)("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],y);const g=y;var M;let A=M=class extends p{constructor(){super(...arguments),this.type="splat",this.scaleFactor=1}clone(){return new M({scaleFactor:this.scaleFactor})}};(0,o._)([(0,C.J)({pointCloudSplatAlgorithm:"splat"})],A.prototype,"type",void 0),(0,o._)([(0,a.Cb)({type:Number,value:1,nonNullable:!0,json:{write:!0}})],A.prototype,"scaleFactor",void 0),A=M=(0,o._)([(0,u.j)("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],A);const _={key:"type",base:p,typeMap:{"fixed-size":g,splat:A}},S=(0,i.w)()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});let m=class extends s.wq{constructor(t){super(t),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:(0,l.d9)(this.pointSizeAlgorithm),colorModulation:(0,l.d9)(this.colorModulation),pointsPerInch:(0,l.d9)(this.pointsPerInch)}}};(0,o._)([(0,a.Cb)({type:S.apiValues,readOnly:!0,nonNullable:!0,json:{type:S.jsonValues,read:!1,write:S.write}})],m.prototype,"type",void 0),(0,o._)([(0,a.Cb)({types:_,json:{write:!0}})],m.prototype,"pointSizeAlgorithm",void 0),(0,o._)([(0,a.Cb)({type:f,json:{write:!0}})],m.prototype,"colorModulation",void 0),(0,o._)([(0,a.Cb)({json:{write:!0},nonNullable:!0,type:Number})],m.prototype,"pointsPerInch",void 0),m=(0,o._)([(0,u.j)("esri.renderers.PointCloudRenderer")],m),(m||(m={})).fieldTransformTypeKebabDict=new i.X({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});const E=m},14008:(t,e,n)=>{n.d(e,{Z:()=>h});var r,o=n(43697),i=n(22974),s=n(5600),l=(n(80442),n(92604),n(36030)),a=n(52011),u=n(25848),c=n(66338),f=n(21849);let d=r=class extends u.Z{constructor(t){super(t),this.type="point-cloud-stretch",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new r({...this.cloneProperties(),field:(0,i.d9)(this.field),fieldTransformType:(0,i.d9)(this.fieldTransformType),stops:(0,i.d9)(this.stops),legendOptions:(0,i.d9)(this.legendOptions)})}};(0,o._)([(0,l.J)({pointCloudStretchRenderer:"point-cloud-stretch"})],d.prototype,"type",void 0),(0,o._)([(0,s.Cb)({json:{write:!0},type:String})],d.prototype,"field",void 0),(0,o._)([(0,s.Cb)({type:c.I,json:{write:!0}})],d.prototype,"legendOptions",void 0),(0,o._)([(0,s.Cb)({type:u.Z.fieldTransformTypeKebabDict.apiValues,json:{type:u.Z.fieldTransformTypeKebabDict.jsonValues,read:u.Z.fieldTransformTypeKebabDict.read,write:u.Z.fieldTransformTypeKebabDict.write}})],d.prototype,"fieldTransformType",void 0),(0,o._)([(0,s.Cb)({type:[f.Z],json:{write:!0}})],d.prototype,"stops",void 0),d=r=(0,o._)([(0,a.j)("esri.renderers.PointCloudStretchRenderer")],d);const h=d},46329:(t,e,n)=>{n.d(e,{Z:()=>g});var r,o=n(43697),i=n(22974),s=n(5600),l=(n(80442),n(92604),n(36030)),a=n(52011),u=n(25848),c=n(66338),f=n(22303),d=n(96674),h=n(75215);let p=r=class extends d.wq{constructor(){super(...arguments),this.description=null,this.label=null,this.values=null,this.color=null}clone(){return new r({description:this.description,label:this.label,values:(0,i.d9)(this.values),color:(0,i.d9)(this.color)})}};(0,o._)([(0,s.Cb)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,o._)([(0,s.Cb)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,o._)([(0,s.Cb)({type:[String],json:{write:!0}})],p.prototype,"values",void 0),(0,o._)([(0,s.Cb)({type:f.Z,json:{type:[h.z8],write:!0}})],p.prototype,"color",void 0),p=r=(0,o._)([(0,a.j)("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],p);const b=p;var C;let y=C=class extends u.Z{constructor(t){super(t),this.type="point-cloud-unique-value",this.field=null,this.fieldTransformType=null,this.colorUniqueValueInfos=null,this.legendOptions=null}clone(){return new C({...this.cloneProperties(),field:(0,i.d9)(this.field),fieldTransformType:(0,i.d9)(this.fieldTransformType),colorUniqueValueInfos:(0,i.d9)(this.colorUniqueValueInfos),legendOptions:(0,i.d9)(this.legendOptions)})}};(0,o._)([(0,l.J)({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],y.prototype,"type",void 0),(0,o._)([(0,s.Cb)({json:{write:!0},type:String})],y.prototype,"field",void 0),(0,o._)([(0,s.Cb)({type:u.Z.fieldTransformTypeKebabDict.apiValues,json:{type:u.Z.fieldTransformTypeKebabDict.jsonValues,read:u.Z.fieldTransformTypeKebabDict.read,write:u.Z.fieldTransformTypeKebabDict.write}})],y.prototype,"fieldTransformType",void 0),(0,o._)([(0,s.Cb)({type:[b],json:{write:!0}})],y.prototype,"colorUniqueValueInfos",void 0),(0,o._)([(0,s.Cb)({type:c.I,json:{write:!0}})],y.prototype,"legendOptions",void 0),y=C=(0,o._)([(0,a.j)("esri.renderers.PointCloudUniqueValueRenderer")],y);const g=y},66338:(t,e,n)=>{n.d(e,{I:()=>a});var r,o=n(43697),i=n(96674),s=n(5600),l=(n(80442),n(92604),n(77734),n(52011));let a=r=class extends i.wq{constructor(){super(...arguments),this.title=null}clone(){return new r({title:this.title})}};(0,o._)([(0,s.Cb)({type:String,json:{write:!0}})],a.prototype,"title",void 0),a=r=(0,o._)([(0,l.j)("esri.renderers.support.LegendOptions")],a)},21849:(t,e,n)=>{n.d(e,{Z:()=>d});var r,o=n(43697),i=n(22303),s=n(96674),l=n(5600),a=n(75215),u=(n(77734),n(80442),n(52011)),c=n(30556);let f=r=class extends s.wq{constructor(t){super(t),this.color=null,this.label=null,this.value=null}writeValue(t,e,n){e[n]=t??0}clone(){return new r({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,o._)([(0,l.Cb)({type:i.Z,json:{type:[a.z8],write:!0}})],f.prototype,"color",void 0),(0,o._)([(0,l.Cb)({type:String,json:{write:!0}})],f.prototype,"label",void 0),(0,o._)([(0,l.Cb)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],f.prototype,"value",void 0),(0,o._)([(0,c.c)("value")],f.prototype,"writeValue",null),f=r=(0,o._)([(0,u.j)("esri.renderers.visualVariables.support.ColorStop")],f);const d=f},75326:(t,e,n)=>{n.r(e),n.d(e,{default:()=>U});var r=n(67676),o=n(1533),i=n(76315),s=n(2153),l=n(20773);function a(){return new Float32Array(3)}function u(t){const e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function c(t,e,n){const r=new Float32Array(3);return r[0]=t,r[1]=e,r[2]=n,r}function f(){return a()}function d(){return c(1,1,1)}function h(){return c(1,0,0)}function p(){return c(0,1,0)}function b(){return c(0,0,1)}const C=f(),y=d(),g=h(),M=p(),A=b();Object.freeze(Object.defineProperty({__proto__:null,ONES:y,UNIT_X:g,UNIT_Y:M,UNIT_Z:A,ZEROS:C,clone:u,create:a,createView:function(t,e){return new Float32Array(t,e,3)},fromValues:c,ones:d,unitX:h,unitY:p,unitZ:b,zeros:f},Symbol.toStringTag,{value:"Module"}));var _=n(82971),S=n(87360),m=(n(80442),n(23030)),E=n(14008),R=n(46329),w=n(91891),O=n(25683);function P(t,e,n){return t?.attributeInfo.useElevation?e?function(t,e){const n=new Float64Array(e);for(let r=0;r<e;r++)n[r]=t[3*r+2];return n}(e,n):null:t?.attributeInfo.storageInfo?(0,w.qM)(t.attributeInfo.storageInfo,t.buffer,n):null}function N(t){switch(t){default:case null:case"none":return t=>t;case"low-four-bit":return t=>15&t;case"high-four-bit":return t=>(240&t)>>4;case"absolute-value":return t=>Math.abs(t);case"modulo-ten":return t=>t%10}}function L(t){let e=0;for(const n of t||[])e|=1<<n;return e}var v=n(5476);class I{transform(t){const e=this._transform(t),n=[e.points.buffer,e.rgb.buffer];null!=e.pointIdFilterMap&&n.push(e.pointIdFilterMap.buffer);for(const t of e.attributes)"buffer"in t.values&&(0,o.eP)(t.values.buffer)&&t.values.buffer!==e.rgb.buffer&&n.push(t.values.buffer);return Promise.resolve({result:e,transferList:n})}_transform(t){const e=function(t,e){if(null==t.encoding||""===t.encoding){const n=(0,w.W7)(e,t);if(null==n.vertexAttributes.position)return;const r=(0,w.I_)(e,n.vertexAttributes.position),o=n.header.fields,i=[o.offsetX,o.offsetY,o.offsetZ],s=[o.scaleX,o.scaleY,o.scaleZ],l=r.length/3,a=new Float64Array(3*l);for(let t=0;t<l;t++)a[3*t]=r[3*t]*s[0]+i[0],a[3*t+1]=r[3*t+1]*s[1]+i[1],a[3*t+2]=r[3*t+2]*s[2]+i[2];return a}if("lepcc-xyz"===t.encoding)return(0,O.Gi)(e).result}(t.schema,t.geometryBuffer);let n=e.length/3,o=null;const i=new Array,s=P(t.primaryAttributeData,e,n);null!=t.primaryAttributeData&&s&&i.push({attributeInfo:t.primaryAttributeData.attributeInfo,values:s});const l=P(t.modulationAttributeData,e,n);null!=t.modulationAttributeData&&l&&i.push({attributeInfo:t.modulationAttributeData.attributeInfo,values:l});let a=function(t,e,n,r){const{rendererJSON:o,isRGBRenderer:i}=t;let s=null,l=null;if(e&&i)s=e;else if(e&&"pointCloudUniqueValueRenderer"===o?.type){l=R.Z.fromJSON(o);const t=l.colorUniqueValueInfos;s=new Uint8Array(3*r);const n=N(l.fieldTransformType);for(let o=0;o<r;o++){const r=(n?n(e[o]):e[o])+"";for(let e=0;e<t.length;e++)if(t[e].values.includes(r)){s[3*o]=t[e].color.r,s[3*o+1]=t[e].color.g,s[3*o+2]=t[e].color.b;break}}}else if(e&&"pointCloudStretchRenderer"===o?.type){l=E.Z.fromJSON(o);const t=l.stops;s=new Uint8Array(3*r);const n=N(l.fieldTransformType);for(let o=0;o<r;o++){const r=n?n(e[o]):e[o],i=t.length-1;if(r<t[0].value)s[3*o]=t[0].color.r,s[3*o+1]=t[0].color.g,s[3*o+2]=t[0].color.b;else if(r>=t[i].value)s[3*o]=t[i].color.r,s[3*o+1]=t[i].color.g,s[3*o+2]=t[i].color.b;else for(let e=1;e<t.length;e++)if(r<t[e].value){const n=(r-t[e-1].value)/(t[e].value-t[e-1].value);s[3*o]=t[e].color.r*n+t[e-1].color.r*(1-n),s[3*o+1]=t[e].color.g*n+t[e-1].color.g*(1-n),s[3*o+2]=t[e].color.b*n+t[e-1].color.b*(1-n);break}}}else if(e&&"pointCloudClassBreaksRenderer"===o?.type){l=m.Z.fromJSON(o);const t=l.colorClassBreakInfos;s=new Uint8Array(3*r);const n=N(l.fieldTransformType);for(let o=0;o<r;o++){const r=n?n(e[o]):e[o];for(let e=0;e<t.length;e++)if(r>=t[e].minValue&&r<=t[e].maxValue){s[3*o]=t[e].color.r,s[3*o+1]=t[e].color.g,s[3*o+2]=t[e].color.b;break}}}else s=new Uint8Array(3*r).fill(255);if(n&&l?.colorModulation){const t=l.colorModulation.minValue,e=l.colorModulation.maxValue,o=.3;for(let i=0;i<r;i++){const r=n[i],l=r>=e?1:r<=t?o:o+(1-o)*(r-t)/(e-t);s[3*i]=l*s[3*i],s[3*i+1]=l*s[3*i+1],s[3*i+2]=l*s[3*i+2]}}return s}(t.rendererInfo,s,l,n);if(t.filterInfo&&t.filterInfo.length>0&&null!=t.filterAttributesData){const s=t.filterAttributesData.filter(r.pC).map((t=>{const r=P(t,e,n),o={attributeInfo:t.attributeInfo,values:r};return i.push(o),o}));o=new Uint32Array(n),n=function(t,e,n,r,o){const i=t.length/3;let s=0;for(let l=0;l<i;l++){let i=!0;for(let t=0;t<r.length&&i;t++){const{filterJSON:e}=r[t],n=o[t].values[l];switch(e.type){case"pointCloudValueFilter":{const t="exclude"===e.mode;e.values.includes(n)===t&&(i=!1);break}case"pointCloudBitfieldFilter":{const t=L(e.requiredSetBits),r=L(e.requiredClearBits);(n&t)===t&&0==(n&r)||(i=!1);break}case"pointCloudReturnFilter":{const t=15&n,r=n>>>4&15,o=r>1,s=1===t,l=t===r;let a=!1;for(const t of e.includedReturns)if("last"===t&&l||"firstOfMany"===t&&s&&o||"lastOfMany"===t&&l&&o||"single"===t&&!o){a=!0;break}a||(i=!1);break}}}i&&(n[s]=l,t[3*s]=t[3*l],t[3*s+1]=t[3*l+1],t[3*s+2]=t[3*l+2],e[3*s]=e[3*l],e[3*s+1]=e[3*l+1],e[3*s+2]=e[3*l+2],s++)}return s}(e,a,o,t.filterInfo,s)}for(const r of t.userAttributesData){const t=P(r,e,n);i.push({attributeInfo:r.attributeInfo,values:t})}3*n<a.length&&(a=new Uint8Array(a.buffer.slice(0,3*n))),this._applyElevationOffsetInPlace(e,n,t.elevationOffset);const u=this._transformCoordinates(e,n,v.Oo.fromData(t.obbData),_.Z.fromJSON(t.inSR),_.Z.fromJSON(t.outSR));return{obbData:t.obbData,points:u,rgb:a,attributes:i,pointIdFilterMap:o}}_transformCoordinates(t,e,n,r,o){if(!(0,S.projectBuffer)(t,r,0,t,o,0,e))throw new Error("Can't reproject");const s=u(n.center),c=a(),f=a(),d=u(n.halfSize);(0,i.Kx)(T,n.quaternion);const h=new Float32Array(3*e);for(let n=0;n<e;n++){let e=3*n;c[0]=t[e]-s[0],c[1]=t[e+1]-s[1],c[2]=t[e+2]-s[2],(0,l.r)(f,c,T),d[0]=Math.max(d[0],Math.abs(f[0])),d[1]=Math.max(d[1],Math.abs(f[1])),d[2]=Math.max(d[2],Math.abs(f[2])),h[e++]=c[0],h[e++]=c[1],h[e]=c[2]}return n.halfSize=d,h}_applyElevationOffsetInPlace(t,e,n){if(0!==n)for(let r=0;r<e;r++)t[3*r+2]+=n}}const T=(0,s.Ue)();function U(){return new I}},91891:(t,e,n)=>{n.d(e,{I_:()=>d,W7:()=>b,qM:()=>y});var r=n(20102),o=n(22974),i=n(92604),s=n(25683),l=n(35065);const a=()=>i.Z.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function u(t,e,n){let o="",i=0;for(;i<n;){const s=t[e+i];if(s<128)o+=String.fromCharCode(s),i++;else if(s>=192&&s<224){if(i+1>=n)throw new r.Z("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");const l=(31&s)<<6|63&t[e+i+1];o+=String.fromCharCode(l),i+=2}else if(s>=224&&s<240){if(i+2>=n)throw new r.Z("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const l=(15&s)<<12|(63&t[e+i+1])<<6|63&t[e+i+2];o+=String.fromCharCode(l),i+=3}else{if(!(s>=240&&s<248))throw new r.Z("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");{if(i+3>=n)throw new r.Z("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const l=(7&s)<<18|(63&t[e+i+1])<<12|(63&t[e+i+2])<<6|63&t[e+i+3];if(l>=65536){const t=55296+(l-65536>>10),e=56320+(1023&l);o+=String.fromCharCode(t,e)}else o+=String.fromCharCode(l);i+=4}}}return o}function c(t,e){const n={byteOffset:0,byteCount:0,fields:Object.create(null)};let r=0;for(let o=0;o<e.length;o++){const i=e[o],s=i.valueType||i.type,l=M[s];n.fields[i.property]=l(t,r),r+=g[s].BYTES_PER_ELEMENT}return n.byteCount=r,n}function f(t,e,n){const o=[];let i,s,l=0;for(s=0;s<t;s+=1){if(i=e[s],i>0){if(o.push(u(n,l,i-1)),0!==n[l+i-1])throw new r.Z("string-array-error","Invalid string array: missing null termination.")}else o.push(null);l+=i}return o}function d(t,e){return new(0,g[e.valueType])(t,e.byteOffset,e.count*e.valuesPerElement)}function h(t,e,n){const i=null!=e.header?c(t,e.header):{byteOffset:0,byteCount:0,fields:{count:n}},s={header:i,byteOffset:i.byteCount,byteCount:0,entries:Object.create(null)};let l=i.byteCount;for(let t=0;t<e.ordering.length;t++){const n=e.ordering[t],a=(0,o.d9)(e[n]);if(a.count=i.fields.count??0,"String"===a.valueType){if(a.byteOffset=l,a.byteCount=i.fields[n+"ByteCount"],"UTF-8"!==a.encoding)throw new r.Z("unsupported-encoding","Unsupported String encoding.",{encoding:a.encoding});if(a.timeEncoding&&"ECMA_ISO8601"!==a.timeEncoding)throw new r.Z("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:a.timeEncoding})}else{if(!A(a.valueType))throw new r.Z("unsupported-value-type","Unsupported binary valueType",{valueType:a.valueType});{const t=_(a.valueType);l+=l%t!=0?t-l%t:0,a.byteOffset=l,a.byteCount=t*a.valuesPerElement*a.count}}l+=a.byteCount??0,s.entries[n]=a}return s.byteCount=l-s.byteOffset,s}function p(t,e,n){if(e!==t&&a().error(`Invalid ${n} buffer size\n expected: ${t}, actual: ${e})`),e<t)throw new r.Z("buffer-too-small","Binary buffer is too small",{expectedSize:t,actualSize:e})}function b(t,e){const n=c(t,e&&e.header);let r=n.byteCount;const o={isDraco:!1,header:n,byteOffset:n.byteCount,byteCount:0,vertexAttributes:{}},i=n.fields,s=null!=i.vertexCount?i.vertexCount:i.count;for(const t of e.ordering){if(!e.vertexAttributes[t])continue;const n={...e.vertexAttributes[t],byteOffset:r,count:s},i=C[t]||"_"+t;o.vertexAttributes[i]=n,r+=_(n.valueType)*n.valuesPerElement*s}const l=i.faceCount;if(e.faces&&l){o.faces={};for(const t of e.ordering){if(!e.faces[t])continue;const n={...e.faces[t],byteOffset:r,count:l};o.faces[t]=n,r+=_(n.valueType)*n.valuesPerElement*l}}const a=i.featureCount;if(e.featureAttributes&&e.featureAttributeOrder&&a){o.featureAttributes={};for(const t of e.featureAttributeOrder){if(!e.featureAttributes[t])continue;const n={...e.featureAttributes[t],byteOffset:r,count:a};o.featureAttributes[t]=n,r+=("UInt64"===n.valueType?8:_(n.valueType))*n.valuesPerElement*a}}return p(r,t.byteLength,"geometry"),o.byteCount=r-o.byteOffset,o}const C={position:l.T.POSITION,normal:l.T.NORMAL,color:l.T.COLOR,uv0:l.T.UV0,region:l.T.UVREGION};function y(t,e,n){if("lepcc-rgb"===t.encoding)return(0,s.IT)(e);if("lepcc-intensity"===t.encoding)return(0,s.ti)(e);if(null!=t.encoding&&""!==t.encoding)throw new r.Z("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");t["attributeByteCounts "]&&!t.attributeByteCounts&&(a().warn("Warning: Trailing space in 'attributeByteCounts '."),t.attributeByteCounts=t["attributeByteCounts "]),"ObjectIds"===t.ordering[0]&&t.hasOwnProperty("objectIds")&&(a().warn("Warning: Case error in objectIds"),t.ordering[0]="objectIds");const o=h(e,t,n);p(o.byteOffset+o.byteCount,e.byteLength,"attribute");const i=o.entries.attributeValues||o.entries.objectIds;if(i){if("String"===i.valueType){const t=o.entries.attributeByteCounts,n=d(e,t),r=function(t,e){return new Uint8Array(t,e.byteOffset,e.byteCount)}(e,i);return i.timeEncoding?function(t,e,n){return f(t,e,n).map((t=>{const e=t?Date.parse(t):null;return e&&!Number.isNaN(e)?e:null}))}(t.count,n,r):f(t.count,n,r)}return d(e,i)}throw new r.Z("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}const g={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},M={Float32:(t,e)=>new DataView(t,0).getFloat32(e,!0),Float64:(t,e)=>new DataView(t,0).getFloat64(e,!0),UInt8:(t,e)=>new DataView(t,0).getUint8(e),Int8:(t,e)=>new DataView(t,0).getInt8(e),UInt16:(t,e)=>new DataView(t,0).getUint16(e,!0),Int16:(t,e)=>new DataView(t,0).getInt16(e,!0),UInt32:(t,e)=>new DataView(t,0).getUint32(e,!0),Int32:(t,e)=>new DataView(t,0).getInt32(e,!0)};function A(t){return g.hasOwnProperty(t)}function _(t){return A(t)?g[t].BYTES_PER_ELEMENT:0}},25683:(t,e,n)=>{n.d(e,{Gi:()=>u,IT:()=>p,ti:()=>y});var r=n(20102);const o=!0,i={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};function s(t,e,n){return{identifier:String.fromCharCode.apply(null,new Uint8Array(t,n+i.identifierOffset,i.identifierLength)),version:e.getUint16(n+i.versionOffset,o),checksum:e.getUint32(n+i.checksumOffset,o)}}const l={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};function a(t,e){return{sizeLo:t.getUint32(e+l.sizeLo,o),sizeHi:t.getUint32(e+l.sizeHi,o),minX:t.getFloat64(e+l.minX,o),minY:t.getFloat64(e+l.minY,o),minZ:t.getFloat64(e+l.minZ,o),maxX:t.getFloat64(e+l.maxX,o),maxY:t.getFloat64(e+l.maxY,o),maxZ:t.getFloat64(e+l.maxZ,o),errorX:t.getFloat64(e+l.errorX,o),errorY:t.getFloat64(e+l.errorY,o),errorZ:t.getFloat64(e+l.errorZ,o),count:t.getUint32(e+l.count,o),reserved:t.getUint32(e+l.reserved,o)}}function u(t){const e=new DataView(t,0);let n=0;const{identifier:o,version:u}=s(t,e,n);if(n+=i.byteCount,"LEPCC     "!==o)throw new r.Z("lepcc-decode-error","Bad identifier");if(u>1)throw new r.Z("lepcc-decode-error","Unknown version");const f=a(e,n);if(n+=l.byteCount,f.sizeHi*2**32+f.sizeLo!==t.byteLength)throw new r.Z("lepcc-decode-error","Bad size");const d=new Float64Array(3*f.count),h=[],p=[],b=[],C=[];if(n=c(t,n,h),n=c(t,n,p),n=c(t,n,b),n=c(t,n,C),n!==t.byteLength)throw new r.Z("lepcc-decode-error","Bad length");let y=0,g=0;for(let t=0;t<h.length;t++){g+=h[t];let e=0;for(let n=0;n<p[t];n++){e+=b[y];const t=C[y];d[3*y]=Math.min(f.maxX,f.minX+2*f.errorX*e),d[3*y+1]=Math.min(f.maxY,f.minY+2*f.errorY*g),d[3*y+2]=Math.min(f.maxZ,f.minZ+2*f.errorZ*t),y++}}return{errorX:f.errorX,errorY:f.errorY,errorZ:f.errorZ,result:d}}function c(t,e,n){const r=[];e=f(t,e,r);const o=[];for(let i=0;i<r.length;i++){o.length=0,e=f(t,e,o);for(let t=0;t<o.length;t++)n.push(o[t]+r[i])}return e}function f(t,e,n){const i=new DataView(t,e),s=i.getUint8(0),l=31&s,a=!!(32&s),u=(192&s)>>6;let c=0;if(0===u)c=i.getUint32(1,o),e+=5;else if(1===u)c=i.getUint16(1,o),e+=3;else{if(2!==u)throw new r.Z("lepcc-decode-error","Bad count type");c=i.getUint8(1),e+=2}if(a)throw new r.Z("lepcc-decode-error","LUT not implemented");const f=Math.ceil(c*l/8),d=new Uint8Array(t,e,f);let h=0,p=0,b=0;const C=-1>>>32-l;for(let t=0;t<c;t++){for(;p<l;)h|=d[b]<<p,p+=8,b+=1;n[t]=h&C,h>>>=l,p-=l,p+l>32&&(h|=d[b-1]>>8-p)}return e+b}const d={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};function h(t,e){return{sizeLo:t.getUint32(e+d.sizeLo,o),sizeHi:t.getUint32(e+d.sizeHi,o),count:t.getUint32(e+d.count,o),colorMapCount:t.getUint16(e+d.colorMapCount,o),lookupMethod:t.getUint8(e+d.lookupMethod),compressionMethod:t.getUint8(e+d.compressionMethod)}}function p(t){const e=new DataView(t,0);let n=0;const{identifier:o,version:l}=s(t,e,n);if(n+=i.byteCount,"ClusterRGB"!==o)throw new r.Z("lepcc-decode-error","Bad identifier");if(l>1)throw new r.Z("lepcc-decode-error","Unknown version");const a=h(e,n);if(n+=d.byteCount,a.sizeHi*2**32+a.sizeLo!==t.byteLength)throw new r.Z("lepcc-decode-error","Bad size");if((2===a.lookupMethod||1===a.lookupMethod)&&0===a.compressionMethod){if(3*a.colorMapCount+a.count+n!==t.byteLength||a.colorMapCount>256)throw new r.Z("lepcc-decode-error","Bad count");const e=new Uint8Array(t,n,3*a.colorMapCount),o=new Uint8Array(t,n+3*a.colorMapCount,a.count),i=new Uint8Array(3*a.count);for(let t=0;t<a.count;t++){const n=o[t];i[3*t]=e[3*n],i[3*t+1]=e[3*n+1],i[3*t+2]=e[3*n+2]}return i}if(0===a.lookupMethod&&0===a.compressionMethod){if(3*a.count+n!==t.byteLength||0!==a.colorMapCount)throw new r.Z("lepcc-decode-error","Bad count");return new Uint8Array(t,n).slice()}if(a.lookupMethod<=2&&1===a.compressionMethod){if(n+3!==t.byteLength||1!==a.colorMapCount)throw new r.Z("lepcc-decode-error","Bad count");const o=e.getUint8(n),i=e.getUint8(n+1),s=e.getUint8(n+2),l=new Uint8Array(3*a.count);for(let t=0;t<a.count;t++)l[3*t]=o,l[3*t+1]=i,l[3*t+2]=s;return l}throw new r.Z("lepcc-decode-error","Bad method "+a.lookupMethod+","+a.compressionMethod)}const b={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};function C(t,e){return{sizeLo:t.getUint32(e+b.sizeLo,o),sizeHi:t.getUint32(e+b.sizeHi,o),count:t.getUint32(e+b.count,o),scaleFactor:t.getUint16(e+b.scaleFactor,o),bitsPerPoint:t.getUint8(e+b.bitsPerPoint),reserved:t.getUint8(e+b.reserved)}}function y(t){const e=new DataView(t,0);let n=0;const{identifier:o,version:l}=s(t,e,n);if(n+=i.byteCount,"Intensity "!==o)throw new r.Z("lepcc-decode-error","Bad identifier");if(l>1)throw new r.Z("lepcc-decode-error","Unknown version");const a=C(e,n);if(n+=b.byteCount,a.sizeHi*2**32+a.sizeLo!==t.byteLength)throw new r.Z("lepcc-decode-error","Bad size");const u=new Uint16Array(a.count);if(8===a.bitsPerPoint){if(a.count+n!==t.byteLength)throw new r.Z("lepcc-decode-error","Bad size");const e=new Uint8Array(t,n,a.count);for(let t=0;t<a.count;t++)u[t]=e[t]*a.scaleFactor}else if(16===a.bitsPerPoint){if(2*a.count+n!==t.byteLength)throw new r.Z("lepcc-decode-error","Bad size");const e=new Uint16Array(t,n,a.count);for(let t=0;t<a.count;t++)u[t]=e[t]*a.scaleFactor}else{const e=[];if(f(t,n,e)!==t.byteLength)throw new r.Z("lepcc-decode-error","Bad size");for(let t=0;t<a.count;t++)u[t]=e[t]*a.scaleFactor}return u}}}]);