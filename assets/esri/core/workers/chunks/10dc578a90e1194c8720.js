"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[4695],{42033:(e,n,r)=>{async function t(e,n){const{WhereClause:t}=await Promise.all([r.e(8968),r.e(8592)]).then(r.bind(r,8968));return t.create(e,n)}function a(e,n){return null!=e?null!=n?`(${e}) AND (${n})`:e:n}r.d(n,{E:()=>t,_:()=>a})},18848:(e,n,r)=>{r.d(n,{uf:()=>u});var t=r(70171);const a={ar:"ar-u-nu-latn"};let l=new WeakMap,s={};function u(e,n){return Object.is(e,-0)&&(e=0),function(e){const n=e||s;if(!l.has(n)){const r=(0,t.Kd)(),s=a[(0,t.Kd)()]||r;l.set(n,new Intl.NumberFormat(s,e))}return l.get(n)}(n).format(e)}(0,t.Ze)((()=>{l=new WeakMap,s={}}))},14695:(e,n,r)=>{r.d(n,{createLabelFunction:()=>x});var t=r(20102),a=r(92604),l=r(42033),s=r(90344),u=r(18848),o=r(35671),i=r(8813),c=r(59266);const p=a.Z.getLogger("esri.layers.support.labelFormatUtils"),f={type:"simple",evaluate:()=>null},w={getAttribute:(e,n)=>e.field(n)};async function x(e,n,r){if(!e||!e.symbol||!n)return f;const a=e.where,x=(0,i.hV)(e);let d;if("arcade"===x.type){const e=await(0,c.WW)(x.expression,r,n);if(null==e)return f;d={type:"arcade",evaluate(n,r){try{const t="attributes"in n?e.repurposeFeature(n):n;t.contextTimeZone=r??null;const a=e.evaluate({$view:{timeZone:r},$feature:t},e.services);if(null!=a)return a.toString()}catch(e){p.error(new t.Z("arcade-expression-error","Encountered an error when evaluating label expression for feature",{error:e,feature:n,expression:x}))}return null},needsHydrationToEvaluate:()=>null==(0,i.el)(x.expression)}}else d={type:"simple",evaluate:e=>x.expression.replaceAll(/{[^}]*}/g,(r=>{const t=r.slice(1,-1),a=n.get(t);if(!a)return r;let l=null;return"attributes"in e?e&&e.attributes&&(l=e.attributes[a.name]):l=e.field(a.name),null==l?"":function(e,n){if(null==e)return"";const r=n.domain;if(r)if("codedValue"===r.type||"coded-value"===r.type){const n=e;for(const e of r.codedValues)if(e.code===n)return e.name}else if("range"===r.type){const n=+e,t="range"in r?r.range[0]:r.minValue,a="range"in r?r.range[1]:r.maxValue;if(t<=n&&n<=a)return r.name}let t=e;return(0,o.y2)(n)?t=(0,s.p6)(t,(0,s.Ze)("short-date")):(0,o.H7)(n)&&(t=(0,u.uf)(+t)),t||""}(l,a)}))};if(a){let e;try{e=await(0,l.E)(a,n)}catch(e){return p.error(new t.Z("bad-where-clause","Encountered an error when evaluating where clause, ignoring",{where:a,error:e})),f}const r=d.evaluate;d.evaluate=(n,l)=>{const s="attributes"in n?void 0:w;try{if(e.testFeature(n,s))return r(n,l)}catch(e){p.error(new t.Z("bad-where-clause","Encountered an error when evaluating where clause for feature",{where:a,feature:n,error:e}))}return null}}return d}},8813:(e,n,r)=>{r.d(n,{UO:()=>g,YI:()=>d,dI:()=>b,el:()=>E,hV:()=>x,z7:()=>w});var t=r(19153);const a="__begin__",l="__end__",s=new RegExp(a,"ig"),u=new RegExp(l,"ig"),o=new RegExp("^"+a,"i"),i=new RegExp(l+"$","i"),c='"',p=c+" + ",f=" + "+c;function w(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function x(e){const n={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(n.expression=e.labelExpressionInfo.value,n.type="conventional"):e.labelExpressionInfo.expression&&(n.expression=e.labelExpressionInfo.expression,n.type="arcade"):null!=e.labelExpression&&(n.expression=function(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}(e.labelExpression),n.type="conventional"),n}function d(e){const n=x(e);if(!n)return null;switch(n.type){case"conventional":return b(n.expression);case"arcade":return n.expression}return null}function g(e){const n=x(e);if(!n)return null;switch(n.type){case"conventional":return function(e){const n=e?.match(h);return n?.[1].trim()||null}(n.expression);case"arcade":return E(n.expression)}return null}function b(e){let n;return e?(n=(0,t.gx)(e,(e=>a+'$feature["'+e+'"]'+l)),n=o.test(n)?n.replace(o,""):c+n,n=i.test(n)?n.replace(i,""):n+c,n=n.replaceAll(s,p).replaceAll(u,f)):n='""',n}const h=/^\s*\{([^}]+)\}\s*$/i,m=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,v=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,y=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function E(e){if(!e)return null;let n=m.exec(e)||v.exec(e);return n?n[1]||n[3]:(n=y.exec(e),n?n[2]:null)}}}]);