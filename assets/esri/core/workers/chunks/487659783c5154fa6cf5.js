"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[5494],{46140:(e,t,i)=>{i.d(t,{R:()=>r});var s=i(49186);let r=class e{constructor(e,t,i=""){this.major=e,this.minor=t,this._context=i}lessThan(e,t){return this.major<e||e===this.major&&this.minor<t}greaterEqual(e,t){return!this.lessThan(e,t)}validate(e){if(this.major!==e.major){const t=this._context&&this._context+":",i=this._context&&this._context+" ";throw new s.A(t+"unsupported-version",`Required major ${i}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new e(this.major,this.minor,this._context)}static parse(t,i=""){const[r,o]=t.split("."),n=/^\s*\d+\s*$/;if(!r?.match||!n.test(r))throw new s.A((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!o?.match||!n.test(o))throw new s.A((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const l=parseInt(r,10),a=parseInt(o,10);return new e(l,a,i)}}},52464:(e,t,i)=>{i.d(t,{A:()=>R});var s=i(90237),r=i(4718),o=i(10107),n=(i(44208),i(53966)),l=i(40608),a=i(43937),u=i(30524),p=i(92438),c=i(63988),h=i(68197),d=i(78888),y=i(49186),m=i(66344),g=i(74887),f=i(46140),b=i(65864),v=i(95466),w=i(71386),_=i(40863),x=i(93397);const A="esri.renderers.support.DictionaryLoader",M={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class S{constructor(e,t,i){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new m.q(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=e,this.config=t,this.fieldMap=i}getSymbolFields(){return this._symbolFields}async getSymbolAsync(e,t){let i;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(t));try{i=await this._dictionaryPromise}catch(e){if((0,g.zf)(e))return this._dictionaryPromise=null,null}const s=this._dictionaryVersion?.greaterEqual(4,0),r={};if(this.fieldMap)for(const t of this._symbolFields){const i=(0,x.MO)(this.fieldMap[t],this._fieldIndex);if(i){const o=e.attributes[i];r[t]=s?o:null!=o?""+e.attributes[i]:""}else r[t]=""}let o=null;try{o=i?.(r,t)}catch(e){return null}if(!o||"string"!=typeof o||"invalid"===o)return null;const n=o.split(";"),l=[],a=[];for(let t=0;t<n.length;t++){const i=n[t];if(i)if(i.includes("po:")){const t=i.slice(3).split("|");if(3===t.length){const i=t[0],s=t[1];let r=t[2];const o="countrylabel";if(i===o&&"TextString"===s){if(null!=this.fieldMap){let t=this.fieldMap[o];null==t&&(t=o,this.fieldMap[t]=t),e.attributes[t]=r}continue}if("DashTemplate"===s)r=r.split(" ").map((e=>Number(e)));else if("Color"===s){const e=new h.A(r).toRgba();r=[e[0],e[1],e[2],255*e[3]]}else r=Number(r);a.push({primitiveName:i,propertyName:s,value:r,defaultValue:null})}}else if(i.includes("|")){for(const e of i.split("|"))if(this._itemNames.has(e)){l.push(e);break}}else if(this._itemNames.has(i))l.push(i);else if(0===t){l.length=0;let t="Invalid_P";null!=e.geometry&&((0,b.Bi)(e.geometry)?t="Invalid_A":(0,b.Rg)(e.geometry)&&(t="Invalid_L")),l.push(t);break}}const u=null==e.geometry||!e.geometry.hasZ&&"point"===e.geometry.type;return this._cimPartsToCIMSymbol(e,l,a,u,t)}async fetchResources(e){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void n.A.getLogger(A).error("no valid URL!");const t=(0,d.A)(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:null!=e?e.signal:null}),[{data:i}]=await Promise.all([t,(0,w.lw)()]);if(!i)throw this._dictionaryPromise=null,new y.A("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:s,dictionary_version:r,expression:o,itemsNames:l}=i,a=o;let u=!1;r&&(this._dictionaryVersion=f.R.parse(r),u=this._dictionaryVersion.greaterEqual(4,0)),this._refSymbolUrlTemplate=this.url+"/"+i.cimRefTemplateUrl,this._itemNames=new Set(l),this._symbolFields=s.symbol;const p={};if(this.config){const e=this.config;for(const t in e)p[t]=e[t]}if(s.configuration)for(const e of s.configuration)p.hasOwnProperty(e.name)||(p[e.name]=e.value);const c=[];if(e?.fields&&this.fieldMap)for(const t in this.fieldMap){const i=this.fieldMap[t],s=e.fields.filter((e=>e.name.toLowerCase()===i?.toLowerCase()));s.length>0&&c.push({...s[0],type:u?s[0].type:"esriFieldTypeString"})}c.length>0&&(this._fieldIndex=new v.A(c));const h=(0,w.xR)(a,null!=e?e.spatialReference:null,c,p).then((e=>{const t={scale:0};return(i,s)=>{if(null==e)return null;const r=e.repurposeFeature({geometry:null,attributes:i});return t.scale=null!=s?s.scale??void 0:void 0,e.evaluate({$feature:r,$view:t},e.services)}})).catch((e=>(n.A.getLogger(A).error("Creating dictionary expression failed:",e),null)));return this._dictionaryPromise=h,h}async _cimPartsToCIMSymbol(e,t,s,o,n){const l=new Array(t.length);for(let e=0;e<t.length;e++)l[e]=this._getSymbolPart(t[e],n);let a=await Promise.all(l);const u=this.fieldMap;if(u&&a.length>0){const{OverrideHelper:t}=await i.e(3937).then(i.bind(i,73937));a=(0,r.o8)(a);for(const i of a)t.applyDictionaryTextOverrides(i,e,u,this._fieldIndex,(0,x.bs)(i))}return new _.A({data:j(a,s,o)})}async _getSymbolPart(e,t){const i=this._symbolCache.get(e);if(i)return i;if(this._ongoingRequests.has(e))return this._ongoingRequests.get(e).then((e=>e.data));const s=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,e),r=(0,d.A)(s,{responseType:"json",query:{f:"json"},...t});this._ongoingRequests.set(e,r),r.finally((()=>this._ongoingRequests.delete(e)));try{const t=await r;return this._symbolCache.put(e,t.data),t.data}catch(e){throw e}}}function j(e,t,i){if(!e||0===e.length)return null;const s={...e[0]};if(e.length>1){s.effects=null,s.symbolLayers=[];for(const t of e){const e=t;if(null!=e.effects)for(const t of e.symbolLayers)null==t.effects?t.effects=e.effects:t.effects.unshift(...e.effects);s.symbolLayers.unshift(...e.symbolLayers)}}return i&&(s.callout=M),{type:"CIMSymbolReference",symbol:s,primitiveOverrides:t}}var Z;let I=Z=class extends((0,c.h)(p.A)){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new S(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,i,s){s?.origin||super.writeVisualVariables(e,t,i,s)}clone(){return new Z({config:(0,r.o8)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,r.o8)(this.fieldMap),url:(0,r.o8)(this.url),visualVariables:(0,r.o8)(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await(0,u.Dx)(e,t,this.scaleExpression);for(const i in this.fieldMap){const s=this.fieldMap[i];t.has(s)&&e.add(s)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){return this.visualVariables?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};(0,s._)([(0,o.MZ)({type:S})],I.prototype,"_loader",null),(0,s._)([(0,o.MZ)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],I.prototype,"config",void 0),(0,s._)([(0,o.MZ)({type:Object,json:{write:!0}})],I.prototype,"fieldMap",void 0),(0,s._)([(0,o.MZ)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],I.prototype,"scaleExpression",void 0),(0,s._)([(0,a.K)("scaleExpression")],I.prototype,"writeData",null),(0,s._)([(0,o.MZ)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],I.prototype,"scaleExpressionTitle",void 0),(0,s._)([(0,o.MZ)({type:String,json:{write:!0}})],I.prototype,"url",void 0),(0,s._)([(0,a.K)("visualVariables")],I.prototype,"writeVisualVariables",null),I=Z=(0,s._)([(0,l.$)("esri.renderers.DictionaryRenderer")],I);const R=I},65345:(e,t,i)=>{i.d(t,{A:()=>_});var s,r=i(90237),o=i(68197),n=i(4718),l=i(10107),a=(i(44208),i(53966),i(93223)),u=i(40608),p=i(30524),c=i(92438),h=i(63988),d=i(15622),y=i(25482);i(87811);let m=s=class extends y.A{constructor(){super(...arguments),this.unit=null}clone(){return new s({unit:this.unit})}};(0,r._)([(0,l.MZ)({type:String,json:{write:!0}})],m.prototype,"unit",void 0),m=s=(0,r._)([(0,u.$)("esri.renderers.support.DotDensityLegendOptions")],m);const g=m;var f,b=i(94985),v=i(31593);let w=f=class extends((0,h.h)(c.A)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new o.A([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new v.A,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new b.A({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new f({attributes:(0,n.o8)(this.attributes),backgroundColor:(0,n.o8)(this.backgroundColor),dotBlendingEnabled:(0,n.o8)(this.dotBlendingEnabled),dotShape:(0,n.o8)(this.dotShape),dotSize:(0,n.o8)(this.dotSize),dotValue:(0,n.o8)(this.dotValue),legendOptions:(0,n.o8)(this.legendOptions),outline:(0,n.o8)(this.outline),referenceScale:(0,n.o8)(this.referenceScale),seed:(0,n.o8)(this.seed),visualVariables:(0,n.o8)(this.visualVariables),authoringInfo:(0,n.o8)(this.authoringInfo)})}getControllerHash(){const e=this.attributes?.map((e=>e.field||e.valueExpression||""));return`${e}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const i of this.attributes??[])i.valueExpression&&await(0,p.Dx)(e,t,i.valueExpression),i.field&&e.add(i.field)}};(0,r._)([(0,l.MZ)({type:[d.A],json:{write:!0}})],w.prototype,"attributes",void 0),(0,r._)([(0,l.MZ)({type:o.A,json:{write:!0}})],w.prototype,"backgroundColor",void 0),(0,r._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],w.prototype,"dotBlendingEnabled",void 0),(0,r._)([(0,l.MZ)({type:String,json:{write:!1}})],w.prototype,"dotShape",void 0),(0,r._)([(0,l.MZ)({type:Number,json:{write:!0}})],w.prototype,"dotSize",void 0),(0,r._)([(0,l.MZ)({type:g,json:{write:!0}})],w.prototype,"legendOptions",void 0),(0,r._)([(0,l.MZ)({type:v.A,json:{default:null,write:!0}})],w.prototype,"outline",void 0),(0,r._)([(0,l.MZ)({type:Number,json:{write:!0}})],w.prototype,"dotValue",void 0),(0,r._)([(0,l.MZ)({type:Number,json:{write:!0}})],w.prototype,"referenceScale",void 0),(0,r._)([(0,l.MZ)({type:Number,json:{write:!0}})],w.prototype,"seed",void 0),(0,r._)([(0,a.e)({dotDensity:"dot-density"})],w.prototype,"type",void 0),w=f=(0,r._)([(0,u.$)("esri.renderers.DotDensityRenderer")],w);const _=w},42980:(e,t,i)=>{i.d(t,{A:()=>S});var s,r=i(90237),o=i(68197),n=(i(61147),i(4718)),l=i(90629),a=i(10107),u=(i(44208),i(53966),i(93223)),p=i(40608),c=i(30524),h=i(92438),d=i(30943),y=i(25482),m=i(56507);i(87811);let g=s=class extends y.A{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new s({color:this.color&&this.color.clone(),ratio:this.ratio})}};(0,r._)([(0,a.MZ)({type:o.A,json:{type:[m.jz],default:null,write:{isRequired:!0}}})],g.prototype,"color",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{write:{isRequired:!0}}})],g.prototype,"ratio",void 0),g=s=(0,r._)([(0,p.$)("esri.renderers.support.HeatmapColorStop")],g);const f=g;var b=i(69540);let v=class extends(b.A.ClonableMixin(y.A)){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],v.prototype,"minLabel",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],v.prototype,"maxLabel",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],v.prototype,"title",void 0),v=(0,r._)([(0,p.$)("esri.renderers.support.HeatmapLegendOptions")],v);var w,_=i(61760),x=i(53930);function A(e){if(null!=e){const{maxDensity:t,minDensity:i,radius:s}=e;if(null!=t||null!=i||null!=s){const{blurRadius:t,maxPixelIntensity:i,minPixelIntensity:s,...r}=e;return r}}return e}let M=w=class extends h.A{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new f({ratio:0,color:new o.A("rgba(255, 140, 0, 0)")}),new f({ratio:.75,color:new o.A("rgba(255, 140, 0, 1)")}),new f({ratio:.9,color:new o.A("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(e){return A(e)}get blurRadius(){return(0,_.PU)(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,i=this.minPixelIntensity;this._set("radius",(0,_.zp)(e)),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",i*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(_.ex**2*this.blurRadius**4)}read(e,t){e=A(e),super.read(e,t)}getSymbol(){return new x.A}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const i=this.field,s=this.valueExpression;i&&"string"==typeof i&&(0,c.rq)(e,t,i),s&&"string"==typeof s&&await(0,c.Dx)(e,t,s)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new w({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:(0,n.o8)(this.colorStops),field:this.field,legendOptions:(0,n.o8)(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,r._)([(0,a.MZ)({type:d.A,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],M.prototype,"authoringInfo",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],M.prototype,"blurRadius",null),(0,r._)([(0,a.MZ)({type:[f],json:{write:{isRequired:!0}}})],M.prototype,"colorStops",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],M.prototype,"field",void 0),(0,r._)([(0,a.MZ)({type:v,json:{write:!0}})],M.prototype,"legendOptions",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{write:!0}})],M.prototype,"maxDensity",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],M.prototype,"maxPixelIntensity",null),(0,r._)([(0,a.MZ)({type:Number,json:{write:!0}})],M.prototype,"minDensity",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],M.prototype,"minPixelIntensity",null),(0,r._)([(0,a.MZ)({type:Number,cast:l.cr,json:{write:!0}})],M.prototype,"radius",void 0),(0,r._)([(0,a.MZ)({type:Number,range:{min:0},json:{default:0,write:!0}})],M.prototype,"referenceScale",void 0),(0,r._)([(0,u.e)({heatmap:"heatmap"})],M.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],M.prototype,"valueExpression",void 0),(0,r._)([(0,a.MZ)({type:String})],M.prototype,"valueExpressionTitle",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],M.prototype,"_pixelIntensityToDensity",null),M=w=(0,r._)([(0,p.$)("esri.renderers.HeatmapRenderer")],M);const S=M},20917:(e,t,i)=>{i.d(t,{A:()=>j});var s=i(90237),r=i(68197),o=(i(61147),i(4576)),n=i(69540),l=i(90629),a=i(10107),u=(i(44208),i(53966),i(93223)),p=i(40608),c=i(30524),h=i(92438),d=i(63988),y=i(15622),m=i(49849),g=i(25482);i(87811);let f=class extends(n.A.ClonableMixin(g.A)){constructor(){super(...arguments),this.color=new r.A([0,0,0,0]),this.label=null,this.threshold=0}};(0,s._)([(0,a.MZ)({type:r.A,json:{write:!0}})],f.prototype,"color",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],f.prototype,"label",void 0),(0,s._)([(0,a.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],f.prototype,"threshold",void 0),f=(0,s._)([(0,p.$)("esri.renderers.support.OthersCategory")],f);var b=i(20061),v=i(62724),w=i(48940),_=i(2795),x=i(53930),A=i(31593);const M={base:_.A,key:"type",typeMap:{size:w.A,opacity:v.A}};let S=class extends((0,d.h)(n.A.ClonableMixin(h.A))){constructor(e){super(e),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new r.A([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new f,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){return new x.A({size:this.size?this.size/2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(o.Ru)}getAttributeHash(){return this.visualVariables?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){return this.symbols.reduce(((e,t)=>e+JSON.stringify(t)),"")}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const i of this.attributes)i.valueExpression&&await(0,c.Dx)(e,t,i.valueExpression),i.field&&e.add(i.field)}};(0,s._)([(0,a.MZ)({type:[y.A],json:{write:!0}})],S.prototype,"attributes",void 0),(0,s._)([(0,a.MZ)(m.As)],S.prototype,"backgroundFillSymbol",void 0),(0,s._)([(0,a.MZ)({type:r.A,json:{write:!0}})],S.prototype,"defaultColor",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],S.prototype,"defaultLabel",void 0),(0,s._)([(0,a.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],S.prototype,"holePercentage",void 0),(0,s._)([(0,a.MZ)({type:f,json:{write:!0}})],S.prototype,"othersCategory",void 0),(0,s._)([(0,a.MZ)({type:b.A,json:{write:!0}})],S.prototype,"legendOptions",void 0),(0,s._)([(0,a.MZ)({type:A.A,json:{default:null,write:!0}})],S.prototype,"outline",void 0),(0,s._)([(0,a.MZ)({type:Number,cast:l.cr,json:{write:!0}})],S.prototype,"size",void 0),(0,s._)([(0,u.e)({pieChart:"pie-chart"})],S.prototype,"type",void 0),(0,s._)([(0,a.MZ)({types:[M]})],S.prototype,"visualVariables",void 0),S=(0,s._)([(0,p.$)("esri.renderers.PieChartRenderer")],S);const j=S},96576:(e,t,i)=>{i.d(t,{A:()=>d});var s,r=i(90237),o=i(4718),n=i(10107),l=(i(44208),i(53966),i(93223)),a=i(40608),u=i(92438),p=i(63988),c=i(49849);let h=s=class extends((0,p.h)(u.A)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.symbols.map((i=>i.collectRequiredFields(e,t))))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){return this.symbols.reduce(((e,t)=>e+JSON.stringify(t)),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new s({description:this.description,label:this.label,symbol:(0,o.o8)(this.symbol),visualVariables:(0,o.o8)(this.visualVariables),authoringInfo:(0,o.o8)(this.authoringInfo)})}};(0,r._)([(0,n.MZ)({type:String,json:{write:!0}})],h.prototype,"description",void 0),(0,r._)([(0,n.MZ)({type:String,json:{write:!0}})],h.prototype,"label",void 0),(0,r._)([(0,n.MZ)(c.Wp)],h.prototype,"symbol",void 0),(0,r._)([(0,l.e)({simple:"simple"})],h.prototype,"type",void 0),h=s=(0,r._)([(0,a.$)("esri.renderers.SimpleRenderer")],h);const d=h},15622:(e,t,i)=>{i.d(t,{A:()=>d});var s,r=i(90237),o=i(68197),n=i(25482),l=i(53966),a=i(10107),u=i(79901),p=(i(87811),i(44208),i(40608)),c=i(56507);let h=s=class extends n.A{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return null==e?e:"function"==typeof e?(l.A.getLogger(this).error(".field: field must be a string value"),null):(0,c.GX)(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new s({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,r._)([(0,a.MZ)({type:o.A,json:{type:[Number],write:!0}})],h.prototype,"color",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],h.prototype,"field",void 0),(0,r._)([(0,u.w)("field")],h.prototype,"castField",null),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],h.prototype,"label",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],h.prototype,"valueExpression",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],h.prototype,"valueExpressionTitle",void 0),h=s=(0,r._)([(0,p.$)("esri.renderers.support.AttributeColorInfo")],h);const d=h},65494:(e,t,i)=>{i.d(t,{L:()=>a,r:()=>n});var s=i(67076),r=i(90360),o=i(15036);function n(e,t){return a(e,null,t)}const l=(0,r.C)({types:o.H});function a(e,t,i){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(i?.messages&&i.messages.push(new s.A("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:i})),null):l(e,t,i):null}},15036:(e,t,i)=>{i.d(t,{H:()=>h,X:()=>d});var s=i(53966),r=i(86162),o=i(52464),n=i(65345),l=i(42980),a=i(20917),u=i(92438),p=i(96576),c=i(93618);const h={key:"type",base:u.A,typeMap:{heatmap:l.A,simple:p.A,"unique-value":c.A,"class-breaks":r.A,"dot-density":n.A,dictionary:o.A,"pie-chart":a.A},errorContext:"renderer"},d={key:"type",base:u.A,typeMap:{simple:p.A,"unique-value":c.A,"class-breaks":r.A,heatmap:l.A},errorContext:"renderer",validate:function(e){switch(e.type){case"simple":return function(e){if(e.symbol)return e;s.A.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}(e);case"unique-value":return function(e){const t=e.uniqueValueInfos,i=t?.filter((({symbol:e,label:t},i)=>(e||s.A.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${i}] ${t}) without a symbol from web scene.`),!!e)));return i?.length!==t?.length&&(e.uniqueValueInfos=i),e}(e);case"class-breaks":return function(e){const t=e.classBreakInfos,i=t?.filter((({symbol:e,label:t},i)=>(e||s.A.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${i}] ${t}) without a symbol from web scene.`),!!e)));return i?.length!==t?.length&&(e.classBreakInfos=i),e}(e);case"heatmap":return e}}}}}]);