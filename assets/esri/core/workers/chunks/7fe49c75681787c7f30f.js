"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[7316],{92835:(e,t,s)=>{s.d(t,{Z:()=>f});var i,n=s(43697),r=s(96674),l=s(70586),o=s(35463),a=s(5600),h=(s(75215),s(67676),s(80442),s(71715)),u=s(52011),c=s(30556);let p=i=class extends r.wq{static get allTime(){return d}static get empty(){return g}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(i.allTime)}get isEmpty(){return this.equals(i.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new i({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=null!=this.start?this.start.getTime():this.start,s=null!=this.end?this.end.getTime():this.end,i=null!=e.start?e.start.getTime():e.start,n=null!=e.end?e.end.getTime():e.end;return t===i&&s===n}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=(0,l.yw)(this.start,(t=>(0,o.JE)(t,e))),s=(0,l.yw)(this.end,(t=>{const s=(0,o.JE)(t,e);return t.getTime()===s.getTime()?s:(0,o.Nm)(s,1,e)}));return new i({start:t,end:s})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return i.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=this.start?.getTime()??-1/0,s=this.end?.getTime()??1/0,n=e.start?.getTime()??-1/0,r=e.end?.getTime()??1/0;let l,o;if(n>=t&&n<=s?l=n:t>=n&&t<=r&&(l=t),s>=n&&s<=r?o=s:r>=t&&r<=s&&(o=r),null!=l&&null!=o&&!isNaN(l)&&!isNaN(o)){const e=new i;return e.start=l===-1/0?null:new Date(l),e.end=o===1/0?null:new Date(o),e}return i.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const s=new i,{start:n,end:r}=this;return null!=n&&(s.start=(0,o.Nm)(n,e,t)),null!=r&&(s.end=(0,o.Nm)(r,e,t)),s}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return d.clone();const t=null!=this.start&&null!=e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,s=null!=this.end&&null!=e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new i({start:t,end:s})}};(0,n._)([(0,a.Cb)({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"end",void 0),(0,n._)([(0,h.r)("end")],p.prototype,"readEnd",null),(0,n._)([(0,c.c)("end")],p.prototype,"writeEnd",null),(0,n._)([(0,a.Cb)({readOnly:!0,json:{read:!1}})],p.prototype,"isAllTime",null),(0,n._)([(0,a.Cb)({readOnly:!0,json:{read:!1}})],p.prototype,"isEmpty",null),(0,n._)([(0,a.Cb)({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"start",void 0),(0,n._)([(0,h.r)("start")],p.prototype,"readStart",null),(0,n._)([(0,c.c)("start")],p.prototype,"writeStart",null),p=i=(0,n._)([(0,u.j)("esri.TimeExtent")],p);const d=new p,g=new p({start:void 0,end:void 0}),f=p},4757:(e,t,s)=>{s.d(t,{Z:()=>d});var i=s(43697),n=s(92036),r=s(67676),l=s(2368),o=s(10699),a=s(96674),h=s(5600),u=(s(75215),s(80442),s(52011));let c=0,p=class extends((0,a.eC)((0,l.J)((0,o.IG)(n.Z)))){constructor(e){super(e),this.id=`${Date.now().toString(16)}-analysis-${c++}`,this.title=null}get parent(){return this._get("parent")}set parent(e){const t=this.parent;if(null!=t)switch(t.type){case"line-of-sight":case"dimension":t.releaseAnalysis(this);break;case"2d":case"3d":t.analyses.includes(this)&&t.analyses.remove(this)}this._set("parent",e)}get isEditable(){return this.requiredPropertiesForEditing.every(r.pC)}};(0,i._)([(0,h.Cb)({type:String,constructOnly:!0,clonable:!1})],p.prototype,"id",void 0),(0,i._)([(0,h.Cb)({type:String})],p.prototype,"title",void 0),(0,i._)([(0,h.Cb)({constructOnly:!0})],p.prototype,"type",void 0),(0,i._)([(0,h.Cb)({clonable:!1,value:null})],p.prototype,"parent",null),(0,i._)([(0,h.Cb)({readOnly:!0})],p.prototype,"isEditable",null),(0,i._)([(0,h.Cb)({readOnly:!0})],p.prototype,"requiredPropertiesForEditing",void 0),p=(0,i._)([(0,u.j)("esri.analysis.Analysis")],p);const d=p},46791:(e,t,s)=>{s.d(t,{Z:()=>M});var i,n=s(43697),r=s(3894),l=s(32448),o=s(22974),a=s(70586),h=s(71143);!function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"}(i||(i={}));var u,c=s(1654),p=s(75215),d=s(58971),g=s(5600),f=s(52421),m=s(52011),y=s(10661);const _=new h.Z(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1})),b=()=>{};function v(e){return e?e instanceof j?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function w(e){if(e&&e.length)return e[0]}function E(e,t,s,i){const n=Math.min(e.length-s,t.length-i);let r=0;for(;r<n&&e[s+r]===t[i+r];)r++;return r}function C(e,t,s,i){t&&t.forEach(((t,n,r)=>{e.push(t),C(e,s.call(i,t,n,r),s,i)}))}const A=new Set,O=new Set,D=new Set,x=new Map;let I=0,j=u=class extends l.Z.EventedAccessor{static isCollection(e){return null!=e&&e instanceof u}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new y.s,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:I++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof u?{items:e}:e:{}}destroy(){this._removeAllRaw()}*[Symbol.iterator](){yield*this.items}get items(){return(0,d.it)(this._observable),this._items}set items(e){this._emitBeforeChanges(i.ADD)||(this._splice(0,this.length,v(e)),this._emitAfterChanges(i.ADD))}hasEventListener(e){return"change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if("change"===e){const e=this._chgListeners,s={removed:!1,callback:t};return e.push(s),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=b,s.removed=!0,e.splice(e.indexOf(s),1)}}}return this._emitter.on(e,t)}once(e,t){const s=this.on(e,t);return{remove(){s.remove()}}}add(e,t){if((0,d.it)(this._observable),this._emitBeforeChanges(i.ADD))return this;const s=this.getNextIndex(t??null);return this._splice(s,0,[e]),this._emitAfterChanges(i.ADD),this}addMany(e,t=this._items.length){if((0,d.it)(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(i.ADD))return this;const s=this.getNextIndex(t);return this._splice(s,0,v(e)),this._emitAfterChanges(i.ADD),this}at(e){if((0,d.it)(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if((0,d.it)(this._observable),!this.length||this._emitBeforeChanges(i.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(i.REMOVE),e}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){return(0,d.it)(this._observable),this._createNewInstance({items:this._items.map(o.d9)})}concat(...e){(0,d.it)(this._observable);const t=e.map(v);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if((0,d.it)(this._observable),!this.length||this._emitBeforeChanges(i.REMOVE))return;const s=(0,a.j0)(this._splice(0,this.length)),n=s.length;for(let i=0;i<n;i++)e.call(t,s[i],i,s);this._emitAfterChanges(i.REMOVE)}every(e,t){return(0,d.it)(this._observable),this._items.every(e,t)}filter(e,t){let s;return(0,d.it)(this._observable),s=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:s})}find(e,t){return(0,d.it)(this._observable),this._items.find(e,t)}findIndex(e,t){return(0,d.it)(this._observable),this._items.findIndex(e,t)}flatten(e,t){(0,d.it)(this._observable);const s=[];return C(s,this,e,t),new u(s)}forEach(e,t){return(0,d.it)(this._observable),this._items.forEach(e,t)}getItemAt(e){return(0,d.it)(this._observable),this._items[e]}getNextIndex(e){(0,d.it)(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return(0,d.it)(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return(0,d.it)(this._observable),this._items.indexOf(e,t)}join(e=","){return(0,d.it)(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return(0,d.it)(this._observable),this._items.lastIndexOf(e,t)}map(e,t){(0,d.it)(this._observable);const s=this._items.map(e,t);return new u({items:s})}reorder(e,t=this.length-1){(0,d.it)(this._observable);const s=this.indexOf(e);if(-1!==s){if(t<0?t=0:t>=this.length&&(t=this.length-1),s!==t){if(this._emitBeforeChanges(i.MOVE))return e;this._splice(s,1),this._splice(t,0,[e]),this._emitAfterChanges(i.MOVE)}return e}}pop(){if((0,d.it)(this._observable),!this.length||this._emitBeforeChanges(i.REMOVE))return;const e=w(this._splice(this.length-1,1));return this._emitAfterChanges(i.REMOVE),e}push(...e){return(0,d.it)(this._observable),this._emitBeforeChanges(i.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(i.ADD)),this.length}reduce(e,t){(0,d.it)(this._observable);const s=this._items;return 2===arguments.length?s.reduce(e,t):s.reduce(e)}reduceRight(e,t){(0,d.it)(this._observable);const s=this._items;return 2===arguments.length?s.reduceRight(e,t):s.reduceRight(e)}remove(e){return(0,d.it)(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if((0,d.it)(this._observable),e<0||e>=this.length||this._emitBeforeChanges(i.REMOVE))return;const t=w(this._splice(e,1));return this._emitAfterChanges(i.REMOVE),t}removeMany(e){if((0,d.it)(this._observable),!e||!e.length||this._emitBeforeChanges(i.REMOVE))return[];const t=e instanceof u?e.toArray():e,s=this._items,n=[],r=t.length;for(let e=0;e<r;e++){const i=t[e],r=s.indexOf(i);if(r>-1){const i=1+E(t,s,e+1,r+1),l=this._splice(r,i);l&&l.length>0&&n.push.apply(n,l),e+=i-1}}return this._emitAfterChanges(i.REMOVE),n}reverse(){if((0,d.it)(this._observable),this._emitBeforeChanges(i.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(i.MOVE),this}shift(){if((0,d.it)(this._observable),!this.length||this._emitBeforeChanges(i.REMOVE))return;const e=w(this._splice(0,1));return this._emitAfterChanges(i.REMOVE),e}slice(e=0,t=this.length){return(0,d.it)(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return(0,d.it)(this._observable),this._items.some(e,t)}sort(e){if((0,d.it)(this._observable),!this.length||this._emitBeforeChanges(i.MOVE))return this;const t=(0,a.j0)(this._splice(0,this.length));return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(i.MOVE),this}splice(e,t,...s){(0,d.it)(this._observable);const n=(t?i.REMOVE:0)|(s.length?i.ADD:0);if(this._emitBeforeChanges(n))return[];const r=this._splice(e,t,s)||[];return this._emitAfterChanges(n),r}toArray(){return(0,d.it)(this._observable),this._items.slice()}toJSON(){return(0,d.it)(this._observable),this.toArray()}toLocaleString(){return(0,d.it)(this._observable),this._items.toLocaleString()}toString(){return(0,d.it)(this._observable),this._items.toString()}unshift(...e){return(0,d.it)(this._observable),!e.length||this._emitBeforeChanges(i.ADD)||(this._splice(0,0,e),this._emitAfterChanges(i.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,s){const i=this._items,n=this.itemType;let r,l;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,c.Os)((()=>this._dispatchChange()))),t){if(l=i.splice(e,t),this.hasEventListener("before-remove")){const t=_.acquire();t.target=this,t.cancellable=!0;for(let s=0,n=l.length;s<n;s++)r=l[s],t.reset(r),this.emit("before-remove",t),t.defaultPrevented&&(l.splice(s,1),i.splice(e,0,r),e+=1,s-=1,n-=1);_.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=_.acquire();e.target=this,e.cancellable=!1;const t=l.length;for(let s=0;s<t;s++)e.reset(l[s]),this.emit("after-remove",e);_.release(e)}}if(s&&s.length){if(n){const e=[];for(const t of s){const s=n.ensureType(t);null==s&&null!=t||e.push(s)}s=e}const t=this.hasEventListener("before-add"),r=this.hasEventListener("after-add"),l=e===this.length;if(t||r){const n=_.acquire();n.target=this,n.cancellable=!0;const o=_.acquire();o.target=this,o.cancellable=!1;for(const a of s)t?(n.reset(a),this.emit("before-add",n),n.defaultPrevented||(l?i.push(a):i.splice(e++,0,a),this._set("length",i.length),r&&(o.reset(a),this.emit("after-add",o)))):(l?i.push(a):i.splice(e++,0,a),this._set("length",i.length),o.reset(a),this.emit("after-add",o));_.release(o),_.release(n)}else{if(l)for(const e of s)i.push(e);else i.splice(e,0,...s);this._set("length",i.length)}}return(s&&s.length||l&&l.length)&&this._notifyChangeEvent(s,l),l}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const s=_.acquire();s.target=this,s.cancellable=!0,s.type=e,this.emit("before-changes",s),t=s.defaultPrevented,_.release(s)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=_.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),_.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;A.clear(),O.clear(),D.clear();for(const{added:t,removed:s}of e){if(t)if(0===D.size&&0===O.size)for(const e of t)A.add(e);else for(const e of t)O.has(e)?(D.add(e),O.delete(e)):D.has(e)||A.add(e);if(s)if(0===D.size&&0===A.size)for(const e of s)O.add(e);else for(const e of s)A.has(e)?A.delete(e):(D.delete(e),O.add(e))}const s=r.Z.acquire();A.forEach((e=>{s.push(e)}));const i=r.Z.acquire();O.forEach((e=>{i.push(e)}));const n=this._items,l=t.items,o=r.Z.acquire();if(D.forEach((e=>{l.indexOf(e)!==n.indexOf(e)&&o.push(e)})),t.listeners&&(s.length||i.length||o.length)){const e={target:this,added:s,removed:i,moved:o},n=t.listeners.length;for(let s=0;s<n;s++){const i=t.listeners[s];i.removed||i.callback.call(this,e)}}r.Z.release(s),r.Z.release(i),r.Z.release(o)}A.clear(),O.clear(),D.clear()}};j.ofType=e=>{if(!e)return u;if(x.has(e))return x.get(e);let t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const s in e.typeMap){const i=e.typeMap[s].prototype.declaredClass;t?t+=` | ${i}`:t=i}let s=class extends u{};return(0,n._)([(0,f.c)({Type:e,ensureType:"function"==typeof e?(0,p.se)(e):(0,p.N7)(e)})],s.prototype,"itemType",void 0),s=(0,n._)([(0,m.j)(`esri.core.Collection<${t}>`)],s),x.set(e,s),s},(0,n._)([(0,g.Cb)()],j.prototype,"length",void 0),(0,n._)([(0,g.Cb)()],j.prototype,"items",null),j=u=(0,n._)([(0,m.j)("esri.core.Collection")],j);const M=j},28576:(e,t,s)=>{s.d(t,{B:()=>c});var i=s(81153),n=s(81271),r=s(41123),l=s(7628),o=s(31263),a=s(5600),h=s(66094),u=s(25929);function c(e){const t=e?.origins??[void 0];return(s,r)=>{const c=function(e,t,s){if("resource"===e?.type)return function(e,t,s){const r=(0,l.Oe)(t,s);return{type:String,read:(e,t,s)=>{const i=(0,u.r)(e,t,s);return r.type===String?i:"function"==typeof r.type?new r.type({url:i}):void 0},write:{writer(t,l,a,c){if(!c||!c.resources)return"string"==typeof t?void(l[a]=(0,u.t)(t,c)):void(l[a]=t.write({},c));const f=function(e){return null==e?null:"string"==typeof e?e:e.url}(t),m=(0,u.t)(f,{...c,verifyItemRelativeUrls:c&&c.verifyItemRelativeUrls?{writtenUrls:c.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},u.M.NO),y=r.type!==String&&(!(0,i.l)(this)||c&&c.origin&&this.originIdOf(s)>(0,o.M9)(c.origin)),_={object:this,propertyName:s,value:t,targetUrl:m,dest:l,targetPropertyName:a,context:c,params:e};c&&c.portalItem&&m&&!(0,n.YP)(m)?y?function(e){const{context:t,targetUrl:s,params:i,value:r,dest:l,targetPropertyName:o}=e;if(!t.portalItem)return;const a=t.portalItem.resourceFromPath(s),u=g(r,s,t),c=(0,h.B)(u),f=(0,n.Ml)(a.path),m=i?.compress??!1;c===f?(t.resources&&d({...e,resource:a,content:u,compress:m,updates:t.resources.toUpdate}),l[o]=s):p(e)}(_):function({context:e,targetUrl:t,dest:s,targetPropertyName:i}){e.portalItem&&e.resources&&(e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(t),compress:!1}),s[i]=t)}(_):c&&c.portalItem&&(null==m||null!=(0,u.i)(m)||(0,n.jc)(m)||y)?p(_):l[a]=m}}}}(e,t,s);switch(e?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:e,write:t}=u.a;return{read:e,write:t}}}}(e,s,r);for(const e of t){const t=(0,a.CJ)(s,e,r);for(const e in c)t[e]=c[e]}}}function p(e){const{targetUrl:t,params:i,value:l,context:o,dest:a,targetPropertyName:c}=e;if(!o.portalItem)return;const p=(0,u.p)(t),f=p?.filename??(0,r.D)(),m=i?.prefix??p?.prefix,y=g(l,t,o),_=(0,n.v_)(m,f),b=`${_}.${(0,h.B)(y)}`,v=o.portalItem.resourceFromPath(b);(0,n.jc)(t)&&o.resources&&o.resources.pendingOperations.push(async function(e){const t=(await Promise.resolve().then(s.bind(s,3172))).default,{data:i}=await t(e,{responseType:"blob"});return i}(t).then((e=>{v.path=`${_}.${(0,h.B)(e)}`,a[c]=v.itemRelativeUrl})).catch((()=>{})));const w=i?.compress??!1;o.resources&&d({...e,resource:v,content:y,compress:w,updates:o.resources.toAdd}),a[c]=v.itemRelativeUrl}function d({object:e,propertyName:t,updates:s,resource:i,content:n,compress:r}){s.push({resource:i,content:n,compress:r,finish:s=>{!function(e,t,s){"string"==typeof e[t]?e[t]=s.url:e[t].url=s.url}(e,t,s)}})}function g(e,t,s){return"string"==typeof e?{url:t}:new Blob([JSON.stringify(e.toJSON(s))],{type:"application/json"})}},52421:(e,t,s)=>{function i(e){return(t,s)=>{t[s]=e}}s.d(t,{c:()=>i})},70921:(e,t,s)=>{s.d(t,{R:()=>r,Z:()=>n});var i=s(46791);function n(e,t,s=i.Z){return t||(t=new s),t===e||(t.removeAll(),(n=e)&&(Array.isArray(n)||"items"in n&&Array.isArray(n.items))?t.addMany(e):e&&t.add(e)),t;var n}function r(e){return e}},81153:(e,t,s)=>{function i(e){return e&&"getAtOrigin"in e&&"originOf"in e}s.d(t,{l:()=>i})},17445:(e,t,s)=>{s.d(t,{N1:()=>p,YP:()=>a,Z_:()=>f,gx:()=>h,nn:()=>m,on:()=>c,tX:()=>y});var i=s(91460),n=s(50758),r=s(70586),l=s(95330),o=s(26258);function a(e,t,s={}){return u(e,t,s,d)}function h(e,t,s={}){return u(e,t,s,g)}function u(e,t,s={},i){let n=null;const l=s.once?(e,s)=>{i(e)&&((0,r.hw)(n),t(e,s))}:(e,s)=>{i(e)&&t(e,s)};if(n=(0,o.aQ)(e,l,s.sync,s.equals),s.initial){const t=e();l(t,t)}return n}function c(e,t,s,l={}){let o=null,h=null,u=null;function c(){o&&h&&(h.remove(),l.onListenerRemove?.(o),o=null,h=null)}function p(e){l.once&&l.once&&(0,r.hw)(u),s(e)}const d=a(e,((e,s)=>{c(),(0,i.vT)(e)&&(o=e,h=(0,i.on)(e,t,p),l.onListenerAdd?.(e))}),{sync:l.sync,initial:!0});return u=(0,n.kB)((()=>{d.remove(),c()})),u}function p(e,t){return function(e,t,s){if((0,l.Hc)(s))return Promise.reject((0,l.zE)());const i=e();if(t?.(i))return Promise.resolve(i);let o=null;function a(){o=(0,r.hw)(o)}return new Promise(((i,r)=>{o=(0,n.AL)([(0,l.fu)(s,(()=>{a(),r((0,l.zE)())})),u(e,(e=>{a(),i(e)}),{sync:!1,once:!0},t??d)])}))}(e,g,t)}function d(e){return!0}function g(e){return!!e}s(87538);const f={sync:!0},m={initial:!0},y={sync:!0,initial:!0}},35463:(e,t,s)=>{s.d(t,{JE:()=>l,Nm:()=>r,rJ:()=>o}),s(80442);const i={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},n={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function r(e,t,s){const i=new Date(e.getTime());if(t&&s){const e=n[s],{getter:r,setter:l,multiplier:o}=e;if("months"===s){const e=function(e,t){const s=new Date(e,t+1,1);return s.setDate(0),s.getDate()}(i.getFullYear(),i.getMonth()+t);i.getDate()>e&&i.setDate(e)}i[l](i[r]()+t*o)}return i}function l(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function o(e,t,s){return 0===e?0:e*i[t]/i[s]}},41123:(e,t,s)=>{s.d(t,{D:()=>n,z:()=>r});const i="randomUUID"in crypto;function n(){if(i)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=t=>e[t].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function r(){return`{${n()}}`}},30690:(e,t,s)=>{s.r(t),s.d(t,{default:()=>P});var i=s(43697),n=s(4757);function r(e,t){return l(e)===l(t)}function l(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:"";let s=null;return s=null!=e.objectId?e.objectId:null!=e.layer&&"objectIdField"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==s?null:`o-${t}-${s}`}const o={json:{write:{writer:function(e,t){null!=e&&null!=e.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:e.objectId}}}}}}};var a=s(92036),h=s(2368),u=s(96674),c=s(70586),p=s(5600),d=(s(75215),s(67676),s(80442),s(52011)),g=s(28576),f=s(94139),m=s(86787);let y=class extends((0,u.eC)((0,h.J)(a.Z))){constructor(e){super(e),this.position=null,this.elevationInfo=null,this.feature=null}equals(e){return(0,c._W)(this.position,e.position)&&(0,c._W)(this.elevationInfo,e.elevationInfo)&&r(this.feature,e.feature)}};(0,i._)([(0,p.Cb)({type:f.Z,json:{write:{isRequired:!0}}})],y.prototype,"position",void 0),(0,i._)([(0,p.Cb)({type:m.Z}),(0,g.B)()],y.prototype,"elevationInfo",void 0),(0,i._)([(0,p.Cb)(o)],y.prototype,"feature",void 0),y=(0,i._)([(0,d.j)("esri.analysis.LineOfSightAnalysisObserver")],y);const _=y;let b=class extends((0,u.eC)(h.j)){constructor(e){super(e),this.position=null,this.elevationInfo=null,this.feature=null}equals(e){return(0,c._W)(this.position,e.position)&&(0,c._W)(this.elevationInfo,e.elevationInfo)&&r(this.feature,e.feature)}};(0,i._)([(0,p.Cb)({type:f.Z}),(0,g.B)()],b.prototype,"position",void 0),(0,i._)([(0,p.Cb)({type:m.Z}),(0,g.B)()],b.prototype,"elevationInfo",void 0),(0,i._)([(0,p.Cb)(o)],b.prototype,"feature",void 0),b=(0,i._)([(0,d.j)("esri.analysis.LineOfSightAnalysisTarget")],b);const v=b;var w=s(46791),E=s(70921),C=s(17445),A=s(44547),O=s(60437);function D(e,t){return function(e,t){return null!=t&&t.mode?t.mode:function(e){return e?x:I}(e).mode}(null!=e&&e.hasZ,t)}s(12541);const x={mode:"absolute-height",offset:0},I={mode:"on-the-ground",offset:null},j=w.Z.ofType(v);let M=class extends n.Z{constructor(e){super(e),this.type="line-of-sight",this.observer=null,this.extent=null}initialize(){this.addHandles((0,C.YP)((()=>this._computeExtent()),(e=>{null!=e&&null!=e.pending||this._set("extent",null!=e?e.extent:null)}),C.tX))}get targets(){return this._get("targets")||new j}set targets(e){this._set("targets",(0,E.Z)(e,this.targets,j))}get spatialReference(){return null!=this.observer&&null!=this.observer.position?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[(0,c.yw)(this.observer,(e=>e.position))]}async waitComputeExtent(){const e=this._computeExtent();return null!=e?e.pending:Promise.resolve()}_computeExtent(){const e=this.spatialReference;if(null==this.observer||null==this.observer.position||null==e)return null;const t=e=>"absolute-height"===D(e.position,e.elevationInfo),s=this.observer.position,i=(0,O.al)(s.x,s.y,s.z,s.x,s.y,s.z);for(const t of this.targets)if(null!=t.position){const s=(0,A.dz)(t.position,e);if(null!=s.pending)return{pending:s.pending,extent:null};if(null!=s.geometry){const{x:e,y:t,z:n}=s.geometry;(0,O.pp)(i,[e,t,n])}}const n=(0,O.HH)(i,e);return t(this.observer)&&this.targets.every(t)||(n.zmin=void 0,n.zmax=void 0),{pending:null,extent:n}}clear(){this.observer=null,this.targets.removeAll()}};(0,i._)([(0,p.Cb)({type:["line-of-sight"]})],M.prototype,"type",void 0),(0,i._)([(0,p.Cb)({type:_,json:{read:!0,write:!0}})],M.prototype,"observer",void 0),(0,i._)([(0,p.Cb)({cast:E.R,type:j,nonNullable:!0,json:{read:!0,write:!0}})],M.prototype,"targets",null),(0,i._)([(0,p.Cb)({value:null,readOnly:!0})],M.prototype,"extent",void 0),(0,i._)([(0,p.Cb)({readOnly:!0})],M.prototype,"spatialReference",null),(0,i._)([(0,p.Cb)({readOnly:!0})],M.prototype,"requiredPropertiesForEditing",null),M=(0,i._)([(0,d.j)("esri.analysis.LineOfSightAnalysis")],M);const R=M;var T=s(16453),N=s(87085),S=s(38009);const F=w.Z.ofType(v);let L=class extends((0,S.q)((0,T.R)(N.Z))){constructor(e){super(e),this.type="line-of-sight",this.operationalLayerType="LineOfSightLayer",this.analysis=new R,this.opacity=1}initialize(){this.addHandles((0,C.YP)((()=>this.analysis),((e,t)=>{null!=t&&t.parent===this&&(t.parent=null),null!=e&&(e.parent=this)}),C.tX))}async load(){return null!=this.analysis&&this.addResolvingPromise(this.analysis.waitComputeExtent()),this}get observer(){return(0,c.yw)(this.analysis,(e=>e.observer))}set observer(e){(0,c.yw)(this.analysis,(t=>t.observer=e))}get targets(){return null!=this.analysis?this.analysis.targets:new w.Z}set targets(e){(0,E.Z)(e,this.analysis?.targets)}get fullExtent(){return null!=this.analysis?this.analysis.extent:null}get spatialReference(){return null!=this.analysis?this.analysis.spatialReference:null}releaseAnalysis(e){this.analysis===e&&(this.analysis=new R)}};(0,i._)([(0,p.Cb)({json:{read:!1},readOnly:!0})],L.prototype,"type",void 0),(0,i._)([(0,p.Cb)({type:["LineOfSightLayer"]})],L.prototype,"operationalLayerType",void 0),(0,i._)([(0,p.Cb)({type:_,json:{read:!0,write:{isRequired:!0,ignoreOrigin:!0}}})],L.prototype,"observer",null),(0,i._)([(0,p.Cb)({type:F,json:{read:!0,write:{ignoreOrigin:!0}}})],L.prototype,"targets",null),(0,i._)([(0,p.Cb)({nonNullable:!0,json:{read:!1,write:!1}})],L.prototype,"analysis",void 0),(0,i._)([(0,p.Cb)({readOnly:!0})],L.prototype,"fullExtent",null),(0,i._)([(0,p.Cb)({readOnly:!0})],L.prototype,"spatialReference",null),(0,i._)([(0,p.Cb)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],L.prototype,"opacity",void 0),(0,i._)([(0,p.Cb)({type:["show","hide"]})],L.prototype,"listMode",void 0),L=(0,i._)([(0,d.j)("esri.layers.LineOfSightLayer")],L);const P=L},66094:(e,t,s)=>{s.d(t,{B:()=>n});var i=s(81271);function n(e){return r[function(e){return e instanceof Blob?e.type:function(e){const t=(0,i.Ml)(e);return a[t]||l}(e.url)}(e)]||o}const r={},l="text/plain",o=r[l],a={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const e in a)r[a[e]]=e}}]);