"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[7005],{67026:(t,n,a)=>{a.d(n,{A6:()=>M,Xd:()=>u,Xr:()=>d,hZ:()=>v,lw:()=>l,t2:()=>x,x8:()=>c});var e=a(29242),s=a(82534),r=a(51850),i=a(34304),o=a(38954),h=a(87317);function c(t,n,a){a*=.5;const e=Math.sin(a);return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=Math.cos(a),t}function u(t,n){const a=2*Math.acos(n[3]),e=Math.sin(a/2);return e>(0,i.FD)()?(t[0]=n[0]/e,t[1]=n[1]/e,t[2]=n[2]/e):(t[0]=1,t[1]=0,t[2]=0),a}function l(t,n,a){const e=n[0],s=n[1],r=n[2],i=n[3],o=a[0],h=a[1],c=a[2],u=a[3];return t[0]=e*u+i*o+s*c-r*h,t[1]=s*u+i*h+r*o-e*c,t[2]=r*u+i*c+e*h-s*o,t[3]=i*u-e*o-s*h-r*c,t}function f(t,n,a,e){const s=n[0],r=n[1],o=n[2],h=n[3];let c,u,l,f,d,_=a[0],M=a[1],m=a[2],v=a[3];return u=s*_+r*M+o*m+h*v,u<0&&(u=-u,_=-_,M=-M,m=-m,v=-v),1-u>(0,i.FD)()?(c=Math.acos(u),l=Math.sin(c),f=Math.sin((1-e)*c)/l,d=Math.sin(e*c)/l):(f=1-e,d=e),t[0]=f*s+d*_,t[1]=f*r+d*M,t[2]=f*o+d*m,t[3]=f*h+d*v,t}function d(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function _(t,n){const a=n[0]+n[4]+n[8];let e;if(a>0)e=Math.sqrt(a+1),t[3]=.5*e,e=.5/e,t[0]=(n[5]-n[7])*e,t[1]=(n[6]-n[2])*e,t[2]=(n[1]-n[3])*e;else{let a=0;n[4]>n[0]&&(a=1),n[8]>n[3*a+a]&&(a=2);const s=(a+1)%3,r=(a+2)%3;e=Math.sqrt(n[3*a+a]-n[3*s+s]-n[3*r+r]+1),t[a]=.5*e,e=.5/e,t[3]=(n[3*s+r]-n[3*r+s])*e,t[s]=(n[3*s+a]+n[3*a+s])*e,t[r]=(n[3*r+a]+n[3*a+r])*e}return t}function M(t,n,a,e){const s=.5*Math.PI/180;n*=s,a*=s,e*=s;const r=Math.sin(n),i=Math.cos(n),o=Math.sin(a),h=Math.cos(a),c=Math.sin(e),u=Math.cos(e);return t[0]=r*h*u-i*o*c,t[1]=i*o*u+r*h*c,t[2]=i*h*c-r*o*u,t[3]=i*h*u+r*o*c,t}const m=h.c,v=h.s,g=h.g,b=l,P=h.d,j=h.h,z=h.l,A=h.j,C=A,w=h.b,S=w,I=h.n,x=h.a,p=h.e,q=(0,r.vt)(),N=(0,r.fA)(1,0,0),E=(0,r.fA)(0,1,0),y=(0,s.vt)(),O=(0,s.vt)(),R=(0,e.vt)();Object.freeze(Object.defineProperty({__proto__:null,add:g,calculateW:function(t,n){const a=n[0],e=n[1],s=n[2];return t[0]=a,t[1]=e,t[2]=s,t[3]=Math.sqrt(Math.abs(1-a*a-e*e-s*s)),t},conjugate:d,copy:m,dot:j,equals:p,exactEquals:x,fromEuler:M,fromMat3:_,getAxisAngle:u,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},invert:function(t,n){const a=n[0],e=n[1],s=n[2],r=n[3],i=a*a+e*e+s*s+r*r,o=i?1/i:0;return t[0]=-a*o,t[1]=-e*o,t[2]=-s*o,t[3]=r*o,t},len:C,length:A,lerp:z,mul:b,multiply:l,normalize:I,random:function(t){const n=i.Ov,a=n(),e=n(),s=n(),r=Math.sqrt(1-a),o=Math.sqrt(a);return t[0]=r*Math.sin(2*Math.PI*e),t[1]=r*Math.cos(2*Math.PI*e),t[2]=o*Math.sin(2*Math.PI*s),t[3]=o*Math.cos(2*Math.PI*s),t},rotateX:function(t,n,a){a*=.5;const e=n[0],s=n[1],r=n[2],i=n[3],o=Math.sin(a),h=Math.cos(a);return t[0]=e*h+i*o,t[1]=s*h+r*o,t[2]=r*h-s*o,t[3]=i*h-e*o,t},rotateY:function(t,n,a){a*=.5;const e=n[0],s=n[1],r=n[2],i=n[3],o=Math.sin(a),h=Math.cos(a);return t[0]=e*h-r*o,t[1]=s*h+i*o,t[2]=r*h+e*o,t[3]=i*h-s*o,t},rotateZ:function(t,n,a){a*=.5;const e=n[0],s=n[1],r=n[2],i=n[3],o=Math.sin(a),h=Math.cos(a);return t[0]=e*h+s*o,t[1]=s*h-e*o,t[2]=r*h+i*o,t[3]=i*h-r*o,t},rotationTo:function(t,n,a){const e=(0,o.l)(n,a);return e<-.999999?((0,o.b)(q,N,n),(0,o.G)(q)<1e-6&&(0,o.b)(q,E,n),(0,o.n)(q,q),c(t,q,Math.PI),t):e>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,o.b)(q,n,a),t[0]=q[0],t[1]=q[1],t[2]=q[2],t[3]=1+e,I(t,t))},scale:P,set:v,setAxes:function(t,n,a,e){const s=R;return s[0]=a[0],s[3]=a[1],s[6]=a[2],s[1]=e[0],s[4]=e[1],s[7]=e[2],s[2]=-n[0],s[5]=-n[1],s[8]=-n[2],I(t,_(t,s))},setAxisAngle:c,slerp:f,sqlerp:function(t,n,a,e,s,r){return f(y,n,s,r),f(O,a,e,r),f(t,y,O,2*r*(1-r)),t},sqrLen:S,squaredLength:w,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}},Symbol.toStringTag,{value:"Module"}))},48353:(t,n,a)=>{a.d(n,{l:()=>c});var e=a(34727),s=a(58083),r=a(51850);function i(t,n,a){const e=Math.sin(t),s=Math.cos(t),r=Math.sin(n),i=Math.cos(n),o=a;return o[0]=-e,o[4]=-r*s,o[8]=i*s,o[12]=0,o[1]=s,o[5]=-r*e,o[9]=i*e,o[13]=0,o[2]=0,o[6]=i,o[10]=r,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1,o}var o=a(37539),h=a(21325);function c(t,n,a,e){if(null==t||null==e)return!1;const r=(0,o.Qk)(t,o.Wv),c=(0,o.Qk)(e,o.zp);if(r===c&&!u(c)&&(r!==o.rz.UNKNOWN||(0,h.aI)(t,e)))return(0,s.kN)(a,n),!0;if(u(c)){const t=o.w5[r][o.rz.LON_LAT],e=o.w5[o.rz.LON_LAT][c];return null!=t&&null!=e&&(t(n,0,f,0),e(f,0,d,0),i(l*f[0],l*f[1],a),a[12]=d[0],a[13]=d[1],a[14]=d[2],!0)}if(!(c!==o.rz.WEB_MERCATOR&&c!==o.rz.PLATE_CARREE&&c!==o.rz.WGS84&&c!==o.rz.CGCS2000||r!==o.rz.WGS84&&r!==o.rz.SPHERICAL_ECEF&&r!==o.rz.WEB_MERCATOR&&r!==o.rz.CGCS2000)){const t=o.w5[r][o.rz.LON_LAT],e=o.w5[o.rz.LON_LAT][c];return null!=t&&null!=e&&(t(n,0,f,0),e(f,0,d,0),r===o.rz.SPHERICAL_ECEF?function(t,n,a){i(t,n,a),(0,s.mg)(a,a)}(l*f[0],l*f[1],a):(0,s.D_)(a),a[12]=d[0],a[13]=d[1],a[14]=d[2],!0)}return!1}function u(t){return t===o.rz.SPHERICAL_ECEF||t===o.rz.SPHERICAL_MARS_PCPF||t===o.rz.SPHERICAL_MOON_PCPF}const l=(0,e.kU)(1),f=(0,r.vt)(),d=(0,r.vt)()},98764:(t,n,a)=>{a.d(n,{Y0:()=>c,lO:()=>u});var e=a(73941),s=a(16930),r=a(21325);const i=new s.A(e.fv),o=new s.A(e.FY),h=new s.A(e.LJ),c=new s.A(e.Ro);function u(t){const n=l.get(t);if(n)return n;let a=i;if(t)if(t===o)a=o;else if(t===h)a=h;else{const n=t.wkid,e=t.latestWkid;if(null!=n||null!=e)(0,r.tl)(n)||(0,r.tl)(e)?a=o:((0,r.ZL)(n)||(0,r.ZL)(e))&&(a=h);else{const n=t.wkt2??t.wkt;if(n){const t=n.toUpperCase();t===f?a=o:t===d&&(a=h)}}}return l.set(t,a),a}const l=new Map,f=o.wkt.toUpperCase(),d=h.wkt.toUpperCase()},57005:(t,n,a)=>{a.d(n,{ab:()=>Pt,gm:()=>qt});var e=a(77690),s=a(29242),r=a(9093),i=a(67026),o=a(82534),h=a(38954),c=a(51850),u=a(87317),l=a(91829),f=a(73941),d=a(98764),_=a(48353),M=a(9762),m=a(37539),v=a(240),g=a(21325),b=a(32114),P=a(24151),j=a(48163),z=a(46610);const A=1e-6,C=(0,c.vt)(),w=(0,c.vt)();function S(t,n,a,e,s,r,i,o,h,c){return function(t,n,a){let e=gt(t.maxVert[0],t.minVert[0]),s=0;for(let n=1;n<7;++n){const a=gt(t.maxVert[n],t.minVert[n]);a>e&&(e=a,s=n)}_t(n,t.minVert[s]),_t(a,t.maxVert[s])}(t,e,s),gt(e,s)<A?1:(ft(i,e,s),mt(i,i),function(t,n,a,e){const{data:s,size:r}=t;let i=Number.NEGATIVE_INFINITY,o=0;for(let t=0;t<s.length;t+=r){F[0]=s[t]-n[0],F[1]=s[t+1]-n[1],F[2]=s[t+2]-n[2];const e=a[0]*F[0]+a[1]*F[1]+a[2]*F[2],r=a[0]*a[0]+a[1]*a[1]+a[2]*a[2],h=F[0]*F[0]+F[1]*F[1]+F[2]*F[2]-e*e/r;h>i&&(i=h,o=t)}return _t(e,s,o),i}(n,e,i,r)<A?2:(ft(o,s,r),mt(o,o),ft(h,r,e),mt(h,h),Mt(a,o,i),mt(a,a),B(n,a,i,o,h,c),0))}const I=(0,c.vt)(),x=(0,c.vt)(),p=(0,c.vt)(),q=(0,c.vt)(),N=(0,c.vt)(),E=(0,c.vt)(),y=(0,c.vt)(),O=(0,c.vt)();function R(t,n,a,e,s,r,i,o,h){(function(t,n,a,e,s){!function(t,n,a,e,s){const{data:r,size:i}=t;_t(e,r),_t(s,e),a[0]=bt(G,n),a[1]=a[0];for(let t=i;t<r.length;t+=i){const i=r[t]*n[0]+r[t+1]*n[1]+r[t+2]*n[2];i<a[0]&&(a[0]=i,_t(e,r,t)),i>a[1]&&(a[1]=i,_t(s,r,t))}}(t,n,T,s,e);const r=bt(a,n);T[1]-A<=r&&(e[0]=void 0),T[0]+A>=r&&(s[0]=void 0)})(t,n,a,I,x),void 0!==I[0]&&(ft(p,I,a),mt(p,p),ft(q,I,e),mt(q,q),ft(N,I,s),mt(N,N),Mt(E,q,r),mt(E,E),Mt(y,N,i),mt(y,y),Mt(O,p,o),mt(O,O),B(t,E,r,q,p,h),B(t,y,i,N,q,h),B(t,O,o,p,N,h)),void 0!==x[0]&&(ft(p,x,a),mt(p,p),ft(q,x,e),mt(q,q),ft(N,x,s),mt(N,N),Mt(E,q,r),mt(E,E),Mt(y,N,i),mt(y,y),Mt(O,p,o),mt(O,O),B(t,E,r,q,p,h),B(t,y,i,N,q,h),B(t,O,o,p,N,h))}const F=[0,0,0],T=(0,j.vt)(),L=(0,c.vt)(),V=(0,c.vt)(),Q=(0,c.vt)(),k=(0,c.vt)(),H=(0,c.vt)(),W=(0,c.vt)();function B(t,n,a,e,s,r){if(vt(n)<A)return;Mt(L,a,n),Mt(V,e,n),Mt(Q,s,n),X(t,n,T),H[1]=T[0],k[1]=T[1],W[1]=k[1]-H[1];const i=[a,e,s],o=[L,V,Q];for(let a=0;a<3;++a){X(t,i[a],T),H[0]=T[0],k[0]=T[1],X(t,o[a],T),H[2]=T[0],k[2]=T[1],W[0]=k[0]-H[0],W[2]=k[2]-H[2];const e=ut(W);e<r.quality&&(_t(r.b0,i[a]),_t(r.b1,n),_t(r.b2,o[a]),r.quality=e)}}const G=(0,c.vt)();function X(t,n,a){const{data:e,size:s}=t;a[0]=Number.POSITIVE_INFINITY,a[1]=Number.NEGATIVE_INFINITY;for(let t=0;t<e.length;t+=s){const s=e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2];a[0]=Math.min(a[0],s),a[1]=Math.max(a[1],s)}}function Y(t,n,a){a.center=t,a.halfSize=(0,h.j)(n,n,.5),a.quaternion=o.zK}const Z=(0,c.vt)(),D=(0,c.vt)(),K=(0,c.vt)(),U=(0,c.vt)(),J=(0,c.vt)(),$=(0,c.vt)();function tt(t,n,a){_t(Z,n),Math.abs(n[0])>Math.abs(n[1])&&Math.abs(n[0])>Math.abs(n[2])?Z[0]=0:Math.abs(n[1])>Math.abs(n[2])?Z[1]=0:Z[2]=0,vt(Z)<A&&(Z[0]=Z[1]=Z[2]=1),Mt(D,n,Z),mt(D,D),Mt(K,n,D),mt(K,K),nt(t,n,D,K,U,J),ft($,J,U),ot(n,D,K,U,J,$,a)}function nt(t,n,a,e,s,r){X(t,n,T),s[0]=T[0],r[0]=T[1],X(t,a,T),s[1]=T[0],r[1]=T[1],X(t,e,T),s[2]=T[0],r[2]=T[1]}const at=(0,c.vt)(),et=(0,c.vt)(),st=(0,c.vt)(),rt=(0,s.fA)(1,0,0,0,1,0,0,0,1),it=(0,o.vt)();function ot(t,n,a,e,s,r,i){rt[0]=t[0],rt[1]=t[1],rt[2]=t[2],rt[3]=n[0],rt[4]=n[1],rt[5]=n[2],rt[6]=a[0],rt[7]=a[1],rt[8]=a[2],i.quaternion=function(t,n){const a=n[0]+n[4]+n[8];if(a>0){let e=Math.sqrt(a+1);t[3]=.5*e,e=.5/e,t[0]=(n[5]-n[7])*e,t[1]=(n[6]-n[2])*e,t[2]=(n[1]-n[3])*e}else{let a=0;n[4]>n[0]&&(a=1),n[8]>n[3*a+a]&&(a=2);const e=(a+1)%3,s=(a+2)%3;let r=Math.sqrt(n[3*a+a]-n[3*e+e]-n[3*s+s]+1);t[a]=.5*r,r=.5/r,t[3]=(n[3*e+s]-n[3*s+e])*r,t[e]=(n[3*e+a]+n[3*a+e])*r,t[s]=(n[3*s+a]+n[3*a+s])*r}return t}(it,rt),lt(at,e,s),dt(at,at,.5),dt(et,t,at[0]),dt(st,n,at[1]),lt(et,et,st),dt(st,a,at[2]),i.center=(0,h.g)(et,et,st),i.halfSize=(0,h.j)(at,r,.5)}class ht{constructor(t){this.minVert=new Array(7),this.maxVert=new Array(7),this.buffer=new ArrayBuffer(448);let n=0;this.minProj=new Float64Array(this.buffer,n,7),n+=56,this.maxProj=new Float64Array(this.buffer,n,7),n+=56;for(let t=0;t<7;++t)this.minVert[t]=new Float64Array(this.buffer,n,3),n+=24;for(let t=0;t<7;++t)this.maxVert[t]=new Float64Array(this.buffer,n,3),n+=24;for(let t=0;t<7;++t)this.minProj[t]=Number.POSITIVE_INFINITY,this.maxProj[t]=Number.NEGATIVE_INFINITY;const a=new Array(7),e=new Array(7),{data:s,size:r}=t;for(let t=0;t<s.length;t+=r){let n=s[t];n<this.minProj[0]&&(this.minProj[0]=n,a[0]=t),n>this.maxProj[0]&&(this.maxProj[0]=n,e[0]=t),n=s[t+1],n<this.minProj[1]&&(this.minProj[1]=n,a[1]=t),n>this.maxProj[1]&&(this.maxProj[1]=n,e[1]=t),n=s[t+2],n<this.minProj[2]&&(this.minProj[2]=n,a[2]=t),n>this.maxProj[2]&&(this.maxProj[2]=n,e[2]=t),n=s[t]+s[t+1]+s[t+2],n<this.minProj[3]&&(this.minProj[3]=n,a[3]=t),n>this.maxProj[3]&&(this.maxProj[3]=n,e[3]=t),n=s[t]+s[t+1]-s[t+2],n<this.minProj[4]&&(this.minProj[4]=n,a[4]=t),n>this.maxProj[4]&&(this.maxProj[4]=n,e[4]=t),n=s[t]-s[t+1]+s[t+2],n<this.minProj[5]&&(this.minProj[5]=n,a[5]=t),n>this.maxProj[5]&&(this.maxProj[5]=n,e[5]=t),n=s[t]-s[t+1]-s[t+2],n<this.minProj[6]&&(this.minProj[6]=n,a[6]=t),n>this.maxProj[6]&&(this.maxProj[6]=n,e[6]=t)}for(let t=0;t<7;++t){let n=a[t];_t(this.minVert[t],s,n),n=e[t],_t(this.maxVert[t],s,n)}}}class ct{constructor(){this.b0=(0,c.fA)(1,0,0),this.b1=(0,c.fA)(0,1,0),this.b2=(0,c.fA)(0,0,1),this.quality=0}}function ut(t){return t[0]*t[1]+t[0]*t[2]+t[1]*t[2]}function lt(t,n,a){t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2]}function ft(t,n,a){t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2]}function dt(t,n,a){t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a}function _t(t,n,a=0){t[0]=n[a],t[1]=n[a+1],t[2]=n[a+2]}function Mt(t,n,a){const e=n[0],s=n[1],r=n[2],i=a[0],o=a[1],h=a[2];t[0]=s*h-r*o,t[1]=r*i-e*h,t[2]=e*o-s*i}function mt(t,n){const a=n[0]*n[0]+n[1]*n[1]+n[2]*n[2];if(a>0){const e=1/Math.sqrt(a);t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e}}function vt(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function gt(t,n){const a=n[0]-t[0],e=n[1]-t[1],s=n[2]-t[2];return a*a+e*e+s*s}function bt(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}class Pt{constructor(t=c.uY,n=Bt,a=o.zK){this._data=[t[0],t[1],t[2],n[0],n[1],n[2],a[0],a[1],a[2],a[3]]}clone(){const t=new Pt;return t._data=this._data.slice(),t}invalidate(){this._data[3]=-1}get isValid(){return this._data[3]>=0}static fromData(t){const n=new Pt;return n._data=t.slice(),n}static fromJSON(t){return new Pt(t.center,t.halfSize,t.quaternion)}copy(t){this._data=t.data.slice()}get center(){return(0,h.a)(b.rq.get(),this._data[0],this._data[1],this._data[2])}get centerX(){return this._data[0]}get centerY(){return this._data[1]}get centerZ(){return this._data[2]}getCenter(t){return t[0]=this._data[0],t[1]=this._data[1],t[2]=this._data[2],t}set center(t){this._data[0]=t[0],this._data[1]=t[1],this._data[2]=t[2]}setCenter(t,n,a){this._data[0]=t,this._data[1]=n,this._data[2]=a}get halfSize(){return(0,h.a)(b.rq.get(),this._data[3],this._data[4],this._data[5])}get halfSizeX(){return this._data[3]}get halfSizeY(){return this._data[4]}get halfSizeZ(){return this._data[5]}getHalfSize(t){return t[0]=this._data[3],t[1]=this._data[4],t[2]=this._data[5],t}set halfSize(t){this._data[3]=t[0],this._data[4]=t[1],this._data[5]=t[2]}get quaternion(){return(0,i.hZ)(b.J8.get(),this._data[6],this._data[7],this._data[8],this._data[9])}getQuaternion(t){return t[0]=this._data[6],t[1]=this._data[7],t[2]=this._data[8],t[3]=this._data[9],t}set quaternion(t){this._data[6]=t[0],this._data[7]=t[1],this._data[8]=t[2],this._data[9]=t[3]}get data(){return this._data}getCorners(t){const n=jt,a=this._data;n[0]=a[6],n[1]=a[7],n[2]=a[8],n[3]=a[9];for(let e=0;e<8;++e){const s=t[e];s[0]=(1&e?-1:1)*a[3],s[1]=(2&e?-1:1)*a[4],s[2]=(4&e?-1:1)*a[5],(0,h.u)(s,s,n),s[0]+=a[0],s[1]+=a[1],s[2]+=a[2]}}doesIntersectFrustumConservativeApproximation(t){return this.intersectPlane(t[0])<=0&&this.intersectPlane(t[1])<=0&&this.intersectPlane(t[2])<=0&&this.intersectPlane(t[3])<=0&&this.intersectPlane(t[4])<=0&&this.intersectPlane(t[5])<=0}get radius(){const t=this._data[3],n=this._data[4],a=this._data[5];return Math.sqrt(t*t+n*n+a*a)}intersectSphere(t){Ct[0]=this._data[0]-t[0],Ct[1]=this._data[1]-t[1],Ct[2]=this._data[2]-t[2];const n=this.getQuaternion(zt);return(0,i.Xr)(jt,n),(0,h.u)(Ct,Ct,jt),(0,h.v)(Ct,Ct),wt[0]=Math.min(Ct[0],this._data[3]),wt[1]=Math.min(Ct[1],this._data[4]),wt[2]=Math.min(Ct[2],this._data[5]),(0,h.w)(wt,Ct)<t[3]*t[3]}intersectSphereWithMBS(t,n=this.radius){const a=this._data;Ct[0]=a[0]-t[0],Ct[1]=a[1]-t[1],Ct[2]=a[2]-t[2];const e=t[3],s=e+n;return!((0,h.x)(Ct)>s*s)&&(jt[0]=-a[6],jt[1]=-a[7],jt[2]=-a[8],jt[3]=a[9],(0,h.u)(Ct,Ct,jt),(0,h.v)(Ct,Ct),wt[0]=Math.min(Ct[0],a[3]),wt[1]=Math.min(Ct[1],a[4]),wt[2]=Math.min(Ct[2],a[5]),(0,h.w)(wt,Ct)<e*e)}intersectPlane(t){const n=t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3],a=this.projectedRadius((0,v.Qj)(t));return n>a?1:n<-a?-1:0}intersectRay(t,n,a=0){const e=this._data,s=jt;s[0]=-e[6],s[1]=-e[7],s[2]=-e[8],s[3]=e[9],Ct[0]=t[0]-e[0],Ct[1]=t[1]-e[1],Ct[2]=t[2]-e[2];const r=(0,h.u)(Ct,Ct,jt),i=(0,h.u)(wt,n,jt);let o=-1/0,c=1/0;const u=this.getHalfSize(Tt);for(let t=0;t<3;t++){const n=r[t],e=i[t],s=u[t]+a;if(Math.abs(e)>1e-6){const t=(s-n)/e,a=(-s-n)/e;o=Math.max(o,Math.min(t,a)),c=Math.min(c,Math.max(t,a))}else if(n>s||n<-s)return!1}return o<=c}projectedArea(t,n,a,s){const r=this.getQuaternion(zt);(0,i.Xr)(jt,r),Ct[0]=t[0]-this._data[0],Ct[1]=t[1]-this._data[1],Ct[2]=t[2]-this._data[2],(0,h.u)(Ct,Ct,jt);const o=this.getHalfSize(Tt),c=Ct[0]<-o[0]?-1:Ct[0]>o[0]?1:0,l=Ct[1]<-o[1]?-1:Ct[1]>o[1]?1:0,f=Ct[2]<-o[2]?-1:Ct[2]>o[2]?1:0,d=Math.abs(c)+Math.abs(l)+Math.abs(f);if(0===d)return 1/0;const _=1===d?4:6,M=6*(c+3*l+9*f+13);(0,e.I0)(Lt,r),(0,e.hs)(Lt,Lt,o);const m=this.getCenter(Rt);for(let t=0;t<_;t++){const a=pt[M+t];(0,h.a)(Ct,((1&a)<<1)-1,(2&a)-1,((4&a)>>1)-1),(0,h.t)(Ct,Ct,Lt),(0,h.g)(St,m,Ct),St[3]=1,(0,u.t)(St,St,n);const e=1/Math.max(1e-6,St[3]);xt[2*t]=St[0]*e,xt[2*t+1]=St[1]*e}const v=2*_-2;let g=xt[0]*(xt[3]-xt[v+1])+xt[v]*(xt[1]-xt[v-1]);for(let t=2;t<v;t+=2)g+=xt[t]*(xt[t+3]-xt[t-1]);return Math.abs(g)*a*s*.125}projectedRadius(t){const n=this.getQuaternion(zt);return(0,i.Xr)(jt,n),(0,h.u)(Ct,t,jt),Math.abs(Ct[0]*this._data[3])+Math.abs(Ct[1]*this._data[4])+Math.abs(Ct[2]*this._data[5])}minimumDistancePlane(t){return t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3]-this.projectedRadius((0,v.Qj)(t))}maximumDistancePlane(t){return t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3]+this.projectedRadius((0,v.Qj)(t))}toAaBoundingBox(t){const n=this.getQuaternion(zt),a=(0,e.I0)(Lt,n),s=this._data[3]*Math.abs(a[0])+this._data[4]*Math.abs(a[3])+this._data[5]*Math.abs(a[6]),r=this._data[3]*Math.abs(a[1])+this._data[4]*Math.abs(a[4])+this._data[5]*Math.abs(a[7]),i=this._data[3]*Math.abs(a[2])+this._data[4]*Math.abs(a[5])+this._data[5]*Math.abs(a[8]);t[0]=this._data[0]-s,t[1]=this._data[1]-r,t[2]=this._data[2]-i,t[3]=this._data[0]+s,t[4]=this._data[1]+r,t[5]=this._data[2]+i}transform(t,n,a,e=0,s=(0,d.lO)(a),r=(0,d.lO)(n),o=(0,m.jd)(n,r)){if(a===s)n.isGeographic?function(t,n,a,e,s=(0,d.lO)(a)){const r=(0,f.tO)(a),o=1+Math.max(0,e)/(r.radius+t.centerZ);t.getCenter(Ot),Ot[2]+=e,(0,M.projectBuffer)(Ot,a,0,Ot,s,0,1),n.center=Ot;const c=t.getQuaternion(zt);n.quaternion=c,(0,i.Xr)(jt,c),(0,h.a)(kt,0,0,1),(0,h.u)(kt,kt,jt);const u=t.getHalfSize(Tt);(0,h.a)(kt,u[0]*Math.abs(kt[0]),u[1]*Math.abs(kt[1]),u[2]*Math.abs(kt[2])),(0,h.j)(kt,kt,r.inverseFlattening),(0,h.g)(kt,u,kt),n.halfSize=(0,h.j)(kt,kt,o)}(this,t,n,e,r):function(t,n,a,e,s=(0,d.lO)(a),r=(0,m.jd)(a,s)){t.getCorners(Qt),t.getCenter(Ot),Ot[2]+=e,(0,_.l)(a,Ot,Vt,s),n.setCenter(Vt[12],Vt[13],Vt[14]);const o=2*Math.sqrt(1+Vt[0]+Vt[5]+Vt[10]);jt[0]=(Vt[6]-Vt[9])/o,jt[1]=(Vt[8]-Vt[2])/o,jt[2]=(Vt[1]-Vt[4])/o,jt[3]=.25*o;const c=t.getQuaternion(zt);n.quaternion=(0,i.lw)(jt,jt,c),(0,i.Xr)(jt,jt),(0,h.a)(Ht,0,0,0);const u=n.getCenter(Ft);for(const t of Qt)t[2]+=e,r(t,0,t,0),(0,h.z)(kt,t,u),(0,h.u)(kt,kt,jt),(0,h.v)(kt,kt),(0,h.C)(Ht,Ht,kt);n.halfSize=Ht}(this,t,n,e,r,o);else if(n.isWGS84&&(a.isWebMercator||(0,g.r1)(a)))!function(t,n,a,e,s){n.getCenter(Rt),Rt[2]+=s;const r=(0,d.lO)(a);(0,M.projectBuffer)(Rt,t,0,Rt,r,0,1),Nt(r,n,Rt,a,e)}(n,this,a,t,e);else if(n.isWebMercator&&(0,g.r1)(a))!function(t,n,a,e,s){n.getCenter(Rt),Rt[2]+=s,Nt(t,n,Rt,a,e)}(n,this,a,t,e);else{const s=this.getCenter(Rt);s[2]+=e,(0,M.projectBuffer)(s,n,0,s,a,0,1),t.center=s,this!==t&&(t.quaternion=this.getQuaternion(zt),t.halfSize=this.getHalfSize(Tt))}}}const jt=(0,o.vt)(),zt=(0,o.vt)(),At=(0,o.vt)(),Ct=(0,c.vt)(),wt=(0,c.vt)(),St=(0,l.vt)();function It(t,n=new Pt){return function(t,n){const{data:a,size:e}=t,s=a.length/e;if(s<=0)return;const r=new ht(t);lt(C,r.minProj,r.maxProj),dt(C,C,.5),ft(w,r.maxProj,r.minProj);const i=ut(w),o=new ct;o.quality=i,s<14&&(t=new z.K(new Float64Array(r.buffer,112,42),3));const h=(0,c.vt)(),u=(0,c.vt)(),l=(0,c.vt)(),f=(0,c.vt)(),d=(0,c.vt)(),_=(0,c.vt)(),M=(0,c.vt)();switch(S(r,t,M,h,u,l,f,d,_,o)){case 1:return void Y(C,w,n);case 2:return void tt(t,f,n)}R(t,M,h,u,l,f,d,_,o),nt(t,o.b0,o.b1,o.b2,U,J);const m=(0,c.vt)();ft(m,J,U),o.quality=ut(m),o.quality<i?ot(o.b0,o.b1,o.b2,U,J,m,n):Y(C,w,n)}(t,n),n}const xt=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2],pt=(()=>{const t=new Int8Array(162);let n=0;const a=a=>{for(let e=0;e<a.length;e++)t[n+e]=a[e];n+=6};return a([6,2,3,1,5,4]),a([0,2,3,1,5,4]),a([0,2,3,7,5,4]),a([0,1,3,2,6,4]),a([0,1,3,2,0,0]),a([0,1,5,7,3,2]),a([0,1,3,7,6,4]),a([0,1,3,7,6,2]),a([0,1,5,7,6,2]),a([0,1,5,4,6,2]),a([0,1,5,4,0,0]),a([0,1,3,7,5,4]),a([0,2,6,4,0,0]),a([0,0,0,0,0,0]),a([1,3,7,5,0,0]),a([2,3,7,6,4,0]),a([2,3,7,6,0,0]),a([2,3,1,5,7,6]),a([0,1,5,7,6,2]),a([0,1,5,7,6,4]),a([0,1,3,7,6,4]),a([4,5,7,6,2,0]),a([4,5,7,6,0,0]),a([4,5,1,3,7,6]),a([0,2,3,7,5,4]),a([6,2,3,7,5,4]),a([6,2,3,1,5,4]),t})();function qt(t,n,a,e,s){const r=t.getQuaternion(zt);s.quaternion=r,(0,i.Xr)(jt,r);const o=t.getCenter(Rt),u=t.getHalfSize(Tt);if(e===P.RT.Global){(0,h.u)(kt,o,jt),(0,h.v)(Ht,kt),(0,h.y)(Wt,Ht,u),(0,h.z)(Wt,Ht,Wt);const e=(0,h.m)(Wt);(0,h.g)(Wt,Ht,u);const r=(0,h.m)(Wt);if(e<a)s.center=o,(0,h.a)(kt,a,a,a),s.halfSize=(0,h.g)(kt,u,kt);else{const i=r>0?1+n/r:1,o=e>0?1+a/e:1,c=(o+i)/2,l=(o-i)/2;(0,h.j)(Wt,Ht,l),s.halfSize=(0,h.r)(Wt,Wt,u,c),(0,h.j)(Wt,Ht,c),(0,h.r)(Wt,Wt,u,l),(0,h.A)(kt,kt),(0,h.B)(kt,Wt,kt);const f=t.getQuaternion(At);s.center=(0,h.u)(kt,kt,f)}}else{s.center=(0,h.r)(kt,o,c.Cb,(a+n)/2);const t=(0,h.u)(kt,c.Cb,jt);(0,h.v)(t,t),s.halfSize=(0,h.r)(Ht,u,t,(a-n)/2)}return s}function Nt(t,n,a,s,r){const i=n.getQuaternion(zt),o=(0,e.I0)(Lt,i),h=n.getHalfSize(Tt);for(let t=0;t<8;++t){for(let n=0;n<3;++n)Ot[n]=h[n]*(t&1<<n?-1:1);for(let n=0;n<3;++n){let e=a[n];for(let t=0;t<3;++t)e+=Ot[t]*o[3*t+n];Et[3*t+n]=e}}(0,M.projectBuffer)(Et,t,0,Et,s,0,8),It(yt,r)}const Et=new Array(24),yt=new z.K(Et,3),Ot=(0,c.vt)(),Rt=(0,c.vt)(),Ft=(0,c.vt)(),Tt=(0,c.vt)(),Lt=(0,s.vt)(),Vt=(0,r.vt)(),Qt=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],kt=(0,c.vt)(),Ht=(0,c.vt)(),Wt=(0,c.vt)(),Bt=(0,c.CN)(-1,-1,-1)}}]);