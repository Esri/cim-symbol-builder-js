"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[1231,5935],{50957:(t,e,r)=>{r.d(e,{C9:()=>O,Ci:()=>Z,FV:()=>F,Fr:()=>f,JD:()=>m,JY:()=>x,Jj:()=>g,KE:()=>P,Ob:()=>V,SU:()=>j,VG:()=>I,Y5:()=>b,gG:()=>q,kZ:()=>R,kp:()=>S,nU:()=>E,rP:()=>_,rk:()=>A,sX:()=>G,tD:()=>C,uj:()=>v});var i=r(40330),o=r(9790),n=r(20102),s=r(35454),a=r(42033),u=r(63213),c=r(84230),l=r(84382),d=r(81571),p=r(56545),y=r(14165),h=r(75935);const f=new s.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function m(t,e,r,i){const o=await M(t);if(await w(t,e,i),!o.addAttachment)throw new n.Z(i,"Layer source does not support addAttachment capability");return o.addAttachment(e,r)}function w(t,e,r){const{attributes:i}=e,{objectIdField:o}=t;return t.get("capabilities.data.supportsAttachment")?e?i?o&&i[o]?Promise.resolve():Promise.reject(new n.Z(r,`feature is missing the identifying attribute ${o}`)):Promise.reject(new n.Z(r,"'attributes' are required on a feature to query attachments")):Promise.reject(new n.Z(r,"A feature is required to add/delete/update attachments")):Promise.reject(new n.Z(r,"this layer doesn't support attachments"))}async function b(t,e,r,i,o){const s=await M(t);if(await w(t,e,o),!s.updateAttachment)throw new n.Z(o,"Layer source does not support updateAttachment capability");return s.updateAttachment(e,r,i)}async function g(t,e,i){const{applyEdits:o}=await r.e(4720).then(r.bind(r,14720)),n=await t.load();return o(n,n.source,e,i)}async function v(t,e,i){const{uploadAssets:o}=await r.e(4720).then(r.bind(r,14720)),n=await t.load();return o(n,n.source,e,i)}async function F(t,e,r,i){const o=await M(t);if(await w(t,e,i),!o.deleteAttachments)throw new n.Z(i,"Layer source does not support deleteAttachments capability");return o.deleteAttachments(e,r)}async function Z(t,e,r){const i=(await t.load({signal:e?.signal})).source;if(!i.fetchRecomputedExtents)throw new n.Z(r,"Layer source does not support fetchUpdates capability");return i.fetchRecomputedExtents(e)}async function j(t,e,r,i){e=p.Z.from(e),await t.load();const o=t.source,s=t.capabilities;if(!s?.data?.supportsAttachment)throw new n.Z(i,"this layer doesn't support attachments");const{attachmentTypes:a,objectIds:u,globalIds:c,num:l,size:d,start:y,where:h}=e;if(!s?.operations?.supportsQueryAttachments&&(a?.length>0||c?.length>0||d?.length>0||l||y||h))throw new n.Z(i,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",e);if(!(u?.length||c?.length||h))throw new n.Z(i,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",e);if(!o.queryAttachments)throw new n.Z(i,"Layer source does not support queryAttachments capability",e);return o.queryAttachments(e)}async function C(t,e,r,i){const o=await M(t);if(!o.queryObjectIds)throw new n.Z(i,"Layer source does not support queryObjectIds capability");return o.queryObjectIds(y.Z.from(e)??t.createQuery(),r)}async function I(t,e,r,i){const o=await M(t);if(!o.queryFeatureCount)throw new n.Z(i,"Layer source does not support queryFeatureCount capability");return o.queryFeatureCount(y.Z.from(e)??t.createQuery(),r)}async function P(t,e,r,i){const o=await M(t);if(!o.queryExtent)throw new n.Z(i,"Layer source does not support queryExtent capability");return o.queryExtent(y.Z.from(e)??t.createQuery(),r)}async function S(t,e,r,i){const o=await M(t);if(!o.queryRelatedFeatures)throw new n.Z(i,"Layer source does not support queryRelatedFeatures capability");return o.queryRelatedFeatures(h.default.from(e),r)}async function O(t,e,r,i){const o=await M(t);if(!o.queryRelatedFeaturesCount)throw new n.Z(i,"Layer source does not support queryRelatedFeaturesCount capability");return o.queryRelatedFeaturesCount(h.default.from(e),r)}async function q(t){const e=t.source;if(e?.refresh)try{const{dataChanged:r,updates:i}=await e.refresh();if(null!=i&&(t.sourceJSON={...t.sourceJSON,...i},t.read(i,{origin:"service",url:t.parsedUrl})),r)return!0}catch{}if(t.definitionExpression)try{return(await(0,a.E)(t.definitionExpression,t.fieldsIndex)).hasDateFunctions}catch{}return!1}function _(t){const e=new y.Z,r=t.get("capabilities.data"),i=t.get("capabilities.query");e.historicMoment=t.historicMoment,e.gdbVersion=t.gdbVersion,e.returnGeometry=!0,i&&(e.compactGeometryEnabled=i.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=i.supportsDefaultSpatialReference),r&&(r.supportsZ&&null!=t.returnZ&&(e.returnZ=t.returnZ),r.supportsM&&null!=t.returnM&&(e.returnM=t.returnM)),e.outFields=["*"];const{timeOffset:o,timeExtent:n}=t;return e.timeExtent=null!=o&&null!=n?n.offset(-o.value,o.unit):n||null,e.multipatchOption="multipatch"===t.geometryType?"xyFootprint":null,e}function A(t){const{globalIdField:e,fields:r}=t;if(e)return e;if(r)for(const t of r)if("esriFieldTypeGlobalID"===t.type)return t.name}function R(t){const{objectIdField:e,fields:r}=t;if(e)return e;if(r)for(const t of r)if("esriFieldTypeOID"===t.type)return t.name}function x(t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}async function M(t){return(await t.load()).source}async function E(t,e){const r=t.parsedUrl?.path;r&&function(t){const e=t.editFieldsInfo;return!(!e?.creatorField&&!e?.editorField)||(t.userHasUpdateItemPrivileges?t.hasUpdateItemRestrictions:!!t.userHasFullEditingPrivileges&&t.hasFullEditingRestrictions)}(t)&&await async function(t,e){if(!i.id)return;if(i.id.findCredential(t))return;let r;try{const o=await(0,c.oP)(t,e);o&&(r=await i.id.checkSignInStatus(`${o}/sharing`))}catch(t){}if(r)try{const r=null!=e?e.signal:null;await i.id.getCredential(t,{signal:r})}catch(t){}}(r,e)}function G(t){return!t.sourceJSON?.isMultiServicesView&&(t.userHasUpdateItemPrivileges||t.editingEnabled)}const D=(0,u.d)({types:o.QT});function V(t,e){if(t.defaultSymbol)return t.types&&t.types.length?new d.Z({defaultSymbol:D(t.defaultSymbol,t,e),field:t.typeIdField,uniqueValueInfos:t.types.map((t=>({id:t.id,symbol:D(t.symbol,t,e)})))}):new l.Z({symbol:D(t.defaultSymbol,t,e)})}},53518:(t,e,r)=>{r.d(e,{v:()=>a});var i=r(92604),o=r(1231),n=r(99514),s=r(35671);function a(){return{fields:{type:[o.Z],value:null},fieldsIndex:{readOnly:!0,get(){return new n.Z(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(t){this._userOutFields=t,this.notifyChange("outFields")},get:function(){const t=this._userOutFields;if(!t||!t.length)return null;if(t.includes("*"))return["*"];if(!this.fields)return t;for(const e of t){const r=this.fieldsIndex?.has(e);r||i.Z.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${e} found in outFields`,{layer:this,outFields:t})}return(0,s.Q0)(this.fieldsIndex,t)}}}}},75935:(t,e,r)=>{r.r(e),r.d(e,{default:()=>h});var i,o=r(43697),n=(r(66577),r(96674)),s=r(22974),a=r(5600),u=r(75215),c=r(52011),l=r(30556),d=r(10158),p=r(82971);let y=i=class extends n.wq{constructor(t){super(t),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(t,e){e.historicMoment=t&&t.getTime()}writeStart(t,e){e.resultOffset=this.start,e.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(e.definitionExpression="1=1")}clone(){return new i((0,s.d9)({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,o._)([(0,a.Cb)({type:Boolean,json:{write:!0}})],y.prototype,"cacheHint",void 0),(0,o._)([(0,a.Cb)({type:d.n,json:{write:!0}})],y.prototype,"dynamicDataSource",void 0),(0,o._)([(0,a.Cb)({type:String,json:{write:!0}})],y.prototype,"gdbVersion",void 0),(0,o._)([(0,a.Cb)({type:Number,json:{write:!0}})],y.prototype,"geometryPrecision",void 0),(0,o._)([(0,a.Cb)({type:Date})],y.prototype,"historicMoment",void 0),(0,o._)([(0,l.c)("historicMoment")],y.prototype,"_writeHistoricMoment",null),(0,o._)([(0,a.Cb)({type:Number,json:{write:!0}})],y.prototype,"maxAllowableOffset",void 0),(0,o._)([(0,a.Cb)({type:[Number],json:{write:!0}})],y.prototype,"objectIds",void 0),(0,o._)([(0,a.Cb)({type:[String],json:{write:!0}})],y.prototype,"orderByFields",void 0),(0,o._)([(0,a.Cb)({type:[String],json:{write:!0}})],y.prototype,"outFields",void 0),(0,o._)([(0,a.Cb)({type:p.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],y.prototype,"outSpatialReference",void 0),(0,o._)([(0,a.Cb)({json:{write:!0}})],y.prototype,"relationshipId",void 0),(0,o._)([(0,a.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],y.prototype,"start",void 0),(0,o._)([(0,l.c)("start"),(0,l.c)("num")],y.prototype,"writeStart",null),(0,o._)([(0,a.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],y.prototype,"num",void 0),(0,o._)([(0,a.Cb)({json:{write:!0}})],y.prototype,"returnGeometry",void 0),(0,o._)([(0,a.Cb)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],y.prototype,"returnM",void 0),(0,o._)([(0,a.Cb)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],y.prototype,"returnZ",void 0),(0,o._)([(0,a.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],y.prototype,"where",void 0),y=i=(0,o._)([(0,c.j)("esri.rest.support.RelationshipQuery")],y),y.from=(0,u.se)(y);const h=y}}]);