"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[2921],{4071:(e,t,r)=>{r.d(t,{$:()=>s,P:()=>o});const s={supportsDate:!1,supportsFixedInterval:!1,supportsAutoInterval:!1,supportsFixedBoundaries:!1,supportsStackBy:!1,supportsSplitBy:!1,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!1,supportedStatistics:void 0,supportedNormalizationTypes:void 0},o={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsOrderByFields:!1,supportsResize:!1},data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsAsyncApplyEdits:!1,zDefault:void 0},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryBins:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:s,query:{maxRecordCount:0,maxRecordCountFactor:0,maxUniqueIDCount:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCompactGeometry:!1,supportsCurrentUser:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsReturnMesh:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsTrueCurve:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}}},24212:(e,t,r)=>{function s(e,t){return function(e,t){return t?.mode?t.mode:function(e){return e?p:u}(e).mode}(null==e||(e.hasZ??!1),t)}function o(e,t,r){return r&&r.mode!==t?`${e} only support ${t} elevation mode`:null}function n(e,t,r){return r?.mode===t?`${e} do not support ${t} elevation mode`:null}function i(e,t){return null!=t?.featureExpressionInfo&&"0"!==t.featureExpressionInfo.expression?`${e} do not support featureExpressionInfo`:null}function a(e,t){t&&e.warn(".elevationInfo=",t)}r.d(t,{$7:()=>n,B:()=>o,XF:()=>a,tW:()=>i,w7:()=>s}),r(83047),r(16271);const p={mode:"absolute-height",offset:0},u={mode:"on-the-ground",offset:null}},32730:(e,t,r)=>{r.d(t,{BI:()=>f,D3:()=>y,XJ:()=>h,lc:()=>m,mX:()=>g,rU:()=>_,tH:()=>w});var s=r(799);const o="__begin__",n="__end__",i=new RegExp(o,"ig"),a=new RegExp(n,"ig"),p=new RegExp("^"+o,"i"),u=new RegExp(n+"$","i"),l='"',c=l+" + ",d=" + "+l;function m(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function y(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function h(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=m(e.labelExpression),t.type="conventional"),t}function f(e){const t=h(e);switch(t.type){case"conventional":return g(t.expression);case"arcade":return t.expression}return null}function _(e){const t=h(e);switch(t.type){case"conventional":return function(e){const t=e?.match(v);return t?.[1].trim()||null}(t.expression);case"arcade":return w(t.expression)}return null}function g(e){let t;return e?(t=(0,s.HC)(e,(e=>o+'$feature["'+e+'"]'+n)),t=p.test(t)?t.replace(p,""):l+t,t=u.test(t)?t.replace(u,""):t+l,t=t.replaceAll(i,c).replaceAll(a,d)):t='""',t}const v=/^\s*\{([^}]+)\}\s*$/i,x=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,b=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,T=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function w(e){if(!e)return null;let t=x.exec(e)||b.exec(e);return t?t[1]||t[3]:(t=T.exec(e),t?t[2]:null)}},39516:(e,t,r)=>{let s;async function o(){return null==s&&(s=r.e(4123).then(r.bind(r,44123)).then((e=>new e.WhereClauseCache(500,500)))),s}async function n(e,t){const r=await o(),s=r.get(e,t);if(null==s)throw r.getError(e,t);return s}function i(e,t){return e||=null,t||=null,"1=1"===e?t??e:"1=1"===t?e??t:e&&t?`(${e}) AND (${t})`:e??t}function a(e,t){return e||=null,t||=null,"1=1"===e||"1=1"===t||e===t?"1=1"===e?e:t:e&&t?`(${e}) OR (${t})`:e??t}r.d(t,{GP:()=>n,IW:()=>a,mA:()=>i})},41366:(e,t,r)=>{r.d(t,{K:()=>d,Q:()=>u});var s=r(90237),o=r(66552),n=r(53966),i=r(10107),a=(r(44208),r(87811),r(93223)),p=r(40608);const u=(0,o.O)()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),l="percent-of-total",c="field",d=e=>{let t=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=null!=this.normalizationTotal;return t||r?(e=t&&c||r&&l||null,t&&r&&n.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==c&&e!==l||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}};return(0,s._)([(0,i.MZ)({type:String,json:{name:"parameters.normalizationField",write:!0}})],t.prototype,"normalizationField",void 0),(0,s._)([(0,i.MZ)({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],t.prototype,"normalizationMaxValue",void 0),(0,s._)([(0,i.MZ)({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],t.prototype,"normalizationMinValue",void 0),(0,s._)([(0,i.MZ)({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],t.prototype,"normalizationTotal",void 0),(0,s._)([(0,a.e)(u,{name:"parameters.normalizationType"})],t.prototype,"normalizationType",null),t=(0,s._)([(0,p.$)("esri.rest.support.NormalizationBinParametersMixin")],t),t}},45671:(e,t,r)=>{r.d(t,{D8:()=>n,TO:()=>o});var s=r(30524);async function o(e,t=e.popupTemplate){if(null==t)return[];const r=await t.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:o}=t,{objectIdField:n,typeIdField:i,globalIdField:a,relationships:p}=e;if(r.includes("*"))return["*"];const u=o?(0,s.eX)(e):[],l=(0,s.DB)(e.fieldsIndex,[...r,...u]);return i&&l.push(i),l&&n&&e.fieldsIndex?.has(n)&&!l.includes(n)&&l.push(n),l&&a&&e.fieldsIndex?.has(a)&&!l.includes(a)&&l.push(a),p&&p.forEach((t=>{const{keyField:r}=t;l&&r&&e.fieldsIndex?.has(r)&&!l.includes(r)&&l.push(r)})),l}function n(e,t){return e.popupTemplate?e.popupTemplate:null!=t&&t.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}},46140:(e,t,r)=>{r.d(t,{R:()=>o});var s=r(49186);let o=class e{constructor(e,t,r=""){this.major=e,this.minor=t,this._context=r}lessThan(e,t){return this.major<e||e===this.major&&this.minor<t}greaterEqual(e,t){return!this.lessThan(e,t)}validate(e){if(this.major!==e.major){const t=this._context&&this._context+":",r=this._context&&this._context+" ";throw new s.A(t+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new e(this.major,this.minor,this._context)}static parse(t,r=""){const[o,n]=t.split("."),i=/^\s*\d+\s*$/;if(!o?.match||!i.test(o))throw new s.A((r&&r+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!n?.match||!i.test(n))throw new s.A((r&&r+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const a=parseInt(o,10),p=parseInt(n,10);return new e(a,p,r)}}},50805:(e,t,r)=>{r.d(t,{L0:()=>_,Ot:()=>m,W4:()=>p,uV:()=>c});var s=r(90237),o=r(25482),n=r(10107),i=(r(44208),r(53966),r(87811),r(93223)),a=r(40608);let p=class extends o.A{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,s._)([(0,n.MZ)({type:Number})],p.prototype,"nodesPerPage",void 0),(0,s._)([(0,n.MZ)({type:Number})],p.prototype,"rootIndex",void 0),(0,s._)([(0,n.MZ)({type:String})],p.prototype,"lodSelectionMetricType",void 0),p=(0,s._)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3SNodePageDefinition")],p);let u=class extends o.A{constructor(){super(...arguments),this.factor=1}};(0,s._)([(0,n.MZ)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],u.prototype,"id",void 0),(0,s._)([(0,n.MZ)({type:Number})],u.prototype,"factor",void 0),u=(0,s._)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialTexture")],u);let l=class extends o.A{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,s._)([(0,n.MZ)({type:[Number]})],l.prototype,"baseColorFactor",void 0),(0,s._)([(0,n.MZ)({type:u})],l.prototype,"baseColorTexture",void 0),(0,s._)([(0,n.MZ)({type:u})],l.prototype,"metallicRoughnessTexture",void 0),(0,s._)([(0,n.MZ)({type:Number})],l.prototype,"metallicFactor",void 0),(0,s._)([(0,n.MZ)({type:Number})],l.prototype,"roughnessFactor",void 0),l=(0,s._)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialPBRMetallicRoughness")],l);let c=class extends o.A{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,s._)([(0,i.e)({opaque:"opaque",mask:"mask",blend:"blend"})],c.prototype,"alphaMode",void 0),(0,s._)([(0,n.MZ)({type:Number})],c.prototype,"alphaCutoff",void 0),(0,s._)([(0,n.MZ)({type:Boolean})],c.prototype,"doubleSided",void 0),(0,s._)([(0,i.e)({none:"none",back:"back",front:"front"})],c.prototype,"cullFace",void 0),(0,s._)([(0,n.MZ)({type:u})],c.prototype,"normalTexture",void 0),(0,s._)([(0,n.MZ)({type:u})],c.prototype,"occlusionTexture",void 0),(0,s._)([(0,n.MZ)({type:u})],c.prototype,"emissiveTexture",void 0),(0,s._)([(0,n.MZ)({type:[Number]})],c.prototype,"emissiveFactor",void 0),(0,s._)([(0,n.MZ)({type:l})],c.prototype,"pbrMetallicRoughness",void 0),c=(0,s._)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialDefinition")],c);let d=class extends o.A{};(0,s._)([(0,n.MZ)({type:String,json:{read:{source:["name","index"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],d.prototype,"name",void 0),(0,s._)([(0,i.e)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],d.prototype,"format",void 0),d=(0,s._)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3STextureFormat")],d);let m=class extends o.A{constructor(){super(...arguments),this.atlas=!1}};(0,s._)([(0,n.MZ)({type:[d]})],m.prototype,"formats",void 0),(0,s._)([(0,n.MZ)({type:Boolean})],m.prototype,"atlas",void 0),m=(0,s._)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3STextureSetDefinition")],m);let y=class extends o.A{};(0,s._)([(0,i.e)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],y.prototype,"type",void 0),(0,s._)([(0,n.MZ)({type:Number})],y.prototype,"component",void 0),y=(0,s._)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryAttribute")],y);let h=class extends o.A{};(0,s._)([(0,i.e)({draco:"draco"})],h.prototype,"encoding",void 0),(0,s._)([(0,n.MZ)({type:[String]})],h.prototype,"attributes",void 0),h=(0,s._)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryCompressedAttributes")],h);let f=class extends o.A{constructor(){super(...arguments),this.offset=0}};(0,s._)([(0,n.MZ)({type:Number})],f.prototype,"offset",void 0),(0,s._)([(0,n.MZ)({type:y})],f.prototype,"position",void 0),(0,s._)([(0,n.MZ)({type:y})],f.prototype,"normal",void 0),(0,s._)([(0,n.MZ)({type:y})],f.prototype,"uv0",void 0),(0,s._)([(0,n.MZ)({type:y})],f.prototype,"color",void 0),(0,s._)([(0,n.MZ)({type:y})],f.prototype,"uvRegion",void 0),(0,s._)([(0,n.MZ)({type:y})],f.prototype,"featureId",void 0),(0,s._)([(0,n.MZ)({type:y})],f.prototype,"faceRange",void 0),(0,s._)([(0,n.MZ)({type:h})],f.prototype,"compressedAttributes",void 0),f=(0,s._)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryBuffer")],f);let _=class extends o.A{};(0,s._)([(0,i.e)({triangle:"triangle"})],_.prototype,"topology",void 0),(0,s._)([(0,n.MZ)()],_.prototype,"geometryBuffers",void 0),_=(0,s._)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryDefinition")],_)},55674:(e,t,r)=>{r.d(t,{Ad:()=>m,Gj:()=>f,QY:()=>d,lL:()=>_,xR:()=>y});var s=r(66131),o=r(49186),n=(r(44208),r(44729)),i=r(15032),a=r(65864),p=r(95466),u=r(43668),l=r(98623);const c=["geometry","scale","timeProperties"];function d(e,t){if(null!=t)for(const r of c)t.hasArcadeDependency(r)&&e.add(r);return e}function m(e,t){return h.create(e,t,null,["$feature","$view"])}function y(e,t,r){return h.create(e,t,r,["$feature","$view","$config"])}class h{static async create(e,t,r,s){const{arcade:n,Dictionary:i}=await(0,u.l)();let a;try{a=n.parseScript(e)}catch(t){throw new o.A("arcade-bad-expression","Failed to parse arcade script",{script:e,error:t})}const p=n.scriptUsesGeometryEngine(a);p&&await n.enableGeometrySupport(),await n.loadDependentModules(new Set,a,null,!1,p);const l={vars:s.reduce(((e,t)=>({...e,[t]:null})),{}),spatialReference:t,useAsync:!1},c=n.compileScript(a,l);let d=null;null!=r&&(d=new i(r),d.immutable=!0);const m=new i;return m.immutable=!1,m.setField("scale",0),new h(e,n,a,c,t,m,d,i)}constructor(e,t,r,s,o,n,i,a){this.script=e,this._arcade=t,this._syntaxTree=r,this._compiled=s,this._spatialReference=o,this._viewDict=n,this._configDict=i,this._dictionaryCtor=a,this._dependencies=new Map,this._featureReader=new f,this._dependencies.set("geometry",t.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}evaluate(e,t){const r=t.$view?.timeZone;if(t.$view){let e;if(this._viewDict.setField("scale",t.$view.scale),null!=t.$view.timeProperties){const{currentStart:o,currentEnd:n}=t.$view.timeProperties;e=new this._dictionaryCtor({currentStart:null!=o?null!=r?s.lY.epochToArcadeDate(o,r):s.lY.unknownEpochToArcadeDate(o):void 0,currentEnd:null!=n?null!=r?s.lY.epochToArcadeDate(n,r):s.lY.unknownEpochToArcadeDate(n):void 0,startIncluded:!0,endIncluded:!0})}this._viewDict.setField("timeProperties",e)}return this._compiled({vars:{$view:this._viewDict,$config:this._configDict,$feature:e},spatialReference:this._spatialReference,timeZone:r})}repurposeFeature(e,t){return this._featureReader.bind(e,t,this._spatialReference),this._featureReader}references(e){return this._dependencies.get(e)??!1}}class f{constructor(){this._boundTarget=null,this._boundSchema={fields:null,fieldsIndex:null,spatialReference:null,get geometryType(){return null},get objectIdField(){return null}},this.arcadeDeclaredClass="esri.arcade.Feature",this._contextTimeZone=null}bind(e,t,r){const s=t??new p.A(_(e.attributes));this._boundTarget=e,this._boundSchema.fields=s.fields,this._boundSchema.fieldsIndex=s,this._boundSchema.spatialReference=r}_getField(e){return this._boundSchema.fieldsIndex.get(e)}get contextTimeZone(){return this._contextTimeZone}set contextTimeZone(e){this._contextTimeZone=e}readArcadeFeature(){return this}hasField(e){return this._boundSchema.fieldsIndex.has(e)}geometry(){if("fromJSON"in this._boundTarget)return this._boundTarget.geometry;const e=(0,a.rS)(this._boundTarget.geometry);if(e){if(!this._boundSchema.spatialReference)throw new Error("InternalError: Expected spatial reference to be defined");e.spatialReference=this._boundSchema.spatialReference}return e}isUnknownDateTimeField(e){return this._boundSchema.fieldsIndex.getTimeZone(e)===l.L5}field(e,t=!0){const r=this._getField(e);if(r)switch(r.type){case"date-only":case"esriFieldTypeDateOnly":return n.n.fromReader(this._boundTarget.attributes[r.name]);case"time-only":case"esriFieldTypeTimeOnly":return i.k.fromReader(this._boundTarget.attributes[r.name]);case"esriFieldTypeTimestampOffset":case"timestamp-offset":return s.lY.fromReaderAsTimeStampOffset(this._boundTarget.attributes[r.name]);case"date":case"esriFieldTypeDate":{const t=this._boundTarget.attributes[r.name];return this.isUnknownDateTimeField(e)?s.lY.unknownEpochToArcadeDate(t):s.lY.epochToArcadeDate(t,this.contextTimeZone??l.qU)}default:return this._boundTarget.attributes[r.name]}if(t)throw new Error(`Field ${e} does not exist`);return null}setField(e,t){throw new Error("Unable to update feature attribute values, feature is readonly")}keys(){return this._boundSchema.fieldsIndex.fields.map((e=>e.name))}castToText(e=!1){return JSON.stringify(this._boundTarget)}gdbVersion(){return null}fullSchema(){return this._boundSchema}castAsJson(e=null){return{attributes:this._boundTarget.attributes,geometry:!0===e?.keepGeometryType?this.geometry():this.geometry()?.toJSON()??null}}castAsJsonAsync(e=null,t=null){return Promise.resolve(this.castAsJson(t))}}function _(e){const t=[];for(const r in e)t.push({name:r,alias:r,type:"string"==typeof e[r]?"esriFieldTypeString":"esriFieldTypeDouble"});return t}},73681:(e,t,r)=>{r.d(t,{n:()=>p});var s=r(49186),o=r(53966),n=r(46140),i=r(95466),a=r(55674);class p{static async from(e,t,r){const i=e.dictionary_version?n.R.parse(e.dictionary_version):null,l=new Set(e.itemsNames),c={};if(t)for(const e in t)c[e]=t[e];if(e.authoringInfo.configuration)for(const t of e.authoringInfo.configuration)c.hasOwnProperty(t.name)||(c[t.name]=t.value);const d=new Set(e.authoringInfo.symbol);for(const e of Object.keys(r))d.delete(e);d.size&&o.A.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("missing-fields: fieldMap entries for the following symbol fields are missing",{symbolFields:d});const m=await(0,a.xR)(e.expression,null,c);if(!m)throw new s.A("dictionary-renderer:expression-error","Unable to create dictionary renderer expression");const y=!i||!i.greaterEqual(4,0);y&&o.A.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("Dictionary script does not support native field types. Applying fallback",{version:i});const h=new u(r,y);return new p(y,l,m,h)}constructor(e,t,r,s){this._requiresFieldCoercionToString=e,this._itemNames=t,this._compiled=r,this._reader=s}get itemNames(){return this._itemNames}evaluate(e,t,r,s){try{return this._reader.bind(e,r,s),this._compiled.evaluate(this._reader,{$view:{scale:t}})}catch(e){o.A.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("arcade: dictionary script evaluation failed",{error:e})}return null}createDictionaryFieldsIndex(e){if(!this._requiresFieldCoercionToString)return new i.A(e);const t=e.map((e=>({...e,type:"esriFieldTypeString"})));return new i.A(t)}}class u extends a.Gj{constructor(e,t){super(),this._fieldMap=e,this._requiresFieldCoercionToString=t}_getField(e){const t=this._fieldMap[e]??e;return this._boundSchema.fieldsIndex.get(t)}field(e){if(!this._requiresFieldCoercionToString)return super.field(e,!1);const t=this._getField(e);return null==t?"":""+this._boundTarget.attributes[t.name]}}}}]);