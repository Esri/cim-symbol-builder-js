"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[3566,3172,661,5234,9880],{99880:(t,e,r)=>{r.d(e,{V:()=>u});var n=r(68773),o=(r(3172),r(20102)),a=r(92604),s=r(81271);const i=a.Z.getLogger("esri.assets");function u(t){if(!n.default.assetsPath)throw i.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new o.Z("assets:path-not-set","config.assetsPath is not set");return(0,s.v_)(n.default.assetsPath,t)}},46521:(t,e,r)=>{function n(){return[1,0,0,0,1,0,0,0,1]}function o(t,e,r,n,o,a,s,i,u){return[t,e,r,n,o,a,s,i,u]}function a(t,e){return new Float64Array(t,e,9)}r.d(e,{a:()=>a,c:()=>n,f:()=>o}),Object.freeze(Object.defineProperty({__proto__:null,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:n,createView:a,fromValues:o},Symbol.toStringTag,{value:"Module"}))},52138:(t,e,r)=>{r.d(e,{A:()=>p,a:()=>u,d:()=>b,e:()=>d,f:()=>h,g:()=>y,h:()=>M,i:()=>s,j:()=>O,k:()=>f,m:()=>c,s:()=>a,t:()=>i,w:()=>l,y:()=>A,z:()=>T});var n=r(65617),o=r(46851);function a(t,e,r,n,o,a,s,i,u,c,l,f,d,h,b,p,m){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t[4]=a,t[5]=s,t[6]=i,t[7]=u,t[8]=c,t[9]=l,t[10]=f,t[11]=d,t[12]=h,t[13]=b,t[14]=p,t[15]=m,t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function i(t,e){if(t===e){const r=e[1],n=e[2],o=e[3],a=e[6],s=e[7],i=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=a,t[11]=e[14],t[12]=o,t[13]=s,t[14]=i}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function u(t,e){const r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],i=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],h=e[11],b=e[12],p=e[13],m=e[14],g=e[15],y=r*i-n*s,w=r*u-o*s,M=r*c-a*s,O=n*u-o*i,T=n*c-a*i,A=o*c-a*u,v=l*p-f*b,C=l*m-d*b,I=l*g-h*b,E=f*m-d*p,S=f*g-h*p,U=d*g-h*m;let L=y*U-w*S+M*E+O*I-T*C+A*v;return L?(L=1/L,t[0]=(i*U-u*S+c*E)*L,t[1]=(o*S-n*U-a*E)*L,t[2]=(p*A-m*T+g*O)*L,t[3]=(d*T-f*A-h*O)*L,t[4]=(u*I-s*U-c*C)*L,t[5]=(r*U-o*I+a*C)*L,t[6]=(m*M-b*A-g*w)*L,t[7]=(l*A-d*M+h*w)*L,t[8]=(s*S-i*I+c*v)*L,t[9]=(n*I-r*S-a*v)*L,t[10]=(b*T-p*M+g*y)*L,t[11]=(f*M-l*T-h*y)*L,t[12]=(i*C-s*E-u*v)*L,t[13]=(r*E-n*C+o*v)*L,t[14]=(p*w-b*O-m*y)*L,t[15]=(l*O-f*w+d*y)*L,t):null}function c(t,e,r){const n=e[0],o=e[1],a=e[2],s=e[3],i=e[4],u=e[5],c=e[6],l=e[7],f=e[8],d=e[9],h=e[10],b=e[11],p=e[12],m=e[13],g=e[14],y=e[15];let w=r[0],M=r[1],O=r[2],T=r[3];return t[0]=w*n+M*i+O*f+T*p,t[1]=w*o+M*u+O*d+T*m,t[2]=w*a+M*c+O*h+T*g,t[3]=w*s+M*l+O*b+T*y,w=r[4],M=r[5],O=r[6],T=r[7],t[4]=w*n+M*i+O*f+T*p,t[5]=w*o+M*u+O*d+T*m,t[6]=w*a+M*c+O*h+T*g,t[7]=w*s+M*l+O*b+T*y,w=r[8],M=r[9],O=r[10],T=r[11],t[8]=w*n+M*i+O*f+T*p,t[9]=w*o+M*u+O*d+T*m,t[10]=w*a+M*c+O*h+T*g,t[11]=w*s+M*l+O*b+T*y,w=r[12],M=r[13],O=r[14],T=r[15],t[12]=w*n+M*i+O*f+T*p,t[13]=w*o+M*u+O*d+T*m,t[14]=w*a+M*c+O*h+T*g,t[15]=w*s+M*l+O*b+T*y,t}function l(t,e,r){const n=r[0],o=r[1],a=r[2];if(e===t)t[12]=e[0]*n+e[4]*o+e[8]*a+e[12],t[13]=e[1]*n+e[5]*o+e[9]*a+e[13],t[14]=e[2]*n+e[6]*o+e[10]*a+e[14],t[15]=e[3]*n+e[7]*o+e[11]*a+e[15];else{const r=e[0],s=e[1],i=e[2],u=e[3],c=e[4],l=e[5],f=e[6],d=e[7],h=e[8],b=e[9],p=e[10],m=e[11];t[0]=r,t[1]=s,t[2]=i,t[3]=u,t[4]=c,t[5]=l,t[6]=f,t[7]=d,t[8]=h,t[9]=b,t[10]=p,t[11]=m,t[12]=r*n+c*o+h*a+e[12],t[13]=s*n+l*o+b*a+e[13],t[14]=i*n+f*o+p*a+e[14],t[15]=u*n+d*o+m*a+e[15]}return t}function f(t,e,r){const n=r[0],o=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function d(t,e,r,n){let a,s,i,u,c,l,f,d,h,b,p,m,g,y,w,M,O,T,A,v,C,I,E,S,U=n[0],L=n[1],R=n[2],q=Math.sqrt(U*U+L*L+R*R);return q<(0,o.g)()?null:(q=1/q,U*=q,L*=q,R*=q,a=Math.sin(r),s=Math.cos(r),i=1-s,u=e[0],c=e[1],l=e[2],f=e[3],d=e[4],h=e[5],b=e[6],p=e[7],m=e[8],g=e[9],y=e[10],w=e[11],M=U*U*i+s,O=L*U*i+R*a,T=R*U*i-L*a,A=U*L*i-R*a,v=L*L*i+s,C=R*L*i+U*a,I=U*R*i+L*a,E=L*R*i-U*a,S=R*R*i+s,t[0]=u*M+d*O+m*T,t[1]=c*M+h*O+g*T,t[2]=l*M+b*O+y*T,t[3]=f*M+p*O+w*T,t[4]=u*A+d*v+m*C,t[5]=c*A+h*v+g*C,t[6]=l*A+b*v+y*C,t[7]=f*A+p*v+w*C,t[8]=u*I+d*E+m*S,t[9]=c*I+h*E+g*S,t[10]=l*I+b*E+y*S,t[11]=f*I+p*E+w*S,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function h(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function b(t,e,r){if(0===e)return s(t);let n,a,i,u=r[0],c=r[1],l=r[2],f=Math.sqrt(u*u+c*c+l*l);return f<(0,o.g)()?null:(f=1/f,u*=f,c*=f,l*=f,n=Math.sin(e),a=Math.cos(e),i=1-a,t[0]=u*u*i+a,t[1]=c*u*i+l*n,t[2]=l*u*i-c*n,t[3]=0,t[4]=u*c*i-l*n,t[5]=c*c*i+a,t[6]=l*c*i+u*n,t[7]=0,t[8]=u*l*i+c*n,t[9]=c*l*i-u*n,t[10]=l*l*i+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function p(t,e){const r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function m(t,e,r){const n=e[0],o=e[1],a=e[2],s=e[3],i=n+n,u=o+o,c=a+a,l=n*i,f=n*u,d=n*c,h=o*u,b=o*c,p=a*c,m=s*i,g=s*u,y=s*c;return t[0]=1-(h+p),t[1]=f+y,t[2]=d-g,t[3]=0,t[4]=f-y,t[5]=1-(l+p),t[6]=b+m,t[7]=0,t[8]=d+g,t[9]=b-m,t[10]=1-(l+h),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}const g=(0,n.c)();function y(t,e,r,n){const o=e[0],a=e[1],s=e[2],i=e[3],u=o+o,c=a+a,l=s+s,f=o*u,d=o*c,h=o*l,b=a*c,p=a*l,m=s*l,g=i*u,y=i*c,w=i*l,M=n[0],O=n[1],T=n[2];return t[0]=(1-(b+m))*M,t[1]=(d+w)*M,t[2]=(h-y)*M,t[3]=0,t[4]=(d-w)*O,t[5]=(1-(f+m))*O,t[6]=(p+g)*O,t[7]=0,t[8]=(h+y)*T,t[9]=(p-g)*T,t[10]=(1-(f+b))*T,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function w(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function M(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function O(t,e){if(t===e)return!0;const r=t[0],n=t[1],a=t[2],s=t[3],i=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],h=t[10],b=t[11],p=t[12],m=t[13],g=t[14],y=t[15],w=e[0],M=e[1],O=e[2],T=e[3],A=e[4],v=e[5],C=e[6],I=e[7],E=e[8],S=e[9],U=e[10],L=e[11],R=e[12],q=e[13],P=e[14],x=e[15],F=(0,o.g)();return Math.abs(r-w)<=F*Math.max(1,Math.abs(r),Math.abs(w))&&Math.abs(n-M)<=F*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(a-O)<=F*Math.max(1,Math.abs(a),Math.abs(O))&&Math.abs(s-T)<=F*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(i-A)<=F*Math.max(1,Math.abs(i),Math.abs(A))&&Math.abs(u-v)<=F*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(c-C)<=F*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(l-I)<=F*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(f-E)<=F*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(d-S)<=F*Math.max(1,Math.abs(d),Math.abs(S))&&Math.abs(h-U)<=F*Math.max(1,Math.abs(h),Math.abs(U))&&Math.abs(b-L)<=F*Math.max(1,Math.abs(b),Math.abs(L))&&Math.abs(p-R)<=F*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(m-q)<=F*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(g-P)<=F*Math.max(1,Math.abs(g),Math.abs(P))&&Math.abs(y-x)<=F*Math.max(1,Math.abs(y),Math.abs(x))}function T(t){const e=(0,o.g)(),r=t[0],n=t[1],a=t[2],s=t[4],i=t[5],u=t[6],c=t[8],l=t[9],f=t[10];return Math.abs(1-(r*r+s*s+c*c))<=e&&Math.abs(1-(n*n+i*i+l*l))<=e&&Math.abs(1-(a*a+u*u+f*f))<=e}function A(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[8]&&0===t[9]&&1===t[10]}const v=c,C=w;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t},adjoint:function(t,e){const r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],i=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],h=e[11],b=e[12],p=e[13],m=e[14],g=e[15];return t[0]=i*(d*g-h*m)-f*(u*g-c*m)+p*(u*h-c*d),t[1]=-(n*(d*g-h*m)-f*(o*g-a*m)+p*(o*h-a*d)),t[2]=n*(u*g-c*m)-i*(o*g-a*m)+p*(o*c-a*u),t[3]=-(n*(u*h-c*d)-i*(o*h-a*d)+f*(o*c-a*u)),t[4]=-(s*(d*g-h*m)-l*(u*g-c*m)+b*(u*h-c*d)),t[5]=r*(d*g-h*m)-l*(o*g-a*m)+b*(o*h-a*d),t[6]=-(r*(u*g-c*m)-s*(o*g-a*m)+b*(o*c-a*u)),t[7]=r*(u*h-c*d)-s*(o*h-a*d)+l*(o*c-a*u),t[8]=s*(f*g-h*p)-l*(i*g-c*p)+b*(i*h-c*f),t[9]=-(r*(f*g-h*p)-l*(n*g-a*p)+b*(n*h-a*f)),t[10]=r*(i*g-c*p)-s*(n*g-a*p)+b*(n*c-a*i),t[11]=-(r*(i*h-c*f)-s*(n*h-a*f)+l*(n*c-a*i)),t[12]=-(s*(f*m-d*p)-l*(i*m-u*p)+b*(i*d-u*f)),t[13]=r*(f*m-d*p)-l*(n*m-o*p)+b*(n*d-o*f),t[14]=-(r*(i*m-u*p)-s*(n*m-o*p)+b*(n*u-o*i)),t[15]=r*(i*d-u*f)-s*(n*d-o*f)+l*(n*u-o*i),t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},determinant:function(t){const e=t[0],r=t[1],n=t[2],o=t[3],a=t[4],s=t[5],i=t[6],u=t[7],c=t[8],l=t[9],f=t[10],d=t[11],h=t[12],b=t[13],p=t[14],m=t[15];return(e*s-r*a)*(f*m-d*p)-(e*i-n*a)*(l*m-d*b)+(e*u-o*a)*(l*p-f*b)+(r*i-n*s)*(c*m-d*h)-(r*u-o*s)*(c*p-f*h)+(n*u-o*i)*(c*b-l*h)},equals:O,exactEquals:M,frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)},fromQuat:function(t,e){const r=e[0],n=e[1],o=e[2],a=e[3],s=r+r,i=n+n,u=o+o,c=r*s,l=n*s,f=n*i,d=o*s,h=o*i,b=o*u,p=a*s,m=a*i,g=a*u;return t[0]=1-f-b,t[1]=l+g,t[2]=d-m,t[3]=0,t[4]=l-g,t[5]=1-c-b,t[6]=h+p,t[7]=0,t[8]=d+m,t[9]=h-p,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromQuat2:function(t,e){const r=g,n=-e[0],o=-e[1],a=-e[2],s=e[3],i=e[4],u=e[5],c=e[6],l=e[7],f=n*n+o*o+a*a+s*s;return f>0?(r[0]=2*(i*s+l*n+u*a-c*o)/f,r[1]=2*(u*s+l*o+c*n-i*a)/f,r[2]=2*(c*s+l*a+i*o-u*n)/f):(r[0]=2*(i*s+l*n+u*a-c*o),r[1]=2*(u*s+l*o+c*n-i*a),r[2]=2*(c*s+l*a+i*o-u*n)),m(t,e,r),t},fromRotation:b,fromRotationTranslation:m,fromRotationTranslationScale:y,fromRotationTranslationScaleOrigin:function(t,e,r,n,o){const a=e[0],s=e[1],i=e[2],u=e[3],c=a+a,l=s+s,f=i+i,d=a*c,h=a*l,b=a*f,p=s*l,m=s*f,g=i*f,y=u*c,w=u*l,M=u*f,O=n[0],T=n[1],A=n[2],v=o[0],C=o[1],I=o[2],E=(1-(p+g))*O,S=(h+M)*O,U=(b-w)*O,L=(h-M)*T,R=(1-(d+g))*T,q=(m+y)*T,P=(b+w)*A,x=(m-y)*A,F=(1-(d+p))*A;return t[0]=E,t[1]=S,t[2]=U,t[3]=0,t[4]=L,t[5]=R,t[6]=q,t[7]=0,t[8]=P,t[9]=x,t[10]=F,t[11]=0,t[12]=r[0]+v-(E*v+L*C+P*I),t[13]=r[1]+C-(S*v+R*C+x*I),t[14]=r[2]+I-(U*v+q*C+F*I),t[15]=1,t},fromScaling:function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromTranslation:h,fromXRotation:p,fromYRotation:function(t,e){const r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromZRotation:function(t,e){const r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},frustum:function(t,e,r,n,o,a,s){const i=1/(r-e),u=1/(o-n),c=1/(a-s);return t[0]=2*a*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(r+e)*i,t[9]=(o+n)*u,t[10]=(s+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*a*2*c,t[15]=0,t},getRotation:function(t,e){const r=e[0]+e[5]+e[10];let n=0;return r>0?(n=2*Math.sqrt(r+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t},getScaling:function(t,e){const r=e[0],n=e[1],o=e[2],a=e[4],s=e[5],i=e[6],u=e[8],c=e[9],l=e[10];return t[0]=Math.sqrt(r*r+n*n+o*o),t[1]=Math.sqrt(a*a+s*s+i*i),t[2]=Math.sqrt(u*u+c*c+l*l),t},getTranslation:function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},hasIdentityRotation:A,identity:s,invert:u,invertOrIdentity:function(t,e){return u(t,e)||s(t),t},isOrthoNormal:T,lookAt:function(t,e,r,n){const a=e[0],i=e[1],u=e[2];let c=a-r[0],l=i-r[1],f=u-r[2];const d=(0,o.g)();if(Math.abs(c)<d&&Math.abs(l)<d&&Math.abs(f)<d)return void s(t);let h=1/Math.sqrt(c*c+l*l+f*f);c*=h,l*=h,f*=h;const b=n[0],p=n[1],m=n[2];let g=p*f-m*l,y=m*c-b*f,w=b*l-p*c;h=Math.sqrt(g*g+y*y+w*w),h?(h=1/h,g*=h,y*=h,w*=h):(g=0,y=0,w=0);let M=l*w-f*y,O=f*g-c*w,T=c*y-l*g;h=Math.sqrt(M*M+O*O+T*T),h?(h=1/h,M*=h,O*=h,T*=h):(M=0,O=0,T=0),t[0]=g,t[1]=M,t[2]=c,t[3]=0,t[4]=y,t[5]=O,t[6]=l,t[7]=0,t[8]=w,t[9]=T,t[10]=f,t[11]=0,t[12]=-(g*a+y*i+w*u),t[13]=-(M*a+O*i+T*u),t[14]=-(c*a+l*i+f*u),t[15]=1},mul:v,multiply:c,multiplyScalar:function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t},multiplyScalarAndAdd:function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t},ortho:function(t,e,r,n,o,a,s){const i=1/(e-r),u=1/(n-o),c=1/(a-s);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*i,t[13]=(o+n)*u,t[14]=(s+a)*c,t[15]=1,t},perspective:function(t,e,r,n,o){const a=1/Math.tan(e/2);let s;return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(s=1/(n-o),t[10]=(o+n)*s,t[14]=2*o*n*s):(t[10]=-1,t[14]=-2*n),t},perspectiveFromFieldOfView:function(t,e,r,n){const o=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),i=Math.tan(e.rightDegrees*Math.PI/180),u=2/(s+i),c=2/(o+a);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(s-i)*u*.5,t[9]=(o-a)*c*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t},rotate:d,rotateX:function(t,e,r){const n=Math.sin(r),o=Math.cos(r),a=e[4],s=e[5],i=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*o+c*n,t[5]=s*o+l*n,t[6]=i*o+f*n,t[7]=u*o+d*n,t[8]=c*o-a*n,t[9]=l*o-s*n,t[10]=f*o-i*n,t[11]=d*o-u*n,t},rotateY:function(t,e,r){const n=Math.sin(r),o=Math.cos(r),a=e[0],s=e[1],i=e[2],u=e[3],c=e[8],l=e[9],f=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*o-c*n,t[1]=s*o-l*n,t[2]=i*o-f*n,t[3]=u*o-d*n,t[8]=a*n+c*o,t[9]=s*n+l*o,t[10]=i*n+f*o,t[11]=u*n+d*o,t},rotateZ:function(t,e,r){const n=Math.sin(r),o=Math.cos(r),a=e[0],s=e[1],i=e[2],u=e[3],c=e[4],l=e[5],f=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*o+c*n,t[1]=s*o+l*n,t[2]=i*o+f*n,t[3]=u*o+d*n,t[4]=c*o-a*n,t[5]=l*o-s*n,t[6]=f*o-i*n,t[7]=d*o-u*n,t},scale:f,set:a,str:function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},sub:C,subtract:w,targetTo:function(t,e,r,n){const o=e[0],a=e[1],s=e[2],i=n[0],u=n[1],c=n[2];let l=o-r[0],f=a-r[1],d=s-r[2],h=l*l+f*f+d*d;h>0&&(h=1/Math.sqrt(h),l*=h,f*=h,d*=h);let b=u*d-c*f,p=c*l-i*d,m=i*f-u*l;return h=b*b+p*p+m*m,h>0&&(h=1/Math.sqrt(h),b*=h,p*=h,m*=h),t[0]=b,t[1]=p,t[2]=m,t[3]=0,t[4]=f*m-d*p,t[5]=d*b-l*m,t[6]=l*p-f*b,t[7]=0,t[8]=l,t[9]=f,t[10]=d,t[11]=0,t[12]=o,t[13]=a,t[14]=s,t[15]=1,t},translate:l,transpose:i},Symbol.toStringTag,{value:"Module"}))},51305:(t,e,r)=>{r.d(e,{c:()=>h,g:()=>l,j:()=>S,k:()=>p,m:()=>f,s:()=>c});var n=r(46521),o=r(94961),a=r(65617),s=r(46851),i=r(17896),u=r(98766);function c(t,e,r){r*=.5;const n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function l(t,e){const r=2*Math.acos(e[3]),n=Math.sin(r/2);return n>(0,s.g)()?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r}function f(t,e,r){const n=e[0],o=e[1],a=e[2],s=e[3],i=r[0],u=r[1],c=r[2],l=r[3];return t[0]=n*l+s*i+o*c-a*u,t[1]=o*l+s*u+a*i-n*c,t[2]=a*l+s*c+n*u-o*i,t[3]=s*l-n*i-o*u-a*c,t}function d(t,e,r,n){const o=e[0],a=e[1],i=e[2],u=e[3];let c,l,f,d,h,b=r[0],p=r[1],m=r[2],g=r[3];return l=o*b+a*p+i*m+u*g,l<0&&(l=-l,b=-b,p=-p,m=-m,g=-g),1-l>(0,s.g)()?(c=Math.acos(l),f=Math.sin(c),d=Math.sin((1-n)*c)/f,h=Math.sin(n*c)/f):(d=1-n,h=n),t[0]=d*o+h*b,t[1]=d*a+h*p,t[2]=d*i+h*m,t[3]=d*u+h*g,t}function h(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function b(t,e){const r=e[0]+e[4]+e[8];let n;if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);const o=(r+1)%3,a=(r+2)%3;n=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*a+a]+1),t[r]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+r]+e[3*r+o])*n,t[a]=(e[3*a+r]+e[3*r+a])*n}return t}function p(t,e,r,n){const o=.5*Math.PI/180;e*=o,r*=o,n*=o;const a=Math.sin(e),s=Math.cos(e),i=Math.sin(r),u=Math.cos(r),c=Math.sin(n),l=Math.cos(n);return t[0]=a*u*l-s*i*c,t[1]=s*i*l+a*u*c,t[2]=s*u*c-a*i*l,t[3]=s*u*l+a*i*c,t}const m=u.c,g=u.s,y=u.a,w=f,M=u.b,O=u.d,T=u.l,A=u.e,v=A,C=u.f,I=C,E=u.n,S=u.g,U=u.h,L=(0,a.c)(),R=(0,a.f)(1,0,0),q=(0,a.f)(0,1,0),P=(0,o.a)(),x=(0,o.a)(),F=(0,n.c)();Object.freeze(Object.defineProperty({__proto__:null,add:y,calculateW:function(t,e){const r=e[0],n=e[1],o=e[2];return t[0]=r,t[1]=n,t[2]=o,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-o*o)),t},conjugate:h,copy:m,dot:O,equals:U,exactEquals:S,fromEuler:p,fromMat3:b,getAxisAngle:l,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},invert:function(t,e){const r=e[0],n=e[1],o=e[2],a=e[3],s=r*r+n*n+o*o+a*a,i=s?1/s:0;return t[0]=-r*i,t[1]=-n*i,t[2]=-o*i,t[3]=a*i,t},len:v,length:A,lerp:T,mul:w,multiply:f,normalize:E,random:function(t){const e=s.R,r=e(),n=e(),o=e(),a=Math.sqrt(1-r),i=Math.sqrt(r);return t[0]=a*Math.sin(2*Math.PI*n),t[1]=a*Math.cos(2*Math.PI*n),t[2]=i*Math.sin(2*Math.PI*o),t[3]=i*Math.cos(2*Math.PI*o),t},rotateX:function(t,e,r){r*=.5;const n=e[0],o=e[1],a=e[2],s=e[3],i=Math.sin(r),u=Math.cos(r);return t[0]=n*u+s*i,t[1]=o*u+a*i,t[2]=a*u-o*i,t[3]=s*u-n*i,t},rotateY:function(t,e,r){r*=.5;const n=e[0],o=e[1],a=e[2],s=e[3],i=Math.sin(r),u=Math.cos(r);return t[0]=n*u-a*i,t[1]=o*u+s*i,t[2]=a*u+n*i,t[3]=s*u-o*i,t},rotateZ:function(t,e,r){r*=.5;const n=e[0],o=e[1],a=e[2],s=e[3],i=Math.sin(r),u=Math.cos(r);return t[0]=n*u+o*i,t[1]=o*u-n*i,t[2]=a*u+s*i,t[3]=s*u-a*i,t},rotationTo:function(t,e,r){const n=(0,i.e)(e,r);return n<-.999999?((0,i.f)(L,R,e),(0,i.u)(L)<1e-6&&(0,i.f)(L,q,e),(0,i.n)(L,L),c(t,L,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,i.f)(L,e,r),t[0]=L[0],t[1]=L[1],t[2]=L[2],t[3]=1+n,E(t,t))},scale:M,set:g,setAxes:function(t,e,r,n){const o=F;return o[0]=r[0],o[3]=r[1],o[6]=r[2],o[1]=n[0],o[4]=n[1],o[7]=n[2],o[2]=-e[0],o[5]=-e[1],o[8]=-e[2],E(t,b(t,o))},setAxisAngle:c,slerp:d,sqlerp:function(t,e,r,n,o,a){return d(P,e,o,a),d(x,r,n,a),d(t,P,x,2*a*(1-a)),t},sqrLen:I,squaredLength:C,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}},Symbol.toStringTag,{value:"Module"}))},37140:(t,e,r)=>{function n(){const t=new Float32Array(4);return t[3]=1,t}function o(t){const e=new Float32Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}r.d(e,{b:()=>o,c:()=>n}),Object.freeze(Object.defineProperty({__proto__:null,clone:o,create:n,createView:function(t,e){return new Float32Array(t,e,4)},fromValues:function(t,e,r,n){const o=new Float32Array(4);return o[0]=t,o[1]=e,o[2]=r,o[3]=n,o}},Symbol.toStringTag,{value:"Module"}))},94961:(t,e,r)=>{function n(){return[0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3]]}function a(t,e){return new Float64Array(t,e,4)}r.d(e,{I:()=>s,a:()=>n,b:()=>o,c:()=>a});const s=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:o,create:n,createView:a,fromValues:function(t,e,r,n){return[t,e,r,n]}},Symbol.toStringTag,{value:"Module"}))},72119:(t,e,r)=>{function n(){return new Float32Array(3)}function o(t){const e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(t,e,r){const n=new Float32Array(3);return n[0]=t,n[1]=e,n[2]=r,n}function s(){return n()}function i(){return a(1,1,1)}function u(){return a(1,0,0)}function c(){return a(0,1,0)}function l(){return a(0,0,1)}r.d(e,{b:()=>o,c:()=>n,f:()=>a});const f=s(),d=i(),h=u(),b=c(),p=l();Object.freeze(Object.defineProperty({__proto__:null,ONES:d,UNIT_X:h,UNIT_Y:b,UNIT_Z:p,ZEROS:f,clone:o,create:n,createView:function(t,e){return new Float32Array(t,e,3)},fromValues:a,ones:i,unitX:u,unitY:c,unitZ:l,zeros:s},Symbol.toStringTag,{value:"Module"}))},10661:(t,e,r)=>{r.d(e,{s:()=>o});var n=r(42100);class o extends n.s{notify(){const t=this._observers;if(t&&t.length>0){const e=t.slice();for(const t of e)t.onInvalidated(),t.onCommitted()}}}},3172:(t,e,r)=>{r.r(e),r.d(e,{default:()=>h});var n=r(68773),o=r(40330),a=r(20102),s=r(80442),i=r(22974),u=r(95330),c=r(81271),l=r(19745),f=r(71058),d=r(85958);async function h(t,e){t instanceof URL&&(t=t.toString()),e?.query instanceof URLSearchParams&&(e.query=(0,c.u0)(e.query.toString().replaceAll("+"," ")));const i=(0,c.HK)(t),l=(0,c.jc)(t);l||i||(t=(0,c.Fv)(t));const g={url:t,requestOptions:{...e}};let y=(0,c.oh)(t);if(y){const t=await async function(t,e){if(null!=t.responseData)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let r,n;try{n=await t.before(e)}catch(t){r=A("request:interceptor",t,e)}if((n instanceof Error||n instanceof a.Z)&&(r=A("request:interceptor",n,e)),r)throw t.error&&t.error(r),r;return n}}(y,g);if(null!=t)return{data:t,getHeader:M,httpStatus:200,requestOptions:g.requestOptions,url:g.url};y.after||y.error||(y=null)}if(t=g.url,"image"===(e=g.requestOptions).responseType&&((0,s.Z)("host-webworker")||(0,s.Z)("host-node")))throw A("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),g);if("head"===e.method){if(e.body)throw A("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),g);if(i||l)throw A("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),g)}if(await async function(){(0,s.Z)("host-webworker")?b||(b=await r.e(9884).then(r.bind(r,29884))):h._abortableFetch||(h._abortableFetch=globalThis.fetch.bind(globalThis))}(),b)return b.execute(t,e);const w=new AbortController;(0,u.fu)(e,(()=>w.abort()));const O={controller:w,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:y,params:g,redoRequest:!1,useIdentity:p.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},T=await async function(t){let e,r;await async function(t){const e=t.params.url,r=t.params.requestOptions,a=t.controller.signal,s=r.body;let i=null,c=null;if(m&&"HTMLFormElement"in globalThis&&(s instanceof FormData?i=s:s instanceof HTMLFormElement&&(i=new FormData(s))),"string"==typeof s&&(c=s),t.fetchOptions={cache:r.cacheBust&&!("polyfill"in h._abortableFetch)?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:"head"===r.method?"HEAD":"GET",mode:"cors",priority:p.priority,redirect:"follow",signal:a},(i||c)&&(t.fetchOptions.body=i||c),"anonymous"===r.authMode&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||r.query?.token||i?.get("token")),!t.hasToken&&n.default.apiKey&&(0,f.r)(e)&&(r.query||(r.query={}),r.query.token=n.default.apiKey,t.hasToken=!0),t.useIdentity&&!t.hasToken&&!t.credentialToken&&!C(e)&&!(0,u.Hc)(a)){let n;"immediate"===r.authMode?(await v(),n=await o.id.getCredential(e,{signal:a}),t.credential=n):"no-prompt"===r.authMode?(await v(),n=await o.id.getCredential(e,{prompt:!1,signal:a}).catch((()=>{})),t.credential=n):o.id&&(n=o.id.findCredential(e)),n&&(t.credentialToken=n.token,t.useSSL=!!n.ssl)}}(t);try{do{[e,r]=await I(t)}while(!await S(t,e,r))}catch(r){const n=A("request:server",r,t.params,e);throw n.details.ssl=t.useSSL,t.interceptor?.error&&t.interceptor.error(n),n}const a=t.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(a)){if(!t.hasToken&&!t.credentialToken&&r.user?.username&&!(0,c.kl)(a)){const t=(0,c.P$)(a,!0);t&&p.trustedServers.push(t)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&(0,d.Hu)(r.authorizedCrossOriginNoCorsDomains)}const s=t.credential;if(s&&o.id){const t=o.id.findServerInfo(s.server);let e=t?.owningSystemUrl;if(e){e=e.replace(/\/?$/,"/sharing");const t=o.id.findCredential(e,s.userId);t&&-1===o.id._getIdenticalSvcIdx(e,t)&&t.resources.unshift(e)}}return{data:r,getHeader:e?t=>e?.headers.get(t):M,httpStatus:e?.status??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}(O);return y?.after?.(T),T}let b;const p=n.default.request,m="FormData"in globalThis,g=[499,498,403,401],y=["COM_0056","COM_0057","SB_0008"],w=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],M=()=>null,O=Symbol();function T(t){const e=(0,c.P$)(t);return!e||e.endsWith(".arcgis.com")||h._corsServers.includes(e)||(0,c.kl)(e)}function A(t,e,r,n){let o="Error";const s={url:r.url,requestOptions:r.requestOptions,getHeader:M,ssl:!1};if(e instanceof a.Z)return e.details?(e.details=(0,i.d9)(e.details),e.details.url=r.url,e.details.requestOptions=r.requestOptions):e.details=s,e;if(e){const t=n&&(t=>n.headers.get(t)),r=n?.status,a=e.message;a&&(o=a),t&&(s.getHeader=t),s.httpStatus=(null!=e.httpCode?e.httpCode:e.code)||r||0,s.subCode=e.subcode,s.messageCode=e.messageCode,"string"==typeof e.details?s.messages=[e.details]:s.messages=e.details,s.raw=O in e?e[O]:e}return(0,u.D_)(e)?(0,u.zE)():new a.Z(t,o,s)}async function v(){o.id||await Promise.all([r.e(7126),r.e(6261),r.e(9255),r.e(1400),r.e(450)]).then(r.bind(r,73660))}function C(t){return w.some((e=>e.test(t)))}async function I(t){let e=t.params.url;const r=t.params.requestOptions,n=t.fetchOptions??{},a=(0,c.jc)(e)||(0,c.HK)(e),i=r.responseType||"json",f=a?0:null!=r.timeout?r.timeout:p.timeout;let b=!1;if(!a){t.useSSL&&(e=(0,c.hO)(e)),r.cacheBust&&"default"===n.cache&&(e=(0,c.ZN)(e,"request.preventCache",Date.now()));let a={...r.query};t.credentialToken&&(a.token=t.credentialToken);let i=(0,c.B7)(a);(0,s.Z)("esri-url-encodes-apostrophe")&&(i=i.replaceAll("'","%27"));const u=e.length+1+i.length;let f;b="delete"===r.method||"post"===r.method||"put"===r.method||!!r.body||u>p.maxUrlLength;const h=r.useProxy||!!(0,c.ed)(e);if(h){const t=(0,c.b7)(e);f=t.path,!b&&f.length+1+u>p.maxUrlLength&&(b=!0),t.query&&(a={...t.query,...a})}if("HEAD"===n.method&&(b||h)){if(b){if(u>p.maxUrlLength)throw A("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params);throw A("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params)}if(h)throw A("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}if(b?(n.method="delete"===r.method?"DELETE":"put"===r.method?"PUT":"POST",r.body?e=(0,c.fl)(e,a):(n.body=(0,c.B7)(a),n.headers||(n.headers={}),n.headers["Content-Type"]="application/x-www-form-urlencoded")):e=(0,c.fl)(e,a),h&&(t.useProxy=!0,e=`${f}?${e}`),a.token&&m&&n.body instanceof FormData&&!(0,l.P)(e)&&n.body.set("token",a.token),r.hasOwnProperty("withCredentials"))t.withCredentials=r.withCredentials;else if(!(0,c.D6)(e,(0,c.TI)()))if((0,c.kl)(e))t.withCredentials=!0;else if(o.id){const r=o.id.findServerInfo(e);r?.webTierAuth&&(t.withCredentials=!0)}t.withCredentials&&(n.credentials="include",(0,d.jH)(e)&&await(0,d.jz)(b?(0,c.fl)(e,a):e))}let g,y,w=0,M=!1;f>0&&(w=setTimeout((()=>{M=!0,t.controller.abort()}),f));try{if("native-request-init"===r.responseType)y=n,y.url=e;else if("image"!==r.responseType||"default"!==n.cache||"GET"!==n.method||b||function(t){if(t)for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0;return!1}(r.headers)||!a&&!t.useProxy&&p.proxyUrl&&!T(e)){if(g=await h._abortableFetch(e,n),t.useProxy||function(t){const e=(0,c.P$)(t);e&&!h._corsServers.includes(e)&&h._corsServers.push(e)}(e),"native"===r.responseType)y=g;else if("HEAD"!==n.method)if(g.ok){switch(i){case"array-buffer":y=await g.arrayBuffer();break;case"blob":case"image":y=await g.blob();break;default:y=await g.text()}if(w&&(clearTimeout(w),w=0),"json"===i||"xml"===i||"document"===i)if(y)switch(i){case"json":y=JSON.parse(y);break;case"xml":y=E(y,"application/xml");break;case"document":y=E(y,"text/html")}else y=null;if(y){if("array-buffer"===i||"blob"===i){const t=g.headers.get("Content-Type");if(t&&/application\/json|text\/plain/i.test(t)&&y["blob"===i?"size":"byteLength"]<=750)try{const t=await new Response(y).json();t.error&&(y=t)}catch{}}"image"===i&&y instanceof Blob&&(y=await U(URL.createObjectURL(y),t,!0))}}else{y=await g.text();try{y=JSON.parse(y)}catch{}}}else y=await U(e,t)}catch(n){if("AbortError"===n.name){if(M)throw(0,d.Tf)();throw(0,u.zE)("Request canceled")}if(!(!g&&n instanceof TypeError&&p.proxyUrl)||r.body||"delete"===r.method||"head"===r.method||"post"===r.method||"put"===r.method||t.useProxy||T(e))throw n;t.redoRequest=!0,(0,c.tD)({proxyUrl:p.proxyUrl,urlPrefix:(0,c.P$)(e)??""})}finally{w&&clearTimeout(w)}return[g,y]}function E(t,e){let r;try{r=(new DOMParser).parseFromString(t,e)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function S(t,e,r){if(t.redoRequest)return t.redoRequest=!1,!1;const n=t.params.requestOptions;if(!e||"native"===n.responseType||"native-request-init"===n.responseType)return!0;let a,s;if(r&&(r.error?a=r.error:"error"===r.status&&Array.isArray(r.messages)&&(a={...r},a[O]=r,a.details=r.messages)),!a&&!e.ok)throw a=new Error(`Unable to load ${e.url} status: ${e.status}`),a[O]=r,a;let i,u=null;a&&(s=Number(a.code),u=a.hasOwnProperty("subcode")?Number(a.subcode):null,i=a.messageCode,i=i?.toUpperCase());const c=n.authMode;if(403===s&&(4===u||a.message?.toLowerCase().includes("ssl")&&!a.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&("no-prompt"!==c||498===s)&&void 0!==s&&g.includes(s)&&!C(t.params.url)&&(403!==s||i&&!y.includes(i)&&(null==u||2===u&&t.credentialToken))){await v();try{const e=await o.id.getCredential(t.params.url,{error:A("request:server",a,t.params),prompt:"no-prompt"!==c,signal:t.controller.signal,token:t.credentialToken});return t.credential=e,t.credentialToken=e.token,t.useSSL=t.useSSL||e.ssl,!1}catch(e){if("no-prompt"===c)return t.credential=void 0,t.credentialToken=void 0,!1;a=e}}if(a)throw a;return!0}function U(t,e,r=!1){const n=e.controller.signal,o=new Image;return e.withCredentials?o.crossOrigin="use-credentials":o.crossOrigin="anonymous",o.alt="",o.fetchPriority=p.priority,o.src=t,(0,d.fY)(o,t,r,n)}h._abortableFetch=null,h._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},71058:(t,e,r)=>{r.d(e,{r:()=>a});var n=r(81271);const o=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function a(t){const e=(0,n.P$)(t,!0);return!!e&&e.endsWith(".arcgis.com")&&!o.includes(e)&&!t.endsWith("/sharing/rest/generateToken")}},85958:(t,e,r)=>{r.d(e,{Hu:()=>f,Tf:()=>l,fY:()=>i,jH:()=>d,jz:()=>h});var n=r(68773),o=r(80442),a=r(95330),s=r(81271);function i(t,e,r=!1,n){return new Promise(((s,i)=>{if((0,a.Hc)(n))return void i(u());let c=()=>{d(),i(new Error(`Unable to load ${e}`))},l=()=>{const e=t;d(),s(e)},f=()=>{if(!t)return;const e=t;d(),e.src="",i(u())};const d=()=>{(0,o.Z)("esri-image-decode")||(t.removeEventListener("error",c),t.removeEventListener("load",l)),c=null,l=null,t=null,null!=n&&n.removeEventListener("abort",f),f=null,r&&URL.revokeObjectURL(e)};null!=n&&n.addEventListener("abort",f),(0,o.Z)("esri-image-decode")?t.decode().then(l,c):(t.addEventListener("error",c),t.addEventListener("load",l))}))}function u(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const c="Timeout exceeded";function l(){return new Error(c)}function f(t){n.default.request.crossOriginNoCorsDomains||(n.default.request.crossOriginNoCorsDomains={});const e=n.default.request.crossOriginNoCorsDomains;for(let r of t)r=r.toLowerCase(),/^https?:\/\//.test(r)?e[(0,s.P$)(r)??""]=0:(e[(0,s.P$)("http://"+r)??""]=0,e[(0,s.P$)("https://"+r)??""]=0)}function d(t){const e=n.default.request.crossOriginNoCorsDomains;if(e){let r=(0,s.P$)(t);if(r)return r=r.toLowerCase(),!(0,s.D6)(r,(0,s.TI)())&&e[r]<Date.now()-36e5}return!1}async function h(t){const e=n.default.request.crossOriginNoCorsDomains,r=(0,s.P$)(t);e&&r&&(e[r.toLowerCase()]=Date.now());const o=(0,s.mN)(t);t=o.path,"json"===o.query?.f&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}}},90447:(t,e,r)=>{r.r(e),r.d(e,{default:()=>T});var n=r(67676),o=r(1533),a=r(51305),s=r(37140),i=r(17896),u=r(72119),c=r(44547),l=r(82971),f=(r(80442),r(23030)),d=r(14008),h=r(46329),b=r(91891),p=r(25683);function m(t,e,r){return null!=t&&t.attributeInfo.useElevation?e?function(t,e){const r=new Float64Array(e);for(let n=0;n<e;n++)r[n]=t[3*n+2];return r}(e,r):null:null!=t&&t.attributeInfo.storageInfo?(0,b.qM)(t.attributeInfo.storageInfo,t.buffer,r):null}function g(t,e,r,n,o){const a=t.length/3;let s=0;for(let i=0;i<a;i++){let a=!0;for(let t=0;t<n.length&&a;t++){const{filterJSON:e}=n[t],r=o[t].values[i];switch(e.type){case"pointCloudValueFilter":{const t="exclude"===e.mode;e.values.includes(r)===t&&(a=!1);break}case"pointCloudBitfieldFilter":{const t=w(e.requiredSetBits),n=w(e.requiredClearBits);(r&t)===t&&0==(r&n)||(a=!1);break}case"pointCloudReturnFilter":{const t=15&r,n=r>>>4&15,o=n>1,s=1===t,i=t===n;let u=!1;for(const t of e.includedReturns)if("last"===t&&i||"firstOfMany"===t&&s&&o||"lastOfMany"===t&&i&&o||"single"===t&&!o){u=!0;break}u||(a=!1);break}}}a&&(r[s]=i,t[3*s]=t[3*i],t[3*s+1]=t[3*i+1],t[3*s+2]=t[3*i+2],e[3*s]=e[3*i],e[3*s+1]=e[3*i+1],e[3*s+2]=e[3*i+2],s++)}return s}function y(t){switch(t){default:case null:case"none":return t=>t;case"low-four-bit":return t=>15&t;case"high-four-bit":return t=>(240&t)>>4;case"absolute-value":return t=>Math.abs(t);case"modulo-ten":return t=>t%10}}function w(t){let e=0;for(const r of t||[])e|=1<<r;return e}class M{transform(t){const e=this._transform(t),r=[e.points.buffer,e.rgb.buffer];null!=e.pointIdFilterMap&&r.push(e.pointIdFilterMap.buffer);for(const t of e.attributes)"buffer"in t.values&&(0,o.eP)(t.values.buffer)&&t.values.buffer!==e.rgb.buffer&&r.push(t.values.buffer);return Promise.resolve({result:e,transferList:r})}_transform(t){const e=function(t,e){if(null==t.encoding||""===t.encoding){const r=(0,b.W7)(e,t);if(null==r.vertexAttributes.position)return;const n=(0,b.I_)(e,r.vertexAttributes.position),o=r.header.fields,a=[o.offsetX,o.offsetY,o.offsetZ],s=[o.scaleX,o.scaleY,o.scaleZ],i=n.length/3,u=new Float64Array(3*i);for(let t=0;t<i;t++)u[3*t]=n[3*t]*s[0]+a[0],u[3*t+1]=n[3*t+1]*s[1]+a[1],u[3*t+2]=n[3*t+2]*s[2]+a[2];return u}if("lepcc-xyz"===t.encoding)return(0,p.Gi)(e).result}(t.schema,t.geometryBuffer);let r=e.length/3,o=null;const a=new Array,s=m(t.primaryAttributeData,e,r);null!=t.primaryAttributeData&&s&&a.push({attributeInfo:t.primaryAttributeData.attributeInfo,values:s});const i=m(t.modulationAttributeData,e,r);null!=t.modulationAttributeData&&i&&a.push({attributeInfo:t.modulationAttributeData.attributeInfo,values:i});let u=function(t,e,r,n){const{rendererJSON:o,isRGBRenderer:a}=t;let s=null,i=null;if(e&&a)s=e;else if(e&&"pointCloudUniqueValueRenderer"===o?.type){i=h.Z.fromJSON(o);const t=i.colorUniqueValueInfos;s=new Uint8Array(3*n);const r=y(i.fieldTransformType);for(let o=0;o<n;o++){const n=(r?r(e[o]):e[o])+"";for(let e=0;e<t.length;e++)if(t[e].values.includes(n)){s[3*o]=t[e].color.r,s[3*o+1]=t[e].color.g,s[3*o+2]=t[e].color.b;break}}}else if(e&&"pointCloudStretchRenderer"===o?.type){i=d.Z.fromJSON(o);const t=i.stops;s=new Uint8Array(3*n);const r=y(i.fieldTransformType);for(let o=0;o<n;o++){const n=r?r(e[o]):e[o],a=t.length-1;if(n<t[0].value)s[3*o]=t[0].color.r,s[3*o+1]=t[0].color.g,s[3*o+2]=t[0].color.b;else if(n>=t[a].value)s[3*o]=t[a].color.r,s[3*o+1]=t[a].color.g,s[3*o+2]=t[a].color.b;else for(let e=1;e<t.length;e++)if(n<t[e].value){const r=(n-t[e-1].value)/(t[e].value-t[e-1].value);s[3*o]=t[e].color.r*r+t[e-1].color.r*(1-r),s[3*o+1]=t[e].color.g*r+t[e-1].color.g*(1-r),s[3*o+2]=t[e].color.b*r+t[e-1].color.b*(1-r);break}}}else if(e&&"pointCloudClassBreaksRenderer"===o?.type){i=f.Z.fromJSON(o);const t=i.colorClassBreakInfos;s=new Uint8Array(3*n);const r=y(i.fieldTransformType);for(let o=0;o<n;o++){const n=r?r(e[o]):e[o];for(let e=0;e<t.length;e++)if(n>=t[e].minValue&&n<=t[e].maxValue){s[3*o]=t[e].color.r,s[3*o+1]=t[e].color.g,s[3*o+2]=t[e].color.b;break}}}else s=new Uint8Array(3*n).fill(255);if(r&&i&&i.colorModulation){const t=i.colorModulation.minValue,e=i.colorModulation.maxValue,o=.3;for(let a=0;a<n;a++){const n=r[a],i=n>=e?1:n<=t?o:o+(1-o)*(n-t)/(e-t);s[3*a]=i*s[3*a],s[3*a+1]=i*s[3*a+1],s[3*a+2]=i*s[3*a+2]}}return s}(t.rendererInfo,s,i,r);if(t.filterInfo&&t.filterInfo.length>0&&null!=t.filterAttributesData){const s=t.filterAttributesData.filter(n.pC).map((t=>{const n=m(t,e,r),o={attributeInfo:t.attributeInfo,values:n};return a.push(o),o}));o=new Uint32Array(r),r=g(e,u,o,t.filterInfo,s)}for(const n of t.userAttributesData){const t=m(n,e,r);a.push({attributeInfo:n.attributeInfo,values:t})}3*r<u.length&&(u=new Uint8Array(u.buffer.slice(0,3*r))),this._applyElevationOffsetInPlace(e,r,t.elevationOffset);const c=this._transformCoordinates(e,r,t.obb,l.Z.fromJSON(t.inSR),l.Z.fromJSON(t.outSR));return{obb:t.obb,points:c,rgb:u,attributes:a,pointIdFilterMap:o}}_transformCoordinates(t,e,r,n,o){if(!(0,c.projectBuffer)(t,n,0,t,o,0,e))throw new Error("Can't reproject");const s=(0,u.f)(r.center[0],r.center[1],r.center[2]),l=(0,u.c)(),f=(0,u.c)();(0,a.c)(O,r.quaternion);const d=new Float32Array(3*e);for(let n=0;n<e;n++)l[0]=t[3*n]-s[0],l[1]=t[3*n+1]-s[1],l[2]=t[3*n+2]-s[2],(0,i.q)(f,l,O),r.halfSize[0]=Math.max(r.halfSize[0],Math.abs(f[0])),r.halfSize[1]=Math.max(r.halfSize[1],Math.abs(f[1])),r.halfSize[2]=Math.max(r.halfSize[2],Math.abs(f[2])),d[3*n]=l[0],d[3*n+1]=l[1],d[3*n+2]=l[2];return d}_applyElevationOffsetInPlace(t,e,r){if(0!==r)for(let n=0;n<e;n++)t[3*n+2]+=r}}const O=(0,s.c)();function T(){return new M}},91891:(t,e,r)=>{r.d(e,{I_:()=>d,W7:()=>p,qM:()=>g});var n=r(20102),o=r(22974),a=r(92604),s=r(25683),i=r(35065);const u=a.Z.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function c(t,e,r){let o="",a=0;for(;a<r;){const s=t[e+a];if(s<128)o+=String.fromCharCode(s),a++;else if(s>=192&&s<224){if(a+1>=r)throw new n.Z("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");const i=(31&s)<<6|63&t[e+a+1];o+=String.fromCharCode(i),a+=2}else if(s>=224&&s<240){if(a+2>=r)throw new n.Z("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const i=(15&s)<<12|(63&t[e+a+1])<<6|63&t[e+a+2];o+=String.fromCharCode(i),a+=3}else{if(!(s>=240&&s<248))throw new n.Z("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");{if(a+3>=r)throw new n.Z("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const i=(7&s)<<18|(63&t[e+a+1])<<12|(63&t[e+a+2])<<6|63&t[e+a+3];if(i>=65536){const t=55296+(i-65536>>10),e=56320+(1023&i);o+=String.fromCharCode(t,e)}else o+=String.fromCharCode(i);a+=4}}}return o}function l(t,e){const r={byteOffset:0,byteCount:0,fields:Object.create(null)};let n=0;for(let o=0;o<e.length;o++){const a=e[o],s=a.valueType||a.type,i=w[s];r.fields[a.property]=i(t,n),n+=y[s].BYTES_PER_ELEMENT}return r.byteCount=n,r}function f(t,e,r){const o=[];let a,s,i=0;for(s=0;s<t;s+=1){if(a=e[s],a>0){if(o.push(c(r,i,a-1)),0!==r[i+a-1])throw new n.Z("string-array-error","Invalid string array: missing null termination.")}else o.push(null);i+=a}return o}function d(t,e){return new(0,y[e.valueType])(t,e.byteOffset,e.count*e.valuesPerElement)}function h(t,e,r){const a=null!=e.header?l(t,e.header):{byteOffset:0,byteCount:0,fields:{count:r}},s={header:a,byteOffset:a.byteCount,byteCount:0,entries:Object.create(null)};let i=a.byteCount;for(let t=0;t<e.ordering.length;t++){const r=e.ordering[t],u=(0,o.d9)(e[r]);if(u.count=a.fields.count??0,"String"===u.valueType){if(u.byteOffset=i,u.byteCount=a.fields[r+"ByteCount"],"UTF-8"!==u.encoding)throw new n.Z("unsupported-encoding","Unsupported String encoding.",{encoding:u.encoding});if(u.timeEncoding&&"ECMA_ISO8601"!==u.timeEncoding)throw new n.Z("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:u.timeEncoding})}else{if(!M(u.valueType))throw new n.Z("unsupported-value-type","Unsupported binary valueType",{valueType:u.valueType});{const t=O(u.valueType);i+=i%t!=0?t-i%t:0,u.byteOffset=i,u.byteCount=t*u.valuesPerElement*u.count}}i+=u.byteCount??0,s.entries[r]=u}return s.byteCount=i-s.byteOffset,s}function b(t,e,r){if(e!==t&&u.error(`Invalid ${r} buffer size\n expected: ${t}, actual: ${e})`),e<t)throw new n.Z("buffer-too-small","Binary buffer is too small",{expectedSize:t,actualSize:e})}function p(t,e){const r=l(t,e&&e.header);let n=r.byteCount;const o={isDraco:!1,header:r,byteOffset:r.byteCount,byteCount:0,vertexAttributes:{}},a=r.fields,s=null!=a.vertexCount?a.vertexCount:a.count;for(const t of e.ordering){if(!e.vertexAttributes[t])continue;const r={...e.vertexAttributes[t],byteOffset:n,count:s},a=m[t]||"_"+t;o.vertexAttributes[a]=r,n+=O(r.valueType)*r.valuesPerElement*s}const i=a.faceCount;if(e.faces&&i){o.faces={};for(const t of e.ordering){if(!e.faces[t])continue;const r={...e.faces[t],byteOffset:n,count:i};o.faces[t]=r,n+=O(r.valueType)*r.valuesPerElement*i}}const u=a.featureCount;if(e.featureAttributes&&e.featureAttributeOrder&&u){o.featureAttributes={};for(const t of e.featureAttributeOrder){if(!e.featureAttributes[t])continue;const r={...e.featureAttributes[t],byteOffset:n,count:u};o.featureAttributes[t]=r,n+=("UInt64"===r.valueType?8:O(r.valueType))*r.valuesPerElement*u}}return b(n,t.byteLength,"geometry"),o.byteCount=n-o.byteOffset,o}const m={position:i.T.POSITION,normal:i.T.NORMAL,color:i.T.COLOR,uv0:i.T.UV0,region:i.T.UVREGION};function g(t,e,r){if("lepcc-rgb"===t.encoding)return(0,s.IT)(e);if("lepcc-intensity"===t.encoding)return(0,s.ti)(e);if(null!=t.encoding&&""!==t.encoding)throw new n.Z("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");t["attributeByteCounts "]&&!t.attributeByteCounts&&(u.warn("Warning: Trailing space in 'attributeByteCounts '."),t.attributeByteCounts=t["attributeByteCounts "]),"ObjectIds"===t.ordering[0]&&t.hasOwnProperty("objectIds")&&(u.warn("Warning: Case error in objectIds"),t.ordering[0]="objectIds");const o=h(e,t,r);b(o.byteOffset+o.byteCount,e.byteLength,"attribute");const a=o.entries.attributeValues||o.entries.objectIds;if(a){if("String"===a.valueType){const t=o.entries.attributeByteCounts,r=d(e,t),n=function(t,e){return new Uint8Array(t,e.byteOffset,e.byteCount)}(e,a);return a.timeEncoding?function(t,e,r){return f(t,e,r).map((t=>{const e=t?Date.parse(t):null;return e&&!Number.isNaN(e)?e:null}))}(t.count,r,n):f(t.count,r,n)}return d(e,a)}throw new n.Z("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}const y={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},w={Float32:(t,e)=>new DataView(t,0).getFloat32(e,!0),Float64:(t,e)=>new DataView(t,0).getFloat64(e,!0),UInt8:(t,e)=>new DataView(t,0).getUint8(e),Int8:(t,e)=>new DataView(t,0).getInt8(e),UInt16:(t,e)=>new DataView(t,0).getUint16(e,!0),Int16:(t,e)=>new DataView(t,0).getInt16(e,!0),UInt32:(t,e)=>new DataView(t,0).getUint32(e,!0),Int32:(t,e)=>new DataView(t,0).getInt32(e,!0)};function M(t){return y.hasOwnProperty(t)}function O(t){return M(t)?y[t].BYTES_PER_ELEMENT:0}},25683:(t,e,r)=>{r.d(e,{Gi:()=>c,IT:()=>b,ti:()=>g});var n=r(20102);const o=!0,a={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};function s(t,e,r){return{identifier:String.fromCharCode.apply(null,new Uint8Array(t,r+a.identifierOffset,a.identifierLength)),version:e.getUint16(r+a.versionOffset,o),checksum:e.getUint32(r+a.checksumOffset,o)}}const i={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};function u(t,e){return{sizeLo:t.getUint32(e+i.sizeLo,o),sizeHi:t.getUint32(e+i.sizeHi,o),minX:t.getFloat64(e+i.minX,o),minY:t.getFloat64(e+i.minY,o),minZ:t.getFloat64(e+i.minZ,o),maxX:t.getFloat64(e+i.maxX,o),maxY:t.getFloat64(e+i.maxY,o),maxZ:t.getFloat64(e+i.maxZ,o),errorX:t.getFloat64(e+i.errorX,o),errorY:t.getFloat64(e+i.errorY,o),errorZ:t.getFloat64(e+i.errorZ,o),count:t.getUint32(e+i.count,o),reserved:t.getUint32(e+i.reserved,o)}}function c(t){const e=new DataView(t,0);let r=0;const{identifier:o,version:c}=s(t,e,r);if(r+=a.byteCount,"LEPCC     "!==o)throw new n.Z("lepcc-decode-error","Bad identifier");if(c>1)throw new n.Z("lepcc-decode-error","Unknown version");const f=u(e,r);if(r+=i.byteCount,f.sizeHi*2**32+f.sizeLo!==t.byteLength)throw new n.Z("lepcc-decode-error","Bad size");const d=new Float64Array(3*f.count),h=[],b=[],p=[],m=[];if(r=l(t,r,h),r=l(t,r,b),r=l(t,r,p),r=l(t,r,m),r!==t.byteLength)throw new n.Z("lepcc-decode-error","Bad length");let g=0,y=0;for(let t=0;t<h.length;t++){y+=h[t];let e=0;for(let r=0;r<b[t];r++){e+=p[g];const t=m[g];d[3*g]=Math.min(f.maxX,f.minX+2*f.errorX*e),d[3*g+1]=Math.min(f.maxY,f.minY+2*f.errorY*y),d[3*g+2]=Math.min(f.maxZ,f.minZ+2*f.errorZ*t),g++}}return{errorX:f.errorX,errorY:f.errorY,errorZ:f.errorZ,result:d}}function l(t,e,r){const n=[];e=f(t,e,n);const o=[];for(let a=0;a<n.length;a++){o.length=0,e=f(t,e,o);for(let t=0;t<o.length;t++)r.push(o[t]+n[a])}return e}function f(t,e,r){const a=new DataView(t,e),s=a.getUint8(0),i=31&s,u=!!(32&s),c=(192&s)>>6;let l=0;if(0===c)l=a.getUint32(1,o),e+=5;else if(1===c)l=a.getUint16(1,o),e+=3;else{if(2!==c)throw new n.Z("lepcc-decode-error","Bad count type");l=a.getUint8(1),e+=2}if(u)throw new n.Z("lepcc-decode-error","LUT not implemented");const f=Math.ceil(l*i/8),d=new Uint8Array(t,e,f);let h=0,b=0,p=0;const m=-1>>>32-i;for(let t=0;t<l;t++){for(;b<i;)h|=d[p]<<b,b+=8,p+=1;r[t]=h&m,h>>>=i,b-=i,b+i>32&&(h|=d[p-1]>>8-b)}return e+p}const d={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};function h(t,e){return{sizeLo:t.getUint32(e+d.sizeLo,o),sizeHi:t.getUint32(e+d.sizeHi,o),count:t.getUint32(e+d.count,o),colorMapCount:t.getUint16(e+d.colorMapCount,o),lookupMethod:t.getUint8(e+d.lookupMethod),compressionMethod:t.getUint8(e+d.compressionMethod)}}function b(t){const e=new DataView(t,0);let r=0;const{identifier:o,version:i}=s(t,e,r);if(r+=a.byteCount,"ClusterRGB"!==o)throw new n.Z("lepcc-decode-error","Bad identifier");if(i>1)throw new n.Z("lepcc-decode-error","Unknown version");const u=h(e,r);if(r+=d.byteCount,u.sizeHi*2**32+u.sizeLo!==t.byteLength)throw new n.Z("lepcc-decode-error","Bad size");if((2===u.lookupMethod||1===u.lookupMethod)&&0===u.compressionMethod){if(3*u.colorMapCount+u.count+r!==t.byteLength||u.colorMapCount>256)throw new n.Z("lepcc-decode-error","Bad count");const e=new Uint8Array(t,r,3*u.colorMapCount),o=new Uint8Array(t,r+3*u.colorMapCount,u.count),a=new Uint8Array(3*u.count);for(let t=0;t<u.count;t++){const r=o[t];a[3*t]=e[3*r],a[3*t+1]=e[3*r+1],a[3*t+2]=e[3*r+2]}return a}if(0===u.lookupMethod&&0===u.compressionMethod){if(3*u.count+r!==t.byteLength||0!==u.colorMapCount)throw new n.Z("lepcc-decode-error","Bad count");return new Uint8Array(t,r).slice()}if(u.lookupMethod<=2&&1===u.compressionMethod){if(r+3!==t.byteLength||1!==u.colorMapCount)throw new n.Z("lepcc-decode-error","Bad count");const o=e.getUint8(r),a=e.getUint8(r+1),s=e.getUint8(r+2),i=new Uint8Array(3*u.count);for(let t=0;t<u.count;t++)i[3*t]=o,i[3*t+1]=a,i[3*t+2]=s;return i}throw new n.Z("lepcc-decode-error","Bad method "+u.lookupMethod+","+u.compressionMethod)}const p={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};function m(t,e){return{sizeLo:t.getUint32(e+p.sizeLo,o),sizeHi:t.getUint32(e+p.sizeHi,o),count:t.getUint32(e+p.count,o),scaleFactor:t.getUint16(e+p.scaleFactor,o),bitsPerPoint:t.getUint8(e+p.bitsPerPoint),reserved:t.getUint8(e+p.reserved)}}function g(t){const e=new DataView(t,0);let r=0;const{identifier:o,version:i}=s(t,e,r);if(r+=a.byteCount,"Intensity "!==o)throw new n.Z("lepcc-decode-error","Bad identifier");if(i>1)throw new n.Z("lepcc-decode-error","Unknown version");const u=m(e,r);if(r+=p.byteCount,u.sizeHi*2**32+u.sizeLo!==t.byteLength)throw new n.Z("lepcc-decode-error","Bad size");const c=new Uint16Array(u.count);if(8===u.bitsPerPoint){if(u.count+r!==t.byteLength)throw new n.Z("lepcc-decode-error","Bad size");const e=new Uint8Array(t,r,u.count);for(let t=0;t<u.count;t++)c[t]=e[t]*u.scaleFactor}else if(16===u.bitsPerPoint){if(2*u.count+r!==t.byteLength)throw new n.Z("lepcc-decode-error","Bad size");const e=new Uint16Array(t,r,u.count);for(let t=0;t<u.count;t++)c[t]=e[t]*u.scaleFactor}else{const e=[];if(f(t,r,e)!==t.byteLength)throw new n.Z("lepcc-decode-error","Bad size");for(let t=0;t<u.count;t++)c[t]=e[t]*u.scaleFactor}return c}},35065:(t,e,r)=>{var n;r.d(e,{T:()=>n}),function(t){t.POSITION="position",t.NORMAL="normal",t.NORMALCOMPRESSED="normalCompressed",t.UV0="uv0",t.AUXPOS1="auxpos1",t.AUXPOS2="auxpos2",t.COLOR="color",t.SYMBOLCOLOR="symbolColor",t.SIZE="size",t.TANGENT="tangent",t.OFFSET="offset",t.SUBDIVISIONFACTOR="subdivisionFactor",t.COLORFEATUREATTRIBUTE="colorFeatureAttribute",t.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",t.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",t.DISTANCETOSTART="distanceToStart",t.UVMAPSPACE="uvMapSpace",t.BOUNDINGRECT="boundingRect",t.UVREGION="uvRegion",t.PROFILERIGHT="profileRight",t.PROFILEUP="profileUp",t.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",t.FEATUREVALUE="featureValue",t.MODELORIGINHI="modelOriginHi",t.MODELORIGINLO="modelOriginLo",t.MODEL="model",t.MODELNORMAL="modelNormal",t.INSTANCECOLOR="instanceColor",t.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",t.LOCALTRANSFORM="localTransform",t.GLOBALTRANSFORM="globalTransform",t.BOUNDINGSPHERE="boundingSphere",t.MODELORIGIN="modelOrigin",t.MODELSCALEFACTORS="modelScaleFactors",t.FEATUREATTRIBUTE="featureAttribute",t.STATE="state",t.LODLEVEL="lodLevel",t.POSITION0="position0",t.POSITION1="position1",t.NORMALA="normalA",t.NORMALB="normalB",t.COMPONENTINDEX="componentIndex",t.VARIANTOFFSET="variantOffset",t.VARIANTSTROKE="variantStroke",t.VARIANTEXTENSION="variantExtension",t.U8PADDING="u8padding",t.U16PADDING="u16padding",t.SIDENESS="sideness",t.START="start",t.END="end",t.UP="up",t.EXTRUDE="extrude",t.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor",t.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"}(n||(n={}))}}]);