"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[7364,4983],{60694:(e,r,t)=>{t.d(r,{Fi:()=>c,HZ:()=>y,Jf:()=>h,LS:()=>m,Wo:()=>S,bd:()=>w,cr:()=>p,iz:()=>d,qg:()=>f,yG:()=>v});var n=t(84952),s=t(97159);const i={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},l=Object.values(i),u=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${l.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),o=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${l.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),a=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function c(e){return u.test(e)}function f(e){if(null==e)return null;const r=(0,n.An)(e),t=r?.path.match(u)||r?.path.match(o);if(!t)return null;const[,s,l,a,c]=t,f=l.indexOf("/");return{title:p(-1!==f?l.slice(f+1):l),serverType:i[a.toLowerCase()],sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:s}}}function d(e){const r=(0,n.An)(e).path.match(a);return r?{serviceUrl:r[1],sublayerId:Number(r[2])}:null}function p(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function v(e,r){const t=[];if(e){const r=f(e);null!=r&&r.title&&t.push(r.title)}if(r){const e=p(r);t.push(e)}if(2===t.length){if(t[0].toLowerCase().includes(t[1].toLowerCase()))return t[0];if(t[1].toLowerCase().includes(t[0].toLowerCase()))return t[1]}return t.join(" - ")}function S(e){let r=(0,n.$z)(e,!0);return!!r&&(r=r.toLowerCase(),r.endsWith(".arcgis.com")&&(r.startsWith("services")||r.startsWith("tiles")||r.startsWith("features")))}function h(e,r){return e?(0,n.UC)((0,n.zi)(e,r)):e}function y(e){let{url:r}=e;if(!r)return{url:r};r=(0,n.zi)(r,e.logger);const t=(0,n.An)(r),s=f(t.path);let i;if(null!=s)null!=s.sublayer&&null==e.layer.layerId&&(i=s.sublayer),r=s.url.path;else if(e.nonStandardUrlAllowed){const e=d(t.path);null!=e&&(r=e.serviceUrl,i=e.sublayerId)}return{url:(0,n.UC)(r),layerId:i}}function m(e,r,t,i,l){(0,s.w)(r,i,"url",l),i.url&&null!=e.layerId&&(i.url=(0,n.fj)(i.url,t,e.layerId.toString()))}function w(e){if(!e)return!1;const r=e.toLowerCase(),t=r.includes("/services/"),n=r.includes("/mapserver/wmsserver"),s=r.includes("/imageserver/wmsserver"),i=r.includes("/wmsserver");return t&&(n||s||i)}},10407:(e,r,t)=>{t.d(r,{It:()=>d,LG:()=>l,OM:()=>a,Y:()=>u,bK:()=>o,mm:()=>f,sQ:()=>c});var n=t(57251),s=t(16930),i=t(28735);function l(e,r){if(!u(e,r)){const t=e.typeKeywords;t?t.push(r):e.typeKeywords=[r]}}function u(e,r){return!!e.typeKeywords?.includes(r)}function o(e){return u(e,f.HOSTED_SERVICE)}function a(e,r){const t=e.typeKeywords;if(t){const e=t.indexOf(r);e>-1&&t.splice(e,1)}}async function c(e){const r=e.clone().normalize();let t;if(r.length>1)for(const e of r)t?e.width>t.width&&(t=e):t=e;else t=r[0];return async function(e){const r=e.spatialReference;if(r.isWGS84)return e.clone();if(r.isWebMercator)return(0,i.ci)(e);const t=s.A.WGS84;return await(0,n.initializeProjection)(r,t),(0,n.project)(e,t)}(t)}const f={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function d(e){const{portal:r,isOrgItem:t,itemControl:n}=e,s=r.user?.privileges;let i=!s||s.includes("features:user:edit"),l=!!t&&!!s?.includes("features:user:fullEdit");const u="update"===n||"admin"===n;return u?l=i=!0:l&&(i=!0),{features:{edit:i,fullEdit:l},content:{updateItem:u}}}}}]);