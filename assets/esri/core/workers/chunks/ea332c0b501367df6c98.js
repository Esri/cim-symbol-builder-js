"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[4275],{52138:(t,e,n)=>{n.d(e,{A:()=>m,a:()=>O,b:()=>d,c:()=>_,d:()=>f,e:()=>p,f:()=>T,g:()=>r,i:()=>h,k:()=>l,m:()=>c,s:()=>i,t:()=>a,w:()=>u,y:()=>E,z:()=>R});var o=n(65617),s=n(46851);function i(t,e,n,o,s,i,r,a,h,c,u,d,l,f,_,m,b){return t[0]=e,t[1]=n,t[2]=o,t[3]=s,t[4]=i,t[5]=r,t[6]=a,t[7]=h,t[8]=c,t[9]=u,t[10]=d,t[11]=l,t[12]=f,t[13]=_,t[14]=m,t[15]=b,t}function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function a(t,e){if(t===e){const n=e[1],o=e[2],s=e[3],i=e[6],r=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=o,t[9]=i,t[11]=e[14],t[12]=s,t[13]=r,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function h(t,e){const n=e[0],o=e[1],s=e[2],i=e[3],r=e[4],a=e[5],h=e[6],c=e[7],u=e[8],d=e[9],l=e[10],f=e[11],_=e[12],m=e[13],b=e[14],M=e[15],T=n*a-o*r,g=n*h-s*r,p=n*c-i*r,O=o*h-s*a,R=o*c-i*a,E=s*c-i*h,x=u*m-d*_,A=u*b-l*_,S=u*M-f*_,N=d*b-l*m,F=d*M-f*m,j=l*M-f*b;let B=T*j-g*F+p*N+O*S-R*A+E*x;return B?(B=1/B,t[0]=(a*j-h*F+c*N)*B,t[1]=(s*F-o*j-i*N)*B,t[2]=(m*E-b*R+M*O)*B,t[3]=(l*R-d*E-f*O)*B,t[4]=(h*S-r*j-c*A)*B,t[5]=(n*j-s*S+i*A)*B,t[6]=(b*p-_*E-M*g)*B,t[7]=(u*E-l*p+f*g)*B,t[8]=(r*F-a*S+c*x)*B,t[9]=(o*S-n*F-i*x)*B,t[10]=(_*R-m*p+M*T)*B,t[11]=(d*p-u*R-f*T)*B,t[12]=(a*A-r*N-h*x)*B,t[13]=(n*N-o*A+s*x)*B,t[14]=(m*g-_*O-b*T)*B,t[15]=(u*O-d*g+l*T)*B,t):null}function c(t,e,n){const o=e[0],s=e[1],i=e[2],r=e[3],a=e[4],h=e[5],c=e[6],u=e[7],d=e[8],l=e[9],f=e[10],_=e[11],m=e[12],b=e[13],M=e[14],T=e[15];let g=n[0],p=n[1],O=n[2],R=n[3];return t[0]=g*o+p*a+O*d+R*m,t[1]=g*s+p*h+O*l+R*b,t[2]=g*i+p*c+O*f+R*M,t[3]=g*r+p*u+O*_+R*T,g=n[4],p=n[5],O=n[6],R=n[7],t[4]=g*o+p*a+O*d+R*m,t[5]=g*s+p*h+O*l+R*b,t[6]=g*i+p*c+O*f+R*M,t[7]=g*r+p*u+O*_+R*T,g=n[8],p=n[9],O=n[10],R=n[11],t[8]=g*o+p*a+O*d+R*m,t[9]=g*s+p*h+O*l+R*b,t[10]=g*i+p*c+O*f+R*M,t[11]=g*r+p*u+O*_+R*T,g=n[12],p=n[13],O=n[14],R=n[15],t[12]=g*o+p*a+O*d+R*m,t[13]=g*s+p*h+O*l+R*b,t[14]=g*i+p*c+O*f+R*M,t[15]=g*r+p*u+O*_+R*T,t}function u(t,e,n){const o=n[0],s=n[1],i=n[2];if(e===t)t[12]=e[0]*o+e[4]*s+e[8]*i+e[12],t[13]=e[1]*o+e[5]*s+e[9]*i+e[13],t[14]=e[2]*o+e[6]*s+e[10]*i+e[14],t[15]=e[3]*o+e[7]*s+e[11]*i+e[15];else{const n=e[0],r=e[1],a=e[2],h=e[3],c=e[4],u=e[5],d=e[6],l=e[7],f=e[8],_=e[9],m=e[10],b=e[11];t[0]=n,t[1]=r,t[2]=a,t[3]=h,t[4]=c,t[5]=u,t[6]=d,t[7]=l,t[8]=f,t[9]=_,t[10]=m,t[11]=b,t[12]=n*o+c*s+f*i+e[12],t[13]=r*o+u*s+_*i+e[13],t[14]=a*o+d*s+m*i+e[14],t[15]=h*o+l*s+b*i+e[15]}return t}function d(t,e,n){const o=n[0],s=n[1],i=n[2];return t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function l(t,e,n,o){let i,r,a,h,c,u,d,l,f,_,m,b,M,T,g,p,O,R,E,x,A,S,N,F,j=o[0],B=o[1],P=o[2],I=Math.sqrt(j*j+B*B+P*P);return I<(0,s.g)()?null:(I=1/I,j*=I,B*=I,P*=I,i=Math.sin(n),r=Math.cos(n),a=1-r,h=e[0],c=e[1],u=e[2],d=e[3],l=e[4],f=e[5],_=e[6],m=e[7],b=e[8],M=e[9],T=e[10],g=e[11],p=j*j*a+r,O=B*j*a+P*i,R=P*j*a-B*i,E=j*B*a-P*i,x=B*B*a+r,A=P*B*a+j*i,S=j*P*a+B*i,N=B*P*a-j*i,F=P*P*a+r,t[0]=h*p+l*O+b*R,t[1]=c*p+f*O+M*R,t[2]=u*p+_*O+T*R,t[3]=d*p+m*O+g*R,t[4]=h*E+l*x+b*A,t[5]=c*E+f*x+M*A,t[6]=u*E+_*x+T*A,t[7]=d*E+m*x+g*A,t[8]=h*S+l*N+b*F,t[9]=c*S+f*N+M*F,t[10]=u*S+_*N+T*F,t[11]=d*S+m*N+g*F,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function f(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function _(t,e,n){if(0===e)return r(t);let o,i,a,h=n[0],c=n[1],u=n[2],d=Math.sqrt(h*h+c*c+u*u);return d<(0,s.g)()?null:(d=1/d,h*=d,c*=d,u*=d,o=Math.sin(e),i=Math.cos(e),a=1-i,t[0]=h*h*a+i,t[1]=c*h*a+u*o,t[2]=u*h*a-c*o,t[3]=0,t[4]=h*c*a-u*o,t[5]=c*c*a+i,t[6]=u*c*a+h*o,t[7]=0,t[8]=h*u*a+c*o,t[9]=c*u*a-h*o,t[10]=u*u*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function m(t,e){const n=Math.sin(e),o=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function b(t,e,n){const o=e[0],s=e[1],i=e[2],r=e[3],a=o+o,h=s+s,c=i+i,u=o*a,d=o*h,l=o*c,f=s*h,_=s*c,m=i*c,b=r*a,M=r*h,T=r*c;return t[0]=1-(f+m),t[1]=d+T,t[2]=l-M,t[3]=0,t[4]=d-T,t[5]=1-(u+m),t[6]=_+b,t[7]=0,t[8]=l+M,t[9]=_-b,t[10]=1-(u+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}const M=(0,o.c)();function T(t,e,n,o){const s=e[0],i=e[1],r=e[2],a=e[3],h=s+s,c=i+i,u=r+r,d=s*h,l=s*c,f=s*u,_=i*c,m=i*u,b=r*u,M=a*h,T=a*c,g=a*u,p=o[0],O=o[1],R=o[2];return t[0]=(1-(_+b))*p,t[1]=(l+g)*p,t[2]=(f-T)*p,t[3]=0,t[4]=(l-g)*O,t[5]=(1-(d+b))*O,t[6]=(m+M)*O,t[7]=0,t[8]=(f+T)*R,t[9]=(m-M)*R,t[10]=(1-(d+_))*R,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function g(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function p(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function O(t,e){if(t===e)return!0;const n=t[0],o=t[1],i=t[2],r=t[3],a=t[4],h=t[5],c=t[6],u=t[7],d=t[8],l=t[9],f=t[10],_=t[11],m=t[12],b=t[13],M=t[14],T=t[15],g=e[0],p=e[1],O=e[2],R=e[3],E=e[4],x=e[5],A=e[6],S=e[7],N=e[8],F=e[9],j=e[10],B=e[11],P=e[12],I=e[13],v=e[14],z=e[15],L=(0,s.g)();return Math.abs(n-g)<=L*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(o-p)<=L*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(i-O)<=L*Math.max(1,Math.abs(i),Math.abs(O))&&Math.abs(r-R)<=L*Math.max(1,Math.abs(r),Math.abs(R))&&Math.abs(a-E)<=L*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(h-x)<=L*Math.max(1,Math.abs(h),Math.abs(x))&&Math.abs(c-A)<=L*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(u-S)<=L*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(d-N)<=L*Math.max(1,Math.abs(d),Math.abs(N))&&Math.abs(l-F)<=L*Math.max(1,Math.abs(l),Math.abs(F))&&Math.abs(f-j)<=L*Math.max(1,Math.abs(f),Math.abs(j))&&Math.abs(_-B)<=L*Math.max(1,Math.abs(_),Math.abs(B))&&Math.abs(m-P)<=L*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(b-I)<=L*Math.max(1,Math.abs(b),Math.abs(I))&&Math.abs(M-v)<=L*Math.max(1,Math.abs(M),Math.abs(v))&&Math.abs(T-z)<=L*Math.max(1,Math.abs(T),Math.abs(z))}function R(t){const e=(0,s.g)(),n=t[0],o=t[1],i=t[2],r=t[4],a=t[5],h=t[6],c=t[8],u=t[9],d=t[10];return Math.abs(1-(n*n+r*r+c*c))<=e&&Math.abs(1-(o*o+a*a+u*u))<=e&&Math.abs(1-(i*i+h*h+d*d))<=e}function E(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[8]&&0===t[9]&&1===t[10]}const x=c,A=g;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},adjoint:function(t,e){const n=e[0],o=e[1],s=e[2],i=e[3],r=e[4],a=e[5],h=e[6],c=e[7],u=e[8],d=e[9],l=e[10],f=e[11],_=e[12],m=e[13],b=e[14],M=e[15];return t[0]=a*(l*M-f*b)-d*(h*M-c*b)+m*(h*f-c*l),t[1]=-(o*(l*M-f*b)-d*(s*M-i*b)+m*(s*f-i*l)),t[2]=o*(h*M-c*b)-a*(s*M-i*b)+m*(s*c-i*h),t[3]=-(o*(h*f-c*l)-a*(s*f-i*l)+d*(s*c-i*h)),t[4]=-(r*(l*M-f*b)-u*(h*M-c*b)+_*(h*f-c*l)),t[5]=n*(l*M-f*b)-u*(s*M-i*b)+_*(s*f-i*l),t[6]=-(n*(h*M-c*b)-r*(s*M-i*b)+_*(s*c-i*h)),t[7]=n*(h*f-c*l)-r*(s*f-i*l)+u*(s*c-i*h),t[8]=r*(d*M-f*m)-u*(a*M-c*m)+_*(a*f-c*d),t[9]=-(n*(d*M-f*m)-u*(o*M-i*m)+_*(o*f-i*d)),t[10]=n*(a*M-c*m)-r*(o*M-i*m)+_*(o*c-i*a),t[11]=-(n*(a*f-c*d)-r*(o*f-i*d)+u*(o*c-i*a)),t[12]=-(r*(d*b-l*m)-u*(a*b-h*m)+_*(a*l-h*d)),t[13]=n*(d*b-l*m)-u*(o*b-s*m)+_*(o*l-s*d),t[14]=-(n*(a*b-h*m)-r*(o*b-s*m)+_*(o*h-s*a)),t[15]=n*(a*l-h*d)-r*(o*l-s*d)+u*(o*h-s*a),t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},determinant:function(t){const e=t[0],n=t[1],o=t[2],s=t[3],i=t[4],r=t[5],a=t[6],h=t[7],c=t[8],u=t[9],d=t[10],l=t[11],f=t[12],_=t[13],m=t[14],b=t[15];return(e*r-n*i)*(d*b-l*m)-(e*a-o*i)*(u*b-l*_)+(e*h-s*i)*(u*m-d*_)+(n*a-o*r)*(c*b-l*f)-(n*h-s*r)*(c*m-d*f)+(o*h-s*a)*(c*_-u*f)},equals:O,exactEquals:p,frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)},fromQuat:function(t,e){const n=e[0],o=e[1],s=e[2],i=e[3],r=n+n,a=o+o,h=s+s,c=n*r,u=o*r,d=o*a,l=s*r,f=s*a,_=s*h,m=i*r,b=i*a,M=i*h;return t[0]=1-d-_,t[1]=u+M,t[2]=l-b,t[3]=0,t[4]=u-M,t[5]=1-c-_,t[6]=f+m,t[7]=0,t[8]=l+b,t[9]=f-m,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromQuat2:function(t,e){const n=M,o=-e[0],s=-e[1],i=-e[2],r=e[3],a=e[4],h=e[5],c=e[6],u=e[7],d=o*o+s*s+i*i+r*r;return d>0?(n[0]=2*(a*r+u*o+h*i-c*s)/d,n[1]=2*(h*r+u*s+c*o-a*i)/d,n[2]=2*(c*r+u*i+a*s-h*o)/d):(n[0]=2*(a*r+u*o+h*i-c*s),n[1]=2*(h*r+u*s+c*o-a*i),n[2]=2*(c*r+u*i+a*s-h*o)),b(t,e,n),t},fromRotation:_,fromRotationTranslation:b,fromRotationTranslationScale:T,fromRotationTranslationScaleOrigin:function(t,e,n,o,s){const i=e[0],r=e[1],a=e[2],h=e[3],c=i+i,u=r+r,d=a+a,l=i*c,f=i*u,_=i*d,m=r*u,b=r*d,M=a*d,T=h*c,g=h*u,p=h*d,O=o[0],R=o[1],E=o[2],x=s[0],A=s[1],S=s[2],N=(1-(m+M))*O,F=(f+p)*O,j=(_-g)*O,B=(f-p)*R,P=(1-(l+M))*R,I=(b+T)*R,v=(_+g)*E,z=(b-T)*E,L=(1-(l+m))*E;return t[0]=N,t[1]=F,t[2]=j,t[3]=0,t[4]=B,t[5]=P,t[6]=I,t[7]=0,t[8]=v,t[9]=z,t[10]=L,t[11]=0,t[12]=n[0]+x-(N*x+B*A+v*S),t[13]=n[1]+A-(F*x+P*A+z*S),t[14]=n[2]+S-(j*x+I*A+L*S),t[15]=1,t},fromScaling:function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromTranslation:f,fromXRotation:m,fromYRotation:function(t,e){const n=Math.sin(e),o=Math.cos(e);return t[0]=o,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromZRotation:function(t,e){const n=Math.sin(e),o=Math.cos(e);return t[0]=o,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},frustum:function(t,e,n,o,s,i,r){const a=1/(n-e),h=1/(s-o),c=1/(i-r);return t[0]=2*i*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*h,t[6]=0,t[7]=0,t[8]=(n+e)*a,t[9]=(s+o)*h,t[10]=(r+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=r*i*2*c,t[15]=0,t},getRotation:function(t,e){const n=e[0]+e[5]+e[10];let o=0;return n>0?(o=2*Math.sqrt(n+1),t[3]=.25*o,t[0]=(e[6]-e[9])/o,t[1]=(e[8]-e[2])/o,t[2]=(e[1]-e[4])/o):e[0]>e[5]&&e[0]>e[10]?(o=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/o,t[0]=.25*o,t[1]=(e[1]+e[4])/o,t[2]=(e[8]+e[2])/o):e[5]>e[10]?(o=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/o,t[0]=(e[1]+e[4])/o,t[1]=.25*o,t[2]=(e[6]+e[9])/o):(o=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/o,t[0]=(e[8]+e[2])/o,t[1]=(e[6]+e[9])/o,t[2]=.25*o),t},getScaling:function(t,e){const n=e[0],o=e[1],s=e[2],i=e[4],r=e[5],a=e[6],h=e[8],c=e[9],u=e[10];return t[0]=Math.sqrt(n*n+o*o+s*s),t[1]=Math.sqrt(i*i+r*r+a*a),t[2]=Math.sqrt(h*h+c*c+u*u),t},getTranslation:function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},hasIdentityRotation:E,identity:r,invert:h,invertOrIdentity:function(t,e){return h(t,e)||r(t),t},isOrthoNormal:R,lookAt:function(t,e,n,o){const i=e[0],a=e[1],h=e[2];let c=i-n[0],u=a-n[1],d=h-n[2];const l=(0,s.g)();if(Math.abs(c)<l&&Math.abs(u)<l&&Math.abs(d)<l)return void r(t);let f=1/Math.sqrt(c*c+u*u+d*d);c*=f,u*=f,d*=f;const _=o[0],m=o[1],b=o[2];let M=m*d-b*u,T=b*c-_*d,g=_*u-m*c;f=Math.sqrt(M*M+T*T+g*g),f?(f=1/f,M*=f,T*=f,g*=f):(M=0,T=0,g=0);let p=u*g-d*T,O=d*M-c*g,R=c*T-u*M;f=Math.sqrt(p*p+O*O+R*R),f?(f=1/f,p*=f,O*=f,R*=f):(p=0,O=0,R=0),t[0]=M,t[1]=p,t[2]=c,t[3]=0,t[4]=T,t[5]=O,t[6]=u,t[7]=0,t[8]=g,t[9]=R,t[10]=d,t[11]=0,t[12]=-(M*i+T*a+g*h),t[13]=-(p*i+O*a+R*h),t[14]=-(c*i+u*a+d*h),t[15]=1},mul:x,multiply:c,multiplyScalar:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},multiplyScalarAndAdd:function(t,e,n,o){return t[0]=e[0]+n[0]*o,t[1]=e[1]+n[1]*o,t[2]=e[2]+n[2]*o,t[3]=e[3]+n[3]*o,t[4]=e[4]+n[4]*o,t[5]=e[5]+n[5]*o,t[6]=e[6]+n[6]*o,t[7]=e[7]+n[7]*o,t[8]=e[8]+n[8]*o,t[9]=e[9]+n[9]*o,t[10]=e[10]+n[10]*o,t[11]=e[11]+n[11]*o,t[12]=e[12]+n[12]*o,t[13]=e[13]+n[13]*o,t[14]=e[14]+n[14]*o,t[15]=e[15]+n[15]*o,t},ortho:function(t,e,n,o,s,i,r){const a=1/(e-n),h=1/(o-s),c=1/(i-r);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*a,t[13]=(s+o)*h,t[14]=(r+i)*c,t[15]=1,t},perspective:function(t,e,n,o,s){const i=1/Math.tan(e/2);let r;return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=s&&s!==1/0?(r=1/(o-s),t[10]=(s+o)*r,t[14]=2*s*o*r):(t[10]=-1,t[14]=-2*o),t},perspectiveFromFieldOfView:function(t,e,n,o){const s=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),r=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),h=2/(r+a),c=2/(s+i);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(r-a)*h*.5,t[9]=(s-i)*c*.5,t[10]=o/(n-o),t[11]=-1,t[12]=0,t[13]=0,t[14]=o*n/(n-o),t[15]=0,t},rotate:l,rotateX:function(t,e,n){const o=Math.sin(n),s=Math.cos(n),i=e[4],r=e[5],a=e[6],h=e[7],c=e[8],u=e[9],d=e[10],l=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*s+c*o,t[5]=r*s+u*o,t[6]=a*s+d*o,t[7]=h*s+l*o,t[8]=c*s-i*o,t[9]=u*s-r*o,t[10]=d*s-a*o,t[11]=l*s-h*o,t},rotateY:function(t,e,n){const o=Math.sin(n),s=Math.cos(n),i=e[0],r=e[1],a=e[2],h=e[3],c=e[8],u=e[9],d=e[10],l=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*s-c*o,t[1]=r*s-u*o,t[2]=a*s-d*o,t[3]=h*s-l*o,t[8]=i*o+c*s,t[9]=r*o+u*s,t[10]=a*o+d*s,t[11]=h*o+l*s,t},rotateZ:function(t,e,n){const o=Math.sin(n),s=Math.cos(n),i=e[0],r=e[1],a=e[2],h=e[3],c=e[4],u=e[5],d=e[6],l=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*s+c*o,t[1]=r*s+u*o,t[2]=a*s+d*o,t[3]=h*s+l*o,t[4]=c*s-i*o,t[5]=u*s-r*o,t[6]=d*s-a*o,t[7]=l*s-h*o,t},scale:d,set:i,str:function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},sub:A,subtract:g,targetTo:function(t,e,n,o){const s=e[0],i=e[1],r=e[2],a=o[0],h=o[1],c=o[2];let u=s-n[0],d=i-n[1],l=r-n[2],f=u*u+d*d+l*l;f>0&&(f=1/Math.sqrt(f),u*=f,d*=f,l*=f);let _=h*l-c*d,m=c*u-a*l,b=a*d-h*u;return f=_*_+m*m+b*b,f>0&&(f=1/Math.sqrt(f),_*=f,m*=f,b*=f),t[0]=_,t[1]=m,t[2]=b,t[3]=0,t[4]=d*b-l*m,t[5]=l*_-u*b,t[6]=u*m-d*_,t[7]=0,t[8]=u,t[9]=d,t[10]=l,t[11]=0,t[12]=s,t[13]=i,t[14]=r,t[15]=1,t},translate:u,transpose:a},Symbol.toStringTag,{value:"Module"}))},62155:(t,e,n)=>{var o;n.d(e,{R:()=>o}),function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"}(o||(o={}))},16996:(t,e,n)=>{n.d(e,{Ue:()=>h,nF:()=>u,zk:()=>c});var o=n(22021),s=n(22807),i=n(17896),r=n(65617),a=n(12981);function h(t){return t?{origin:(0,r.g)(t.origin),vector:(0,r.g)(t.vector)}:{origin:(0,r.c)(),vector:(0,r.c)()}}function c(t,e,n=h()){return(0,i.c)(n.origin,t),(0,i.f)(n.vector,e,t),n}function u(t,e,n){return function(t,e,n,s,r){const{vector:h,origin:c}=t,u=(0,i.f)(a.WM.get(),e,c),d=(0,i.j)(h,u)/(0,i.m)(h);return(0,i.i)(r,h,(0,o.uZ)(d,0,1)),(0,i.g)(r,r,t.origin)}(t,e,0,0,n)}(0,r.c)(),(0,r.c)(),new s.x((()=>h()))},73248:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Q});var o,s,i=n(43697),r=n(95330),a=(n(92604),n(75215),n(67676),n(80442),n(20102),n(52011)),h=n(17896),c=n(65617),u=n(16996),d=n(8310),l=n(71143),f=n(44553),_=n(22807),m=(n(52138),n(98766),n(88669)),b=n(78341);function M(t){return t?{ray:(0,b.Ue)(t.ray),c0:t.c0,c1:t.c1}:{ray:(0,b.Ue)(),c0:0,c1:Number.MAX_VALUE}}function T(t,e){for(let n=0;n<g;n++){const o=t[n];if(o[0]*e[0]+o[1]*e[1]+o[2]*e[2]+o[3]>=e[3])return!1}return!0}new _.x((()=>M())),n(62073),n(12981),function(t){t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT",t[t.BOTTOM=2]="BOTTOM",t[t.TOP=3]="TOP",t[t.NEAR=4]="NEAR",t[t.FAR=5]="FAR"}(o||(o={})),function(t){t[t.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",t[t.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",t[t.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",t[t.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",t[t.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",t[t.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",t[t.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",t[t.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(s||(s={})),s.FAR_BOTTOM_RIGHT,s.NEAR_BOTTOM_RIGHT,s.NEAR_BOTTOM_LEFT,s.FAR_BOTTOM_LEFT,s.NEAR_BOTTOM_LEFT,s.NEAR_BOTTOM_RIGHT,s.NEAR_TOP_RIGHT,s.NEAR_TOP_LEFT,s.FAR_BOTTOM_RIGHT,s.FAR_BOTTOM_LEFT,s.FAR_TOP_LEFT,s.FAR_TOP_RIGHT,s.NEAR_BOTTOM_RIGHT,s.FAR_BOTTOM_RIGHT,s.FAR_TOP_RIGHT,s.NEAR_TOP_RIGHT,s.FAR_BOTTOM_LEFT,s.NEAR_BOTTOM_LEFT,s.NEAR_TOP_LEFT,s.FAR_TOP_LEFT,s.FAR_TOP_LEFT,s.NEAR_TOP_LEFT,s.NEAR_TOP_RIGHT,s.FAR_TOP_RIGHT;const g=6;(0,m.f)(-1,-1,-1,1),(0,m.f)(1,-1,-1,1),(0,m.f)(1,1,-1,1),(0,m.f)(-1,1,-1,1),(0,m.f)(-1,-1,1,1),(0,m.f)(1,-1,1,1),(0,m.f)(1,1,1,1),(0,m.f)(-1,1,1,1),new _.x(M),(0,c.c)(),(0,c.c)(),(0,c.c)(),(0,c.c)(),(0,c.c)(),(0,c.c)(),(0,c.c)(),(0,c.c)();var p,O,R=n(11726);class E{get bounds(){return this._root.bounds}get halfSize(){return this._root.halfSize}get root(){return this._root.node}get maximumObjectsPerNode(){return this._maximumObjectsPerNode}get maximumDepth(){return this._maximumDepth}get objectCount(){return this._objectCount}constructor(t,e){this.objectToBoundingSphere=t,this._maximumObjectsPerNode=10,this._maximumDepth=20,this._degenerateObjects=new Set,this._root=new x,this._objectCount=0,e&&(void 0!==e.maximumObjectsPerNode&&(this._maximumObjectsPerNode=e.maximumObjectsPerNode),void 0!==e.maximumDepth&&(this._maximumDepth=e.maximumDepth))}destroy(){this._degenerateObjects.clear(),x.clearPool(),L[0]=null,q.prune(),K.prune()}add(t,e=t.length){this._objectCount+=e,this._grow(t,e);const n=x.acquire();for(let o=0;o<e;o++){const e=t[o];this._isDegenerate(e)?this._degenerateObjects.add(e):(n.init(this._root),this._add(e,n))}x.release(n)}remove(t,e=null){this._objectCount-=t.length;const n=x.acquire();for(const o of t){const t=null!=e?e:(0,d.h)(this.objectToBoundingSphere(o),H);P(t[3])?(n.init(this._root),this._remove(o,t,n)):this._degenerateObjects.delete(o)}x.release(n),this._shrink()}update(t,e){if(!P(e[3])&&this._isDegenerate(t))return;const n=function(t){return L[0]=t,L}(t);this.remove(n,e),this.add(n)}forEachAlongRay(t,e,n){const o=(0,b.re)(t,e);this._forEachNode(this._root,(t=>{if(!this._intersectsNode(o,t))return!1;const e=t.node;return e.terminals.forAll((t=>{this._intersectsObject(o,t)&&n(t)})),null!==e.residents&&e.residents.forAll((t=>{this._intersectsObject(o,t)&&n(t)})),!0}))}forEachAlongRayWithVerticalOffset(t,e,n,o){const s=(0,b.re)(t,e);this._forEachNode(this._root,(t=>{if(!this._intersectsNodeWithOffset(s,t,o))return!1;const e=t.node;return e.terminals.forAll((t=>{this._intersectsObjectWithOffset(s,t,o)&&n(t)})),null!==e.residents&&e.residents.forAll((t=>{this._intersectsObjectWithOffset(s,t,o)&&n(t)})),!0}))}forEach(t){this._forEachNode(this._root,(e=>{const n=e.node;return n.terminals.forAll(t),null!==n.residents&&n.residents.forAll(t),!0})),this._degenerateObjects.forEach(t)}forEachDegenerateObject(t){this._degenerateObjects.forEach(t)}findClosest(t,e,n,o=(()=>!0),s=1/0){let i=1/0,r=1/0,a=null;const c=j(t,e),u=h=>{if(--s,!o(h))return;const c=this.objectToBoundingSphere(h);if(!T(n,c))return;const u=B(t,e,(0,d.g)(c)),l=u-c[3],f=u+c[3];l<i&&(i=l,r=f,a=h)};return this._forEachNodeDepthOrdered(this._root,(o=>{if(s<=0||!T(n,o.bounds))return!1;if((0,h.i)(C,c,o.halfSize),(0,h.g)(C,C,o.bounds),B(t,e,C)>r)return!1;const i=o.node;return i.terminals.forAll((t=>u(t))),null!==i.residents&&i.residents.forAll((t=>u(t))),!0}),t,e),a}forEachInDepthRange(t,e,n,o,s,i,r){let a=-1/0,c=1/0;const u={setRange:t=>{n===E.DepthOrder.FRONT_TO_BACK?(a=Math.max(a,t.near),c=Math.min(c,t.far)):(a=Math.max(a,-t.far),c=Math.min(c,-t.near))}};u.setRange(o);const l=B(e,n,t),f=j(e,n),_=j(e,-n),m=t=>{if(!r(t))return;const o=this.objectToBoundingSphere(t),h=(0,d.g)(o),f=B(e,n,h)-l,_=f-o[3],m=f+o[3];_>c||m<a||!T(i,o)||s(t,u)};this._forEachNodeDepthOrdered(this._root,(t=>{if(!T(i,t.bounds))return!1;if((0,h.i)(C,f,t.halfSize),(0,h.g)(C,C,t.bounds),B(e,n,C)-l>c)return!1;if((0,h.i)(C,_,t.halfSize),(0,h.g)(C,C,t.bounds),B(e,n,C)-l<a)return!1;const o=t.node;return o.terminals.forAll((t=>m(t))),null!==o.residents&&o.residents.forAll((t=>m(t))),!0}),e,n)}forEachNode(t){this._forEachNode(this._root,(e=>t(e.node,e.bounds,e.halfSize,e.depth)))}forEachNeighbor(t,e){const n=(0,d.a)(e),o=(0,d.g)(e),s=e=>{const s=this.objectToBoundingSphere(e),i=(0,d.a)(s),r=n+i;return!((0,h.a)((0,d.g)(s),o)-r*r<=0)||t(e)};let i=!0;const r=t=>{i&&(i=s(t))};this._forEachNode(this._root,(t=>{const e=(0,d.a)(t.bounds),s=n+e;if((0,h.a)((0,d.g)(t.bounds),o)-s*s>0)return!1;const a=t.node;return a.terminals.forAll(r),i&&null!==a.residents&&a.residents.forAll(r),i})),i&&this.forEachDegenerateObject(r)}_intersectsNode(t,e){return N(e.bounds,2*-e.halfSize,w),N(e.bounds,2*e.halfSize,D),(0,R.yK)(t.origin,t.direction,w,D)}_intersectsNodeWithOffset(t,e,n){return N(e.bounds,2*-e.halfSize,w),N(e.bounds,2*e.halfSize,D),n.applyToMinMax(w,D),(0,R.yK)(t.origin,t.direction,w,D)}_intersectsObject(t,e){const n=this.objectToBoundingSphere(e);return!(n[3]>0)||(0,d.j)(n,t)}_intersectsObjectWithOffset(t,e,n){const o=this.objectToBoundingSphere(e);return!(o[3]>0)||(0,d.j)(n.applyToBoundingSphere(o),t)}_forEachNode(t,e){let n=x.acquire().init(t);const o=[n];for(;0!==o.length;){if(n=o.pop(),e(n)&&!n.isLeaf())for(let t=0;t<n.node.children.length;t++)n.node.children[t]&&o.push(x.acquire().init(n).advance(t));x.release(n)}}_forEachNodeDepthOrdered(t,e,n,o=E.DepthOrder.FRONT_TO_BACK){let s=x.acquire().init(t);const i=[s];for(function(t,e,n){if(!K.length)for(let t=0;t<8;++t)K.push({index:0,distance:0});for(let n=0;n<8;++n){const o=I[n];K.data[n].index=n,K.data[n].distance=B(t,e,o)}K.sort(((t,e)=>t.distance-e.distance));for(let t=0;t<8;++t)n[t]=K.data[t].index}(n,o,W);0!==i.length;){if(s=i.pop(),e(s)&&!s.isLeaf())for(let t=7;t>=0;--t){const e=W[t];s.node.children[e]&&i.push(x.acquire().init(s).advance(e))}x.release(s)}}_remove(t,e,n){q.clear();const o=n.advanceTo(e,((t,e)=>{q.push(t.node),q.push(e)}))?n.node.terminals:n.node.residents;if(o.removeUnordered(t),0===o.length)for(let t=q.length-2;t>=0;t-=2){const e=q.data[t],n=q.data[t+1];if(!this._purge(e,n))break}}_nodeIsEmpty(t){if(0!==t.terminals.length)return!1;if(null!==t.residents)return 0===t.residents.length;for(let e=0;e<t.children.length;e++)if(t.children[e])return!1;return!0}_purge(t,e){return e>=0&&(t.children[e]=null),!!this._nodeIsEmpty(t)&&(null===t.residents&&(t.residents=new f.Z({shrink:!0})),!0)}_add(t,e){e.advanceTo(this.objectToBoundingSphere(t))?e.node.terminals.push(t):(e.node.residents.push(t),e.node.residents.length>this._maximumObjectsPerNode&&e.depth<this._maximumDepth&&this._split(e))}_split(t){const e=t.node.residents;t.node.residents=null;for(let n=0;n<e.length;n++){const o=x.acquire().init(t);this._add(e.at(n),o),x.release(o)}}_grow(t,e){if(0!==e&&(F(t,e,(t=>this.objectToBoundingSphere(t)),G),P(G[3])&&!this._fitsInsideTree(G)))if(this._nodeIsEmpty(this._root.node))(0,d.h)(G,this._root.bounds),this._root.halfSize=1.25*this._root.bounds[3],this._root.updateBoundsRadiusFromHalfSize();else{const t=this._rootBoundsForRootAsSubNode(G);this._placingRootViolatesMaxDepth(t)?this._rebuildTree(G,t):this._growRootAsSubNode(t),x.release(t)}}_rebuildTree(t,e){(0,h.c)(k,e.bounds),k[3]=e.halfSize,F([t,k],2,(t=>t),V);const n=x.acquire().init(this._root);this._root.initFrom(null,V,V[3]),this._root.increaseHalfSize(1.25),this._forEachNode(n,(t=>(this.add(t.node.terminals.data,t.node.terminals.length),null!==t.node.residents&&this.add(t.node.residents.data,t.node.residents.length),!0))),x.release(n)}_placingRootViolatesMaxDepth(t){const e=Math.log(t.halfSize/this._root.halfSize)*Math.LOG2E;let n=0;return this._forEachNode(this._root,(t=>(n=Math.max(n,t.depth),n+e<=this._maximumDepth))),n+e>this._maximumDepth}_rootBoundsForRootAsSubNode(t){const e=t[3],n=t;let o=-1/0;const s=this._root.bounds,i=this._root.halfSize;for(let t=0;t<3;t++){const r=s[t]-i-(n[t]-e),a=n[t]+e-(s[t]+i),h=Math.max(0,Math.ceil(r/(2*i))),c=Math.max(0,Math.ceil(a/(2*i)))+1,u=2**Math.ceil(Math.log(h+c)*Math.LOG2E);o=Math.max(o,u),Z[t].min=h,Z[t].max=c}for(let t=0;t<3;t++){let e=Z[t].min,n=Z[t].max;const r=(o-(e+n))/2;e+=Math.ceil(r),n+=Math.floor(r);const a=s[t]-i-e*i*2;y[t]=a+(n+e)*i}const r=o*i;return y[3]=r*z,x.acquire().initFrom(null,y,r,0)}_growRootAsSubNode(t){const e=this._root.node;(0,h.c)(G,this._root.bounds),G[3]=this._root.halfSize,this._root.init(t),t.advanceTo(G,null,!0),t.node.children=e.children,t.node.residents=e.residents,t.node.terminals=e.terminals}_shrink(){for(;;){const t=this._findShrinkIndex();if(-1===t)break;this._root.advance(t),this._root.depth=0}}_findShrinkIndex(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let t=null;const e=this._root.node.children;let n=0,o=0;for(;o<e.length&&null==t;)n=o++,t=e[n];for(;o<e.length;)if(e[o++])return-1;return n}_isDegenerate(t){return!P(this.objectToBoundingSphere(t)[3])}_fitsInsideTree(t){const e=this._root.bounds,n=this._root.halfSize;return t[3]<=n&&t[0]>=e[0]-n&&t[0]<=e[0]+n&&t[1]>=e[1]-n&&t[1]<=e[1]+n&&t[2]>=e[2]-n&&t[2]<=e[2]+n}toJSON(){const{maximumDepth:t,maximumObjectsPerNode:e,_objectCount:n}=this,o=this._nodeToJSON(this._root.node);return{maximumDepth:t,maximumObjectsPerNode:e,objectCount:n,root:{bounds:this._root.bounds,halfSize:this._root.halfSize,depth:this._root.depth,node:o}}}_nodeToJSON(t){const e=t.children.map((t=>t?this._nodeToJSON(t):null)),n=t.residents?.map((t=>this.objectToBoundingSphere(t))),o=t.terminals?.map((t=>this.objectToBoundingSphere(t)));return{children:e,residents:n,terminals:o}}static fromJSON(t){const e=new E((t=>t),{maximumDepth:t.maximumDepth,maximumObjectsPerNode:t.maximumObjectsPerNode});return e._objectCount=t.objectCount,e._root.initFrom(t.root.node,t.root.bounds,t.root.halfSize,t.root.depth),e}}class x{constructor(){this.bounds=(0,d.c)(),this.halfSize=0,this.initFrom(null,null,0,0)}init(t){return this.initFrom(t.node,t.bounds,t.halfSize,t.depth)}initFrom(t,e,n,o=this.depth){return this.node=null!=t?t:x.createEmptyNode(),null!=e&&(0,d.h)(e,this.bounds),this.halfSize=n,this.depth=o,this}increaseHalfSize(t){this.halfSize*=t,this.updateBoundsRadiusFromHalfSize()}updateBoundsRadiusFromHalfSize(){this.bounds[3]=this.halfSize*z}advance(t){let e=this.node.children[t];e||(e=x.createEmptyNode(),this.node.children[t]=e),this.node=e,this.halfSize/=2,this.depth++;const n=I[t];return this.bounds[0]+=n[0]*this.halfSize,this.bounds[1]+=n[1]*this.halfSize,this.bounds[2]+=n[2]*this.halfSize,this.updateBoundsRadiusFromHalfSize(),this}advanceTo(t,e,n=!1){for(;;){if(this.isTerminalFor(t))return e&&e(this,-1),!0;if(this.isLeaf()){if(!n)return e&&e(this,-1),!1;this.node.residents=null}const o=this._childIndex(t);e&&e(this,o),this.advance(o)}}isLeaf(){return null!=this.node.residents}isTerminalFor(t){return t[3]>this.halfSize/2}_childIndex(t){const e=this.bounds;return(e[0]<t[0]?1:0)+(e[1]<t[1]?2:0)+(e[2]<t[2]?4:0)}static createEmptyNode(){return{children:[null,null,null,null,null,null,null,null],terminals:new f.Z({shrink:!0}),residents:new f.Z({shrink:!0})}}static acquire(){return x._pool.acquire()}static release(t){x._pool.release(t)}static clearPool(){x._pool.prune()}}function A(t,e){t[0]=Math.min(t[0],e[0]-e[3]),t[1]=Math.min(t[1],e[1]-e[3]),t[2]=Math.min(t[2],e[2]-e[3])}function S(t,e){t[0]=Math.max(t[0],e[0]+e[3]),t[1]=Math.max(t[1],e[1]+e[3]),t[2]=Math.max(t[2],e[2]+e[3])}function N(t,e,n){n[0]=t[0]+e,n[1]=t[1]+e,n[2]=t[2]+e}function F(t,e,n,o){if(1===e){const e=n(t[0]);(0,d.h)(e,o)}else{w[0]=1/0,w[1]=1/0,w[2]=1/0,D[0]=-1/0,D[1]=-1/0,D[2]=-1/0;for(let o=0;o<e;o++){const e=n(t[o]);P(e[3])&&(A(w,e),S(D,e))}(0,h.p)(o,w,D,.5),o[3]=Math.max(D[0]-w[0],D[1]-w[1],D[2]-w[2])/2}}function j(t,e){let n,o=1/0;for(let s=0;s<8;++s){const i=B(t,e,v[s]);i<o&&(o=i,n=v[s])}return n}function B(t,e,n){return e*(t[0]*n[0]+t[1]*n[1]+t[2]*n[2])}function P(t){return!isNaN(t)&&t!==-1/0&&t!==1/0&&t>0}x._pool=new l.Z(x),p=E||(E={}),(O=p.DepthOrder||(p.DepthOrder={}))[O.FRONT_TO_BACK=1]="FRONT_TO_BACK",O[O.BACK_TO_FRONT=-1]="BACK_TO_FRONT";const I=[(0,c.f)(-1,-1,-1),(0,c.f)(1,-1,-1),(0,c.f)(-1,1,-1),(0,c.f)(1,1,-1),(0,c.f)(-1,-1,1),(0,c.f)(1,-1,1),(0,c.f)(-1,1,1),(0,c.f)(1,1,1)],v=[(0,c.f)(-1,-1,-1),(0,c.f)(-1,-1,1),(0,c.f)(-1,1,-1),(0,c.f)(-1,1,1),(0,c.f)(1,-1,-1),(0,c.f)(1,-1,1),(0,c.f)(1,1,-1),(0,c.f)(1,1,1)],z=Math.sqrt(3),L=[null],y=(0,d.c)(),C=(0,c.c)(),w=(0,c.c)(),D=(0,c.c)(),q=new f.Z,H=(0,d.c)(),G=(0,d.c)(),k=(0,d.c)(),V=(0,d.c)(),Z=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],K=new f.Z,W=[0,0,0,0,0,0,0,0],U=E;var J=n(212);function X(t,e,n){const o=(0,d.c)(),s=(0,d.g)(o);return(0,h.q)(s,s,t,.5),(0,h.q)(s,s,e,.5),o[3]=(0,h.o)(s,t),(0,h.g)(s,s,n),o}let Y=class{constructor(){this._idToComponent=new Map,this._components=new U((t=>t.bounds)),this._edges=new U((t=>t.bounds)),this._tmpLineSegment=(0,u.Ue)(),this._tmpP1=(0,c.c)(),this._tmpP2=(0,c.c)(),this._tmpP3=(0,c.c)(),this.remoteClient=null}async fetchCandidates(t,e){await Promise.resolve(),(0,r.k_)(e),await this._ensureEdgeLocations(t,e);const n=[];return this._edges.forEachNeighbor((e=>(this._addCandidates(t,e,n),n.length<1e3)),t.bounds),{result:{candidates:n}}}async _ensureEdgeLocations(t,e){const n=[];if(this._components.forEachNeighbor((t=>{if(null==t.info){const{id:e,uid:o}=t;n.push({id:e,uid:o})}return!0}),t.bounds),!n.length)return;const o={components:n},s=await this.remoteClient.invoke("fetchAllEdgeLocations",o,e??{});for(const t of s.components)this._setFetchEdgeLocations(t)}async add(t){const e=new $(t.id,t.bounds);return this._idToComponent.set(e.id,e),this._components.add([e]),{result:{}}}async remove(t){const e=this._idToComponent.get(t.id);if(e){const t=[];this._edges.forEachNeighbor((n=>(n.component===e&&t.push(n),!0)),e.bounds),this._edges.remove(t),this._components.remove([e]),this._idToComponent.delete(e.id)}return{result:{}}}_setFetchEdgeLocations(t){const e=this._idToComponent.get(t.id);if(null==e||t.uid!==e.uid)return;const n=J.n_.createView(t.locations),o=new Array(n.count),s=(0,c.c)(),i=(0,c.c)();for(let r=0;r<n.count;r++){n.position0.getVec(r,s),n.position1.getVec(r,i);const a=X(s,i,t.origin),h=new tt(e,r,a);o[r]=h}this._edges.add(o);const{objectIds:r,origin:a}=t;e.info={locations:n,objectIds:r,origin:a}}_addCandidates(t,e,n){const{info:o}=e.component,{origin:s,objectIds:i}=o,r=o.locations,a=r.position0.getVec(e.index,this._tmpP1),c=r.position1.getVec(e.index,this._tmpP2);(0,h.g)(a,a,s),(0,h.g)(c,c,s);const u=i[r.componentIndex.get(e.index)];this._addEdgeCandidate(t,u,a,c,n),this._addVertexCandidate(t,u,a,n),this._addVertexCandidate(t,u,c,n)}_addEdgeCandidate(t,e,n,o,s){if(!t.returnEdge)return;const i=(0,d.g)(t.bounds),r=(0,u.zk)(n,o,this._tmpLineSegment),a=(0,u.nF)(r,i,this._tmpP3);(0,d.n)(t.bounds,a)&&s.push({type:"edge",objectId:e,target:(0,c.g)(a),distance:(0,h.o)(i,a),start:(0,c.g)(n),end:(0,c.g)(o)})}_addVertexCandidate(t,e,n,o){if(!t.returnVertex)return;const s=(0,d.g)(t.bounds);(0,d.n)(t.bounds,n)&&o.push({type:"vertex",objectId:e,target:(0,c.g)(n),distance:(0,h.o)(s,n)})}};Y=(0,i._)([(0,a.j)("esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker")],Y);const Q=Y;class ${constructor(t,e){this.id=t,this.bounds=e,this.info=null,this.uid=++$.uid}}$.uid=0;class tt{constructor(t,e,n){this.component=t,this.index=e,this.bounds=n}}}}]);