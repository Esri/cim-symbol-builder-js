"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[9507],{25929:(e,r,t)=>{t.d(r,{M:()=>m,a:()=>h,e:()=>p,f:()=>s,i:()=>c,p:()=>f,r:()=>o,t:()=>l,w:()=>u});var n=t(17452);function s(e,r){const t=r?.url?.path;if(e&&t&&(e=(0,n.hF)(e,t,{preserveProtocolRelative:!0}),r.portalItem&&r.readResourcePaths)){const t=(0,n.PF)(e,r.portalItem.itemUrl);null!=t&&a.test(t)&&r.readResourcePaths.push(r.portalItem.resourceFromPath(t).path)}return d(e,r?.portal)}function l(e,r,t=m.YES){if(null==e)return e;!(0,n.YP)(e)&&r?.blockedRelativeUrls&&r.blockedRelativeUrls.push(e);let s=(0,n.hF)(e);if(r){const t=r.verifyItemRelativeUrls?.rootPath||r.url?.path;if(t){const l=d(t,r.portal),o=d(s,r.portal);s=(0,n.PF)(o,l,l),null!=s&&s!==o&&s!==e&&r.verifyItemRelativeUrls&&r.verifyItemRelativeUrls.writtenUrls.push(s)}}return s=p(s,r?.portal),(0,n.YP)(s)&&(s=(0,n.Fv)(s)),r?.resources&&r?.portalItem&&!(0,n.YP)(s)&&!(0,n.HK)(s)&&t===m.YES&&r.resources.toKeep.push({resource:r.portalItem.resourceFromPath(s),compress:!1}),s}function o(e,r,t){return s(e,t)}function u(e,r,t,n){const s=l(e,n);void 0!==s&&(r[t]=s)}const i=/\/items\/([^\/]+)\/resources\/(.*)/,a=/^\.\/resources\//;function c(e){const r=e?.match(i)??null;return r?.[1]??null}function f(e){const r=e?.match(i)??null;if(null==r)return null;const t=r[2],s=t.lastIndexOf("/");if(-1===s){const{path:e,extension:r}=(0,n.fZ)(t);return{prefix:null,filename:e,extension:r}}const{path:l,extension:o}=(0,n.fZ)(t.slice(s+1));return{prefix:t.slice(0,s),filename:l,extension:o}}function p(e,r){return r&&!r.isPortal&&r.urlKey&&r.customBaseUrl?(0,n.Ie)(e,`${r.urlKey}.${r.customBaseUrl}`,r.portalHostname):e}function d(e,r){if(!r||r.isPortal||!r.urlKey||!r.customBaseUrl)return e;const t=`${r.urlKey}.${r.customBaseUrl}`,s=(0,n.TI)();return(0,n.D6)(s,`${s.scheme}://${t}`)?(0,n.Ie)(e,r.portalHostname,t):(0,n.Ie)(e,t,r.portalHostname)}var m,v;(v=m||(m={}))[v.YES=0]="YES",v[v.NO=1]="NO";const h=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return m},ensureMainOnlineDomain:p,fromJSON:s,itemIdFromResourceUrl:c,prefixAndFilenameFromResourceUrl:f,read:o,toJSON:l,write:u},Symbol.toStringTag,{value:"Module"}))},66677:(e,r,t)=>{t.d(r,{B5:()=>c,DR:()=>p,G:()=>I,M8:()=>v,Nm:()=>h,Qc:()=>f,XG:()=>S,a7:()=>m,ld:()=>d,wH:()=>y});var n=t(17452),s=t(25929);const l={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer"},o=Object.values(l),u=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),i=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),a=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function c(e){return!!u.test(e)}function f(e){if(null==e)return null;const r=(0,n.mN)(e),t=r?.path.match(u)||r?.path.match(i);if(!t)return null;const[,s,o,a,c]=t,f=o.indexOf("/");return{title:d(-1!==f?o.slice(f+1):o),serverType:l[a.toLowerCase()],sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:s}}}function p(e){const r=(0,n.mN)(e).path.match(a);return r?{serviceUrl:r[1],sublayerId:Number(r[2])}:null}function d(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function m(e,r){const t=[];if(e){const r=f(e);null!=r&&r.title&&t.push(r.title)}if(r){const e=d(r);t.push(e)}if(2===t.length){if(t[0].toLowerCase().includes(t[1].toLowerCase()))return t[0];if(t[1].toLowerCase().includes(t[0].toLowerCase()))return t[1]}return t.join(" - ")}function v(e){if(!e)return!1;const r=(e=e.toLowerCase()).includes(".arcgis.com/"),t=e.includes("//services")||e.includes("//tiles")||e.includes("//features");return r&&t}function h(e,r){return e?(0,n.Qj)((0,n.Hu)(e,r)):e}function S(e){let{url:r}=e;if(!r)return{url:r};r=(0,n.Hu)(r,e.logger);const t=(0,n.mN)(r),s=f(t.path);let l;if(null!=s)null!=s.sublayer&&null==e.layer.layerId&&(l=s.sublayer),r=s.url.path;else if(e.nonStandardUrlAllowed){const e=p(t.path);null!=e&&(r=e.serviceUrl,l=e.sublayerId)}return{url:(0,n.Qj)(r),layerId:l}}function y(e,r,t,l,o){(0,s.w)(r,l,"url",o),l.url&&null!=e.layerId&&(l.url=(0,n.v_)(l.url,t,e.layerId.toString()))}function I(e){if(!e)return!1;const r=e.toLowerCase(),t=r.includes("/services/"),n=r.includes("/mapserver/wmsserver"),s=r.includes("/imageserver/wmsserver"),l=r.includes("/wmsserver");return t&&(n||s||l)}},14661:(e,r,t)=>{t.d(r,{$o:()=>c,Fj:()=>i,Kz:()=>f,Ss:()=>p,_$:()=>u,ck:()=>a,qj:()=>o});var n=t(73615),s=t(82971),l=t(40488);function o(e,r){if(!u(e,r)){const t=e.typeKeywords;t?t.push(r):e.typeKeywords=[r]}}function u(e,r){return!!e.typeKeywords?.includes(r)}function i(e){return u(e,f.HOSTED_SERVICE)}function a(e,r){const t=e.typeKeywords;if(t){const e=t.indexOf(r);e>-1&&t.splice(e,1)}}async function c(e){const r=e.clone().normalize();let t;if(r.length>1)for(const e of r)t?e.width>t.width&&(t=e):t=e;else t=r[0];return async function(e){const r=e.spatialReference;if(r.isWGS84)return e.clone();if(r.isWebMercator)return(0,l.Sx)(e);const t=s.Z.WGS84;return await(0,n.initializeProjection)(r,t),(0,n.project)(e,t)}(t)}const f={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function p(e){const{portal:r,isOrgItem:t,itemControl:n}=e,s=r.user?.privileges;let l=!s||s.includes("features:user:edit"),o=!!t&&!!s?.includes("features:user:fullEdit");const u="update"===n||"admin"===n;return u?o=l=!0:o&&(l=!0),{features:{edit:l,fullEdit:o},content:{updateItem:u}}}}}]);