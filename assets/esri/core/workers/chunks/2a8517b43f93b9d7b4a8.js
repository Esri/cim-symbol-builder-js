"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[4374,8256],{45475:(t,e,n)=>{n.d(e,{A:()=>f});var i=n(90237),r=n(69622),o=n(4576),s=n(69540),a=n(4902),c=n(25482),u=n(10107),l=(n(44208),n(53966),n(40608));let d=0,g=class extends(c.A.JSONSupportMixin(s.A.ClonableMixin(a.A.IdentifiableMixin(r.A)))){constructor(t){super(t),this.id=`${Date.now().toString(16)}-analysis-${d++}`,this.title=null}get parent(){return this._get("parent")}set parent(t){const e=this.parent;if(null!=e)switch(e.type){case"line-of-sight":case"dimension":case"viewshed":e.releaseAnalysis(this);break;case"2d":case"3d":e.analyses.includes(this)&&e.analyses.remove(this)}this._set("parent",t)}get isEditable(){return this.requiredPropertiesForEditing.every(o.Ru)}};(0,i._)([(0,u.MZ)({type:String,constructOnly:!0,clonable:!1})],g.prototype,"id",void 0),(0,i._)([(0,u.MZ)({type:String})],g.prototype,"title",void 0),(0,i._)([(0,u.MZ)({clonable:!1,value:null})],g.prototype,"parent",null),(0,i._)([(0,u.MZ)({readOnly:!0})],g.prototype,"isEditable",null),g=(0,i._)([(0,l.$)("esri.analysis.Analysis")],g);const f=g},44612:(t,e,n)=>{n.d(e,{xH:()=>s,N1:()=>c}),n(38954);var i=n(51850),r=n(71351),o=(n(62258),n(58083),n(70328),n(97937),n(65215));function s(t,e){return a(t)===a(e)}function a(t){if(null==t)return null;const e=null!=t.layer?t.layer.id:"";let n=null;return n=null!=t.objectId?t.objectId:null!=t.layer&&"objectIdField"in t.layer&&null!=t.layer.objectIdField&&null!=t.attributes?t.attributes[t.layer.objectIdField]:t.uid,null==n?null:`o-${e}-${n}`}n(86305),o.R6,o.HE,o.R6,o.R6,o.R6,n(87582),(0,i.vt)();const c={json:{write:{writer:function(t,e){null!=t?.layer?.objectIdField&&null!=t.attributes&&(e.feature={layerId:t.layer.id,objectId:t.attributes[t.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String],isRequired:!0},"feature.objectId":{type:[Number,String],isRequired:!0}}},origins:{"web-scene":{read:function(t){if(null!=t.layerId&&null!=t.objectId)return{uid:null,layer:{id:t.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:t.objectId}}}}}}};(0,r.vt)(),(0,i.vt)()},17352:(t,e,n)=>{n.d(e,{b:()=>$,f:()=>m}),n(44208);var i=n(53966),r=n(34727),o=n(4341),s=n(58083),a=n(9093),c=n(38954),u=n(51850),l=n(19419),d=n(88582),g=n(11964),f=n(27921),h=n(71351),p=n(44280),b=n(32114);const y=()=>i.A.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");function v(t=C){return{plane:(0,f.vt)(t.plane),origin:(0,u.o8)(t.origin),basis1:(0,u.o8)(t.basis1),basis2:(0,u.o8)(t.basis2)}}function _(t,e=v()){return m(t.origin,t.basis1,t.basis2,e)}function m(t,e,n,i=v()){return(0,c.c)(i.origin,t),(0,c.c)(i.basis1,e),(0,c.c)(i.basis2,n),M(i),function(t,e){Math.abs((0,c.f)(t.basis1,t.basis2)/((0,c.l)(t.basis1)*(0,c.l)(t.basis2)))>1e-6&&y().warn(e,"Provided basis vectors are not perpendicular"),Math.abs((0,c.f)(t.basis1,P(t)))>1e-6&&y().warn(e,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,c.f)(P(t),t.origin)-t.plane[3])>1e-6&&y().warn(e,"Plane offset is not consistent with plane origin")}(i,"fromValues()"),i}function M(t){(0,f.mR)(t.basis2,t.basis1,t.origin,t.plane)}function A(t,e,n){t!==n&&_(t,n);const i=(0,c.h)(b.rq.get(),P(t),e);return(0,c.g)(n.origin,n.origin,i),n.plane[3]-=e,n}function I(t,e=v()){const n=(t[2]-t[0])/2,i=(t[3]-t[1])/2;return(0,c.i)(e.origin,t[0]+n,t[1]+i,0),(0,c.i)(e.basis1,n,0,0),(0,c.i)(e.basis2,0,i,0),(0,f.fA)(0,0,1,0,e.plane),e}function S(t,e,n){return!!(0,f.Ui)(t.plane,e,n)&&L(t,n)}function O(t,e,n){const i=U.get();T(t,e,i,U.get());let o=Number.POSITIVE_INFINITY;for(const s of k){const a=j(t,s,Z.get()),u=b.rq.get();if((0,f.T7)(i,a,u)){const t=(0,c.o)(b.rq.get(),e.origin,u),i=Math.abs((0,r.XM)((0,c.f)(e.direction,t)));i<o&&(o=i,(0,c.c)(n,u))}}return o===Number.POSITIVE_INFINITY?w(t,e,n):n}function w(t,e,n){if(S(t,e,n))return n;const i=U.get(),r=U.get();T(t,e,i,r);let o=Number.POSITIVE_INFINITY;for(const s of k){const a=j(t,s,Z.get()),u=b.rq.get();if((0,f.gv)(i,a,u)){const t=(0,h.kb)(e,u);if(!(0,f.Tj)(r,u))continue;t<o&&(o=t,(0,c.c)(n,u))}}return N(t,e.origin)<o&&E(t,e.origin,n),n}function E(t,e,n){const i=(0,f._I)(t.plane,e,b.rq.get()),r=(0,g.H6)(R(t,t.basis1),i,-1,1,b.rq.get()),o=(0,g.H6)(R(t,t.basis2),i,-1,1,b.rq.get());return(0,c.d)(n,(0,c.g)(b.rq.get(),r,o),t.origin),n}function q(t,e,n){const{origin:i,basis1:r,basis2:o}=t,s=(0,c.d)(b.rq.get(),e,i),a=(0,p.gr)(r,s),u=(0,p.gr)(o,s),l=(0,p.gr)(P(t),s);return(0,c.i)(n,a,u,l)}function N(t,e){const n=q(t,e,b.rq.get()),{basis1:i,basis2:r}=t,o=(0,c.l)(i),s=(0,c.l)(r),a=Math.max(Math.abs(n[0])-o,0),u=Math.max(Math.abs(n[1])-s,0),l=n[2];return a*a+u*u+l*l}function x(t,e){const n=-t.plane[3];return(0,p.gr)(P(t),e)-n}function P(t){return(0,f.Qj)(t.plane)}function L(t,e){const n=(0,c.d)(b.rq.get(),e,t.origin),i=(0,c.k)(t.basis1),r=(0,c.k)(t.basis2),o=(0,c.f)(t.basis1,n),s=(0,c.f)(t.basis2,n);return-o-i<0&&o-i<0&&-s-r<0&&s-r<0}function R(t,e){const n=Z.get();return(0,c.c)(n.origin,t.origin),(0,c.c)(n.vector,e),n}function j(t,e,n){const{basis1:i,basis2:r,origin:o}=t,s=(0,c.h)(b.rq.get(),i,e.origin[0]),a=(0,c.h)(b.rq.get(),r,e.origin[1]);(0,c.g)(n.origin,s,a),(0,c.g)(n.origin,n.origin,o);const u=(0,c.h)(b.rq.get(),i,e.direction[0]),l=(0,c.h)(b.rq.get(),r,e.direction[1]);return(0,c.h)(n.vector,(0,c.g)(u,u,l),2),n}function T(t,e,n,i){const r=P(t);(0,f.mR)(r,e.direction,e.origin,n),(0,f.mR)((0,f.Qj)(n),r,e.origin,i)}const C={plane:(0,f.vt)(),origin:(0,u.fA)(0,0,0),basis1:(0,u.fA)(1,0,0),basis2:(0,u.fA)(0,1,0)},U=new o.I(f.vt),Z=new o.I(g.vt),V=(0,u.vt)(),D=new o.I((()=>v())),k=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],B=(0,a.vt)(),F=(0,a.vt)(),$=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:class{constructor(){this.plane=(0,f.vt)(),this.origin=(0,u.vt)(),this.basis1=(0,u.vt)(),this.basis2=(0,u.vt)()}},altitudeAt:x,axisAt:function(t,e,n,i){return function(t,e,n){switch(e){case d._.X:(0,c.c)(n,t.basis1),(0,c.n)(n,n);break;case d._.Y:(0,c.c)(n,t.basis2),(0,c.n)(n,n);break;case d._.Z:(0,c.c)(n,P(t))}return n}(t,n,i)},cameraFrustumCoverage:function(t,e){return(e-t)/e},closestPoint:w,closestPointOnSilhouette:O,copy:_,copyWithoutVerify:function(t,e){(0,c.c)(e.origin,t.origin),(0,c.c)(e.basis1,t.basis1),(0,c.c)(e.basis2,t.basis2),(0,f.C)(e.plane,t.plane)},create:v,distance:function(t,e){return Math.sqrt(N(t,e))},distance2:N,distanceToSilhouette:function(t,e){let n=Number.NEGATIVE_INFINITY;for(const i of k){const r=j(t,i,Z.get()),o=(0,g.kb)(r,e);o>n&&(n=o)}return Math.sqrt(n)},elevate:A,equals:function(t,e){return(0,c.p)(t.basis1,e.basis1)&&(0,c.p)(t.basis2,e.basis2)&&(0,c.p)(t.origin,e.origin)},extrusionContainsPoint:function(t,e){return(0,f.Tj)(t.plane,e)&&L(t,e)},fromAABoundingRect:I,fromValues:m,getExtent:function(t,e){const n=t.basis1[0],i=t.basis2[1],[r,o]=t.origin;return(0,l.fA)(r-n,o-i,r+n,o+i,e)},intersectRay:S,intersectRayClosestSilhouette:function(t,e,n){if(S(t,e,n))return n;const i=O(t,e,b.rq.get());return(0,c.g)(n,e.origin,(0,c.h)(b.rq.get(),e.direction,(0,c.j)(e.origin,i)/(0,c.l)(e.direction))),n},normal:P,projectPoint:E,projectPointLocal:q,rotate:function(t,e,n,i){return t!==i&&_(t,i),(0,s.$0)(F,e,n),(0,c.t)(i.basis1,t.basis1,F),(0,c.t)(i.basis2,t.basis2,F),M(i),i},setAltitudeAt:function(t,e,n,i){const r=x(t,e),o=(0,c.h)(V,P(t),n-r);return(0,c.g)(i,e,o),i},setExtent:function(t,e,n){return I(e,n),A(n,x(t,t.origin),n),n},transform:function(t,e,n){return t!==n&&_(t,n),(0,s.B8)(B,e),(0,s.mg)(B,B),(0,c.t)(n.basis1,t.basis1,B),(0,c.t)(n.basis2,t.basis2,B),(0,c.t)((0,f.Qj)(n.plane),(0,f.Qj)(t.plane),B),(0,c.t)(n.origin,t.origin,e),(0,f.mP)(n.plane,n.plane,n.origin),n},up:C,updateUnboundedPlane:M,wrap:function(t,e,n){const i=D.get();return i.origin=t,i.basis1=e,i.basis2=n,i.plane=(0,f.LV)(0,0,0,0),M(i),i}},Symbol.toStringTag,{value:"Module"}))},97937:(t,e,n)=>{n.d(e,{a:()=>A,c:()=>b,e:()=>_,f:()=>I,g:()=>M,i:()=>q,o:()=>T,s:()=>Z,w:()=>m}),n(44208),n(53966);var i=n(34727),r=n(58083),o=n(38954),s=n(51850),a=n(87317),c=n(91829),u=n(34304),l=n(88582),d=n(71351);function g(t,e){const n=(0,o.l)(t),r=(0,i.YN)(t[2]/n),s=Math.atan2(t[1]/n,t[0]/n);return(0,o.i)(e,n,r,s),e}var f=n(44280),h=n(32114);const p=b();function b(){return(0,c.vt)()}const y=a.e,v=a.e;function _(t,e){return(0,a.c)(e,t)}function m(t){return t}function M(t){return t[3]}function A(t){return t}function I(t,e,n,i){return(0,c.fA)(t,e,n,i)}function S(t,e,n){if(null==e)return!1;if(!w(t,e,O))return!1;let{t0:i,t1:r}=O;if((i<0||r<i&&r>0)&&(i=r),i<0)return!1;if(n){const{origin:t,direction:r}=e;n[0]=t[0]+r[0]*i,n[1]=t[1]+r[1]*i,n[2]=t[2]+r[2]*i}return!0}const O={t0:0,t1:0};function w(t,e,n){const{origin:i,direction:r}=e,o=E;o[0]=i[0]-t[0],o[1]=i[1]-t[1],o[2]=i[2]-t[2];const s=r[0]*r[0]+r[1]*r[1]+r[2]*r[2];if(0===s)return!1;const a=2*(r[0]*o[0]+r[1]*o[1]+r[2]*o[2]),c=a*a-4*s*(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]-t[3]*t[3]);if(c<0)return!1;const u=Math.sqrt(c);return n.t0=(-a-u)/(2*s),n.t1=(-a+u)/(2*s),!0}const E=(0,s.vt)();function q(t,e){return S(t,e,null)}function N(t,e,n){const i=h.rq.get(),s=h.Rc.get();(0,o.e)(i,e.origin,e.direction);const a=M(t);(0,o.e)(n,i,e.origin),(0,o.h)(n,n,1/(0,o.l)(n)*a);const c=P(t,e.origin),u=(0,f.g7)(e.origin,n);return(0,r.$0)(s,u+c,i),(0,o.t)(n,n,s),n}function x(t,e,n){const i=(0,o.d)(h.rq.get(),e,t),r=(0,o.h)(h.rq.get(),i,t[3]/(0,o.l)(i));return(0,o.g)(n,r,t)}function P(t,e){const n=(0,o.d)(h.rq.get(),e,t),r=(0,o.l)(n),s=M(t),a=s+Math.abs(s-r);return(0,i.XM)(s/a)}const L=(0,s.vt)();function R(t,e,n,i){const r=(0,o.d)(L,e,t);switch(n){case l._.X:{const t=g(r,L)[2];return(0,o.i)(i,-Math.sin(t),Math.cos(t),0)}case l._.Y:{const t=g(r,L),e=t[1],n=t[2],s=Math.sin(e);return(0,o.i)(i,-s*Math.cos(n),-s*Math.sin(n),Math.cos(e))}case l._.Z:return(0,o.n)(i,r);default:return}}function j(t,e){const n=(0,o.d)(C,e,t);return(0,o.l)(n)-t[3]}function T(t,e){const n=(0,o.s)(t,e),i=M(t);return n<=i*i}const C=(0,s.vt)(),U=b(),Z=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:p,altitudeAt:j,angleToSilhouette:P,axisAt:R,cameraFrustumCoverage:function(t,e,n,i){const r=M(t),o=r*r,s=e+.5*Math.PI,a=n*n+o-2*Math.cos(s)*n*r,c=Math.sqrt(a),u=a-o;if(u<=0)return.5;const l=Math.sqrt(u),d=Math.acos(l/c)-Math.asin(r/(c/Math.sin(s)));return Math.min(1,(d+.5*i)/i)},clear:function(t){t[0]=t[1]=t[2]=t[3]=0},closestPoint:function(t,e,n){return S(t,e,n)?n:((0,d.oC)(e,t,n),x(t,n,n))},closestPointOnSilhouette:N,containsPoint:T,copy:_,create:b,distanceToSilhouette:function(t,e){const n=(0,o.d)(h.rq.get(),e,t),i=(0,o.k)(n),r=t[3]*t[3];return Math.sqrt(Math.abs(i-r))},elevate:function(t,e,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+e,n},equals:v,exactEquals:y,fromCenterAndRadius:function(t,e){return(0,c.fA)(t[0],t[1],t[2],e)},fromRadius:function(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t},fromValues:I,getCenter:A,getExtent:function(t,e){return e},getRadius:M,intersectLine:function(t,e,n){const i=(0,d.Cr)(e,n);if(!w(t,i,O))return[];const{origin:r,direction:a}=i,{t0:c,t1:l}=O,g=e=>{const n=(0,s.vt)();return(0,o.b)(n,r,a,e),x(t,n,n)};return Math.abs(c-l)<(0,u.FD)()?[g(c)]:[g(c),g(l)]},intersectRay:S,intersectRayClosestSilhouette:function(t,e,n){if(S(t,e,n))return n;const i=N(t,e,h.rq.get());return(0,o.g)(n,e.origin,(0,o.h)(h.rq.get(),e.direction,(0,o.j)(e.origin,i)/(0,o.l)(e.direction))),n},intersectsRay:q,projectPoint:x,setAltitudeAt:function(t,e,n,i){const r=j(t,e),s=R(t,e,l._.Z,C),a=(0,o.h)(C,s,n-r);return(0,o.g)(i,e,a)},setExtent:function(t,e,n){return t!==n&&_(t,n),n},tmpSphere:U,union:function(t,e,n=(0,c.vt)()){const i=(0,o.j)(t,e),r=t[3],s=e[3];return i+s<r?((0,a.c)(n,t),n):i+r<s?((0,a.c)(n,e),n):((0,o.m)(n,t,e,(i+s-r)/(2*i)),n[3]=(i+r+s)/2,n)},wrap:m},Symbol.toStringTag,{value:"Module"}))},4902:(t,e,n)=>{n.d(e,{A:()=>l});var i=n(90237),r=n(40608);let o=0;const s=t=>{let e=class extends t{constructor(...t){super(...t),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+o++})}};return e=(0,i._)([(0,r.$)("esri.core.Identifiable")],e),e},a=t=>{let e=class extends t{constructor(...t){super(...t),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:o++})}};return e=(0,i._)([(0,r.$)("esri.core.Identifiable.NumericIdentifiable")],e),e};let c=class extends(s(class{})){};var u;c=(0,i._)([(0,r.$)("esri.core.Identifiable")],c),(u=c||(c={})).IdentifiableMixin=s,u.NumericIdentifiableMixin=a;const l=c},92071:(t,e,n)=>{n.d(e,{P:()=>_,L:()=>m});var i=n(90237),r=n(69622),o=n(76953),s=n(4718),a=n(35666);class c{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(a.AU),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const e=new c,n=this._originStores[a.Gr.DEFAULTS];n&&n.forEach(((t,n)=>{e.set(n,(0,s.o8)(t),a.Gr.DEFAULTS)}));for(let n=a.Gr.SERVICE;n<a.AU;n++){const i=this._originStores[n];i&&i.forEach(((i,r)=>{t&&t.has(r)||e.set(r,(0,s.o8)(i),n)}))}return e}get(t,e){const n=void 0===e?this._values:this._originStores[e];return n?n.get(t):void 0}keys(t){const e=null==t?this._values:this._originStores[t];return e?[...e.keys()]:[]}set(t,e,n=a.Gr.USER){let i=this._originStores[n];if(i||(i=new Map,this._originStores[n]=i),i.set(t,e),!this._values.has(t)||this._propertyOriginMap.get(t)<=n){const i=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,n),i!==e}return!1}delete(t,e=a.Gr.USER){const n=this._originStores[e];if(!n)return;const i=n.get(t);if(n.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===e){this._values.delete(t);for(let n=e-1;n>=0;n--){const e=this._originStores[n];if(e&&e.has(t)){this._values.set(t,e.get(t)),this._propertyOriginMap.set(t,n);break}}}return i}has(t,e){const n=void 0===e?this._values:this._originStores[e];return!!n&&n.has(t)}revert(t,e){for(;e>0&&!this.has(t,e);)--e;const n=this._originStores[e],i=n?.get(t),r=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,e),r!==i}originOf(t){return this._propertyOriginMap.get(t)||a.Gr.DEFAULTS}forEach(t){this._values.forEach(t)}}var u=n(45917),l=n(88620),d=n(40608);const g=t=>{let e=class extends t{constructor(...t){super(...t);const e=(0,l.oY)(this),n=e.store,i=new c;e.store=i,(0,o.k)(e,n,i)}read(t,e){(0,u.L)(this,t,e)}getAtOrigin(t,e){const n=f(this),i=(0,a.aB)(e);if("string"==typeof t)return n.get(t,i);const r={};return t.forEach((t=>{r[t]=n.get(t,i)})),r}originOf(t){return(0,a.OL)(this.originIdOf(t))}originIdOf(t){return f(this).originOf(t)}revert(t,e){const n=f(this),i=(0,a.aB)(e),r=(0,l.oY)(this);let o;o="string"==typeof t?"*"===t?n.keys(i):[t]:t,o.forEach((t=>{r.invalidate(t),n.revert(t,i),r.commit(t)}))}};return e=(0,i._)([(0,d.$)("esri.core.ReadOnlyMultiOriginJSONSupport")],e),e};function f(t){return(0,l.oY)(t).store}let h=class extends(g(r.A)){};h=(0,i._)([(0,d.$)("esri.core.ReadOnlyMultiOriginJSONSupport")],h);var p=n(16649),b=n(49422);const y=t=>{let e=class extends t{constructor(...t){super(...t)}clear(t,e="user"){return v(this).delete(t,(0,a.aB)(e))}write(t,e){return(0,b.M)(this,t=t||{},e),t}setAtOrigin(t,e,n){(0,l.oY)(this).setAtOrigin(t,e,(0,a.aB)(n))}removeOrigin(t){const e=v(this),n=(0,a.aB)(t),i=e.keys(n);for(const t of i)e.originOf(t)===n&&e.set(t,e.get(t,n),a.Gr.USER)}updateOrigin(t,e){const n=v(this),i=(0,a.aB)(e),r=(0,p.Jt)(this,t);for(let e=i+1;e<a.AU;++e)n.delete(t,e);n.set(t,r,i)}toJSON(t){return this.write({},t)}};return e=(0,i._)([(0,d.$)("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function v(t){return(0,l.oY)(t).store}const _=t=>{let e=class extends(y(g(t))){constructor(...t){super(...t)}};return e=(0,i._)([(0,d.$)("esri.core.MultiOriginJSONSupport")],e),e};let m=class extends(_(r.A)){};m=(0,i._)([(0,d.$)("esri.core.MultiOriginJSONSupport")],m)},4341:(t,e,n)=>{n.d(e,{I:()=>r});var i=n(26390);class r{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,i.d)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*o);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,o));t++)this._items.push(this._allocator())}}const o=1024},62885:(t,e,n)=>{n.d(e,{H:()=>o,V:()=>r});var i=n(5503);function r(t,e,n=i.A){return e||(e=new n),e===t||(e.removeAll(),(r=t)&&(Array.isArray(r)||"items"in r&&Array.isArray(r.items))?e.addMany(t):t&&e.add(t)),e;var r}function o(t){return t}},36708:(t,e,n)=>{n.d(e,{C_:()=>g,OH:()=>p,Vh:()=>b,on:()=>d,pc:()=>y,wB:()=>c,z7:()=>u}),n(60999),n(5503);var i=n(37955),r=n(36563),o=n(97768),s=n(74887),a=n(14012);function c(t,e,n={}){return l(t,e,n,f)}function u(t,e,n={}){return l(t,e,n,h)}function l(t,e,n={},i){let r=null;const s=n.once?(t,n)=>{i(t)&&((0,o.xt)(r),e(t,n))}:(t,n)=>{i(t)&&e(t,n)};if(r=(0,a.Cn)(t,s,n.sync,n.equals),n.initial){const e=t();s(e,e)}return r}function d(t,e,n,s={}){let a=null,u=null,l=null;function d(){a&&u&&(u.remove(),s.onListenerRemove?.(a),a=null,u=null)}function g(t){s.once&&s.once&&(0,o.xt)(l),n(t)}const f=c(t,((t,n)=>{d(),(0,i.wb)(t)&&(a=t,u=(0,i.on)(t,e,g),s.onListenerAdd?.(t))}),{sync:s.sync,initial:!0});return l=(0,r.hA)((()=>{f.remove(),d()})),l}function g(t,e){return function(t,e,n){if((0,s.G4)(n))return Promise.reject((0,s.NK)());const i=t();if(e?.(i))return Promise.resolve(i);let a=null;function c(){a=(0,o.xt)(a)}return new Promise(((i,o)=>{a=(0,r.vE)([(0,s.u7)(n,(()=>{c(),o((0,s.NK)())})),l(t,(t=>{c(),i(t)}),{sync:!1,once:!0},e??f)])}))}(t,h,e)}function f(t){return!0}function h(t){return!!t}n(80559);const p={sync:!0},b={initial:!0},y={sync:!0,initial:!0}},11964:(t,e,n)=>{n.d(e,{Cr:()=>u,H6:()=>g,_I:()=>d,kb:()=>l,vt:()=>c});var i=n(34727),r=n(4341),o=n(38954),s=n(51850),a=n(32114);function c(t){return t?{origin:(0,s.o8)(t.origin),vector:(0,s.o8)(t.vector)}:{origin:(0,s.vt)(),vector:(0,s.vt)()}}function u(t,e,n=c()){return(0,o.c)(n.origin,t),(0,o.d)(n.vector,e,t),n}function l(t,e){const n=(0,o.d)(a.rq.get(),e,t.origin),r=(0,o.f)(t.vector,n),s=(0,o.f)(t.vector,t.vector),c=(0,i.qE)(r/s,0,1),u=(0,o.d)(a.rq.get(),(0,o.h)(a.rq.get(),t.vector,c),n);return(0,o.f)(u,u)}function d(t,e,n){return g(t,e,0,1,n)}function g(t,e,n,r,s){const{vector:c,origin:u}=t,l=(0,o.d)(a.rq.get(),e,u),d=(0,o.f)(c,l)/(0,o.k)(c);return(0,o.h)(s,c,(0,i.qE)(d,n,r)),(0,o.g)(s,s,t.origin)}(0,s.vt)(),(0,s.vt)(),new r.I((()=>c()))},71351:(t,e,n)=>{n.d(e,{C:()=>d,Cr:()=>g,LV:()=>l,kb:()=>f,oC:()=>h,vt:()=>c}),n(4576);var i=n(4341),r=(n(77690),n(29242)),o=n(38954),s=n(51850),a=n(32114);function c(t){return t?u((0,s.o8)(t.origin),(0,s.o8)(t.direction)):u((0,s.vt)(),(0,s.vt)())}function u(t,e){return{origin:t,direction:e}}function l(t,e){const n=p.get();return n.origin=t,n.direction=e,n}function d(t,e=c()){return function(t,e,n=c()){return(0,o.c)(n.origin,t),(0,o.c)(n.direction,e),n}(t.origin,t.direction,e)}function g(t,e,n=c()){return(0,o.c)(n.origin,t),(0,o.d)(n.direction,e,t),n}function f(t,e){const n=(0,o.e)(a.rq.get(),(0,o.n)(a.rq.get(),t.direction),(0,o.d)(a.rq.get(),e,t.origin));return(0,o.f)(n,n)}function h(t,e,n){const i=(0,o.f)(t.direction,(0,o.d)(n,e,t.origin));return(0,o.g)(n,t.origin,(0,o.h)(n,t.direction,i)),n}const p=new i.I((()=>c()));(0,s.vt)(),(0,s.vt)(),(0,s.vt)(),(0,r.vt)()},4146:(t,e,n)=>{n.d(e,{A:()=>m});var i=n(90237),r=(n(59456),n(78888)),o=n(49186),s=n(65529),a=n(4902),c=n(92474),u=n(53966),l=n(74887),d=n(84952),g=n(10107),f=(n(44208),n(87811),n(40608)),h=n(92602),p=n(79677),b=n(5443),y=n(16930);let v=0,_=class extends(s.A.EventedMixin(a.A.IdentifiableMixin(c.A))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new b.A(-180,-90,180,90,y.A.WGS84),this.id=Date.now().toString(16)+"-layer-"+v++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=y.A.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const e="string"==typeof t?{url:t}:t;return(await n.e(7982).then(n.bind(n,27982))).fromUrl(e)}static fromPortalItem(t){return async function(t){const e="portalItem"in t?t:{portalItem:t},{fromItem:i}=await n.e(5613).then(n.bind(n,45613));try{return await i(e)}catch(t){const n=e?.portalItem,i=n?.id||"unset",r=n?.portal?.url||h.A.portalUrl;throw u.A.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+r+"', id: '"+i+"')",t),t}}(t)}initialize(){this.when().catch((t=>{(0,l.zf)(t)||u.A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})}))}destroy(){const t=this.parent;if(t){const e=this;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"referenceLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e),this._set("parent",null)}}get effectiveVisible(){let t=this.visible;const e=this.parent;return t&&e&&"effectiveVisible"in e&&(t&&=e.effectiveVisible),t}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,d.An)(this.url)}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await(0,r.A)(t,{query:{f:"json"},responseType:"json"})).data;throw new o.A("layer:no-attribution-data","Layer does not have attribution data")}};(0,i._)([(0,g.MZ)({type:String})],_.prototype,"attributionDataUrl",void 0),(0,i._)([(0,g.MZ)({readOnly:!0})],_.prototype,"effectiveVisible",null),(0,i._)([(0,g.MZ)({type:b.A})],_.prototype,"fullExtent",void 0),(0,i._)([(0,g.MZ)({readOnly:!0})],_.prototype,"hasAttributionData",null),(0,i._)([(0,g.MZ)({type:String,clonable:!1})],_.prototype,"id",void 0),(0,i._)([(0,g.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"legendEnabled",void 0),(0,i._)([(0,g.MZ)({type:["show","hide","hide-children"]})],_.prototype,"listMode",void 0),(0,i._)([(0,g.MZ)({type:Number,range:{min:0,max:1},nonNullable:!0})],_.prototype,"opacity",void 0),(0,i._)([(0,g.MZ)({clonable:!1})],_.prototype,"parent",void 0),(0,i._)([(0,g.MZ)({readOnly:!0})],_.prototype,"parsedUrl",null),(0,i._)([(0,g.MZ)({type:Boolean,readOnly:!0})],_.prototype,"persistenceEnabled",void 0),(0,i._)([(0,g.MZ)({type:Boolean})],_.prototype,"popupEnabled",void 0),(0,i._)([(0,g.MZ)({type:Boolean})],_.prototype,"attributionVisible",void 0),(0,i._)([(0,g.MZ)({type:y.A})],_.prototype,"spatialReference",void 0),(0,i._)([(0,g.MZ)({type:String})],_.prototype,"title",void 0),(0,i._)([(0,g.MZ)({readOnly:!0,json:{read:!1}})],_.prototype,"type",void 0),(0,i._)([(0,g.MZ)()],_.prototype,"url",void 0),(0,i._)([(0,g.MZ)({type:p.A})],_.prototype,"visibilityTimeExtent",void 0),(0,i._)([(0,g.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"visible",void 0),_=(0,i._)([(0,f.$)("esri.layers.Layer")],_);const m=_},62258:(t,e,n)=>{var i,r;n.d(e,{dz:()=>i,oH:()=>r}),function(t){t[t.OBJECT=0]="OBJECT",t[t.HUD=1]="HUD",t[t.TERRAIN=2]="TERRAIN",t[t.OVERLAY=3]="OVERLAY",t[t.I3S=4]="I3S",t[t.PCL=5]="PCL",t[t.LOD=6]="LOD",t[t.VOXEL=7]="VOXEL",t[t.TILES3D=8]="TILES3D"}(i||(i={})),function(t){t[t.MIN=0]="MIN",t[t.MINMAX=1]="MINMAX",t[t.ALL=2]="ALL"}(r||(r={}))},65215:(t,e,n)=>{n.d(e,{HE:()=>i,R6:()=>r}),n(51850);class i{constructor(t){this.layerUid=t}}class r extends i{constructor(t,e){super(t),this.graphicUid=e}}},86305:(t,e,n)=>{n.d(e,{i3:()=>r}),n(38954);var i=n(51850);function r(t){return null!=t?.dist}n(17352),n(62258),(0,i.vt)()},87582:(t,e,n)=>{n.d(e,{h:()=>r}),n(62258);var i=n(65215);n(86305);class r extends i.R6{constructor(t,e,n,i,r,o){super(t,e),this.layerUid=t,this.graphicUid=e,this.geometryId=n,this.triangleNr=i,this.baseBoundingSphere=r,this.numLodLevels=o}}}}]);