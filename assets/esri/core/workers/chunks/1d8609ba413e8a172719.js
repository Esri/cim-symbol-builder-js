"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[5263,7159],{78502:(e,t,s)=>{s.d(t,{Fq:()=>l,SQ:()=>a,Yc:()=>n,Yq:()=>o,uf:()=>i});var r=s(5443);function i(e){if(null==e)return null;if("number"==typeof e)return e;let t=e.toLowerCase();switch(t=t.replaceAll(/\s/g,""),t=t.replaceAll("-",""),t){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 109404;case"miles":case"mile":case"squaremile":case"squaremiles":return 109439;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 109414;case"acres":case"acre":case"ac":return 109402;case"hectares":case"hectare":case"ha":return 109401;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 109442;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 109405;case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 109409}return null}function n(e){if(null==e)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new r.A({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function a(e){if(null==e)return null;if("number"==typeof e)return e;let t=e.toLowerCase();switch(t=t.replaceAll(/\s/g,""),t=t.replaceAll("-",""),t){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 9001;case"miles":case"mile":case"squaremile":case"squaremiles":return 9093;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 9036;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 9096;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 9002;case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 9030}return null}function o(e){if(null==e)return null;const t=e.clone();return void 0!==e.cache._geVersion&&(t.cache._geVersion=e.cache._geVersion),t}function l(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}},97159:(e,t,s)=>{s.d(t,{M:()=>T,a:()=>_,b:()=>S,e:()=>f,f:()=>a,i:()=>m,p:()=>d,r:()=>l,t:()=>o,w:()=>c});var r=s(70333),i=s(84952),n=s(39131);function a(e,t){const s=t?.url?.path;if(e&&s&&(e=(0,i.s2)(e,s,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const s=(0,i.V1)(e,t.portalItem.itemUrl);null!=s&&h.test(s)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(s).path)}return(e=p(e,t?.portal))&&u.test(e)?_(e):e}function o(e,t,s=T.YES){if(null==(e=e&&u.test(e)?y(e):e))return e;!(0,i.oP)(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let r=(0,i.s2)(e);if(t){const s=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(s){const n=p(s,t.portal),a=p(r,t.portal);r=(0,i.V1)(a,n,n),null!=r&&r!==a&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=f(r,t?.portal),(0,i.oP)(r)&&(r=(0,i.S8)(r)),t?.resources&&t?.portalItem&&!(0,i.oP)(r)&&!(0,i.DB)(r)&&s===T.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function l(e,t,s){return a(e,s)}function c(e,t,s,r){const i=o(e,r);void 0!==i&&(t[s]=i)}const u=/\/items\/([^/]+)\/resources\/(.*)/,h=/^\.\/resources\//;function m(e){const t=e?.match(u)??null;return t?.[1]??null}function d(e){const t=e?.match(u)??null;if(null==t)return null;const s=t[2],r=s.lastIndexOf("/");if(-1===r){const{path:e,extension:t}=(0,i.xw)(s);return{prefix:null,filename:e,extension:t}}const{path:n,extension:a}=(0,i.xw)(s.slice(r+1));return{prefix:s.slice(0,r),filename:n,extension:a}}function f(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?(0,i.T1)(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function p(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const s=`${t.urlKey}.${t.customBaseUrl}`,r=(0,i.Xq)();return(0,i.FX)(r,`${r.scheme}://${s}`)?(0,i.T1)(e,t.portalHostname,s):(0,i.T1)(e,s,t.portalHostname)}function _(e){if(!e)return e||null;let t=e;return t&&r.id&&!r.id.findCredential(t)&&(t=(0,n.qG)(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function y(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&r.id&&!r.id.findCredential(t)&&(t=(0,n.qG)(t)),t}var T,g;(g=T||(T={}))[g.YES=0]="YES",g[g.NO=1]="NO";const S=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return T},ensureMainOnlineDomain:f,fromCDNUrl:y,fromJSON:a,itemIdFromResourceUrl:m,prefixAndFilenameFromResourceUrl:d,read:l,toCDNUrl:_,toJSON:o,write:c},Symbol.toStringTag,{value:"Module"}))},32587:(e,t,s)=>{s.d(t,{A:()=>n});var r=s(62788),i=s(95488);class n{constructor(e){this._observable=new i.I,this._map=new Map(e)}get size(){return(0,r.gc)(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){const t=this._map.delete(e);return t&&this._observable.notify(),t}entries(){return(0,r.gc)(this._observable),this._map.entries()}forEach(e,t){(0,r.gc)(this._observable),this._map.forEach(((s,r)=>e.call(t,s,r,this)),t)}get(e){return(0,r.gc)(this._observable),this._map.get(e)}has(e){return(0,r.gc)(this._observable),this._map.has(e)}keys(){return(0,r.gc)(this._observable),this._map.keys()}set(e,t){return this._map.set(e,t),this._observable.notify(),this}values(){return(0,r.gc)(this._observable),this._map.values()}[Symbol.iterator](){return(0,r.gc)(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}},60999:(e,t,s)=>{s.d(t,{DZ:()=>f,Ke:()=>d,Tj:()=>u,UT:()=>p,jJ:()=>c});var r=s(90237),i=s(69622),n=s(97768),a=s(74887),o=s(10107),l=s(40608);function c(e,t,s){return(0,a.Lx)(e.map(((e,r)=>t.apply(s,[e,r]))))}async function u(e,t,s){return(await(0,a.Lx)(e.map(((e,r)=>t.apply(s,[e,r]))))).map((e=>e.value))}function h(e){return{ok:!0,value:e}}function m(e){return{ok:!1,error:e}}async function d(e){if(null==e)return{ok:!1,error:new Error("no promise provided")};try{return h(await e)}catch(e){return m(e)}}async function f(e){try{return h(await e)}catch(e){return(0,a.QP)(e),m(e)}}function p(e,t){return new _(e,t)}let _=class extends i.A{get value(){return null!=(e=this._result)&&!0===e.ok?e.value:null;var e}get error(){return null!=(e=this._result)&&!1===e.ok?e.error:null;var e}get finished(){return null!=this._result}constructor(e,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,n.DC)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:s}=this._abortController;this.promise=e(s),this.promise.then((e=>{this._result=h(e),this._cleanup()}),(e=>{this._result=m(e),this._cleanup()})),this._abortHandle=(0,a.u7)(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,n.xt)(this._abortHandle),this._abortController=null}};(0,r._)([(0,o.MZ)()],_.prototype,"value",null),(0,r._)([(0,o.MZ)()],_.prototype,"error",null),(0,r._)([(0,o.MZ)()],_.prototype,"finished",null),(0,r._)([(0,o.MZ)()],_.prototype,"promise",void 0),(0,r._)([(0,o.MZ)()],_.prototype,"_result",void 0),_=(0,r._)([(0,l.$)("esri.core.asyncUtils.ReactiveTask")],_)},44729:(e,t,s)=>{s.d(t,{n:()=>o});var r=s(66131),i=s(73444),n=s(96285);function a(e){e=e.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let t="";const s=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const r of e.match(s)||[])switch(r){case"D":t+="d";break;case"DD":t+="dd";break;case"DDD":t+="o";break;case"d":t+="c";break;case"ddd":t+="ccc";break;case"dddd":t+="cccc";break;case"M":t+="L";break;case"MM":t+="LL";break;case"MMM":t+="LLL";break;case"MMMM":t+="LLLL";break;case"YY":t+="yy";break;case"Y":case"YYYY":t+="yyyy";break;case"Q":t+="q";break;case"X":case"x":t+=r;break;default:r.length>=2&&"["===r.slice(0,1)&&"]"===r.slice(-1)?t+=`'${r.slice(1,-1)}'`:t+=`'${r}'`}return t}class o{constructor(e,t,s){this._year=e,this._month=t,this._day=s,this.declaredRootClass="esri.core.sql.dateonly"}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(e){return e instanceof o&&e.day===this.day&&e.month===this.month&&e.year===this.year}clone(){return new o(this._year,this._month,this._day)}toDateTime(e){return n.c9.fromObject({day:this.day,month:this.month,year:this.year},{zone:(0,r.mT)(e)})}toDateTimeLuxon(e){return n.c9.fromObject({day:this.day,month:this.month,year:this.year},{zone:(0,r.mT)(e)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(e=null,t=!0){if(null===e||""===e)return this.toString();if(t&&(e=a(e)),!e)return"";const s=this.toDateTime("unknown");return r.lY.dateTimeToArcadeDate(s).toFormat(e,{locale:(0,i.JK)(),numberingSystem:"latn"})}toArcadeDate(){const e=this.toDateTime("unknown");return r.lY.dateTimeToArcadeDate(e)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd",!1)}toSQLValue(){return this.toFormat("yyyy-LL-dd",!1)}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd",!1)+"'"}plus(e,t){return o.fromDateTime(this.toUTCDateTime().plus({[e]:t}))}toUTCDateTime(){return n.c9.utc(this.year,this.month,this.day,0,0,0,0)}difference(e,t){switch(t.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return"M"===t?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}static fromMilliseconds(e){const t=n.c9.fromMillis(e,{zone:n.mQ.utcInstance});return t.isValid?o.fromParts(t.year,t.month,t.day):null}static fromSeconds(e){const t=n.c9.fromSeconds(e,{zone:n.mQ.utcInstance});return t.isValid?o.fromParts(t.year,t.month,t.day):null}static fromReader(e){if(!e)return null;const t=e.split("-");return 3!==t.length?null:new o(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10))}static fromParts(e,t,s){const r=new o(e,t,s);return!1===r.isValid?null:r}static fromDateJS(e){return o.fromParts(e.getFullYear(),e.getMonth()+1,e.getDay())}static fromDateTime(e){return o.fromParts(e.year,e.month,e.day)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,t=null){if(""===e)return null;if(null===e)return null;const s=[];if(t)(t=a(t))&&s.push(t);else if(null===t||""===t){const t=n.c9.fromISO(e,{setZone:!0});return t.isValid?o.fromParts(t.year,t.month,t.day):null}for(const r of s){const s=n.c9.fromFormat(e,t??r);if(s.isValid)return new o(s.year,s.month,s.day)}return null}static fromNow(e="system"){const t=n.c9.fromJSDate(new Date).setZone((0,r.mT)(e));return new o(t.year,t.month,t.day)}}},15032:(e,t,s)=>{s.d(t,{k:()=>o});var r=s(78502),i=s(73444),n=s(96285);function a(e){if(!e)return"";const t=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let s="";for(const r of e.match(t)||[])switch(r){case"SSS":case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":s+=r;break;case"A":case"a":s+="a";break;default:s+=`'${r}'`}return s}class o{constructor(e,t,s,r){this._hour=e,this._minute=t,this._second=s,this._millisecond=r,this.declaredRootClass="esri.core.sql.timeonly"}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(e){return e instanceof o&&e.hour===this.hour&&e.minute===this.minute&&e.second===this.second&&e.millisecond===this.millisecond}clone(){return new o(this.hour,this.minute,this.second,this.millisecond)}isValid(){return(0,r.Fq)(this.hour)&&(0,r.Fq)(this.minute)&&(0,r.Fq)(this.second)&&(0,r.Fq)(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`+(this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`}toFormat(e=null){return null===e||""===e?this.toString():(e=a(e))?n.c9.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(e,{locale:(0,i.JK)(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*60*1e3}static fromParts(e,t,s,r){const i=new o(e,t,s,r);return i.isValid()?i:null}static fromReader(e){if(!e)return null;const t=e.split(":");return 3!==t.length?null:new o(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10),0)}static fromMilliseconds(e){if(e>864e5||e<0)return null;const t=Math.floor(e/1e3%60),s=Math.floor(e/6e4%60),r=Math.floor(e/36e5%24),i=Math.floor(e%1e3);return new o(r,s,t,i)}static fromDateJS(e){return new o(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}static fromDateTime(e){return new o(e.hour,e.minute,e.second,e.millisecond)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,t=null){if(""===e)return null;if(null===e)return null;const s=[];t?(t=a(t))&&s.push(t):null!==t&&""!==t||(s.push("HH:mm:ss"),s.push("HH:mm:ss.SSS"),s.push("hh:mm:ss a"),s.push("hh:mm:ss.SSS a"),s.push("HH:mm"),s.push("hh:mm a"),s.push("H:mm"),s.push("h:mm a"),s.push("H:mm:ss"),s.push("h:mm:ss a"),s.push("H:mm:ss.SSS"),s.push("h:mm:ss.SSS a"));for(const t of s){const s=n.c9.fromFormat(e,t);if(s.isValid)return new o(s.hour,s.minute,s.second,s.millisecond)}return null}plus(e,t){switch(e){case"days":case"years":case"months":return this.clone();case"hours":case"minutes":case"seconds":case"milliseconds":return o.fromDateTime(this.toUTCDateTime().plus({[e]:t}))}return null}toUTCDateTime(){return n.c9.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(e,t){switch(t.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return"M"===t?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}}},47566:(e,t,s)=>{s(97770),s(18047),s(71754),s(73444);var r=s(10838),i=s(78888),n=s(49186);async function a(e){if(null!=o.fetchBundleAsset)return o.fetchBundleAsset(e);const t=await(0,i.A)(e,{responseType:"text"});return JSON.parse(t.data)}const o={};var l,c=s(2741);(0,r.ao)((l={pattern:"esri/",location:c.s},new class{constructor({base:e="",pattern:t,location:s=new URL(window.location.href)}){let r;r="string"==typeof s?e=>new URL(e,new URL(s,window.location.href)).href:s instanceof URL?e=>new URL(e,s).href:s,this.pattern="string"==typeof t?new RegExp(`^${t}`):t,this.getAssetUrl=r,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(e,t){return async function(e,t,s,i){const o=t.exec(s);if(!o)throw new n.A("esri-intl:invalid-bundle",`Bundle id "${s}" is not compatible with the pattern "${t}"`);const l=o[1]?`${o[1]}/`:"",c=o[2],u=(0,r.xO)(i),h=`${l}${c}.json`,m=u?`${l}${c}_${u}.json`:h;let d;try{d=await a(e(m))}catch(t){if(m===h)throw new n.A("intl:unknown-bundle",`Bundle "${s}" cannot be loaded`,{error:t});try{d=await a(e(h))}catch(e){throw new n.A("intl:unknown-bundle",`Bundle "${s}" cannot be loaded`,{error:e})}}return d}(this.getAssetUrl,this.matcher,e,t)}}(l)))},18047:(e,t,s)=>{s.d(t,{ZV:()=>o});var r=s(73444);const i={ar:"ar-u-nu-latn"};let n=new WeakMap,a={};function o(e,t){return Object.is(e,-0)&&(e=0),function(e){const t=e||a;if(!n.has(t)){const s=(0,r.JK)(),a=i[(0,r.JK)()]||s;n.set(t,new Intl.NumberFormat(a,e))}return n.get(t)}(t).format(e)}(0,r.Ml)((()=>{n=new WeakMap,a={}})),new Map},71754:(e,t,s)=>{s.d(t,{V:()=>c});var r=s(53966),i=s(93637),n=s(799),a=s(97770),o=s(18047);const l=()=>r.A.getLogger("esri.intl.substitute");function c(e,t,s={}){const{format:r={}}=s;return(0,n.HC)(e,(e=>function(e,t,s){let r,n;const a=e.indexOf(":");if(-1===a?r=e.trim():(r=e.slice(0,a).trim(),n=e.slice(a+1).trim()),!r)return"";const o=(0,i.wc)(r,t);if(null==o)return"";const l=(n?s?.[n]:null)??s?.[r];return l?u(o,l):n?h(o,n):m(o)}(e,t,r)))}function u(e,t){switch(t.type){case"date":return(0,a.Yq)(e,t.intlOptions);case"number":return(0,o.ZV)(e,t.intlOptions);default:return l().warn("missing format descriptor for key {key}"),m(e)}}function h(e,t){switch(t.toLowerCase()){case"dateformat":return(0,a.Yq)(e);case"numberformat":return(0,o.ZV)(e);default:return l().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?(0,a.Yq)(e):/^numberformat/i.test(t)?(0,o.ZV)(e):m(e)}}function m(e){switch(typeof e){case"string":return e;case"number":return(0,o.ZV)(e);case"boolean":return""+e;default:return e instanceof Date?(0,a.Yq)(e):""}}},95466:(e,t,s)=>{s.d(t,{A:()=>m});var r=s(49186),i=s(25482),n=s(53966),a=s(91869),o=s(3330),l=s(30524),c=s(56400),u=s(96285);const h=new Map;class m{static fromJSON(e){return new m(e.fields,e.timeZoneByFieldName)}static fromLayer(e){return new m(e.fields??[],_(e))}static fromLayerJSON(e){return new m(e.fields??[],_(e))}constructor(e=[],t){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=t?new Map(t):null;const s=[];for(const e of this.fields){const t=e?.name,r=f(t);if(t&&r){const i=d(t);this._fieldsMap.set(t,e),this._fieldsMap.set(i,e),this._normalizedFieldsMap.set(r,e),s.push(`${i}:${e.type}:${this._timeZoneByFieldName?.get(t)}`),(0,l.vE)(e)?(this.dateFields.push(e),this._dateFieldsSet.add(e)):(0,l.WA)(e)&&(this._numericFieldsSet.add(e),this.numericFields.push(e)),(0,l.te)(e)||(0,l.Xz)(e)||(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable)}}s.sort(),this.uid=s.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)(0,l.te)(e)||(0,l.Xz)(e)||e.nullable||void 0!==(0,l.lD)(e)||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===e?.uid}has(e){return null!=this.get(e)}get(e){if(!e)return;let t=this._fieldsMap.get(e);return t||(t=this._fieldsMap.get(d(e))??this._normalizedFieldsMap.get(f(e)),t&&this._fieldsMap.set(e,t),t)}getTimeZone(e){const t=this.get(e&&"string"!=typeof e?e.name:e);return t?this._timeZoneByFieldName?this._timeZoneByFieldName.get(t.name):"date"===t.type||"esriFieldTypeDate"===t.type?(n.A.getLogger("esri.layers.support.FieldsIndex").error(new r.A("getTimeZone:no-timezone-information",`no time zone information for field '${t.name}'`)),c.n$):p.has(t.type)?c.L5:null:null}getLuxonTimeZone(e){const t=this.getTimeZone(e);return t?t===c.L5?o.GB.instance:t===c.n$?u.mQ.utcInstance:(0,a.tE)(h,t,(()=>u.oh.create(t))):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return(0,l.OH)(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){return this.get(e)?.name??void 0}toJSON(){return{fields:this.fields.map((e=>i.A.isSerializable(e)?e.toJSON():e)),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function d(e){return e.trim().toLowerCase()}function f(e){return(0,l.rS)(e)?.toLowerCase()??""}const p=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function _(e){const t=new Map;if(!e.fields)return t;const s=!0===e.datesInUnknownTimezone,{timeInfo:r,editFieldsInfo:i}=e,n=(r?"startField"in r?r.startField:r.startTimeField:"")??"",a=(r?"endField"in r?r.endField:r.endTimeField:"")??"",o=function(e){return"dateFieldsTimeZone"in e}(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?(0,c.ZS)(e.dateFieldsTimeReference):null,l=i?function(e){return"timeZone"in e}(i)?i.timeZone??o:i.dateFieldsTimeReference?(0,c.ZS)(i.dateFieldsTimeReference):o??c.n$:null,u=r?function(e){return"timeZone"in e}(r)?r.timeZone??o:r.timeReference?(0,c.ZS)(r.timeReference):o:null,h=new Map([[d(i?.creationDateField??""),l],[d(i?.editDateField??""),l],[d(n),u],[d(a),u]]);for(const{name:r,type:i}of e.fields)if(p.has(i))t.set(r,c.L5);else if("date"!==i&&"esriFieldTypeDate"!==i)t.set(r,null);else if(s)t.set(r,c.L5);else{const e=h.get(d(r??""))??o;t.set(r,e)}return t}},58501:(e,t,s)=>{s.d(t,{q:()=>i});var r=s(62815);function i(e,t,s){if(!s?.features||!s.hasZ)return;const i=(0,r.N)(s.geometryType,t,e.outSpatialReference);if(null!=i)for(const e of s.features)i(e.geometry)}},48852:(e,t,s)=>{s.d(t,{g:()=>c});var r=s(4576),i=(s(44208),s(53966)),n=s(34275),a=s(94656),o=s(63907);const l=()=>i.A.getLogger("esri.views.webgl.BufferObject");class c{static createIndex(e,t,s){return new c(e,o.NZ.ELEMENT_ARRAY_BUFFER,t,s)}static createVertex(e,t,s){return new c(e,o.NZ.ARRAY_BUFFER,t,s)}static createUniform(e,t,s){return new c(e,o.NZ.UNIFORM_BUFFER,t,s)}static createPixelPack(e,t=o._U.STREAM_READ,s){const r=new c(e,o.NZ.PIXEL_PACK_BUFFER,t);return s&&r.setSize(s),r}static createPixelUnpack(e,t=o._U.STREAM_DRAW,s){return new c(e,o.NZ.PIXEL_UNPACK_BUFFER,t,s)}static createTransformFeedback(e,t=o._U.STATIC_DRAW,s){const r=new c(e,o.NZ.TRANSFORM_FEEDBACK_BUFFER,t);return r.setSize(s),r}constructor(e,t,s,r){this._context=e,this.bufferType=t,this.usage=s,this._glName=null,this._size=-1,this._indexType=void 0,e.instanceCounter.increment(o.vt.BufferObject,this),this._glName=this._context.gl.createBuffer(),(0,a.Y2)(this._context.gl),r&&this.setData(r)}get glName(){return this._glName}get size(){return this._size}get indexType(){return this._indexType}get usedMemory(){if(this.bufferType===o.NZ.ELEMENT_ARRAY_BUFFER){if(this._indexType===o.pe.UNSIGNED_INT)return 4*this._size;if(this._indexType===o.pe.UNSIGNED_SHORT)return 2*this._size}return this._size}get _isVAOAware(){return this.bufferType===o.NZ.ELEMENT_ARRAY_BUFFER||this.bufferType===o.NZ.ARRAY_BUFFER}dispose(){this._context?.gl?(this._glName&&(this._context.gl.deleteBuffer(this._glName),this._glName=null),this._context.instanceCounter.decrement(o.vt.BufferObject,this),this._context=null):this._glName&&l().warn("Leaked WebGL buffer object")}setSize(e,t=null){if(this.bufferType===o.NZ.ELEMENT_ARRAY_BUFFER&&null!=t)switch(this._indexType=t,t){case o.pe.UNSIGNED_SHORT:e*=2;break;case o.pe.UNSIGNED_INT:e*=4}this._setBufferData(e)}setData(e){if(!e)return;let t=e.byteLength;this.bufferType===o.NZ.ELEMENT_ARRAY_BUFFER&&((0,n.mg)(e)?this._indexType=o.pe.UNSIGNED_BYTE:(0,n.jq)(e)?(t/=2,this._indexType=o.pe.UNSIGNED_SHORT):(0,n.XJ)(e)&&(t/=4,this._indexType=o.pe.UNSIGNED_INT)),this._setBufferData(t,e)}_setBufferData(e,t=null){this._size=e;const s=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const r=this._context.gl;null!=t?r.bufferData(this.bufferType,t,this.usage):r.bufferData(this.bufferType,e,this.usage),(0,a.Y2)(r),this._isVAOAware&&this._context.bindVAO(s)}setSubData(e,t,s,r){if(!e)return;const i=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const{gl:n}=this._context;n.bufferSubData(this.bufferType,t*e.BYTES_PER_ELEMENT,e,s,r-s),(0,a.Y2)(n),this._isVAOAware&&this._context.bindVAO(i)}getSubData(e,t=0,s,i){if(s<0||i<0)return;const n=function(e){return(0,r.Xj)(e)}(e)?e.BYTES_PER_ELEMENT:1;if(n*((s??0)+(i??0))>e.byteLength)return;t+n*(i??0)>this.usedMemory&&l().warn("Potential problem getting subdata: requested data exceeds buffer size!");const a=this._context.gl;this.bufferType===o.NZ.TRANSFORM_FEEDBACK_BUFFER?(this._context.bindBuffer(this,o.NZ.TRANSFORM_FEEDBACK_BUFFER),a.getBufferSubData(o.NZ.TRANSFORM_FEEDBACK_BUFFER,t,e,s,i),this._context.unbindBuffer(o.NZ.TRANSFORM_FEEDBACK_BUFFER)):(this._context.bindBuffer(this,o.NZ.COPY_READ_BUFFER),a.getBufferSubData(o.NZ.COPY_READ_BUFFER,t,e,s,i),this._context.unbindBuffer(o.NZ.COPY_READ_BUFFER))}async getSubDataAsync(e,t=0,s,r){await this._context.clientWaitAsync(),this.getSubData(e,t,s,r)}}}}]);