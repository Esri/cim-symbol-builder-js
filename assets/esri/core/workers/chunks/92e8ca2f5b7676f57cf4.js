"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[9213],{54938:(e,t,r)=>{r.r(t),r.d(t,{default:()=>F});var s=r(43697),i=r(3172),a=r(46791),n=r(70921),o=r(96674),l=r(22974),c=r(83379),u=r(68668),p=r(92604),d=r(70586),h=r(95330),y=r(17452),m=r(5600),g=(r(80442),r(52011)),f=r(30556),b=r(82971),v=r(48522),w=r(15235),S=r(8238),_=r(92036),M=(r(77734),r(70171));const C=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let T=class extends _.Z{constructor(e){super(e),this.id=null,this.language=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps"}getLanguageParamValue(){if(this.language)return this.language;const e=(0,M.Kd)().toLowerCase();switch(e){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const t=(0,M.G3)(e);return"pt"===t?"pt-BR":t&&C.has(t)?t:"global"}};(0,s._)([(0,m.Cb)()],T.prototype,"id",void 0),(0,s._)([(0,m.Cb)()],T.prototype,"language",void 0),(0,s._)([(0,m.Cb)()],T.prototype,"serviceUrl",void 0),T=(0,s._)([(0,g.j)("esri.support.BasemapStyle")],T);const I=T;var L,x=r(15650);let O=0,k=L=class extends((0,o.eC)(c.Z)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+O++,this.baseLayers=new a.Z,this.referenceLayers=new a.Z;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"===e.type&&p.Z.getLogger(this).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=e=>{e.parent=null};this.addHandles([this.baseLayers.on("after-add",(e=>t(e.item))),this.referenceLayers.on("after-add",(e=>t(e.item))),this.baseLayers.on("after-remove",(e=>r(e.item))),this.referenceLayers.on("after-remove",(e=>r(e.item)))])}initialize(){this.when().catch((e=>{p.Z.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const t of e)t.destroy();const t=this.referenceLayers.toArray();for(const e of t)e.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=(0,d.SC)(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",(0,n.Z)(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const s=[];e?(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach((e=>{const t=(0,x.Nw)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);null!=t&&s.push(t)})),this.referenceLayers.forEach((e=>{const t=(0,x.Nw)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);null!=t&&("scene"!==e.type&&(t.isReference=!0),s.push(t))})),t.baseMapLayers=s):t.baseMapLayers=s}set referenceLayers(e){this._set("referenceLayers",(0,n.Z)(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return(0,u.G)(this,(e=>{e(this.baseLayers,this.referenceLayers)}))}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map((e=>(0,l.tZ)(e)?e.clone():e)),referenceLayers:this.referenceLayers.map((e=>(0,l.tZ)(e)?e.clone():e))};return this.loaded&&(e.loadStatus="loaded"),new L({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t?.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((e=>{const t=(0,l.d9)(e);return t.url&&(0,y.oC)(t.url)&&(t.url=`https:${t.url}`),t.templateUrl&&(0,y.oC)(t.templateUrl)&&(t.templateUrl=`https:${t.templateUrl}`),t}))),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r,style:s}=this;(0,h.k_)(e);const i=[];if(t){const r=t.context?t.context.url:null;if(i.push(this._loadLayersFromJSON(t.data,r,e)),t.data.id&&!t.data.title){const e=t.data.id;i.push((0,S.g)(e).then((e=>{e&&this.read({title:e},t.context)})))}}else r?i.push(this._loadFromItem(r,e)):s&&i.push(this._loadFromStylesService(s,e));await Promise.all(i)}async _loadLayersFromJSON(e,t,s){const i=this.resourceInfo?.context,a=this.portalItem?.portal||i?.portal||null,n=U[i?.origin||""]??"web-map",{populateOperationalLayers:o}=await Promise.all([r.e(3615),r.e(24)]).then(r.bind(r,70024)),l=[];if((0,h.k_)(s),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const r={context:{...i,origin:n,url:t,portal:a,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},s=e=>"web-scene"===n&&"ArcGISSceneServiceLayer"===e.layerType||e.isReference,c=o(this.baseLayers,e.baseMapLayers.filter((e=>!s(e))),r);l.push(c);const u=o(this.referenceLayers,e.baseMapLayers.filter(s),r);l.push(u)}await Promise.allSettled(l)}async _loadFromItem(e,t){const r=await e.load(t),s=await r.fetchData("json",t),i=(0,y.mN)(e.itemUrl??"");return this._set("resourceInfo",{data:s.baseMap??{},context:{origin:G[e.type||""]??"web-map",portal:e.portal||v.Z.getDefault(),url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:s.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||v.Z.getDefault(),url:i}),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}async _loadFromStylesService(e,t){const r=`${e.serviceUrl}/${e.id}`,s=(await(0,i.Z)(r,{query:{language:e.getLanguageParamValue()},signal:t?.signal})).data;if(s.baseMap&&Array.isArray(s.baseMap.baseMapLayers))for(const e of s.baseMap.baseMapLayers)if(!e.customParameters&&e.styleUrl?.includes("?")){const t=(0,y.mN)(e.styleUrl);t.query&&(e.styleUrl=t.path,e.customParameters=t.query)}const a=(0,y.mN)(r);return this._set("resourceInfo",{data:s.baseMap??{},context:{origin:"web-map",url:a}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:s.spatialReference},this.resourceInfo.context),this._loadLayersFromJSON(this.resourceInfo.data,a,t)}static fromId(e){const t=S.s[e];return t?t.itemId?new L({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):L.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};(0,s._)([(0,m.Cb)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,s){this._writeBaseLayers(e,t,s)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:a.Z}},writer(e,t,r,s){this._writeBaseLayers(e,t,s)}}}}}})],k.prototype,"baseLayers",null),(0,s._)([(0,m.Cb)({type:String,json:{origins:{"web-scene":{write:!0}}}})],k.prototype,"id",void 0),(0,s._)([(0,m.Cb)({type:w.default})],k.prototype,"portalItem",void 0),(0,s._)([(0,m.Cb)()],k.prototype,"referenceLayers",null),(0,s._)([(0,m.Cb)({readOnly:!0})],k.prototype,"resourceInfo",void 0),(0,s._)([(0,m.Cb)({type:b.Z})],k.prototype,"spatialReference",void 0),(0,s._)([(0,m.Cb)({type:I})],k.prototype,"style",void 0),(0,s._)([(0,m.Cb)()],k.prototype,"thumbnailUrl",void 0),(0,s._)([(0,m.Cb)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],k.prototype,"title",void 0),(0,s._)([(0,f.c)("title")],k.prototype,"writeTitle",null),k=L=(0,s._)([(0,g.j)("esri.Basemap")],k);const G={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},U={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},F=k},35270:(e,t,r)=>{r.d(t,{B7:()=>l,St:()=>i,VL:()=>n,h$:()=>a,rW:()=>c});const s={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function i(e){return!!s[e]||!!s[e.toLowerCase()]}function a(e){return s[e]??s[e.toLowerCase()]}function n(e){return[...a(e)]}function o(e,t,r){r<0&&++r,r>1&&--r;const s=6*r;return s<1?e+(t-e)*s:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function l(e,t,r,s=1){const i=(e%360+360)%360/360,a=r<=.5?r*(t+1):r+t-r*t,n=2*r-a;return[Math.round(255*o(n,a,i+1/3)),Math.round(255*o(n,a,i)),Math.round(255*o(n,a,i-1/3)),s]}function c(e){const t=e.length>5,r=t?8:4,s=(1<<r)-1,i=t?1:17,a=t?9===e.length:5===e.length;let n=Number("0x"+e.substr(1));if(isNaN(n))return null;const o=[0,0,0,1];let l;return a&&(l=n&s,n>>=r,o[3]=i*l/255),l=n&s,n>>=r,o[2]=i*l,l=n&s,n>>=r,o[1]=i*l,l=n&s,n>>=r,o[0]=i*l,o}},83379:(e,t,r)=>{r.d(t,{Z:()=>m});var s=r(43697),i=r(20102),a=r(70586),n=r(609),o=r(95330),l=r(20941),c=r(5600),u=r(52011);const p="loaded",d=e=>{let t=class extends e{constructor(...e){super(...e),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((e=>{const t=this.load.bind(this);this.load=r=>{const s=new Promise(((e,t)=>{const s=(0,o.$F)(r,t);this.destroyed&&t(new i.Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(e,t).finally((()=>{s&&s.remove()}))}));if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const e=this._loadController=new AbortController;t({signal:e.signal})}return e(),s}}))),this.when((()=>{this._set("loadStatus",p),this._loadController=null}),(e=>{this._set("loadStatus","failed"),this._set("loadError",e),this._loadController=null}))}destroy(){this._loadController&&(this._loadController=(0,a.IM)(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===p}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new i.Z("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return(0,s._)([(0,c.Cb)({readOnly:!0})],t.prototype,"loaded",null),(0,s._)([(0,c.Cb)({readOnly:!0})],t.prototype,"loadError",void 0),(0,s._)([(0,c.Cb)({clonable:!1})],t.prototype,"loadStatus",void 0),(0,s._)([(0,c.Cb)({type:[l.Z],readOnly:!0})],t.prototype,"loadWarnings",null),t=(0,s._)([(0,u.j)("esri.core.Loadable")],t),t};let h=class extends(d(n.D)){};var y;h=(0,s._)([(0,u.j)("esri.core.Loadable")],h),(y=h||(h={})).LoadableMixin=d,y.isLoadable=function(e){return!(!e||!e.load)};const m=h},75517:(e,t,r)=>{function s(e,t){if(!t)return e;for(const r of t)e.add(r);return e}function i(e,t){const r=new Set;return s(r,e),s(r,t),r}function a(e,t){const r=new Set;for(const s of t)e.has(s)&&r.add(s);return r}function n(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0}function o(e,t){if(null==e&&null==t)return!0;if(null==e||null==t||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function l(e,t){const r=new Set(e);for(const e of t)r.delete(e);return r}r.d(t,{G0:()=>i,e5:()=>l,fS:()=>o,ik:()=>n,jV:()=>a})},71715:(e,t,r)=>{r.d(t,{r:()=>i});var s=r(5600);function i(e,t,r){let i,a;return void 0===t||Array.isArray(t)?(a=e,r=t,i=[void 0]):(a=t,i=Array.isArray(e)?e:[e]),(e,t)=>{const n=e.constructor.prototype;i.forEach((i=>{const o=(0,s.CJ)(e,i,a);o.read&&"object"==typeof o.read||(o.read={}),o.read.reader=n[t],r&&(o.read.source=(o.read.source||[]).concat(r))}))}}},70921:(e,t,r)=>{r.d(t,{R:()=>a,Z:()=>i});var s=r(46791);function i(e,t,r=s.Z){return t||(t=new r),t===e||(t.removeAll(),(i=e)&&(Array.isArray(i)||"items"in i&&Array.isArray(i.items))?t.addMany(e):e&&t.add(e)),t;var i}function a(e){return e}},22549:(e,t,r)=>{function s(){return[0,0,0,0]}function i(e,t,r,s){return[e,t,r,s]}function a(){return i(1,1,1,1)}function n(){return i(1,0,0,0)}function o(){return i(0,1,0,0)}function l(){return i(0,0,1,0)}function c(){return i(0,0,0,1)}r.d(t,{Ue:()=>s,al:()=>i});const u=a(),p=n(),d=o(),h=l(),y=c();Object.freeze(Object.defineProperty({__proto__:null,ONES:u,UNIT_W:y,UNIT_X:p,UNIT_Y:d,UNIT_Z:h,ZEROS:[0,0,0,0],clone:function(e){return[e[0],e[1],e[2],e[3]]},create:s,createView:function(e,t){return new Float64Array(e,t,4)},fromArray:function(e,t=[0,0,0,0]){const r=Math.min(4,e.length);for(let s=0;s<r;++s)t[s]=e[s];return t},fromValues:i,ones:a,unitW:c,unitX:n,unitY:o,unitZ:l,zeros:function(){return[0,0,0,0]}},Symbol.toStringTag,{value:"Module"}))},55488:(e,t,r)=>{r.d(t,{I6:()=>w,Iu:()=>u,Iw:()=>b,Jp:()=>c,U1:()=>d,U_:()=>l,Us:()=>y,aC:()=>m,bA:()=>p,fS:()=>S,lv:()=>M,p4:()=>o,pV:()=>_,t8:()=>a,vc:()=>h,yR:()=>n});var s=r(28712),i=r(39514);function a(e,t,r,s,i,a,n,o,l,c,u,p,d,h,y,m,g){return e[0]=t,e[1]=r,e[2]=s,e[3]=i,e[4]=a,e[5]=n,e[6]=o,e[7]=l,e[8]=c,e[9]=u,e[10]=p,e[11]=d,e[12]=h,e[13]=y,e[14]=m,e[15]=g,e}function n(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function o(e,t){if(e===t){const r=t[1],s=t[2],i=t[3],a=t[6],n=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=s,e[9]=a,e[11]=t[14],e[12]=i,e[13]=n,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function l(e,t){const r=t[0],s=t[1],i=t[2],a=t[3],n=t[4],o=t[5],l=t[6],c=t[7],u=t[8],p=t[9],d=t[10],h=t[11],y=t[12],m=t[13],g=t[14],f=t[15],b=r*o-s*n,v=r*l-i*n,w=r*c-a*n,S=s*l-i*o,_=s*c-a*o,M=i*c-a*l,C=u*m-p*y,T=u*g-d*y,I=u*f-h*y,L=p*g-d*m,x=p*f-h*m,O=d*f-h*g;let k=b*O-v*x+w*L+S*I-_*T+M*C;return k?(k=1/k,e[0]=(o*O-l*x+c*L)*k,e[1]=(i*x-s*O-a*L)*k,e[2]=(m*M-g*_+f*S)*k,e[3]=(d*_-p*M-h*S)*k,e[4]=(l*I-n*O-c*T)*k,e[5]=(r*O-i*I+a*T)*k,e[6]=(g*w-y*M-f*v)*k,e[7]=(u*M-d*w+h*v)*k,e[8]=(n*x-o*I+c*C)*k,e[9]=(s*I-r*x-a*C)*k,e[10]=(y*_-m*w+f*b)*k,e[11]=(p*w-u*_-h*b)*k,e[12]=(o*T-n*L-l*C)*k,e[13]=(r*L-s*T+i*C)*k,e[14]=(m*v-y*S-g*b)*k,e[15]=(u*S-p*v+d*b)*k,e):null}function c(e,t,r){const s=t[0],i=t[1],a=t[2],n=t[3],o=t[4],l=t[5],c=t[6],u=t[7],p=t[8],d=t[9],h=t[10],y=t[11],m=t[12],g=t[13],f=t[14],b=t[15];let v=r[0],w=r[1],S=r[2],_=r[3];return e[0]=v*s+w*o+S*p+_*m,e[1]=v*i+w*l+S*d+_*g,e[2]=v*a+w*c+S*h+_*f,e[3]=v*n+w*u+S*y+_*b,v=r[4],w=r[5],S=r[6],_=r[7],e[4]=v*s+w*o+S*p+_*m,e[5]=v*i+w*l+S*d+_*g,e[6]=v*a+w*c+S*h+_*f,e[7]=v*n+w*u+S*y+_*b,v=r[8],w=r[9],S=r[10],_=r[11],e[8]=v*s+w*o+S*p+_*m,e[9]=v*i+w*l+S*d+_*g,e[10]=v*a+w*c+S*h+_*f,e[11]=v*n+w*u+S*y+_*b,v=r[12],w=r[13],S=r[14],_=r[15],e[12]=v*s+w*o+S*p+_*m,e[13]=v*i+w*l+S*d+_*g,e[14]=v*a+w*c+S*h+_*f,e[15]=v*n+w*u+S*y+_*b,e}function u(e,t,r){const s=r[0],i=r[1],a=r[2];if(t===e)e[12]=t[0]*s+t[4]*i+t[8]*a+t[12],e[13]=t[1]*s+t[5]*i+t[9]*a+t[13],e[14]=t[2]*s+t[6]*i+t[10]*a+t[14],e[15]=t[3]*s+t[7]*i+t[11]*a+t[15];else{const r=t[0],n=t[1],o=t[2],l=t[3],c=t[4],u=t[5],p=t[6],d=t[7],h=t[8],y=t[9],m=t[10],g=t[11];e[0]=r,e[1]=n,e[2]=o,e[3]=l,e[4]=c,e[5]=u,e[6]=p,e[7]=d,e[8]=h,e[9]=y,e[10]=m,e[11]=g,e[12]=r*s+c*i+h*a+t[12],e[13]=n*s+u*i+y*a+t[13],e[14]=o*s+p*i+m*a+t[14],e[15]=l*s+d*i+g*a+t[15]}return e}function p(e,t,r){const s=r[0],i=r[1],a=r[2];return e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function d(e,t,r,s){let a,n,o,l,c,u,p,d,h,y,m,g,f,b,v,w,S,_,M,C,T,I,L,x,O=s[0],k=s[1],G=s[2],U=Math.sqrt(O*O+k*k+G*G);return U<(0,i.bn)()?null:(U=1/U,O*=U,k*=U,G*=U,a=Math.sin(r),n=Math.cos(r),o=1-n,l=t[0],c=t[1],u=t[2],p=t[3],d=t[4],h=t[5],y=t[6],m=t[7],g=t[8],f=t[9],b=t[10],v=t[11],w=O*O*o+n,S=k*O*o+G*a,_=G*O*o-k*a,M=O*k*o-G*a,C=k*k*o+n,T=G*k*o+O*a,I=O*G*o+k*a,L=k*G*o-O*a,x=G*G*o+n,e[0]=l*w+d*S+g*_,e[1]=c*w+h*S+f*_,e[2]=u*w+y*S+b*_,e[3]=p*w+m*S+v*_,e[4]=l*M+d*C+g*T,e[5]=c*M+h*C+f*T,e[6]=u*M+y*C+b*T,e[7]=p*M+m*C+v*T,e[8]=l*I+d*L+g*x,e[9]=c*I+h*L+f*x,e[10]=u*I+y*L+b*x,e[11]=p*I+m*L+v*x,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function h(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function y(e,t,r){if(0===t)return n(e);let s,a,o,l=r[0],c=r[1],u=r[2],p=Math.sqrt(l*l+c*c+u*u);return p<(0,i.bn)()?null:(p=1/p,l*=p,c*=p,u*=p,s=Math.sin(t),a=Math.cos(t),o=1-a,e[0]=l*l*o+a,e[1]=c*l*o+u*s,e[2]=u*l*o-c*s,e[3]=0,e[4]=l*c*o-u*s,e[5]=c*c*o+a,e[6]=u*c*o+l*s,e[7]=0,e[8]=l*u*o+c*s,e[9]=c*u*o-l*s,e[10]=u*u*o+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function m(e,t){const r=Math.sin(t),s=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function g(e,t,r){const s=t[0],i=t[1],a=t[2],n=t[3],o=s+s,l=i+i,c=a+a,u=s*o,p=s*l,d=s*c,h=i*l,y=i*c,m=a*c,g=n*o,f=n*l,b=n*c;return e[0]=1-(h+m),e[1]=p+b,e[2]=d-f,e[3]=0,e[4]=p-b,e[5]=1-(u+m),e[6]=y+g,e[7]=0,e[8]=d+f,e[9]=y-g,e[10]=1-(u+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}const f=(0,s.Ue)();function b(e,t,r,s){const i=t[0],a=t[1],n=t[2],o=t[3],l=i+i,c=a+a,u=n+n,p=i*l,d=i*c,h=i*u,y=a*c,m=a*u,g=n*u,f=o*l,b=o*c,v=o*u,w=s[0],S=s[1],_=s[2];return e[0]=(1-(y+g))*w,e[1]=(d+v)*w,e[2]=(h-b)*w,e[3]=0,e[4]=(d-v)*S,e[5]=(1-(p+g))*S,e[6]=(m+f)*S,e[7]=0,e[8]=(h+b)*_,e[9]=(m-f)*_,e[10]=(1-(p+y))*_,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function v(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function w(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function S(e,t){if(e===t)return!0;const r=e[0],s=e[1],a=e[2],n=e[3],o=e[4],l=e[5],c=e[6],u=e[7],p=e[8],d=e[9],h=e[10],y=e[11],m=e[12],g=e[13],f=e[14],b=e[15],v=t[0],w=t[1],S=t[2],_=t[3],M=t[4],C=t[5],T=t[6],I=t[7],L=t[8],x=t[9],O=t[10],k=t[11],G=t[12],U=t[13],F=t[14],V=t[15],N=(0,i.bn)();return Math.abs(r-v)<=N*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(s-w)<=N*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(a-S)<=N*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(n-_)<=N*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(o-M)<=N*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(l-C)<=N*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(c-T)<=N*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(u-I)<=N*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(p-L)<=N*Math.max(1,Math.abs(p),Math.abs(L))&&Math.abs(d-x)<=N*Math.max(1,Math.abs(d),Math.abs(x))&&Math.abs(h-O)<=N*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(y-k)<=N*Math.max(1,Math.abs(y),Math.abs(k))&&Math.abs(m-G)<=N*Math.max(1,Math.abs(m),Math.abs(G))&&Math.abs(g-U)<=N*Math.max(1,Math.abs(g),Math.abs(U))&&Math.abs(f-F)<=N*Math.max(1,Math.abs(f),Math.abs(F))&&Math.abs(b-V)<=N*Math.max(1,Math.abs(b),Math.abs(V))}function _(e){const t=(0,i.bn)(),r=e[0],s=e[1],a=e[2],n=e[4],o=e[5],l=e[6],c=e[8],u=e[9],p=e[10];return Math.abs(1-(r*r+n*n+c*c))<=t&&Math.abs(1-(s*s+o*o+u*u))<=t&&Math.abs(1-(a*a+l*l+p*p))<=t}function M(e){return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[8]&&0===e[9]&&1===e[10]}const C=c,T=v;Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e},adjoint:function(e,t){const r=t[0],s=t[1],i=t[2],a=t[3],n=t[4],o=t[5],l=t[6],c=t[7],u=t[8],p=t[9],d=t[10],h=t[11],y=t[12],m=t[13],g=t[14],f=t[15];return e[0]=o*(d*f-h*g)-p*(l*f-c*g)+m*(l*h-c*d),e[1]=-(s*(d*f-h*g)-p*(i*f-a*g)+m*(i*h-a*d)),e[2]=s*(l*f-c*g)-o*(i*f-a*g)+m*(i*c-a*l),e[3]=-(s*(l*h-c*d)-o*(i*h-a*d)+p*(i*c-a*l)),e[4]=-(n*(d*f-h*g)-u*(l*f-c*g)+y*(l*h-c*d)),e[5]=r*(d*f-h*g)-u*(i*f-a*g)+y*(i*h-a*d),e[6]=-(r*(l*f-c*g)-n*(i*f-a*g)+y*(i*c-a*l)),e[7]=r*(l*h-c*d)-n*(i*h-a*d)+u*(i*c-a*l),e[8]=n*(p*f-h*m)-u*(o*f-c*m)+y*(o*h-c*p),e[9]=-(r*(p*f-h*m)-u*(s*f-a*m)+y*(s*h-a*p)),e[10]=r*(o*f-c*m)-n*(s*f-a*m)+y*(s*c-a*o),e[11]=-(r*(o*h-c*p)-n*(s*h-a*p)+u*(s*c-a*o)),e[12]=-(n*(p*g-d*m)-u*(o*g-l*m)+y*(o*d-l*p)),e[13]=r*(p*g-d*m)-u*(s*g-i*m)+y*(s*d-i*p),e[14]=-(r*(o*g-l*m)-n*(s*g-i*m)+y*(s*l-i*o)),e[15]=r*(o*d-l*p)-n*(s*d-i*p)+u*(s*l-i*o),e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},determinant:function(e){const t=e[0],r=e[1],s=e[2],i=e[3],a=e[4],n=e[5],o=e[6],l=e[7],c=e[8],u=e[9],p=e[10],d=e[11],h=e[12],y=e[13],m=e[14],g=e[15];return(t*n-r*a)*(p*g-d*m)-(t*o-s*a)*(u*g-d*y)+(t*l-i*a)*(u*m-p*y)+(r*o-s*n)*(c*g-d*h)-(r*l-i*n)*(c*m-p*h)+(s*l-i*o)*(c*y-u*h)},equals:S,exactEquals:w,frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)},fromQuat:function(e,t){const r=t[0],s=t[1],i=t[2],a=t[3],n=r+r,o=s+s,l=i+i,c=r*n,u=s*n,p=s*o,d=i*n,h=i*o,y=i*l,m=a*n,g=a*o,f=a*l;return e[0]=1-p-y,e[1]=u+f,e[2]=d-g,e[3]=0,e[4]=u-f,e[5]=1-c-y,e[6]=h+m,e[7]=0,e[8]=d+g,e[9]=h-m,e[10]=1-c-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromQuat2:function(e,t){const r=f,s=-t[0],i=-t[1],a=-t[2],n=t[3],o=t[4],l=t[5],c=t[6],u=t[7],p=s*s+i*i+a*a+n*n;return p>0?(r[0]=2*(o*n+u*s+l*a-c*i)/p,r[1]=2*(l*n+u*i+c*s-o*a)/p,r[2]=2*(c*n+u*a+o*i-l*s)/p):(r[0]=2*(o*n+u*s+l*a-c*i),r[1]=2*(l*n+u*i+c*s-o*a),r[2]=2*(c*n+u*a+o*i-l*s)),g(e,t,r),e},fromRotation:y,fromRotationTranslation:g,fromRotationTranslationScale:b,fromRotationTranslationScaleOrigin:function(e,t,r,s,i){const a=t[0],n=t[1],o=t[2],l=t[3],c=a+a,u=n+n,p=o+o,d=a*c,h=a*u,y=a*p,m=n*u,g=n*p,f=o*p,b=l*c,v=l*u,w=l*p,S=s[0],_=s[1],M=s[2],C=i[0],T=i[1],I=i[2],L=(1-(m+f))*S,x=(h+w)*S,O=(y-v)*S,k=(h-w)*_,G=(1-(d+f))*_,U=(g+b)*_,F=(y+v)*M,V=(g-b)*M,N=(1-(d+m))*M;return e[0]=L,e[1]=x,e[2]=O,e[3]=0,e[4]=k,e[5]=G,e[6]=U,e[7]=0,e[8]=F,e[9]=V,e[10]=N,e[11]=0,e[12]=r[0]+C-(L*C+k*T+F*I),e[13]=r[1]+T-(x*C+G*T+V*I),e[14]=r[2]+I-(O*C+U*T+N*I),e[15]=1,e},fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromTranslation:h,fromXRotation:m,fromYRotation:function(e,t){const r=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromZRotation:function(e,t){const r=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},frustum:function(e,t,r,s,i,a,n){const o=1/(r-t),l=1/(i-s),c=1/(a-n);return e[0]=2*a*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*l,e[6]=0,e[7]=0,e[8]=(r+t)*o,e[9]=(i+s)*l,e[10]=(n+a)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=n*a*2*c,e[15]=0,e},getRotation:function(e,t){const r=t[0]+t[5]+t[10];let s=0;return r>0?(s=2*Math.sqrt(r+1),e[3]=.25*s,e[0]=(t[6]-t[9])/s,e[1]=(t[8]-t[2])/s,e[2]=(t[1]-t[4])/s):t[0]>t[5]&&t[0]>t[10]?(s=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/s,e[0]=.25*s,e[1]=(t[1]+t[4])/s,e[2]=(t[8]+t[2])/s):t[5]>t[10]?(s=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/s,e[0]=(t[1]+t[4])/s,e[1]=.25*s,e[2]=(t[6]+t[9])/s):(s=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/s,e[0]=(t[8]+t[2])/s,e[1]=(t[6]+t[9])/s,e[2]=.25*s),e},getScaling:function(e,t){const r=t[0],s=t[1],i=t[2],a=t[4],n=t[5],o=t[6],l=t[8],c=t[9],u=t[10];return e[0]=Math.sqrt(r*r+s*s+i*i),e[1]=Math.sqrt(a*a+n*n+o*o),e[2]=Math.sqrt(l*l+c*c+u*u),e},getTranslation:function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},hasIdentityRotation:M,identity:n,invert:l,invertOrIdentity:function(e,t){return l(e,t)||n(e),e},isOrthoNormal:_,lookAt:function(e,t,r,s){const a=t[0],o=t[1],l=t[2];let c=a-r[0],u=o-r[1],p=l-r[2];const d=(0,i.bn)();if(Math.abs(c)<d&&Math.abs(u)<d&&Math.abs(p)<d)return void n(e);let h=1/Math.sqrt(c*c+u*u+p*p);c*=h,u*=h,p*=h;const y=s[0],m=s[1],g=s[2];let f=m*p-g*u,b=g*c-y*p,v=y*u-m*c;h=Math.sqrt(f*f+b*b+v*v),h?(h=1/h,f*=h,b*=h,v*=h):(f=0,b=0,v=0);let w=u*v-p*b,S=p*f-c*v,_=c*b-u*f;h=Math.sqrt(w*w+S*S+_*_),h?(h=1/h,w*=h,S*=h,_*=h):(w=0,S=0,_=0),e[0]=f,e[1]=w,e[2]=c,e[3]=0,e[4]=b,e[5]=S,e[6]=u,e[7]=0,e[8]=v,e[9]=_,e[10]=p,e[11]=0,e[12]=-(f*a+b*o+v*l),e[13]=-(w*a+S*o+_*l),e[14]=-(c*a+u*o+p*l),e[15]=1},mul:C,multiply:c,multiplyScalar:function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e},multiplyScalarAndAdd:function(e,t,r,s){return e[0]=t[0]+r[0]*s,e[1]=t[1]+r[1]*s,e[2]=t[2]+r[2]*s,e[3]=t[3]+r[3]*s,e[4]=t[4]+r[4]*s,e[5]=t[5]+r[5]*s,e[6]=t[6]+r[6]*s,e[7]=t[7]+r[7]*s,e[8]=t[8]+r[8]*s,e[9]=t[9]+r[9]*s,e[10]=t[10]+r[10]*s,e[11]=t[11]+r[11]*s,e[12]=t[12]+r[12]*s,e[13]=t[13]+r[13]*s,e[14]=t[14]+r[14]*s,e[15]=t[15]+r[15]*s,e},ortho:function(e,t,r,s,i,a,n){const o=1/(t-r),l=1/(s-i),c=1/(a-n);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*o,e[13]=(i+s)*l,e[14]=(n+a)*c,e[15]=1,e},perspective:function(e,t,r,s,i){const a=1/Math.tan(t/2);let n;return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(n=1/(s-i),e[10]=(i+s)*n,e[14]=2*i*s*n):(e[10]=-1,e[14]=-2*s),e},perspectiveFromFieldOfView:function(e,t,r,s){const i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),n=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),l=2/(n+o),c=2/(i+a);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(n-o)*l*.5,e[9]=(i-a)*c*.5,e[10]=s/(r-s),e[11]=-1,e[12]=0,e[13]=0,e[14]=s*r/(r-s),e[15]=0,e},rotate:d,rotateX:function(e,t,r){const s=Math.sin(r),i=Math.cos(r),a=t[4],n=t[5],o=t[6],l=t[7],c=t[8],u=t[9],p=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+c*s,e[5]=n*i+u*s,e[6]=o*i+p*s,e[7]=l*i+d*s,e[8]=c*i-a*s,e[9]=u*i-n*s,e[10]=p*i-o*s,e[11]=d*i-l*s,e},rotateY:function(e,t,r){const s=Math.sin(r),i=Math.cos(r),a=t[0],n=t[1],o=t[2],l=t[3],c=t[8],u=t[9],p=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-c*s,e[1]=n*i-u*s,e[2]=o*i-p*s,e[3]=l*i-d*s,e[8]=a*s+c*i,e[9]=n*s+u*i,e[10]=o*s+p*i,e[11]=l*s+d*i,e},rotateZ:function(e,t,r){const s=Math.sin(r),i=Math.cos(r),a=t[0],n=t[1],o=t[2],l=t[3],c=t[4],u=t[5],p=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+c*s,e[1]=n*i+u*s,e[2]=o*i+p*s,e[3]=l*i+d*s,e[4]=c*i-a*s,e[5]=u*i-n*s,e[6]=p*i-o*s,e[7]=d*i-l*s,e},scale:p,set:a,str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},sub:T,subtract:v,targetTo:function(e,t,r,s){const i=t[0],a=t[1],n=t[2],o=s[0],l=s[1],c=s[2];let u=i-r[0],p=a-r[1],d=n-r[2],h=u*u+p*p+d*d;h>0&&(h=1/Math.sqrt(h),u*=h,p*=h,d*=h);let y=l*d-c*p,m=c*u-o*d,g=o*p-l*u;return h=y*y+m*m+g*g,h>0&&(h=1/Math.sqrt(h),y*=h,m*=h,g*=h),e[0]=y,e[1]=m,e[2]=g,e[3]=0,e[4]=p*g-d*m,e[5]=d*y-u*g,e[6]=u*m-p*y,e[7]=0,e[8]=u,e[9]=p,e[10]=d,e[11]=0,e[12]=i,e[13]=a,e[14]=n,e[15]=1,e},translate:u,transpose:o},Symbol.toStringTag,{value:"Module"}))},68668:(e,t,r)=>{r.d(t,{G:()=>n,w:()=>o});var s=r(66643),i=r(46791),a=r(83379);async function n(e,t){return await e.load(),o(e,t)}async function o(e,t){const r=[],n=(...e)=>{for(const t of e)null!=t&&(Array.isArray(t)?n(...t):i.Z.isCollection(t)?t.forEach((e=>n(e))):a.Z.isLoadable(t)&&r.push(t))};t(n);let o=null;if(await(0,s.UI)(r,(async e=>{const t=await(0,s.q6)(function(e){return"loadAll"in e&&"function"==typeof e.loadAll}(e)?e.loadAll():e.load());!1!==t.ok||o||(o=t)})),o)throw o.error;return e}},62357:(e,t,r)=>{r.d(t,{F2:()=>n,Wz:()=>o,t_:()=>l,vW:()=>c});const s=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,i="screenUtils.toPt: input not recognized!",a=96;function n(e){return e?e/72*a:0}function o(e){return e?72*e/a:0}function l(e){if("string"==typeof e){const t=e.match(s);if(t){const r=Number(t[1]),s=t[3]&&t[3].toLowerCase(),i="-"===e.charAt(0),a="px"===s?o(r):r;return i?-a:a}return console.warn(i),null}return e}function c(e=0,t=0){return{x:e,y:t}}},35463:(e,t,r)=>{r.d(t,{JE:()=>l,Nm:()=>o,fM:()=>n,rJ:()=>c});var s=r(90344),i=r(25031),a=r(17126);const n={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function o(e,t,r,n=i.By){const o=new a.vF((0,s.f1)(n)),l=a.ou.fromJSDate(e,{zone:o}),c="decades"===r||"centuries"===r?"year":u(r);return"decades"===r&&(t*=10),"centuries"===r&&(t*=100),l.plus({[c]:t}).toJSDate()}function l(e,t,r=i.By){const n=new a.vF((0,s.f1)(r)),o=a.ou.fromJSDate(e,{zone:n});if("decades"===t||"centuries"===t){const e=o.startOf("year"),{year:r}=e,s=r-r%("decades"===t?10:100);return e.set({year:s}).toJSDate()}const l=u(t);return o.startOf(l).toJSDate()}function c(e,t,r){return 0===e?0:e*n[t]/n[r]}function u(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}},66577:(e,t,r)=>{r.d(t,{qM:()=>u});var s=r(75215),i=r(6570),a=r(9361),n=r(65091),o=r(94139),l=r(38913),c=r(58901);r(82971),r(86973),r(33955);const u={base:a.Z,key:"type",typeMap:{extent:i.Z,multipoint:n.Z,point:o.Z,polyline:c.Z,polygon:l.Z}};(0,s.N7)(u)},9361:(e,t,r)=>{r.d(t,{Z:()=>u});var s=r(43697),i=r(96674),a=r(5600),n=(r(80442),r(92604),r(77734),r(71715)),o=r(52011),l=r(82971);let c=class extends i.wq{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=l.Z.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof l.Z)return e;if(null!=e){const r=new l.Z;return r.read(e,t),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};(0,s._)([(0,a.Cb)()],c.prototype,"type",void 0),(0,s._)([(0,a.Cb)({readOnly:!0})],c.prototype,"cache",null),(0,s._)([(0,a.Cb)({readOnly:!0})],c.prototype,"extent",null),(0,s._)([(0,a.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],c.prototype,"hasM",void 0),(0,s._)([(0,a.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],c.prototype,"hasZ",void 0),(0,s._)([(0,a.Cb)({type:l.Z,json:{write:!0},value:l.Z.WGS84})],c.prototype,"spatialReference",void 0),(0,s._)([(0,n.r)("spatialReference")],c.prototype,"readSpatialReference",null),c=(0,s._)([(0,o.j)("esri.geometry.Geometry")],c);const u=c},94139:(e,t,r)=>{r.d(t,{Z:()=>v});var s,i=r(43697),a=r(92604),n=r(5600),o=r(90578),l=(r(77734),r(80442),r(71715)),c=r(52011),u=r(30556),p=r(75215),d=r(9361),h=r(82971),y=r(8744),m=r(40488);const g=[0,0];function f(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}let b=s=class extends d.Z{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,s,i){let n;if(Array.isArray(e))n=e,i=t,e=n[0],t=n[1],r=n[2],s=n[3];else if(e&&"object"==typeof e){if(n=e,e=null!=n.x?n.x:n.longitude,t=null!=n.y?n.y:n.latitude,r=n.z,s=n.m,(i=n.spatialReference)&&"esri.geometry.SpatialReference"!==i.declaredClass&&(i=new h.Z(i)),null!=n.longitude||null!=n.latitude)if(null==n.longitude)a.Z.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(null==n.latitude)a.Z.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&i&&i.isWebMercator){const r=(0,m.hG)(n.longitude,n.latitude,g);e=r[0],t=r[1]}}else f(r)?(i=r,r=null):f(s)&&(i=s,s=null);const o={x:e,y:t};return null==o.x&&null!=o.y?a.Z.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):null==o.y&&null!=o.x&&a.Z.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),null!=i&&(o.spatialReference=i),null!=r&&(o.z=r),null!=s&&(o.m=s),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(e){e!==(void 0!==this._get("m"))&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return void 0!==this.z}set hasZ(e){e!==(void 0!==this._get("z"))&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:r}=this;if(e){if(e.isWebMercator)return(0,m.R6)(t,r,g)[1];if(e.isGeographic)return r}return null}set latitude(e){const{spatialReference:t,x:r}=this;null!=e&&t&&(t.isWebMercator?this._set("y",(0,m.hG)(r,e,g)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:r}=this;if(r){if(r.isWebMercator)return(0,m.R6)(e,t,g)[0];if(r.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:r}=this;null!=e&&r&&(r.isWebMercator?this._set("x",(0,m.hG)(e,t,g)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return"string"==typeof e?NaN:e}clone(){const e=new s;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return s.copy(e,this),this}equals(e){if(null==e)return!1;const{x:t,y:r,z:s,m:i,spatialReference:a}=this,{z:n,m:o}=e;let{x:l,y:c,spatialReference:u}=e;if(!a.equals(u))if(a.isWebMercator&&u.isWGS84)[l,c]=(0,m.hG)(l,c),u=a;else{if(!a.isWGS84||!u.isWebMercator)return!1;[l,c]=(0,m.R6)(l,c),u=a}return t===l&&r===c&&s===n&&i===o&&a.wkid===u.wkid}offset(e,t,r){return this.x+=e,this.y+=t,null!=r&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=(0,y.C5)(this.spatialReference);if(!e)return this;let t=this.x;const[r,s]=e.valid,i=2*s;let a;return t>s?(a=Math.ceil(Math.abs(t-s)/i),t-=a*i):t<r&&(a=Math.ceil(Math.abs(t-r)/i),t+=a*i),this._set("x",t),this}distance(e){return function(e,t){const r=e.x-t.x,s=e.y-t.y,i=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(r*r+s*s+i*i)}(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};(0,i._)([(0,n.Cb)({readOnly:!0})],b.prototype,"cache",null),(0,i._)([(0,n.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null),(0,i._)([(0,n.Cb)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null),(0,i._)([(0,n.Cb)({type:Number})],b.prototype,"latitude",null),(0,i._)([(0,n.Cb)({type:Number})],b.prototype,"longitude",null),(0,i._)([(0,n.Cb)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,o.p)((e=>isNaN(e)?e:(0,p.q9)(e)))],b.prototype,"x",void 0),(0,i._)([(0,u.c)("x")],b.prototype,"writeX",null),(0,i._)([(0,l.r)("x")],b.prototype,"readX",null),(0,i._)([(0,n.Cb)({type:Number,json:{write:!0}})],b.prototype,"y",void 0),(0,i._)([(0,n.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],b.prototype,"z",void 0),(0,i._)([(0,n.Cb)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0),b=s=(0,i._)([(0,c.j)("esri.geometry.Point")],b),b.prototype.toJSON.isDefaultToJSON=!0;const v=b},33955:(e,t,r)=>{r.d(t,{Ji:()=>m,YX:()=>c,aW:()=>u,im:()=>y,l9:()=>d,oU:()=>h,q9:()=>f,wp:()=>p});var s=r(6570),i=r(9361),a=r(65091),n=r(94139),o=r(38913),l=r(58901);function c(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function u(e){return void 0!==e.points}function p(e){return void 0!==e.x&&void 0!==e.y}function d(e){return void 0!==e.paths}function h(e){return void 0!==e.rings}function y(e){return null==e?null:e instanceof i.Z?e:p(e)?n.Z.fromJSON(e):d(e)?l.Z.fromJSON(e):h(e)?o.Z.fromJSON(e):u(e)?a.Z.fromJSON(e):c(e)?s.Z.fromJSON(e):null}function m(e){return e?p(e)?"esriGeometryPoint":d(e)?"esriGeometryPolyline":h(e)?"esriGeometryPolygon":c(e)?"esriGeometryEnvelope":u(e)?"esriGeometryMultipoint":null:null}const g={esriGeometryPoint:n.Z,esriGeometryPolyline:l.Z,esriGeometryPolygon:o.Z,esriGeometryEnvelope:s.Z,esriGeometryMultipoint:a.Z};function f(e){return e&&g[e]||null}},82397:(e,t,r)=>{r.d(t,{G6:()=>m,Ie:()=>y,J9:()=>d,RF:()=>p,U1:()=>h,vY:()=>n}),r(33955);const s=(e,t,r)=>[t,r],i=(e,t,r)=>[t,r,e[2]],a=(e,t,r)=>[t,r,e[2],e[3]];function n(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance]:[1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax]:[0,0]}:null}function o({scale:e,translate:t},r){return r*e[0]+t[0]}function l({scale:e,translate:t},r){return t[1]-r*e[1]}function c(e,t,r){const s=new Array(r.length);if(!r.length)return s;const[i,a]=e.scale;let n=o(e,r[0][0]),c=l(e,r[0][1]);s[0]=t(r[0],n,c);for(let e=1;e<r.length;e++){const o=r[e];n+=o[0]*i,c-=o[1]*a,s[e]=t(o,n,c)}return s}function u(e,t,r){const s=new Array(r.length);for(let i=0;i<r.length;i++)s[i]=c(e,t,r[i]);return s}function p(e,t,r,s,i){return t.x=function({scale:e,translate:t},r){return Math.round((r-t[0])/e[0])}(e,r.x),t.y=function({scale:e,translate:t},r){return Math.round((t[1]-r)/e[1])}(e,r.y),t!==r&&(s&&(t.z=r.z),i&&(t.m=r.m)),t}function d(e,t,r,n,o){return null!=r&&(t.points=function(e,t,r,n){return c(e,r?n?a:i:n?i:s,t)}(e,r.points,n,o)),t}function h(e,t,r,s,i){return null==r||(t.x=o(e,r.x),t.y=l(e,r.y),t!==r&&(s&&(t.z=r.z),i&&(t.m=r.m))),t}function y(e,t,r,n,o){return null!=r&&(t.rings=function(e,t,r,n){return u(e,r?n?a:i:n?i:s,t)}(e,r.rings,n,o)),t}function m(e,t,r,n,o){return null!=r&&(t.paths=function(e,t,r,n){return u(e,r?n?a:i:n?i:s,t)}(e,r.paths,n,o)),t}},86973:(e,t,r)=>{r.d(t,{M:()=>i,P:()=>a});var s=r(35454);const i=(0,s.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),a=(0,s.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},40488:(e,t,r)=>{r.d(t,{$:()=>v,Q8:()=>m,R6:()=>b,Sx:()=>w,hG:()=>f,iV:()=>g,mZ:()=>p});var s=r(22974),i=r(82971),a=r(68441),n=r(8744);const o=57.29577951308232,l=.017453292519943;function c(e){return e*o}function u(e){return e*l}function p(e){return Math.PI/2-2*Math.atan(Math.exp(-e/a.sv.radius))}function d(e){return null!=e.wkid||null!=e.wkt}const h=[0,0];function y(e,t,r,s,i){const a=e,n=i;if(n.spatialReference=r,"x"in a&&"x"in n)[n.x,n.y]=t(a.x,a.y,h,s);else if("xmin"in a&&"xmin"in n)[n.xmin,n.ymin]=t(a.xmin,a.ymin,h,s),[n.xmax,n.ymax]=t(a.xmax,a.ymax,h,s);else if("paths"in a&&"paths"in n||"rings"in a&&"rings"in n){const e="paths"in a?a.paths:a.rings,r=[];let i;for(let a=0;a<e.length;a++){const n=e[a];i=[],r.push(i);for(let e=0;e<n.length;e++)i.push(t(n[e][0],n[e][1],[0,0],s)),n[e].length>2&&i[e].push(n[e][2]),n[e].length>3&&i[e].push(n[e][3])}"paths"in n?n.paths=r:n.rings=r}else if("points"in a&&"points"in n){const e=a.points,r=[];for(let i=0;i<e.length;i++)r[i]=t(e[i][0],e[i][1],[0,0],s),e[i].length>2&&r[i].push(e[i][2]),e[i].length>3&&r[i].push(e[i][3]);n.points=r}return i}function m(e,t){const r=e&&(d(e)?e:e.spatialReference),s=t&&(d(t)?t:t.spatialReference);return!(e&&"type"in e&&"mesh"===e.type||t&&"type"in t&&"mesh"===t.type||!r||!s)&&(!!(0,n.fS)(s,r)||(0,n.sS)(s)&&(0,n.oR)(r)||(0,n.sS)(r)&&(0,n.oR)(s))}function g(e,t){if(null==e)return null;const r=e.spatialReference,a=t&&(d(t)?t:t.spatialReference);return m(r,a)?(0,n.fS)(r,a)?(0,s.d9)(e):(0,n.sS)(a)?y(e,f,i.Z.WebMercator,!1,(0,s.d9)(e)):(0,n.oR)(a)?y(e,b,i.Z.WGS84,!1,(0,s.d9)(e)):null:null}function f(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const s=u(t);return r[0]=u(e)*a.sv.radius,r[1]=a.sv.halfSemiMajorAxis*Math.log((1+Math.sin(s))/(1-Math.sin(s))),r}function b(e,t,r=[0,0],s=!1){const i=c(e/a.sv.radius);return r[0]=s?i:i-360*Math.floor((i+180)/360),r[1]=c(Math.PI/2-2*Math.atan(Math.exp(-t/a.sv.radius))),r}function v(e,t=!1,r=(0,s.d9)(e)){return y(e,f,i.Z.WebMercator,t,r)}function w(e,t=!1,r=(0,s.d9)(e)){return y(e,b,i.Z.WGS84,t,r)}},27019:(e,t,r)=>{r.d(t,{rk:()=>l,Tj:()=>c,GI:()=>u,CE:()=>p,Tq:()=>d,Zx:()=>h,Ee:()=>g});var s=r(35270),i=r(62357);function a(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}const n=a();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:n,clone:function(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},create:a,createView:function(e,t){return new Float32Array(e,t,16)},fromValues:function(e,t,r,s,i,a,n,o,l,c,u,p,d,h,y,m){const g=new Float32Array(16);return g[0]=e,g[1]=t,g[2]=r,g[3]=s,g[4]=i,g[5]=a,g[6]=n,g[7]=o,g[8]=l,g[9]=c,g[10]=u,g[11]=p,g[12]=d,g[13]=h,g[14]=y,g[15]=m,g}},Symbol.toStringTag,{value:"Module"}));var o=r(55488);class l{constructor(e,t,r){this.strength=e,this.radius=t,this.threshold=r,this.type="bloom"}interpolate(e,t,r){this.strength=y(e.strength,t.strength,r),this.radius=y(e.radius,t.radius,r),this.threshold=y(e.threshold,t.threshold,r)}clone(){return new l(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:m(this.radius),strength:this.strength,threshold:this.threshold}}}class c{constructor(e){this.radius=e,this.type="blur"}interpolate(e,t,r){this.radius=Math.round(y(e.radius,t.radius,r))}clone(){return new c(this.radius)}toJSON(){return{type:"blur",radius:m(this.radius)}}}class u{constructor(e,t){this.type=e,this.amount=t,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,r){this.amount=y(e.amount,t.amount,r),this._updateMatrix()}clone(){return new u(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||a();switch(this.type){case"brightness":this._colorMatrix=((e,t)=>{const r=(0,o.t8)(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return(0,o.p4)(r,r)})(e,this.amount);break;case"contrast":this._colorMatrix=((e,t)=>{const r=(0,o.t8)(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return(0,o.p4)(r,r)})(e,this.amount);break;case"grayscale":this._colorMatrix=((e,t)=>{const r=1-this.amount,s=(0,o.t8)(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return(0,o.p4)(s,s)})(e);break;case"invert":this._colorMatrix=((e,t)=>{const r=1-2*t,s=(0,o.t8)(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return(0,o.p4)(s,s)})(e,this.amount);break;case"saturate":this._colorMatrix=((e,t)=>{const r=(0,o.t8)(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return(0,o.p4)(r,r)})(e,this.amount);break;case"sepia":this._colorMatrix=((e,t)=>{const r=1-this.amount,s=(0,o.t8)(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return(0,o.p4)(s,s)})(e)}}}class p{constructor(e,t,r,s){this.offsetX=e,this.offsetY=t,this.blurRadius=r,this.color=s,this.type="drop-shadow"}interpolate(e,t,r){this.offsetX=y(e.offsetX,t.offsetX,r),this.offsetY=y(e.offsetY,t.offsetY,r),this.blurRadius=y(e.blurRadius,t.blurRadius,r),this.color[0]=Math.round(y(e.color[0],t.color[0],r)),this.color[1]=Math.round(y(e.color[1],t.color[1],r)),this.color[2]=Math.round(y(e.color[2],t.color[2],r)),this.color[3]=y(e.color[3],t.color[3],r)}clone(){return new p(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color];return e[3]*=255,{type:"drop-shadow",xoffset:m(this.offsetX),yoffset:m(this.offsetY),blurRadius:m(this.blurRadius),color:e}}}class d{constructor(e){this.angle=e,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,r){this.angle=y(e.angle,t.angle,r),this._updateMatrix()}clone(){return new d(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=this._colorMatrix||a();this._colorMatrix=((e,t)=>{const r=Math.sin(t*Math.PI/180),s=Math.cos(t*Math.PI/180),i=(0,o.t8)(e,.213+.787*s-.213*r,.715-.715*s-.715*r,.072-.072*s+.928*r,0,.213-.213*s+.143*r,.715+.285*s+.14*r,.072-.072*s-.283*r,0,.213-.213*s-.787*r,.715-.715*s+.715*r,.072+.928*s+.072*r,0,0,0,0,1);return(0,o.p4)(i,i)})(e,this.angle)}}class h{constructor(e){this.amount=e,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(e,t,r){this.amount=y(e.amount,t.amount,r)}clone(){return new h(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function y(e,t,r){return e+(t-e)*r}function m(e){return Math.round(1e3*(0,i.Wz)(e))/1e3}function g(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new u(e.type,0);case"saturate":case"brightness":case"contrast":return new u(e.type,1);case"opacity":return new h(1);case"hue-rotate":return new d(0);case"blur":return new c(0);case"drop-shadow":return new p(0,0,0,[...(0,s.h$)("transparent")]);case"bloom":return new l(0,0,1)}}},29681:(e,t,r)=>{r.d(t,{AS:()=>i,Cb:()=>n,uF:()=>a});var s=r(27019);function i(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every(((e,t)=>e.type===r[t].type))}function a(e,t){const r=e.length>t.length?e:t,i=e.length>t.length?t:e;for(let e=i.length;e<r.length;e++)i.push((0,s.Ee)(r[e]))}function n(e){const t=e[0];return!!t&&"type"in t}},73012:(e,t,r)=>{r.d(t,{io:()=>N,AB:()=>F,gd:()=>U,Q0:()=>G,YN:()=>L,UF:()=>O,O5:()=>P,CH:()=>D,ZR:()=>W,os:()=>$,y2:()=>ne,UQ:()=>oe,Hp:()=>B,Fv:()=>z,Se:()=>pe,H7:()=>ie,Dl:()=>ue,Ec:()=>Ce,qN:()=>ae,sX:()=>ce,ig:()=>le,d2:()=>de,q6:()=>C,Pz:()=>me,Lk:()=>V,Qc:()=>ge,vP:()=>Me}),r(20102);var s=r(78286),i=r(75517);function a(e){return"string"==typeof e||e instanceof String}r(2587),r(80442),r(22021),r(90344),r(25031);var n=r(17126);r(70171),new Map([["hours",3600],["minutes",60],["seconds",1],["deciseconds",.1],["centiseconds",.01],["milliseconds",.001]]);const o="yyyy-MM-dd";var l,c;(c=l||(l={})).HM="HH:mm",c.HMS="HH:mm:ss",c.HMS_MS="HH:mm:ss.SSS";const u=[l.HMS_MS,l.HMS,l.HM,"TT"];function p(e){if(!e||!a(e))return null;const t=n.ou.fromFormat(e,o);return t.isValid?t:null}function d(e){if(!e||!a(e))return null;let t=null;return u.find((r=>(t=n.ou.fromFormat(e,r),t.isValid))),t.isValid?t:null}function h(e){if(!e||!a(e))return null;const t=n.ou.fromISO(e);return t.isValid?t:null}var y,m;new Set(["date-only","time-only","timestamp-offset"]),(m=y||(y={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",m.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";const g=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function f(e){return null!=e&&("date-only"===e.type||"esriFieldTypeDateOnly"===e.type)}function b(e){return null!=e&&("timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type)}function v(e){return null!=e&&("time-only"===e.type||"esriFieldTypeTimeOnly"===e.type)}function w(e,t,r){return f(e)?{min:p(r)?.toMillis(),max:p(t)?.toMillis(),rawMin:r,rawMax:t}:v(e)?{min:d(r)?.toMillis(),max:d(t)?.toMillis(),rawMin:r,rawMax:t}:b(e)?{min:h(r)?.toMillis(),max:h(t)?.toMillis(),rawMin:r,rawMax:t}:{max:null,min:null}}var S=r(59266);const _=/^([0-9_])/,M=/[^a-z0-9_\u0080-\uffff]+/gi;function C(e){return null==e?null:e.trim().replaceAll(M,"_").replace(_,"F$1")||null}const T=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],I=["field","normalizationField"];function L(e,t){if(null!=e&&null!=t)for(const r of Array.isArray(e)?e:[e])if(x(T,r,t),"visualVariables"in r&&r.visualVariables)for(const e of r.visualVariables)x(I,e,t)}function x(e,t,r){if(e)for(const i of e){const e=(0,s.hS)(i,t),a=e&&"function"!=typeof e&&r.get(e);a&&(0,s.RB)(i,a.name,t)}}function O(e,t){if(null!=e&&t?.fields?.length)if("startField"in e){const r=t.get(e.startField),s=t.get(e.endField);e.startField=r?.name??null,e.endField=s?.name??null}else{const r=t.get(e.startTimeField),s=t.get(e.endTimeField);e.startTimeField=r?.name??null,e.endTimeField=s?.name??null}}const k=new Set;function G(e,t){return e&&t?(k.clear(),U(k,e,t),Array.from(k).sort()):[]}function U(e,t,r){if(r)if(t?.fields?.length)if(r.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const s of r)F(e,t,s);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const t of r)null!=t&&e.add(t)}}function F(e,t,r){if("string"==typeof r)if(t){const s=t.get(r);s&&e.add(s.name)}else e.add(r)}function V(e,t){return null==t||null==e?[]:t.includes("*")?(e.fields??[]).map((e=>e.name)):t}async function N(e,t,r){if(!r)return;const{arcadeUtils:s}=await(0,S.LC)(),i=s.extractFieldNames(r,t?.fields?.map((e=>e.name)));for(const r of i)F(e,t,r)}function P({displayField:e,fields:t}){return e||(t?.length?A(t,"name-or-title")||A(t,"unique-identifier")||A(t,"type-or-category")||function(e){for(const t of e){if(!t?.name)continue;const e=t.name.toLowerCase();if(e.includes("name")||e.includes("title"))return t.name}return null}(t):null)}function A(e,t){for(const r of e)if(r?.valueType&&r.valueType===t)return r.name;return null}function D(e){return e?G(e.fieldsIndex,E(e)):[]}const R=new Set(["oid","global-id","guid"]),q=new Set(["oid","global-id"]),j=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i];function E(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:s,editDateField:i,editorField:a}=t;return[r,s,i,a].filter(Boolean)}function Z(e){return E(e).map((e=>e.toLowerCase()))}function B(e,t){return e.editable&&!R.has(e.type)&&!Z(t).includes(e.name?.toLowerCase()??"")}function z(e,t){const r=e.name?.toLowerCase()??"";return!(null!=t?.objectIdField&&r===t.objectIdField.toLowerCase()||null!=t?.globalIdField&&r===t.globalIdField.toLowerCase()||function(e){const t=new Set;Z(e).forEach((e=>t.add(e))),function(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?G(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}(e).forEach((e=>t.add(e.toLowerCase())));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach((e=>t.add(e.toLowerCase()))),Object.values(r.transformFieldRoles).forEach((e=>t.add(e.toLowerCase())))),Array.from(t)}(t).includes(r)||q.has(e.type)||j.some((e=>e.test(r))))}function $(e){const t=e.defaultValue;return void 0!==t&&ee(e,t)?t:e.nullable?null:void 0}function W(e){const t="string"==typeof e?{type:e}:e;return ae(t)?255:"esriFieldTypeDate"===t.type||"date"===t.type?8:void 0}function J(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function H(e){return null===e||J(e)}function Q(e){return null===e||Number.isInteger(e)}function K(e){return null!=e&&"string"==typeof e}function X(e){return null===e||K(e)}function Y(){return!0}function ee(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?Q:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?H:J;break;case"string":case"esriFieldTypeString":r=e.nullable?X:K;break;default:r=Y}return 1===arguments.length?r:r(t)}const te=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]),re=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]),se=(0,i.G0)(te,re);function ie(e){return null!=e&&se.has(e.type)}function ae(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function ne(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}function oe(e){return null!=e&&("date-only"===e.type||"esriFieldTypeDateOnly"===e.type)}function le(e){return null!=e&&("timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type)}function ce(e){return null!=e&&("time-only"===e.type||"esriFieldTypeTimeOnly"===e.type)}function ue(e){return null!=e&&("oid"===e.type||"esriFieldTypeOID"===e.type)}function pe(e){return null!=e&&("global-id"===e.type||"esriFieldTypeGlobalID"===e.type)}function de(e,t){return null===ge(e,t)}var he,ye;function me(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function ge(e,t){return null==e||e.nullable&&null===t?null:ie(e)&&!function(e,t){const r="string"==typeof e?fe(e):e;if(!r)return!1;const s=r.min,i=r.max;return r.isInteger?Number.isInteger(t)&&t>=s&&t<=i:t>=s&&t<=i}(e.type,Number(t))?he.OUT_OF_RANGE:ee(e,t)?e.domain?function(e,t){const r=e?.domain;if(!r)return null;switch(r.type){case"range":{const{min:r,max:s}=function(e,t){const r=e?.domain;if(!r||"range"!==r.type)return;const s="range"in r?r.range[0]:r.minValue,i="range"in r?r.range[1]:r.maxValue,a=function(e){return null!=e&&g.has(e.type)}(e);return f(e)||v(e)||b(e)?{...w(e,i,s),isInteger:a}:{min:null!=s&&"number"==typeof s?s:null,max:null!=i&&"number"==typeof i?i:null,rawMin:s,rawMax:i,isInteger:a}}(e);if(null!=r&&+t<r||null!=s&&+t>s)return y.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==r.codedValues||r.codedValues.every((e=>null==e||e.code!==t)))return y.INVALID_CODED_VALUE}return null}(e,t):null:ye.INVALID_TYPE}function fe(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return be;case"esriFieldTypeInteger":case"integer":return ve;case"esriFieldTypeBigInteger":case"big-integer":return we;case"esriFieldTypeSingle":case"single":return Se;case"esriFieldTypeDouble":case"double":return _e}}!function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"}(he||(he={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(ye||(ye={}));const be={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},ve={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},we={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Se={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},_e={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Me(e,t,r){switch(e){case y.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case y.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case ye.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case he.OUT_OF_RANGE:{const{min:e,max:s}=fe(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${s}`}}}function Ce(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some((t=>e.toLowerCase().startsWith(t)))}},84230:(e,t,r)=>{r.d(t,{A2:()=>n,S1:()=>u,fP:()=>l,fb:()=>a,ln:()=>p,oP:()=>c,rQ:()=>o});var s=r(40330),i=r(3172);const a={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function n(e){const t=e?.type;return"building-scene"===t||"integrated-mesh"===t||"point-cloud"===t||"scene"===t}function o(e){return"feature"===e?.type&&!e.url&&"memory"===e.source?.type}function l(e){return("feature"===e?.type||"subtype-group"===e?.type)&&"feature-layer"===e.source?.type}async function c(e,t){const r=s.id?.findServerInfo(e);if(null!=r?.currentVersion)return r.owningSystemUrl||null;const a=e.toLowerCase().indexOf("/rest/services");if(-1===a)return null;const n=`${e.substring(0,a)}/rest/info`,o=null!=t?t.signal:null,{data:l}=await(0,i.Z)(n,{query:{f:"json"},responseType:"json",signal:o});return l?.owningSystemUrl||null}function u(e){return function(e){if(!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function p(e){return!!function(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}},48522:(e,t,r)=>{r.d(t,{Z:()=>k});var s=r(43697),i=r(68773),a=r(40330),n=r(3172),o=r(20102),l=r(96674),c=r(83379),u=r(70586),p=r(95330),d=r(5600),h=r(75215),y=(r(77734),r(80442),r(71715)),m=r(52011),g=r(6570),f=r(70171);let b;var v=r(68916),w=r(41253),S=r(92036);r(92604);let _=class extends S.Z{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,s._)([(0,d.Cb)()],_.prototype,"nextQueryParams",void 0),(0,s._)([(0,d.Cb)()],_.prototype,"queryParams",void 0),(0,s._)([(0,d.Cb)()],_.prototype,"results",void 0),(0,s._)([(0,d.Cb)()],_.prototype,"total",void 0),_=(0,s._)([(0,m.j)("esri.portal.PortalQueryResult")],_);const M=_;var C,T=r(86082),I=r(71058);let L;const x={PortalGroup:()=>Promise.resolve({default:v.Z}),PortalItem:()=>Promise.resolve().then(r.bind(r,15235)),PortalUser:()=>Promise.resolve({default:T.Z})};let O=C=class extends((0,l.eC)(c.Z)){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=i.default.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return"string"==typeof e?{url:e}:e}destroy(){G.unregister(this),this.defaultBasemap=(0,u.SC)(this.defaultBasemap),this.defaultDevBasemap=(0,u.SC)(this.defaultDevBasemap),this.defaultVectorBasemap=(0,u.SC)(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=(0,u.hw)(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)i.default.request.trustedServers.includes(t)||i.default.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e?e.toLowerCase():e}readUser(e){let t=null;return e&&(t=T.Z.fromJSON(e),t.portal=this),t}load(e){const t=Promise.resolve().then(r.bind(r,54938)).then((({default:t})=>{(0,p.k_)(e),L=t})).then((()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e))).then((e=>{if(a.id){const e=a.id;this.credential=e.findCredential(this.restUrl),this.credential||this.authMode!==C.AUTH_MODE_AUTO||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=e.on("credential-create",function(e){const t=a.id;return()=>{const r=e.deref();r&&t.findCredential(r.restUrl)&&r.signIn().catch((()=>{}))}}(new WeakRef(this))),G.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Promise.all([r.e(163),r.e(3615),r.e(9016),r.e(2763),r.e(9507)]).then(r.bind(r,65665))).default;return e?e.map((e=>new t({id:e.id,url:e.url}))):[]}async fetchBasemaps(e,t){const r=await this._fetchBasemaps(e,t);if(!0===t?.include3d&&!1!==this.use3dBasemaps){const s=await this._fetchBasemaps3D(e,t);r.unshift(...s)}return r}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then((e=>e.categorySchema)):(0,p.Hc)(e)?Promise.reject((0,p.zE)()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new w.Z;if(r.num=100,r.sortField="title",t&&t.length){const s=[];for(const e of t)s.push(`(title:"${e.title}" AND owner:${e.owner})`);return r.query=s.join(" OR "),this.queryGroups(r,e).then((e=>e.results))}return(0,p.Hc)(e)?Promise.reject((0,p.zE)()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||(0,f.Kd)();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||(0,f.Kd)();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return b&&!b.destroyed||(b=new C),b}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,r){const s=this.restUrl+"/portals/self",i={authMode:e,query:{culture:(0,f.Kd)().toLowerCase()},withCredentials:!0,...r};return"auto"===i.authMode&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this.request(s,i)}queryPortal(e,t,r,s){const i=(0,h.se)(w.Z,t),a=t=>this.request(this.restUrl+e,{...i.toRequestOptions(this),...s}).then((e=>{const r=i.clone();return r.start=e.nextStart,new M({nextQueryParams:r,queryParams:i,total:e.total,results:C._resultsToTypedArray(t,{portal:this},e,s)})})).then((e=>Promise.all(e.results.map((t=>"function"==typeof t.when?t.when():e))).then((()=>e),(t=>((0,p.r9)(t),e)))));return r&&x[r]?x[r]().then((({default:e})=>((0,p.k_)(s),a(e)))):a()}signIn(){if(this.authMode===C.AUTH_MODE_ANONYMOUS)return Promise.reject(new o.Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const e=e=>Promise.resolve().then((()=>"not-loaded"===this.loadStatus?(e||(this.authMode="immediate"),this.load().then((()=>null))):"loading"===this.loadStatus?this.load().then((()=>this.credential?null:(this.credential=e,this.fetchSelf("immediate")))):this.user&&this.credential===e?null:(this.credential=e,this.fetchSelf("immediate")))).then((e=>{e&&(this.sourceJSON=e,this.read(e))}));return a.id?a.id.getCredential(this.restUrl).then((t=>e(t))):e(this.credential)}normalizeUrl(e){const t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,r){return this.request(e,t).then((e=>{const t=C._resultsToTypedArray(r,{portal:this},e);return Promise.all(t.map((t=>"function"==typeof t.when?t.when():e))).then((()=>t),(()=>t))}))}request(e,t={}){const r={f:"json",...t.query},{authMode:s=(this.authMode===C.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:i=null,cacheBust:a=!1,method:o="auto",responseType:l="json",signal:c}=t,u={authMode:s,body:i,cacheBust:a,method:o,query:r,responseType:l,timeout:0,signal:c};return t.withCredentials&&(u.withCredentials=!0),(0,n.Z)(this._normalizeSSL(e),u).then((e=>e.data))}toJSON(){throw new o.Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new C({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new o.Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const r=new w.Z;r.query=e||(i.default.apiKey&&(0,I.r)(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const s=await this.queryGroups(r,t);if(!s.total)return[];const a=s.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=a.sortField||"name",r.sortOrder=a.sortOrder||"desc";const n=await a.queryItems(r,t);return n.total?n.results.filter((e=>"Web Map"===e.type)).map((e=>new L({portalItem:e}))):[]}async _fetchBasemaps3D(e,t){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];const s=new w.Z({query:r,disableExtraQuery:!0}),i=await this.queryGroups(s,t);if(!i.total)return[];const a=i.results[0];s.num=100,s.query='type:"Web Scene"',s.sortField=a.sortField||"name",s.sortOrder=a.sortOrder||"desc";const n=await a.queryItems(s,t);return n.total?n.results.filter((e=>"Web Scene"===e.type)).map((e=>new L({portalItem:e}))):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=L.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,r,s){let i=[];if(r){const a=null!=s?s.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(i=i.map((r=>{const s=Object.assign(e?e.fromJSON(r):r,t);return"function"==typeof s.load&&s.load(a),s})))}else i=[];return i}};O.AUTH_MODE_ANONYMOUS="anonymous",O.AUTH_MODE_AUTO="auto",O.AUTH_MODE_IMMEDIATE="immediate",(0,s._)([(0,d.Cb)()],O.prototype,"access",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"allSSL",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"authMode",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"authorizedCrossOriginDomains",void 0),(0,s._)([(0,y.r)("authorizedCrossOriginDomains")],O.prototype,"readAuthorizedCrossOriginDomains",null),(0,s._)([(0,d.Cb)()],O.prototype,"basemapGalleryGroupQuery",void 0),(0,s._)([(0,d.Cb)({json:{name:"3DBasemapGalleryGroupQuery"}})],O.prototype,"basemapGalleryGroupQuery3D",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"bingKey",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"canListApps",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"canListData",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"canListPreProvisionedItems",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"canProvisionDirectPurchase",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"canSearchPublic",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"canShareBingPublic",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"canSharePublic",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"canSignInArcGIS",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"canSignInIDP",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"colorSetsGroupQuery",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"commentsEnabled",void 0),(0,s._)([(0,d.Cb)({type:Date})],O.prototype,"created",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"credential",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"culture",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"currentVersion",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"customBaseUrl",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"defaultBasemap",void 0),(0,s._)([(0,y.r)("defaultBasemap")],O.prototype,"readDefaultBasemap",null),(0,s._)([(0,d.Cb)()],O.prototype,"defaultDevBasemap",void 0),(0,s._)([(0,y.r)("defaultDevBasemap")],O.prototype,"readDefaultDevBasemap",null),(0,s._)([(0,d.Cb)({type:g.Z})],O.prototype,"defaultExtent",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"defaultVectorBasemap",void 0),(0,s._)([(0,y.r)("defaultVectorBasemap")],O.prototype,"readDefaultVectorBasemap",null),(0,s._)([(0,d.Cb)()],O.prototype,"description",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"devBasemapGalleryGroupQuery",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"eueiEnabled",void 0),(0,s._)([(0,d.Cb)({readOnly:!0})],O.prototype,"extraQuery",null),(0,s._)([(0,d.Cb)()],O.prototype,"featuredGroups",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"featuredItemsGroupQuery",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"galleryTemplatesGroupQuery",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"livingAtlasGroupQuery",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"hasCategorySchema",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"helpBase",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"helperServices",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"helpMap",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"homePageFeaturedContent",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"homePageFeaturedContentCount",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"httpPort",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"httpsPort",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"id",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"ipCntryCode",void 0),(0,s._)([(0,d.Cb)({readOnly:!0})],O.prototype,"isOrganization",null),(0,s._)([(0,d.Cb)()],O.prototype,"isPortal",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"isReadOnly",void 0),(0,s._)([(0,d.Cb)({readOnly:!0})],O.prototype,"itemPageUrl",null),(0,s._)([(0,d.Cb)()],O.prototype,"layerTemplatesGroupQuery",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"maxTokenExpirationMinutes",void 0),(0,s._)([(0,d.Cb)({type:Date})],O.prototype,"modified",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"name",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"portalHostname",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"portalMode",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"portalProperties",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"region",void 0),(0,s._)([(0,d.Cb)({readOnly:!0})],O.prototype,"restUrl",null),(0,s._)([(0,d.Cb)()],O.prototype,"rotatorPanels",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"showHomePageDescription",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"sourceJSON",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"staticImagesUrl",void 0),(0,s._)([(0,d.Cb)({json:{name:"2DStylesGroupQuery"}})],O.prototype,"stylesGroupQuery2d",void 0),(0,s._)([(0,d.Cb)({json:{name:"stylesGroupQuery"}})],O.prototype,"stylesGroupQuery3d",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"supportsHostedServices",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"symbolSetsGroupQuery",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"templatesGroupQuery",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"thumbnail",void 0),(0,s._)([(0,d.Cb)({readOnly:!0})],O.prototype,"thumbnailUrl",null),(0,s._)([(0,d.Cb)()],O.prototype,"units",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"url",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"urlKey",void 0),(0,s._)([(0,y.r)("urlKey")],O.prototype,"readUrlKey",null),(0,s._)([(0,d.Cb)()],O.prototype,"user",void 0),(0,s._)([(0,y.r)("user")],O.prototype,"readUser",null),(0,s._)([(0,d.Cb)()],O.prototype,"use3dBasemaps",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"useStandardizedQuery",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"useVectorBasemaps",void 0),(0,s._)([(0,d.Cb)()],O.prototype,"vectorBasemapGalleryGroupQuery",void 0),O=C=(0,s._)([(0,m.j)("esri.portal.Portal")],O);const k=O,G=new FinalizationRegistry((e=>{e.remove()}))},68916:(e,t,r)=>{r.d(t,{Z:()=>d});var s,i=r(43697),a=r(20102),n=r(96674),o=r(5600),l=r(75215),c=(r(77734),r(80442),r(52011)),u=r(41253);let p=s=class extends n.wq{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then((t=>{const r=t.categorySchema||[];return r.some((e=>"contentCategorySetsGroupQuery.LivingAtlas"===e.source))?this._fetchCategorySchemaSet("LivingAtlas",e):r}))}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new a.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new s;return t.sourceJSON=e,t.read(e),t}queryItems(e,t){let r=(0,l.se)(u.Z,e);const s=this.portal;return parseFloat(s.currentVersion)>5?(r=r||new u.Z,s.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new u.Z,r.query="group:"+this.id+(r.query?" "+r.query:""),s.queryItems(r,t))}_fetchCategorySchemaSet(e,t){const r=this.portal;return r.fetchSelf(r.authMode,!0,t).then((e=>{const s=e.contentCategorySetsGroupQuery;if(s){const e=new u.Z;return e.disableExtraQuery=!0,e.num=1,e.query=s,r.queryGroups(e,t)}throw new a.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((r=>{if(r.total){const s=r.results[0],i=new u.Z;return i.num=1,i.query=`typekeywords:"${e}"`,s.queryItems(i,t)}throw new a.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((e=>e.total?e.results[0].fetchData("json",t).then((e=>{const t=e?.categorySchema;return t?.length?t:[]})):[]))}};(0,i._)([(0,o.Cb)()],p.prototype,"access",void 0),(0,i._)([(0,o.Cb)({type:Date})],p.prototype,"created",void 0),(0,i._)([(0,o.Cb)()],p.prototype,"description",void 0),(0,i._)([(0,o.Cb)()],p.prototype,"id",void 0),(0,i._)([(0,o.Cb)()],p.prototype,"isInvitationOnly",void 0),(0,i._)([(0,o.Cb)({type:Date})],p.prototype,"modified",void 0),(0,i._)([(0,o.Cb)()],p.prototype,"owner",void 0),(0,i._)([(0,o.Cb)()],p.prototype,"portal",void 0),(0,i._)([(0,o.Cb)()],p.prototype,"snippet",void 0),(0,i._)([(0,o.Cb)()],p.prototype,"sortField",void 0),(0,i._)([(0,o.Cb)()],p.prototype,"sortOrder",void 0),(0,i._)([(0,o.Cb)()],p.prototype,"sourceJSON",void 0),(0,i._)([(0,o.Cb)()],p.prototype,"tags",void 0),(0,i._)([(0,o.Cb)()],p.prototype,"thumbnail",void 0),(0,i._)([(0,o.Cb)({readOnly:!0})],p.prototype,"thumbnailUrl",null),(0,i._)([(0,o.Cb)()],p.prototype,"title",void 0),(0,i._)([(0,o.Cb)({readOnly:!0})],p.prototype,"url",null),p=s=(0,i._)([(0,c.j)("esri.portal.PortalGroup")],p);const d=p},15235:(e,t,r)=>{r.r(t),r.d(t,{default:()=>x});var s=r(43697),i=r(99880),a=r(40330),n=r(20102),o=r(96674),l=r(22974),c=r(83379),u=r(17452),p=r(5600),d=r(75215),h=r(71715),y=r(52011),m=r(6570),g=r(48522),f=r(92036),b=r(92604),v=r(90578);r(77734),r(80442);let w=class extends f.Z{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e?.portalItem&&e.path?{...e,path:this._normalizePath(e.path,e.portalItem)}:e}set path(e){null!=e&&(0,u.YP)(e)?b.Z.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this._normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const r=this.cdnUrl;if(null==r)throw new n.Z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(r,{responseType:e,query:{token:this.portalItem.apiKey},signal:t?.signal})}async update(e,t){const{addOrUpdateResource:s}=await r.e(7873).then(r.bind(r,97873));return s(this,"update",e,t)}hasPath(){return null!=this.path}_normalizePath(e,t){return null==e?e:(e=e.replace(/^\/+/,""),null!=t&&(0,u.YP)(e)&&(e=(0,u.PF)(e,t.itemUrl)),e?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};(0,s._)([(0,p.Cb)()],w.prototype,"portalItem",void 0),(0,s._)([(0,p.Cb)({type:String,value:null})],w.prototype,"path",null),(0,s._)([(0,v.p)("path")],w.prototype,"_castPath",null),(0,s._)([(0,p.Cb)({type:String,readOnly:!0})],w.prototype,"url",null),(0,s._)([(0,p.Cb)({type:String,readOnly:!0})],w.prototype,"cdnUrl",null),(0,s._)([(0,p.Cb)({type:String,readOnly:!0})],w.prototype,"itemRelativeUrl",null),w=(0,s._)([(0,y.j)("esri.portal.PortalItemResource")],w);const S=w;let _=class extends f.Z{constructor(e){super(e),this.created=null,this.rating=null}};(0,s._)([(0,p.Cb)()],_.prototype,"created",void 0),(0,s._)([(0,p.Cb)()],_.prototype,"rating",void 0),_=(0,s._)([(0,y.j)("esri.portal.PortalRating")],_);const M=_;var C;const T=new Set(["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","GeoJson","CSV","KML","WFS","WMTS","WMS","Feed"]),I=new Set(["KML","GeoJson","CSV"]);let L=C=class extends((0,o.eC)(c.Z)){static from(e){return(0,d.TJ)(C,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return"Feature Service"===e||"Feature Collection"===e?r=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":"Image Service"===e?r=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?r="Scene Layer":"Video Service"===e?r="Video Layer":"Scene Package"===e?r="Scene Layer Package":"Stream Service"===e?r="Feature Layer":"Geoprocessing Service"===e?r=t.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===e?r="Locator":"Geoenrichment Service"===e?r="GeoEnrichment Service":"Microsoft Powerpoint"===e?r="Microsoft PowerPoint":"GeoJson"===e?r="GeoJSON":"Globe Service"===e?r="Globe Layer":"Vector Tile Service"===e?r="Tile Layer":"netCDF"===e?r="NetCDF":"Map Service"===e?r=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e&&e.toLowerCase().includes("add in")?r=e.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===e?r="Big Data File Share":"Compact Tile Package"===e?r="Tile Package (tpkx)":"OGCFeatureServer"===e?r="OGC Feature Layer":"web mapping application"===e&&t.includes("configurableApp")?r="Instant App":"Insights Page"===e?r="Insights Report":"Excalibur Imagery Project"===e&&(r="Excalibur Project"),r}readExtent(e){return e&&e.length?new m.Z(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type?.toLowerCase()||"",t=this.typeKeywords||[];let r,s=!1,a=!1,n=!1,o=!1,l=!1,c=!1,u=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(s=t.includes("Hosted Service"),"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(a=t.includes("Table"),n=t.includes("Route Layer"),o=t.includes("Markup"),l=t.includes("Spatiotemporal"),c=t.includes("UtilityNetwork"),r=l&&a?"spatiotemporaltable":a?"table":n?"routelayer":o?"markup":l?"spatiotemporal":s?"featureshosted":c?"utilitynetwork":"features"):r="map service"===e||"wms"===e||"wmts"===e?s||t.includes("Tiled")||"wmts"===e?"maptiles":"mapimages":"scene service"===e?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===e?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"video service"===e?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"geoprocessing service"===e?t.includes("Web Tool")?"tool":"layers":"geodata service"===e?"geodataservice":"3dtiles service"===e?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):"web map"===e||"cityengine web scene"===e?r="maps":"web scene"===e?r=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===e&&t.includes("configurableApp")?r="instantapps":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?r="apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.includes("ArcGIS Pro")||"explorer map"===e&&t.indexOf("Explorer Document")?r="mapsgray":"service definition"===e||"csv"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"netcdf"===e||"administrative report"===e?r="datafiles":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?r="appsgray":"360 vr experience"===e?r="360vr":"arcgis pro add in"===e||"arcgis pro configuration"===e?r="addindesktop":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"image"===e||"workflow manager package"===e||"explorer map"===e&&t.includes("Explorer Mapping Application")||t.includes("Document")?r="datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?r="toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?r="layersgray":"scene package"===e?r="scenepackage":"3dtiles package"===e?r="3dtileslayerpackage":"mobile scene package"===e?r="mobilescenepackage":"tile package"===e||"compact tile package"===e?r="tilepackage":"task file"===e?r="taskfile":"report template"===e?r="report-template":"statistical data collection"===e?r="statisticaldatacollection":"insights workbook"===e?r="workbook":"insights model"===e?r="insightsmodel":"insights page"===e?r="insightspage":"insights theme"===e?r="insightstheme":"hub initiative"===e?r="hubinitiative":"hubpage"===e?r="hubpage":"hub event"===e?r="hubevent":"hub site application"===e?r="hubsite":"hub project"===e?r="hubproject":"relational database connection"===e?r="relationaldatabaseconnection":"big data file share"===e?r="datastorecollection":"image collection"===e?r="imagecollection":"style"===e?r="style":"desktop style"===e?r="desktopstyle":"dashboard"===e?r="dashboard":"raster function template"===e?r="rasterprocessingtemplate":"vector tile package"===e?r="vectortilepackage":"ortho mapping project"===e?r="orthomappingproject":"ortho mapping template"===e?r="orthomappingtemplate":"solution"===e?r="solutions":"geopackage"===e?r="geopackage":"deep learning package"===e?r="deeplearningpackage":"real time analytic"===e?r="realtimeanalytics":"big data analytic"===e?r="bigdataanalytics":"feed"===e?r="feed":"excalibur imagery project"===e?r="excaliburimageryproject":"notebook"===e?r="notebook":"storymap"===e?r="storymap":"survey123 add in"===e?r="survey123addin":"mission"===e?r="mission":"mission report"===e?r="missionreport":"mission template"===e?r="missiontemplate":"quickcapture project"===e?r="quickcaptureproject":"pro report"===e?r="proreport":"pro report template"===e?r="proreporttemplate":"urban model"===e?r="urbanmodel":"web experience"===e?r="experiencebuilder":"web experience template"===e?r="webexperiencetemplate":"experience builder widget"===e?r="experiencebuilderwidget":"experience builder widget package"===e?r="experiencebuilderwidgetpackage":"workflow"===e?r="workflow":"insights script"===e?r="insightsscript":"kernel gateway connection"===e?r="kernelgatewayconnection":"hub initiative template"===e?r="hubinitiativetemplate":"storymap theme"===e?r="storymaptheme":"knowledge graph"===e?r="knowledgegraph":"knowledge studio project"===e?r="knowledgestudio":"native application"===e?r="nativeapp":"native application installer"===e?r="nativeappinstaller":"link chart"===e?r="linkchart":"investigation"===e?r="investigation":"ogcfeatureserver"===e?r="features":"pro project"===e?r="proproject":"insights workbook package"===e?r="insightsworkbookpackage":"apache parquet"===e?r="apacheparquet":"notebook code snippets"===e||"notebook code snippet library"===e?r="notebookcodesnippets":"suitability model"===e?r="suitabilitymodel":"esri classifier definition"===e?r="classifierdefinition":"esri classification schema"===e?r="classificationschema":"insights data engineering workbook"===e?r="dataengineeringworkbook":"insights data engineering model"===e?r="dataengineeringmodel":"deep learning studio project"===e?r="deeplearningproject":"discussion"===e?r="discussion":"allsource project"===e?r="allsourceproject":"api key"===e?r="apikey":"data pipeline"===e?r="datapipelines":"group layer"===e?(u=t.includes("Map"),r=u?"layergroup2d":"layergroup"):r="media layer"===e?"onlinemedialayer":"form"===e?t.includes("Survey123")?"survey":"datafilesgray":"maps",r?(0,i.V)("esri/images/portal/"+r+"16.png"):null}get isLayer(){return null!=this.type&&T.has(this.type)}get itemCdnUrl(){let e=this.itemUrl;return e&&a.id&&!a.id.findCredential(e)&&(e=a.id._normalizeAGOLorgDomain(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}get itemPageUrl(){const e=this.portal?.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){const e=this.portal?.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`)??null:null}get userItemUrl(){const e=this.portal?.restUrl;if(!e)return null;const t=this.owner||this.portal?.user?.username;return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=g.Z.getDefault()),r=t.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:null!=e?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(r),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof M&&(e=e.rating),null==e||isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new M({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,l.d9)(this.applicationProxies),avgRating:this.avgRating,categories:(0,l.d9)(this.categories),created:(0,l.d9)(this.created),culture:this.culture,description:this.description,extent:(0,l.d9)(this.extent),groupCategories:(0,l.d9)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,l.d9)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,l.d9)(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,l.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,l.d9)(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new C({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const t of["tags","typeKeywords","categories"])e[t]=e[t]?.join(", ");const{extent:t}=e;return t&&(e.extent=JSON.stringify(t)),e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return null!=t.rating?(t.created=new Date(t.created),new M(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},C)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e?.data,r={method:"post"};r.query=this.createPostQuery();for(const e in r.query)null===r.query[e]&&(r.query[e]="");return r.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?r.query.text=t:"object"==typeof t&&(r.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,r).then((()=>this.reload()))})):Promise.reject(new n.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new n.Z("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:r}=this;await t.signIn();const{copyResources:s,folder:i,tags:a,title:o}=e||{},l={method:"post",query:{copyPrivateResources:"all"===s,folder:"string"==typeof i?i:i?.id,includeResources:!!s,tags:a?.join(","),title:o}},{itemId:c}=await t.request(`${r}/copy`,l);return new C({id:c,portal:t})}updateThumbnail(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e.thumbnail,r=e.filename,s={method:"post"};if("string"==typeof t)(0,u.HK)(t)?s.query={data:t}:s.query={url:(0,u.hF)(t)},null!=r&&(s.query.filename=r);else{const e=new FormData;null!=r?e.append("file",t,r):e.append("file",t),s.body=e}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,s).then((()=>this.reload()))})):Promise.reject(new n.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:s}=await r.e(7873).then(r.bind(r,97873));return s(this,e,t)}async addResource(e,t,s){const{addOrUpdateResource:i}=await r.e(7873).then(r.bind(r,97873));return e.portalItem=this,i(e,"add",t,s)}async removeResource(e,t){const{removeResource:s}=await r.e(7873).then(r.bind(r,97873));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new n.Z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return s(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await r.e(7873).then(r.bind(r,97873));return t(this,e)}resourceFromPath(e){return new S({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:(0,l.d9)(this.categories),created:this.created?.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,l.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,l.d9)(this.typeKeywords),url:this.url};return(0,l.yd)(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new C({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};(0,s._)([(0,p.Cb)({type:["private","shared","org","public"]})],L.prototype,"access",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"accessInformation",void 0),(0,s._)([(0,p.Cb)({type:String})],L.prototype,"apiKey",void 0),(0,s._)([(0,p.Cb)({json:{read:{source:"appProxies"}}})],L.prototype,"applicationProxies",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"avgRating",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"categories",void 0),(0,s._)([(0,p.Cb)({type:Date})],L.prototype,"created",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"culture",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"description",void 0),(0,s._)([(0,p.Cb)({readOnly:!0})],L.prototype,"displayName",null),(0,s._)([(0,p.Cb)({type:m.Z})],L.prototype,"extent",void 0),(0,s._)([(0,h.r)("extent")],L.prototype,"readExtent",null),(0,s._)([(0,p.Cb)()],L.prototype,"groupCategories",void 0),(0,s._)([(0,p.Cb)({readOnly:!0})],L.prototype,"iconUrl",null),(0,s._)([(0,p.Cb)()],L.prototype,"id",void 0),(0,s._)([(0,p.Cb)({readOnly:!0})],L.prototype,"isLayer",null),(0,s._)([(0,p.Cb)({type:Boolean,readOnly:!0})],L.prototype,"isOrgItem",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"itemControl",void 0),(0,s._)([(0,p.Cb)({readOnly:!0})],L.prototype,"itemPageUrl",null),(0,s._)([(0,p.Cb)({readOnly:!0})],L.prototype,"itemUrl",null),(0,s._)([(0,p.Cb)()],L.prototype,"licenseInfo",void 0),(0,s._)([(0,p.Cb)({type:Date})],L.prototype,"modified",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"name",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"numComments",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"numRatings",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"numViews",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"owner",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"ownerFolder",void 0),(0,s._)([(0,p.Cb)({type:g.Z})],L.prototype,"portal",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"screenshots",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"size",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"snippet",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"sourceJSON",void 0),(0,s._)([(0,p.Cb)({type:String})],L.prototype,"sourceUrl",void 0),(0,s._)([(0,p.Cb)({type:String})],L.prototype,"spatialReference",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"tags",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"thumbnail",void 0),(0,s._)([(0,p.Cb)({readOnly:!0})],L.prototype,"thumbnailUrl",null),(0,s._)([(0,p.Cb)()],L.prototype,"title",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"type",void 0),(0,s._)([(0,p.Cb)()],L.prototype,"typeKeywords",void 0),(0,s._)([(0,p.Cb)({type:String,json:{read(e,t){if(I.has(t.type)){const t=this.portal?.restUrl;e||=t&&this.id?`${t}/content/items/${this.id}/data`:null}return e}}})],L.prototype,"url",void 0),(0,s._)([(0,p.Cb)({readOnly:!0})],L.prototype,"userItemUrl",null),L=C=(0,s._)([(0,y.j)("esri.portal.PortalItem")],L);const x=L},41253:(e,t,r)=>{r.d(t,{Z:()=>m});var s,i=r(43697),a=r(92036),n=r(35454),o=r(22974),l=r(5600),c=(r(80442),r(92604),r(52011)),u=r(6570),p=r(82971),d=r(40488);const h=new n.X({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let y=s=class extends a.Z{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}clone(){return new s({categories:this.categories?(0,o.d9)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map((e=>Array.isArray(e)?JSON.stringify(e):e)));let s="";if(this.extent){const e=(0,d.iV)(this.extent,p.Z.WGS84);null!=e&&(s=`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const a={categories:r,bbox:s,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(a.sortField=this.sortField.split(",").map((e=>h.toJSON(e.trim()))).join(","),a.sortOrder=this.sortOrder),{query:{...t,...a}}}};(0,i._)([(0,l.Cb)()],y.prototype,"categories",void 0),(0,i._)([(0,l.Cb)()],y.prototype,"disableExtraQuery",void 0),(0,i._)([(0,l.Cb)({type:u.Z})],y.prototype,"extent",void 0),(0,i._)([(0,l.Cb)()],y.prototype,"filter",void 0),(0,i._)([(0,l.Cb)()],y.prototype,"num",void 0),(0,i._)([(0,l.Cb)()],y.prototype,"query",void 0),(0,i._)([(0,l.Cb)()],y.prototype,"sortField",void 0),(0,i._)([(0,l.Cb)()],y.prototype,"sortOrder",null),(0,i._)([(0,l.Cb)()],y.prototype,"start",void 0),y=s=(0,i._)([(0,c.j)("esri.portal.PortalQueryParams")],y);const m=y},86082:(e,t,r)=>{r.d(t,{Z:()=>h});var s=r(43697),i=r(20102),a=r(96674),n=r(5600),o=(r(80442),r(92604),r(77734),r(52011));let l=class extends a.wq{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new i.Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,s._)([(0,n.Cb)({type:Date})],l.prototype,"created",void 0),(0,s._)([(0,n.Cb)()],l.prototype,"id",void 0),(0,s._)([(0,n.Cb)()],l.prototype,"portal",void 0),(0,s._)([(0,n.Cb)()],l.prototype,"title",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],l.prototype,"url",null),(0,s._)([(0,n.Cb)()],l.prototype,"username",void 0),l=(0,s._)([(0,o.j)("esri.portal.PortalFolder")],l);const c=l;var u,p=r(68916);let d=u=class extends a.wq{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e?.data,s=e?.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),null!=r&&("string"==typeof r?i.query.text=r:"object"==typeof r&&(i.query.text=JSON.stringify(r))));let a=this.userContentUrl;return s&&(a+="/"+("string"==typeof s?s:s.id)),this.portal.request(a+"/addItem",i).then((e=>(t.id=e.id,t.portal=this.portal,t.loaded?t.reload():t.load())))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal.request(t+`/items/${e.id}/delete`,{method:"post"}).then((()=>{e.id=null,e.portal=null}))}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map((e=>e.id));if(r.length){const s={method:"post",query:{items:r.join(",")}};return this.portal.request(t,s).then((()=>{e.forEach((e=>{e.id=null,e.portal=null}))}))}return Promise.resolve(void 0)}fetchFolders(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then((e=>{let t;return t=e&&e.folders?e.folders.map((e=>{const t=c.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchGroups(){return this.portal.request(this.url??"").then((e=>{let t;return t=e&&e.groups?e.groups.map((e=>{const t=p.Z.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchItems(e){const t=e??{};let s,i=this.userContentUrl??"";return t.folder&&(i+="/"+t.folder.id),Promise.resolve().then(r.bind(r,15235)).then((({default:e})=>{s=e;const r={folders:!1,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"};return this.portal.request(i,{query:r})})).then((e=>{let t;return e?.items?(t=e.items.map((e=>{const t=s.fromJSON(e);return t.portal=this.portal,t})),Promise.all(t.map((e=>e.load()))).catch((e=>e)).then((()=>({items:t,nextStart:e.nextStart,total:e.total})))):{items:[],nextStart:-1,total:0}}))}fetchTags(){return this.portal.request(this.url+"/tags").then((e=>e.tags))}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new p.Z({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new i.Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new i.Z("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new u;return t.sourceJSON=e,t.read(e),t}};(0,s._)([(0,n.Cb)()],d.prototype,"access",void 0),(0,s._)([(0,n.Cb)({type:Date})],d.prototype,"created",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"culture",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"description",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"email",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"favGroupId",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"fullName",void 0),(0,s._)([(0,n.Cb)({type:Date})],d.prototype,"modified",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"orgId",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"portal",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"preferredView",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"privileges",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"region",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"role",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"roleId",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"sourceJSON",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"thumbnail",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],d.prototype,"thumbnailUrl",null),(0,s._)([(0,n.Cb)()],d.prototype,"units",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],d.prototype,"userContentUrl",null),(0,s._)([(0,n.Cb)({readOnly:!0})],d.prototype,"url",null),(0,s._)([(0,n.Cb)()],d.prototype,"username",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"userType",void 0),d=u=(0,s._)([(0,o.j)("esri.portal.PortalUser")],d);const h=d},73572:(e,t,r)=>{r.d(t,{AJ:()=>n,If:()=>o,k0:()=>a,ul:()=>i,wx:()=>l}),r(22021);var s=r(62357);r(11077),r(22549);const i=2.4;function a(e){return(0,s.Wz)(e*i)}function n(e){return(0,s.F2)(e)/i}function o(e,t,r){const s=Math.sqrt(e**2+t**2)/r;return s>1?0:3/(Math.PI*r**2)*(1-s**2)**2}function l(e,t){return"function"==typeof e?e:e?"string"==typeof t?t=>-1*+t[e]:r=>+r[e]+t:()=>1}},10278:(e,t,r)=>{r.d(t,{Z:()=>d});var s=r(43697),i=r(35454),a=r(96674),n=r(5600),o=(r(80442),r(92604),r(77734),r(36030)),l=r(52011);const c=new i.X({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),u=new i.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let p=class extends a.wq{constructor(e){super(e),this.type="class-breaks-definition",this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null}set standardDeviationInterval(e){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",e)}set definedInterval(e){"defined-interval"===this.classificationMethod&&this._set("definedInterval",e)}};(0,s._)([(0,o.J)({classBreaksDef:"class-breaks-definition"})],p.prototype,"type",void 0),(0,s._)([(0,n.Cb)({json:{write:!0}})],p.prototype,"breakCount",void 0),(0,s._)([(0,n.Cb)({json:{write:!0}})],p.prototype,"classificationField",void 0),(0,s._)([(0,n.Cb)({type:String,json:{read:c.read,write:c.write}})],p.prototype,"classificationMethod",void 0),(0,s._)([(0,n.Cb)({json:{write:!0}})],p.prototype,"normalizationField",void 0),(0,s._)([(0,n.Cb)({json:{read:u.read,write:u.write}})],p.prototype,"normalizationType",void 0),(0,s._)([(0,n.Cb)({value:null,json:{write:!0}})],p.prototype,"standardDeviationInterval",null),(0,s._)([(0,n.Cb)({value:null,json:{write:!0}})],p.prototype,"definedInterval",null),p=(0,s._)([(0,l.j)("esri.rest.support.ClassBreaksDefinition")],p);const d=p},622:(e,t,r)=>{r.d(t,{k:()=>n});var s=r(92604);const i=()=>s.Z.getLogger("esri.rest.support.generateRendererUtils");function a(e,t){return Number(e.toFixed(t))}function n(e){const{normalizationTotal:t}=e;return{classBreaks:o(e),normalizationTotal:t}}function o(e){const t=e.definition,{classificationMethod:r,normalizationType:s,definedInterval:i}=t,n=t.breakCount??1,o=[];let u=e.values;if(0===u.length)return[];u=u.sort(((e,t)=>e-t));const p=u[0],d=u[u.length-1];if("equal-interval"===r)if(u.length>=n){const e=(d-p)/n;let t=p;for(let r=1;r<n;r++){const i=a(p+r*e,6);o.push({minValue:t,maxValue:i,label:l(t,i,s)}),t=i}o.push({minValue:t,maxValue:d,label:l(t,d,s)})}else u.forEach((e=>{o.push({minValue:e,maxValue:e,label:l(e,e,s)})}));else if("natural-breaks"===r){const t=function(e){const t=[],r=[];let s=Number.MIN_VALUE,i=1,a=-1;for(let n=0;n<e.length;n++){const o=e[n];o===s?(i++,r[a]=i):null!==o&&(t.push(o),s=o,i=1,r.push(i),a++)}return{uniqueValues:t,valueFrequency:r}}(u),r=e.valueFrequency||t.valueFrequency,i=c(t.uniqueValues,r,n);let h=p;for(let e=1;e<n;e++)if(t.uniqueValues.length>e){const r=a(t.uniqueValues[i[e]],6);o.push({minValue:h,maxValue:r,label:l(h,r,s)}),h=r}o.push({minValue:h,maxValue:d,label:l(h,d,s)})}else if("quantile"===r)if(u.length>=n&&p!==d){let e=p,t=Math.ceil(u.length/n),r=0;for(let i=1;i<n;i++){let a=t+r-1;a>u.length&&(a=u.length-1),a<0&&(a=0),o.push({minValue:e,maxValue:u[a],label:l(e,u[a],s)}),e=u[a],r+=t,t=Math.ceil((u.length-r)/(n-i))}o.push({minValue:e,maxValue:d,label:l(e,d,s)})}else{let e=-1;for(let t=0;t<u.length;t++){const r=u[t];r!==e&&(e=r,o.push({minValue:e,maxValue:r,label:l(e,r,s)}),e=r)}}else if("standard-deviation"===r){const e=function(e){let t=0;for(let r=0;r<e.length;r++)t+=e[r];return t/=e.length,t}(u),t=function(e,t){let r=0;for(let s=0;s<e.length;s++){const i=e[s];r+=(i-t)*(i-t)}return r/=e.length,Math.sqrt(r)}(u,e);if(0===t)o.push({minValue:u[0],maxValue:u[0],label:l(u[0],u[0],s)});else{const r=function(e,t,r,s,i){let a=Math.max(s-e,t-s)/i/r;return a=a>=1?1:a>=.5?.5:.25,a}(p,d,n,e,t)*t;let i=0,c=p;for(let t=n;t>=1;t--){const n=a(e-(t-.5)*r,6);o.push({minValue:c,maxValue:n,label:l(c,n,s)}),c=n,i++}let u=a(e+.5*r,6);o.push({minValue:c,maxValue:u,label:l(c,u,s)}),c=u,i++;for(let t=1;t<=n;t++)u=i===2*n?d:a(e+(t+.5)*r,6),o.push({minValue:c,maxValue:u,label:l(c,u,s)}),c=u,i++}}else if("defined-interval"===r){if(!i)return o;const e=u[0],t=u[u.length-1],r=Math.ceil((t-e)/i);let n=e;for(let t=1;t<r;t++){const r=a(e+t*i,6);o.push({minValue:n,maxValue:r,label:l(n,r,s)}),n=r}o.push({minValue:n,maxValue:t,label:l(n,t,s)})}return o}function l(e,t,r){let s=null;return s=e===t?r&&"percent-of-total"===r?e+"%":e.toString():r&&"percent-of-total"===r?e+"% - "+t+"%":e+" - "+t,s}function c(e,t,r){const s=e.length,i=[];r>s&&(r=s);for(let e=0;e<r;e++)i.push(Math.round(e*s/r-1));i.push(s-1);let a=u(i,e,t,r);return function(e,t,r,s,i,a){let n=0,o=0,l=0,c=0,u=!0;for(let d=0;d<2&&u;d++){0===d&&(u=!1);for(let d=0;d<a-1;d++)for(;r[d+1]+1!==r[d+2];){r[d+1]=r[d+1]+1;const a=p(d,r,s,i);l=a.sbMean,n=a.sbSdcm;const h=p(d+1,r,s,i);if(c=h.sbMean,o=h.sbSdcm,!(n+o<t[d]+t[d+1])){r[d+1]=r[d+1]-1;break}t[d]=n,t[d+1]=o,e[d]=l,e[d+1]=c,u=!0}for(let d=a-1;d>0;d--)for(;r[d]!==r[d-1]+1;){r[d]=r[d]-1;const a=p(d-1,r,s,i);l=a.sbMean,n=a.sbSdcm;const h=p(d,r,s,i);if(c=h.sbMean,o=h.sbSdcm,!(n+o<t[d-1]+t[d])){r[d]=r[d]+1;break}t[d-1]=n,t[d]=o,e[d-1]=l,e[d]=c,u=!0}}return u}(a.mean,a.sdcm,i,e,t,r)&&(a=u(i,e,t,r)),i}function u(e,t,r,s){let i=[],a=[],n=[],o=0;const l=[],c=[];for(let i=0;i<s;i++){const s=p(i,e,t,r);l.push(s.sbMean),c.push(s.sbSdcm),o+=c[i]}let u,d=o,h=!0;for(;h||o<d;){h=!1,i=[];for(let t=0;t<s;t++)i.push(e[t]);for(let r=0;r<s;r++)for(let i=e[r]+1;i<=e[r+1];i++)if(u=t[i],r>0&&i!==e[r+1]&&Math.abs(u-l[r])>Math.abs(u-l[r-1]))e[r]=i;else if(r<s-1&&e[r]!==i-1&&Math.abs(u-l[r])>Math.abs(u-l[r+1])){e[r+1]=i-1;break}d=o,o=0,a=[],n=[];for(let i=0;i<s;i++){a.push(l[i]),n.push(c[i]);const s=p(i,e,t,r);l[i]=s.sbMean,c[i]=s.sbSdcm,o+=c[i]}}if(o>d){for(let t=0;t<s;t++)e[t]=i[t],l[t]=a[t],c[t]=n[t];o=d}return{mean:l,sdcm:c}}function p(e,t,r,s){let a=0,n=0;for(let i=t[e]+1;i<=t[e+1];i++){const e=s[i];a+=r[i]*e,n+=e}n<=0&&i().warn("Exception in Natural Breaks calculation");const o=a/n;let l=0;for(let i=t[e]+1;i<=t[e+1];i++)l+=s[i]*(r[i]-o)**2;return{sbMean:o,sbSdcm:l}}},79213:(e,t,r)=>{r.d(t,{qQ:()=>g,do:()=>b,gq:()=>m,yO:()=>f}),r(66577),r(20102);var s=r(62357),i=r(35463),a=r(82971),n=r(82397),o=r(8744),l=r(73012),c=r(73572),u=(r(90344),r(59266));r(54938),r(68773),r(46791),r(92604),r(17452),r(75215),r(29681),r(8238),r(25031),new Set(["integer","small-integer"]);var p=r(24452),d=r(94139);let h=null;const y=/^(?<hh>([0-1][0-9])|([2][0-3])):(?<mm>[0-5][0-9])(:(?<ss>[0-5][0-9]))?([.](?<ms>\d+))?$/;function m(e,t,r,s){const i=(0,o.MP)(r)?(0,o.C5)(r):null,a=i?Math.round((i.valid[1]-i.valid[0])/t.scale[0]):null;return e.map((e=>{const r=new d.Z(e.geometry);return(0,n.RF)(t,r,r,r.hasZ,r.hasM),e.geometry=i?function(e,t,r){return e.x<0?e.x+=t:e.x>r&&(e.x-=t),e}(r,a??0,s[0]):r,e}))}function g(e,t=18,r,i,a,n){const o=new Float64Array(a*n);t=Math.round((0,s.F2)(t));let l=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,p=0,d=0,h=0,y=0;const m=(0,c.wx)(i,r);for(const{geometry:r,attributes:s}of e){const{x:e,y:i}=r,g=Math.max(0,e-t),f=Math.max(0,i-t),b=Math.min(n,i+t),v=Math.min(a,e+t),w=+m(s);for(let r=f;r<b;r++)for(let s=g;s<v;s++){const n=r*a+s,m=(0,c.If)(s-e,r-i,t),g=o[n];p=o[n]+=m*w;const f=p-g;d+=f,h+=f*f,p<l&&(l=p),p>u&&(u=p),y++}}if(!y)return{mean:0,stddev:0,min:0,max:0,mid:0,count:0};const g=(u-l)/2;return{mean:d/y,stdDev:Math.sqrt((h-d*d/y)/y),min:l,max:u,mid:g,count:y}}function f(e){const t=y.exec(e);if(!t)return null;const{hh:r,mm:s,ss:a,ms:n}=t.groups;return Number(r)*i.fM.hours+Number(s)*i.fM.minutes+Number(a)*i.fM.seconds+Number(n||0)}async function b(e,t,r=!0){if(!t)return[];const{field:s,field2:i,field3:n,fieldDelimiter:o,fieldInfos:c,timeZone:d}=e,y=s&&c?.find((e=>e.name.toLowerCase()===s.toLowerCase())),m=!!y&&(0,l.sX)(y),g=!!y&&function(e){return(0,l.y2)(e)||(0,l.UQ)(e)||(0,l.ig)(e)}(y),b=e.valueExpression,v=e.normalizationType,w=e.normalizationField,S=e.normalizationTotal,_=[],M=e.viewInfoParams;let C=null,T=null;if(b){if(!h){const{arcadeUtils:e}=await(0,u.LC)();h=e}h.hasGeometryOperations(b)&&await h.enableGeometryOperations(),C=h.createFunction(b),T=M?h.getViewInfo({viewingMode:M.viewingMode,scale:M.scale,spatialReference:new a.Z(M.spatialReference)}):null}const I=e.fieldInfos,L=t[0]&&"declaredClass"in t[0]&&"esri.Graphic"===t[0].declaredClass||!I?null:{fields:I};return t.forEach((e=>{const t=e.attributes;let a;if(b){const t=L?{...e,layer:L}:e,r=h.createExecContext(t,T,d);a=h.executeFunction(C,r)}else t&&(a=t[s],i?(a=`${(0,p.wk)(a)}${o}${(0,p.wk)(t[i])}`,n&&(a=`${a}${o}${(0,p.wk)(t[n])}`)):"string"==typeof a&&r&&(g?a=a?new Date(a).getTime():null:m&&(a=a?f(a):null)));if(v&&"number"==typeof a&&isFinite(a)){const e=t&&parseFloat(t[w]);a=(0,p.fk)(a,v,e,S)}_.push(a)})),_}},24452:(e,t,r)=>{r.d(t,{DL:()=>D,F_:()=>G,G2:()=>P,H0:()=>g,Lq:()=>v,Qm:()=>V,S5:()=>m,XL:()=>b,eT:()=>U,fk:()=>N,i5:()=>f,oF:()=>R,wk:()=>y});var s=r(10278),i=r(622);const a="<Null>",n="equal-interval",o=1,l=5,c=10,u=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,p=new Set(["esriFieldTypeDate","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeOID","esriFieldTypeBigInteger"]),d=new Set(["esriFieldTypeTimeOnly","esriFieldTypeDateOnly"]),h=["min","max","avg","stddev","count","sum","variance","nullcount","median"];function y(e){return null==e||"string"==typeof e&&!e?a:e}function m(e){const t=null!=e.normalizationField||null!=e.normalizationType,r=null!=e.minValue||null!=e.maxValue,s=!!e.sqlExpression&&e.supportsSQLExpression;return!t&&!r&&!s}function g(e){const t=e.returnDistinct?[...new Set(e.values)]:e.values,r=t.filter((e=>null!=e)).sort(),s=r.length,i={count:s,min:r[0],max:r[s-1]};return e.supportsNullCount&&(i.nullcount=t.length-s),e.percentileParams&&(i.median=b(t,e.percentileParams)),i}function f(e){const{values:t,useSampleStdDev:r,supportsNullCount:s}=e;let i=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,n=null,o=null,l=null,c=null,u=0;const p=null==e.minValue?-1/0:e.minValue,d=null==e.maxValue?1/0:e.maxValue;for(const e of t)Number.isFinite(e)?e>=p&&e<=d&&(n=null===n?e:n+e,i=Math.min(i,e),a=Math.max(a,e),u++):"string"==typeof e&&u++;if(u&&null!=n){o=n/u;let e=0;for(const r of t)Number.isFinite(r)&&r>=p&&r<=d&&(e+=(r-o)**2);c=r?u>1?e/(u-1):0:u>0?e/u:0,l=Math.sqrt(c)}else i=null,a=null;const h={avg:o,count:u,max:a,min:i,stddev:l,sum:n,variance:c};return s&&(h.nullcount=t.length-u),e.percentileParams&&(h.median=b(t,e.percentileParams)),h}function b(e,t){const{fieldType:r,value:s,orderBy:i,isDiscrete:a}=t,n=v(r,"desc"===i);if(0===(e=[...e].filter((e=>null!=e)).sort(((e,t)=>n(e,t)))).length)return null;if(s<=0)return e[0];if(s>=1)return e[e.length-1];const o=(e.length-1)*s,l=Math.floor(o),c=l+1,u=o%1,p=e[l],d=e[c];return c>=e.length||a||"string"==typeof p||"string"==typeof d?p:p*(1-u)+d*u}function v(e,t){if(e){if(p.has(e))return O(t);if(d.has(e))return I(t,!1);if("esriFieldTypeTimestampOffset"===e)return function(e){return e?M:_}(t);const r=I(t,!0);if("esriFieldTypeString"===e)return r;if("esriFieldTypeGUID"===e||"esriFieldTypeGlobalID"===e)return(e,t)=>r(k(e),k(t))}const r=t?1:-1,s=O(t),i=I(t,!0);return(e,t)=>"number"==typeof e&&"number"==typeof t?s(e,t):"string"==typeof e&&"string"==typeof t?i(e,t):r}const w=(e,t)=>null==e?null==t?0:1:null==t?-1:null,S=(e,t)=>null==e?null==t?0:-1:null==t?1:null,_=(e,t)=>S(e,t)??(e===t?0:new Date(e).getTime()-new Date(t).getTime()),M=(e,t)=>w(e,t)??(e===t?0:new Date(t).getTime()-new Date(e).getTime()),C=(e,t)=>S(e,t)??(e===t?0:e<t?-1:1),T=(e,t)=>w(e,t)??(e===t?0:e<t?1:-1);function I(e,t){if(!t)return e?T:C;const r=function(e){return e?w:S}(e);return e?(e,t)=>{const s=r(e,t);return null!=s?s:(e=e.toUpperCase())>(t=t.toUpperCase())?-1:e<t?1:0}:(e,t)=>{const s=r(e,t);return null!=s?s:(e=e.toUpperCase())<(t=t.toUpperCase())?-1:e>t?1:0}}const L=(e,t)=>w(e,t)??t-e,x=(e,t)=>S(e,t)??e-t;function O(e){return e?L:x}function k(e){return e.substr(24,12)+e.substr(19,4)+e.substr(16,2)+e.substr(14,2)+e.substr(11,2)+e.substr(9,2)+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)+e.substr(0,2)}function G(e,t){let r;for(r in e)h.includes(r)&&(Number.isFinite(e[r])||(e[r]=null));return t?(["avg","stddev","variance"].forEach((t=>{null!=e[t]&&(e[t]=Math.ceil(e[t]??0))})),e):e}function U(e){const t={};for(let r of e)(null==r||"string"==typeof r&&""===r.trim())&&(r=null),null==t[r]?t[r]={count:1,data:r}:t[r].count++;return{count:t}}function F(e){return"coded-value"!==e?.type?[]:e.codedValues.map((e=>e.code))}function V(e,t,r,s){const i=e.count,a=[];if(r&&t){const e=[],r=F(t[0]);for(const i of r)if(t[1]){const r=F(t[1]);for(const a of r)if(t[2]){const r=F(t[2]);for(const t of r)e.push(`${y(i)}${s}${y(a)}${s}${y(t)}`)}else e.push(`${y(i)}${s}${y(a)}`)}else e.push(i);for(const t of e)i.hasOwnProperty(t)||(i[t]={data:t,count:0})}for(const e in i){const t=i[e];a.push({value:t.data,count:t.count,label:t.label})}return{uniqueValueInfos:a}}function N(e,t,r,s){let i=null;switch(t){case"log":0!==e&&(i=Math.log(e)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(s)&&0!==s&&(i=e/s*100);break;case"field":Number.isFinite(r)&&0!==r&&(i=e/r);break;case"natural-log":e>0&&(i=Math.log(e));break;case"square-root":e>0&&(i=e**.5)}return i}function P(e,t){const r=A({field:t.field,normalizationType:t.normalizationType,normalizationField:t.normalizationField,classificationMethod:t.classificationMethod,standardDeviationInterval:t.standardDeviationInterval,breakCount:t.numClasses||l});return e=function(e,t,r){const s=t??-1/0,i=r??1/0;return e.filter((e=>Number.isFinite(e)&&e>=s&&e<=i))}(e,t.minValue,t.maxValue),(0,i.k)({definition:r,values:e,normalizationTotal:t.normalizationTotal})}function A(e){const{breakCount:t,field:r,normalizationField:i,normalizationType:a}=e,l=e.classificationMethod||n,c="standard-deviation"===l?e.standardDeviationInterval||o:void 0;return new s.Z({breakCount:t,classificationField:r,classificationMethod:l,normalizationField:"field"===a?i:void 0,normalizationType:a,standardDeviationInterval:c})}function D(e,t){let r=e.classBreaks;const s=r.length,i=r[0]?.minValue,a=r[s-1]?.maxValue,n="standard-deviation"===t,o=u;return r=r.map((e=>{const t=e.label,r={minValue:e.minValue,maxValue:e.maxValue,label:t};if(n&&t){const e=t.match(o),s=e?.map((e=>+e.trim()))??[];2===s.length?(r.minStdDev=s[0],r.maxStdDev=s[1],s[0]<0&&s[1]>0&&(r.hasAvg=!0)):1===s.length&&(t.includes("<")?(r.minStdDev=null,r.maxStdDev=s[0]):t.includes(">")&&(r.minStdDev=s[0],r.maxStdDev=null))}return r})),{minValue:i,maxValue:a,classBreakInfos:r,normalizationTotal:e.normalizationTotal}}function R(e,t){const r=q(e,t);if(null==r.min&&null==r.max)return{bins:[],minValue:r.min,maxValue:r.max,normalizationTotal:t.normalizationTotal};const s=r.intervals,i=r.min??0,a=r.max??0,n=s.map(((e,t)=>({minValue:s[t][0],maxValue:s[t][1],count:0})));for(const t of e)if(null!=t&&t>=i&&t<=a){const e=j(s,t);e>-1&&n[e].count++}return{bins:n,minValue:i,maxValue:a,normalizationTotal:t.normalizationTotal}}function q(e,t){const{field:r,classificationMethod:s,standardDeviationInterval:i,normalizationType:a,normalizationField:n,normalizationTotal:o,minValue:l,maxValue:u}=t,p=t.numBins||c;let d=null,h=null,y=null;if(s&&"equal-interval"!==s||a){const{classBreaks:t}=P(e,{field:r,normalizationType:a,normalizationField:n,normalizationTotal:o,classificationMethod:s,standardDeviationInterval:i,minValue:l,maxValue:u,numClasses:p});d=t[0].minValue,h=t[t.length-1].maxValue,y=t.map((e=>[e.minValue,e.maxValue]))}else{if(null!=l&&null!=u)d=l,h=u;else{const t=f({values:e,minValue:l,maxValue:u,useSampleStdDev:!a,supportsNullCount:m({normalizationType:a,normalizationField:n,minValue:l,maxValue:u})});d=t.min??null,h=t.max??null}y=function(e,t,r){const s=(t-e)/r,i=[];let a,n=e;for(let e=1;e<=r;e++)a=n+s,a=Number(a.toFixed(16)),i.push([n,e===r?t:a]),n=a;return i}(d??0,h??0,p)}return{min:d,max:h,intervals:y}}function j(e,t){let r=-1;for(let s=e.length-1;s>=0;s--)if(t>=e[s][0]){r=s;break}return r}},59266:(e,t,r)=>{r.d(t,{LC:()=>o,Yi:()=>l,pp:()=>c}),r(66577);var s=r(20102),i=r(92604),a=r(82971);let n;function o(){return n||(n=(async()=>{const e=await r.e(304).then(r.bind(r,20304));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),n}const l=(e,t,r)=>u.create(e,t,r,null,["$feature","$view"],[]),c=(e,t,r,s)=>u.create(e,t,r,s,["$feature","$view"],[]);class u{constructor(e,t,r,s,i,a,n){this.services=null,this.script=e,this.evaluate=s;const o=Array.isArray(a)?a:a?.fields;this.fields=o??[],this._syntaxTree=r,this._arcade=t,this._arcadeFeature=i,this._spatialReference=n,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,t,r,n,l,c){const{arcade:p,Feature:d,Dictionary:h}=await o(),y=a.Z.fromJSON(t);let m;try{m=p.parseScript(e,c)}catch(t){return i.Z.getLogger("esri.support.arcadeOnDemand").error(new s.Z("arcade-bad-expression","Failed to parse arcade script",{script:e,error:t})),null}const g=l.reduce(((e,t)=>({...e,[t]:null})),{});let f=null;null!=n&&(f=new h(n),f.immutable=!0,g.$config=null);const b=p.scriptUsesGeometryEngine(m),v=b&&p.enableGeometrySupport(),w=p.scriptUsesFeatureSet(m)&&p.enableFeatureSetSupport(),S=p.scriptIsAsync(m),_=S&&p.enableAsyncSupport(),M={vars:g,spatialReference:y,useAsync:!!_};await Promise.all([v,w,_]);const C=new Set;await p.loadDependentModules(C,m,null,S,b);const T=new h;T.immutable=!1,T.setField("scale",0);const I=p.compileScript(m,M);return new u(e,p,m,((e,t)=>{const r=e.$view?.timeZone;return"$view"in e&&e.$view&&(T.setField("scale","object"==typeof e.$view&&"scale"in e.$view?e.$view.scale:void 0),e.$view=T),f&&(e.$config=f),I({vars:e,spatialReference:y,services:t,timeZone:r})}),new d,r,y)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}}},8238:(e,t,r)=>{r.d(t,{g:()=>a,s:()=>n});var s=r(99880),i=r(94443);async function a(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,r=await(0,i.ME)("esri/t9n/basemaps");return r[e]||r[t]}const n={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,s.V)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,s.V)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,s.V)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,s.V)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,s.V)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,s.V)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,s.V)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,s.V)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,s.V)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,s.V)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,s.V)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,s.V)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return(0,s.V)("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return(0,s.V)("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return(0,s.V)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,s.V)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,s.V)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,s.V)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,s.V)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,s.V)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,s.V)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,s.V)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,s.V)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,s.V)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}}},15650:(e,t,r)=>{r.d(t,{Nw:()=>d});var s=r(20102),i=r(22974),a=r(78286),n=r(827),o=r(84230);const l=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),c=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function u(e,t){if(t.restrictedWebMapWriting){const r=function(e){return"basemap"===e.layerContainerType?l:"operational-layers"===e.layerContainerType?c:null}(t);return null==r||r.has(e.type)&&!(0,o.rQ)(e)}return!0}function p(e,t){"maxScale"in e&&(t.maxScale=(0,n.k)(e.maxScale)??void 0),"minScale"in e&&(t.minScale=(0,n.k)(e.minScale)??void 0)}function d(e,t,r){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return r?.messages&&r.messages.push(new s.Z("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if((0,o.rQ)(e)&&!e.isTable)t=e.resourceInfo;else if(u(e,r)){const t={};return e.write(t,r)?t:null}return null!=t&&function(e,t){if(function(e,t){if(t)if((0,o.rQ)(e)){const r=(0,a.hS)("featureCollection.layers",t),s=r?.[0]?.layerDefinition;s&&p(e,s)}else"group"!==e.type&&p(e,t)}(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=(0,n.k)(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type))if((0,o.rQ)(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}(e,t=(0,i.d9)(t)),t}}}]);