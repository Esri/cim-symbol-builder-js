"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[2288],{23150:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(90237),o=r(10107),i=(r(44208),r(53966),r(87811),r(40608)),a=r(82799),s=r(54238);let p=class extends s.A{constructor(e){super(e),this.originId=null,this.destinationId=null,this.layoutGeometry=null}};(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],p.prototype,"originId",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],p.prototype,"destinationId",void 0),(0,n._)([(0,o.MZ)({type:a.A,json:{write:!0}})],p.prototype,"layoutGeometry",void 0),p=(0,n._)([(0,i.$)("esri.rest.knowledgeGraph.Relationship")],p);const l=p},25927:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(90237),o=r(10107),i=(r(44208),r(53966),r(87811),r(40608)),a=r(86738),s=r(54238);let p=class extends s.A{constructor(e){super(e),this.layoutGeometry=null}};(0,n._)([(0,o.MZ)({type:a.A,json:{write:!0}})],p.prototype,"layoutGeometry",void 0),p=(0,n._)([(0,i.$)("esri.rest.knowledgeGraph.Entity")],p);const l=p},40662:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(90237),o=(r(53966),r(44208),r(87811),r(49186),r(40608)),i=r(77901);let a=class extends i.A{constructor(e){super(e)}};a=(0,n._)([(0,o.$)("esri.rest.knowledgeGraph.ObjectValue")],a);const s=a},42095:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(90237),o=r(25482),i=r(10107),a=(r(44208),r(53966),r(87811),r(40608)),s=r(77901);let p=class extends o.A{constructor(e){super(e),this.path=[]}};(0,n._)([(0,i.MZ)({type:[s.A],json:{write:!0}})],p.prototype,"path",void 0),p=(0,n._)([(0,a.$)("esri.rest.knowledgeGraph.Path")],p);const l=p},42538:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(90237),o=r(10107),i=(r(44208),r(53966),r(87811),r(40608)),a=r(16930),s=r(69622);let p=class extends s.A{constructor(e){super(e),this.openCypherQuery=""}};(0,n._)([(0,o.MZ)()],p.prototype,"openCypherQuery",void 0),p=(0,n._)([(0,i.$)("esri.rest.knowledgeGraph.GraphQuery")],p);const l=p;let u=class extends l{constructor(e){super(e),this.bindParameters=null,this.bindGeometryQuantizationParameters=null,this.outputQuantizationParameters=null,this.outputSpatialReference=null,this.provenanceBehavior=null}};(0,n._)([(0,o.MZ)()],u.prototype,"bindParameters",void 0),(0,n._)([(0,o.MZ)()],u.prototype,"bindGeometryQuantizationParameters",void 0),(0,n._)([(0,o.MZ)()],u.prototype,"outputQuantizationParameters",void 0),(0,n._)([(0,o.MZ)({type:a.A})],u.prototype,"outputSpatialReference",void 0),(0,n._)([(0,o.MZ)()],u.prototype,"provenanceBehavior",void 0),u=(0,n._)([(0,i.$)("esri.rest.knowledgeGraph.GraphQueryStreaming")],u);const c=u},54238:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(90237),o=r(10107),i=(r(44208),r(53966),r(87811),r(40608)),a=r(77901);let s=class extends a.A{constructor(e){super(e),this.typeName=null,this.id=null}};(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],s.prototype,"typeName",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],s.prototype,"id",void 0),s=(0,n._)([(0,i.$)("esri.rest.knowledgeGraph.GraphNamedObject")],s);const p=s},77901:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(90237),o=r(25482),i=r(10107),a=(r(44208),r(53966),r(87811),r(40608));let s=class extends o.A{constructor(e){super(e),this.properties=null}};(0,n._)([(0,i.MZ)({json:{write:!0}})],s.prototype,"properties",void 0),s=(0,n._)([(0,a.$)("esri.rest.knowledgeGraph.GraphObject")],s);const p=s},80672:(e,t,r)=>{r.d(t,{R:()=>o});var n=r(20655);function o(e,t){return null===e?t:new n.A({url:e.field("url")})}},92288:(e,t,r)=>{r.r(t),r.d(t,{registerFunctions:()=>F});var n=r(92602),o=r(47609),i=r(66395),a=r(85935),s=r(78878),p=r(80672),l=r(91075),u=r(80586),c=r(16930),d=r(28735),f=r(20655),h=r(80812),y=r(78888),m=r(56507),g=r(65864),w=r(2272),v=r(92300),A=r(90237),S=r(25482),R=r(10107),_=(r(44208),r(53966),r(87811),r(40608)),G=r(21325);let x=class extends S.A{constructor(e){super(e),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map((e=>e.toJSON())),t=this.geometries[0],r={};return r.outSR=(0,G.YX)(this.outSpatialReference),r.inSR=(0,G.YX)(t.spatialReference),r.geometries=JSON.stringify({geometryType:(0,g.$B)(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};(0,A._)([(0,R.MZ)()],x.prototype,"geometries",void 0),(0,A._)([(0,R.MZ)({type:c.A,json:{read:{source:"outSR"}}})],x.prototype,"outSpatialReference",void 0),(0,A._)([(0,R.MZ)()],x.prototype,"transformation",void 0),(0,A._)([(0,R.MZ)()],x.prototype,"transformForward",void 0),x=(0,A._)([(0,_.$)("esri.rest.support.ProjectParameters")],x);const M=x,j=(0,m.dp)(M);var $=r(25927),b=r(42538),k=r(40662),P=r(42095),Z=r(23150),D=r(54218);let T=null;async function N(e){const t=n.A.geometryServiceUrl??"";if(!t){(0,u.isLoaded)()||await(0,u.load)();for(const t of e)t.container[t.indexer]=(0,u.project)(t.container[t.indexer],c.A.WGS84);return}const r=e.map((e=>e.container[e.indexer])),o=new M({geometries:r,outSpatialReference:c.A.WGS84}),i=await async function(e,t){t=j(t);const r=(0,w.Dl)(e),n={...r.query,f:"json",...t.toJSON()},o=t.outSpatialReference,i=(0,g.$B)(t.geometries[0]),a=(0,w.jV)(n,void 0);return(0,y.A)(r.path+"/project",a).then((({data:{geometries:e}})=>(0,v.V)(e,i,o)))}(t,o);for(let t=0;t<i.length;t++){const r=e[t];r.container[r.indexer]=i[t]}}async function I(e,t){const n=new h.default({portal:e,id:t});return await n.load(),null===T&&(T=await Promise.all([r.e(8948),r.e(2106),r.e(6728),r.e(1806),r.e(409)]).then(r.bind(r,51806))),await T.fetchKnowledgeGraph(n.url)}function J(e,t,r,n,o){if(null===e)return null;if((0,D.Kg)(e)||(0,D.Et)(e))return e;if((0,s.g)(e))return e.toJSDate();if((0,s.g)(e))return e.toJSDate();if((0,s.j)(e))return e.toStorageFormat();if((0,s.k)(e))return e.toStorageString();if((0,s.q)(e)){const i={};for(const a of e.keys())i[a]=J(e.field(a),t,r,n,o),i[a]instanceof l.A&&o.push({container:i,indexer:a});return i}if((0,D.cy)(e)){const i=e.map((e=>J(e,t,r,n,o)));for(let e=0;e<i.length;e++)i[e]instanceof l.A&&o.push({container:i,indexer:e});return i}return(0,s.l)(e)?e.spatialReference.isWGS84?e:e.spatialReference.isWebMercator&&t?(0,d.ci)(e):e:void 0}function O(e,t){if(!e)return null;const r={};for(const n in e)r[n]=Q(e[n],t);return r}function Q(e,t){return null===e?null:(0,D.cy)(e)?e.map((e=>Q(e,t))):e instanceof $.A?{graphTypeName:e.typeName,id:e.id,graphType:"entity",properties:O(e.properties,t)}:e instanceof k.A?{graphType:"object",properties:O(e.properties,t)}:e instanceof Z.A?{graphTypeName:e.typeName,id:e.id,graphType:"relationship",originId:e.originId??null,destinationId:e.destinationId??null,properties:O(e.properties,t)}:e instanceof P.A?{graphType:"path",path:e.path?e.path.map((e=>Q(e,t))):null}:(0,s.l)(e)?function(e,t){if(!e)return e;if(e.spatialReference.isWGS84&&t.spatialReference.isWebMercator)return(0,d.Gh)(e);if(e.spatialReference.equals(t.spatialReference))return e;throw new a.D$(t,a.TX.WrongSpatialReference,null)}(e,t):(0,D.Kg)(e)||(0,D.Et)(e)||(0,D.$P)(e)?e:null}function F(e){"async"===e.mode&&(e.functions.knowledgegraphbyportalitem=function(t,r){return e.standardFunctionAsync(t,r,((e,n,i)=>{if((0,s.D)(i,2,2,t,r),null===i[0])throw new a.D$(t,a.TX.PortalRequired,r);if(i[0]instanceof o.A){const e=(0,s.f)(i[1]);let r;return r=t.services?.portal?t.services.portal:f.A.getDefault(),I((0,p.R)(i[0],r),e)}if(!1===(0,D.Kg)(i[0]))throw new a.D$(t,a.TX.InvalidParameter,r);const l=(0,s.f)(i[0]);return I(t.services?.portal??f.A.getDefault(),l)}))},e.signatures.push({name:"knowledgegraphbyportalitem",min:2,max:2}),e.functions.querygraph=function(t,n){return e.standardFunctionAsync(t,n,(async(e,o,p)=>{(0,s.D)(p,2,4,t,n);const l=p[0];if(!(0,s.r)(l))throw new a.D$(t,a.TX.InvalidParameter,n);const u=p[1];if(!(0,D.Kg)(u))throw new a.D$(t,a.TX.InvalidParameter,n);null===T&&(T=await Promise.all([r.e(8948),r.e(2106),r.e(6728),r.e(1806),r.e(409)]).then(r.bind(r,51806)));let c=null;const d=(0,s.K)(p[2],null);if(!(d instanceof i.A||null===d))throw new a.D$(t,a.TX.InvalidParameter,n);if(d){let e=[];c=J(d,!0,!1,t,e),e=e.filter((e=>!e.container[e.indexer].spatialReference.isWGS84)),e.length>0&&await N(e)}const f=(0,s.K)(p[3],!1),h=new b.A({openCypherQuery:u,bindParameters:c,provenanceBehavior:f?"include":"exclude"});(l?.serviceDefinition?.currentVersion??11.3)>11.2&&(h.outputSpatialReference=t.spatialReference);const y=(await T.executeQueryStreaming(l,h)).resultRowsStream.getReader(),m=[];try{for(;;){const{done:e,value:r}=await y.read();if(e)break;if((0,D.cy)(r))for(const e of r)m.push(Q(e,t));else{const e=[];for(const n of r)e.push(Q(r[n],t));m.push(e)}}}catch(e){throw e}return i.A.convertJsonToArcade(m,(0,s.L)(t),!1,!0)}))},e.signatures.push({name:"querygraph",min:2,max:4}))}},92300:(e,t,r)=>{r.d(t,{V:()=>i,X:()=>o});var n=r(65864);function o(e){return{geometryType:(0,n.$B)(e[0]),geometries:e.map((e=>e.toJSON()))}}function i(e,t,r){const o=(0,n.xD)(t);return e.map((e=>{const t=o.fromJSON(e);return t.spatialReference=r,t}))}}}]);