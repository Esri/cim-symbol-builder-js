"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[8407],{10407:(e,t,r)=>{r.d(t,{It:()=>y,LG:()=>s,OM:()=>l,Sm:()=>c,Y:()=>u,bK:()=>a,mm:()=>p,sQ:()=>f});var n=r(98988),i=r(16930),o=r(28735);function s(e,t){if(!u(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function u(e,t){return!!e.typeKeywords?.includes(t)}function a(e){return u(e,p.HOSTED_SERVICE)}function l(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}function c(e,t,r){r?s(e,t):l(e,t)}async function f(e){const t=e.clone().normalize();let r;if(t.length>1)for(const e of t)r?e.width>r.width&&(r=e):r=e;else r=t[0];return async function(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return(0,o.ci)(e);const r=i.A.WGS84;return await(0,n.initializeProjection)(t,r),(0,n.project)(e,r)}(r)}const p={CHARTS:"Charts",DYNAMIC:"Dynamic",DEVELOPER_BASEMAP:"DeveloperBasemap",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",LOCAL_SCENE:"ViewingMode-Local",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function y(e){const{portal:t,isOrgItem:r,itemControl:n}=e,i=t.user?.privileges;let o=!i||i.includes("features:user:edit"),s=!!r&&!!i?.includes("features:user:fullEdit");const u="update"===n||"admin"===n;return u?s=o=!0:s&&(o=!0),{features:{edit:o,fullEdit:s},content:{updateItem:u}}}},60999:(e,t,r)=>{r.d(t,{DZ:()=>d,Ke:()=>y,Tj:()=>c,UT:()=>h,jJ:()=>l});var n=r(90237),i=r(69622),o=r(97768),s=r(74887),u=r(10107),a=r(40608);function l(e,t,r){return(0,s.Lx)(e.map(((e,n)=>t.apply(r,[e,n]))))}async function c(e,t,r){return(await(0,s.Lx)(e.map(((e,n)=>t.apply(r,[e,n]))))).map((e=>e.value))}function f(e){return{ok:!0,value:e}}function p(e){return{ok:!1,error:e}}async function y(e){if(null==e)return{ok:!1,error:new Error("no promise provided")};try{return f(await e)}catch(e){return p(e)}}async function d(e){try{return f(await e)}catch(e){return(0,s.QP)(e),p(e)}}function h(e,t){return new b(e,t)}let b=class extends i.A{get value(){return null!=(e=this._result)&&!0===e.ok?e.value:null;var e}get error(){return null!=(e=this._result)&&!1===e.ok?e.error:null;var e}get finished(){return null!=this._result}constructor(e,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,o.DC)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=e(r),this.promise.then((e=>{this._result=f(e),this._cleanup()}),(e=>{this._result=p(e),this._cleanup()})),this._abortHandle=(0,s.u7)(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,o.xt)(this._abortHandle),this._abortController=null}};(0,n._)([(0,u.MZ)()],b.prototype,"value",null),(0,n._)([(0,u.MZ)()],b.prototype,"error",null),(0,n._)([(0,u.MZ)()],b.prototype,"finished",null),(0,n._)([(0,u.MZ)()],b.prototype,"promise",void 0),(0,n._)([(0,u.MZ)()],b.prototype,"_result",void 0),b=(0,n._)([(0,a.$)("esri.core.asyncUtils.ReactiveTask")],b)},77548:(e,t,r)=>{r.d(t,{Gh:()=>h,tk:()=>f,BR:()=>c,wI:()=>l,G$:()=>y,$x:()=>p,Ov:()=>u,W_:()=>a,OP:()=>d,TU:()=>s,XX:()=>o});var n=r(70333),i=r(78888);r(5503),r(84952),r(36563),r(36708),new WeakMap;const o={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function s(e){const t=e?.type;return"building-scene"===t||"integrated-mesh"===t||"point-cloud"===t||"scene"===t}function u(e){return"feature"===e?.type&&!e.url&&"memory"===e.source?.type}function a(e){const t=e?.type;return("feature"===t||"subtype-group"===t||"oriented-imagery"===t)&&"feature-layer"===e?.source?.type}async function l(e,t){const r=n.id?.findServerInfo(e);if(null!=r?.currentVersion)return r.owningSystemUrl||null;const o=e.toLowerCase().indexOf("/rest/services");if(-1===o)return null;const s=`${e.slice(0,o)}/rest/info`,u=null!=t?t.signal:null,{data:a}=await(0,i.A)(s,{query:{f:"json"},responseType:"json",signal:u});return a?.owningSystemUrl||null}function c(e){return function(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function f(e){return!!function(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}function p(e,t){return null}function y(e){return null}function d(e){return!e||"Feature Service"===e.type&&!e.sourceUrl}function h(e,t){if(!t||!d(e))return;const r=(e.url,null);r&&(e.url=r)}}}]);