"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[6459],{21787:(t,n,r)=>{r.d(n,{a:()=>c,b:()=>l,e:()=>s,f:()=>o,i:()=>h,m:()=>u,s:()=>a,t:()=>i});var e=r(46851);function o(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t}function a(t,n,r,e,o,a,i,s,c,u){return t[0]=n,t[1]=r,t[2]=e,t[3]=o,t[4]=a,t[5]=i,t[6]=s,t[7]=c,t[8]=u,t}function i(t,n){if(t===n){const r=n[1],e=n[2],o=n[5];t[1]=n[3],t[2]=n[6],t[3]=r,t[5]=n[7],t[6]=e,t[7]=o}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t}function s(t,n){const r=n[0],e=n[1],o=n[2],a=n[3],i=n[4],s=n[5],c=n[6],u=n[7],l=n[8],f=l*i-s*u,h=-l*a+s*c,p=u*a-i*c;let M=r*f+e*h+o*p;return M?(M=1/M,t[0]=f*M,t[1]=(-l*e+o*u)*M,t[2]=(s*e-o*i)*M,t[3]=h*M,t[4]=(l*r-o*c)*M,t[5]=(-s*r+o*a)*M,t[6]=p*M,t[7]=(-u*r+e*c)*M,t[8]=(i*r-e*a)*M,t):null}function c(t,n){const r=n[0],e=n[1],o=n[2],a=n[3],i=n[4],s=n[5],c=n[6],u=n[7],l=n[8];return t[0]=i*l-s*u,t[1]=o*u-e*l,t[2]=e*s-o*i,t[3]=s*c-a*l,t[4]=r*l-o*c,t[5]=o*a-r*s,t[6]=a*u-i*c,t[7]=e*c-r*u,t[8]=r*i-e*a,t}function u(t,n,r){const e=n[0],o=n[1],a=n[2],i=n[3],s=n[4],c=n[5],u=n[6],l=n[7],f=n[8],h=r[0],p=r[1],M=r[2],g=r[3],m=r[4],y=r[5],b=r[6],d=r[7],P=r[8];return t[0]=h*e+p*i+M*u,t[1]=h*o+p*s+M*l,t[2]=h*a+p*c+M*f,t[3]=g*e+m*i+y*u,t[4]=g*o+m*s+y*l,t[5]=g*a+m*c+y*f,t[6]=b*e+d*i+P*u,t[7]=b*o+d*s+P*l,t[8]=b*a+d*c+P*f,t}function l(t,n){const r=n[0],e=n[1],o=n[2],a=n[3],i=n[4],s=n[5],c=n[6],u=n[7],l=n[8],f=n[9],h=n[10],p=n[11],M=n[12],g=n[13],m=n[14],y=n[15],b=r*s-e*i,d=r*c-o*i,P=r*u-a*i,A=e*c-o*s,x=e*u-a*s,F=o*u-a*c,w=l*g-f*M,v=l*m-h*M,T=l*y-p*M,C=f*m-h*g,_=f*y-p*g,R=h*y-p*m;let S=b*R-d*_+P*C+A*T-x*v+F*w;return S?(S=1/S,t[0]=(s*R-c*_+u*C)*S,t[1]=(c*T-i*R-u*v)*S,t[2]=(i*_-s*T+u*w)*S,t[3]=(o*_-e*R-a*C)*S,t[4]=(r*R-o*T+a*v)*S,t[5]=(e*T-r*_-a*w)*S,t[6]=(g*F-m*x+y*A)*S,t[7]=(m*P-M*F-y*d)*S,t[8]=(M*x-g*P+y*b)*S,t):null}function f(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t[6]=n[6]-r[6],t[7]=n[7]-r[7],t[8]=n[8]-r[8],t}function h(t){const n=(0,e.g)(),r=t[0],o=t[1],a=t[2],i=t[3],s=t[4],c=t[5],u=t[6],l=t[7],f=t[8];return Math.abs(1-(r*r+i*i+u*u))<=n&&Math.abs(1-(o*o+s*s+l*l))<=n&&Math.abs(1-(a*a+c*c+f*f))<=n}const p=u,M=f;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t[8]=n[8]+r[8],t},adjoint:c,copy:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},determinant:function(t){const n=t[0],r=t[1],e=t[2],o=t[3],a=t[4],i=t[5],s=t[6],c=t[7],u=t[8];return n*(u*a-i*c)+r*(-u*o+i*s)+e*(c*o-a*s)},equals:function(t,n){const r=t[0],o=t[1],a=t[2],i=t[3],s=t[4],c=t[5],u=t[6],l=t[7],f=t[8],h=n[0],p=n[1],M=n[2],g=n[3],m=n[4],y=n[5],b=n[6],d=n[7],P=n[8],A=(0,e.g)();return Math.abs(r-h)<=A*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(o-p)<=A*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-M)<=A*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(i-g)<=A*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(s-m)<=A*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-y)<=A*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(u-b)<=A*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(l-d)<=A*Math.max(1,Math.abs(l),Math.abs(d))&&Math.abs(f-P)<=A*Math.max(1,Math.abs(f),Math.abs(P))},exactEquals:function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)},fromMat2d:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},fromMat4:o,fromQuat:function(t,n){const r=n[0],e=n[1],o=n[2],a=n[3],i=r+r,s=e+e,c=o+o,u=r*i,l=e*i,f=e*s,h=o*i,p=o*s,M=o*c,g=a*i,m=a*s,y=a*c;return t[0]=1-f-M,t[3]=l-y,t[6]=h+m,t[1]=l+y,t[4]=1-u-M,t[7]=p-g,t[2]=h-m,t[5]=p+g,t[8]=1-u-f,t},fromRotation:function(t,n){const r=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=r,t[2]=0,t[3]=-r,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromScaling:function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromTranslation:function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},invert:s,isOrthoNormal:h,mul:p,multiply:u,multiplyScalar:function(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*r,t},multiplyScalarAndAdd:function(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t[3]=n[3]+r[3]*e,t[4]=n[4]+r[4]*e,t[5]=n[5]+r[5]*e,t[6]=n[6]+r[6]*e,t[7]=n[7]+r[7]*e,t[8]=n[8]+r[8]*e,t},normalFromMat4:l,normalFromMat4Legacy:function(t,n){const r=n[0],e=n[1],o=n[2],a=n[4],i=n[5],s=n[6],c=n[8],u=n[9],l=n[10],f=l*i-s*u,h=-l*a+s*c,p=u*a-i*c,M=r*f+e*h+o*p;if(!M)return null;const g=1/M;return t[0]=f*g,t[1]=(-l*e+o*u)*g,t[2]=(s*e-o*i)*g,t[3]=h*g,t[4]=(l*r-o*c)*g,t[5]=(-s*r+o*a)*g,t[6]=p*g,t[7]=(-u*r+e*c)*g,t[8]=(i*r-e*a)*g,t},projection:function(t,n,r){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},rotate:function(t,n,r){const e=n[0],o=n[1],a=n[2],i=n[3],s=n[4],c=n[5],u=n[6],l=n[7],f=n[8],h=Math.sin(r),p=Math.cos(r);return t[0]=p*e+h*i,t[1]=p*o+h*s,t[2]=p*a+h*c,t[3]=p*i-h*e,t[4]=p*s-h*o,t[5]=p*c-h*a,t[6]=u,t[7]=l,t[8]=f,t},scale:function(t,n,r){const e=r[0],o=r[1],a=r[2];return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t[6]=a*n[6],t[7]=a*n[7],t[8]=a*n[8],t},scaleByVec2:function(t,n,r){const e=r[0],o=r[1];return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t},set:a,str:function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},sub:M,subtract:f,translate:function(t,n,r){const e=n[0],o=n[1],a=n[2],i=n[3],s=n[4],c=n[5],u=n[6],l=n[7],f=n[8],h=r[0],p=r[1];return t[0]=e,t[1]=o,t[2]=a,t[3]=i,t[4]=s,t[5]=c,t[6]=h*e+p*i+u,t[7]=h*o+p*s+l,t[8]=h*a+p*c+f,t},transpose:i},Symbol.toStringTag,{value:"Module"}))},51305:(t,n,r)=>{r.d(n,{c:()=>p,g:()=>l,j:()=>_,k:()=>g,m:()=>f,s:()=>u});var e=r(46521),o=r(94961),a=r(65617),i=r(46851),s=r(17896),c=r(98766);function u(t,n,r){r*=.5;const e=Math.sin(r);return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=Math.cos(r),t}function l(t,n){const r=2*Math.acos(n[3]),e=Math.sin(r/2);return e>(0,i.g)()?(t[0]=n[0]/e,t[1]=n[1]/e,t[2]=n[2]/e):(t[0]=1,t[1]=0,t[2]=0),r}function f(t,n,r){const e=n[0],o=n[1],a=n[2],i=n[3],s=r[0],c=r[1],u=r[2],l=r[3];return t[0]=e*l+i*s+o*u-a*c,t[1]=o*l+i*c+a*s-e*u,t[2]=a*l+i*u+e*c-o*s,t[3]=i*l-e*s-o*c-a*u,t}function h(t,n,r,e){const o=n[0],a=n[1],s=n[2],c=n[3];let u,l,f,h,p,M=r[0],g=r[1],m=r[2],y=r[3];return l=o*M+a*g+s*m+c*y,l<0&&(l=-l,M=-M,g=-g,m=-m,y=-y),1-l>(0,i.g)()?(u=Math.acos(l),f=Math.sin(u),h=Math.sin((1-e)*u)/f,p=Math.sin(e*u)/f):(h=1-e,p=e),t[0]=h*o+p*M,t[1]=h*a+p*g,t[2]=h*s+p*m,t[3]=h*c+p*y,t}function p(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function M(t,n){const r=n[0]+n[4]+n[8];let e;if(r>0)e=Math.sqrt(r+1),t[3]=.5*e,e=.5/e,t[0]=(n[5]-n[7])*e,t[1]=(n[6]-n[2])*e,t[2]=(n[1]-n[3])*e;else{let r=0;n[4]>n[0]&&(r=1),n[8]>n[3*r+r]&&(r=2);const o=(r+1)%3,a=(r+2)%3;e=Math.sqrt(n[3*r+r]-n[3*o+o]-n[3*a+a]+1),t[r]=.5*e,e=.5/e,t[3]=(n[3*o+a]-n[3*a+o])*e,t[o]=(n[3*o+r]+n[3*r+o])*e,t[a]=(n[3*a+r]+n[3*r+a])*e}return t}function g(t,n,r,e){const o=.5*Math.PI/180;n*=o,r*=o,e*=o;const a=Math.sin(n),i=Math.cos(n),s=Math.sin(r),c=Math.cos(r),u=Math.sin(e),l=Math.cos(e);return t[0]=a*c*l-i*s*u,t[1]=i*s*l+a*c*u,t[2]=i*c*u-a*s*l,t[3]=i*c*l+a*s*u,t}const m=c.c,y=c.s,b=c.a,d=f,P=c.b,A=c.d,x=c.l,F=c.e,w=F,v=c.f,T=v,C=c.n,_=c.g,R=c.h,S=(0,a.c)(),Z=(0,a.f)(1,0,0),O=(0,a.f)(0,1,0),j=(0,o.a)(),q=(0,o.a)(),I=(0,e.c)();Object.freeze(Object.defineProperty({__proto__:null,add:b,calculateW:function(t,n){const r=n[0],e=n[1],o=n[2];return t[0]=r,t[1]=e,t[2]=o,t[3]=Math.sqrt(Math.abs(1-r*r-e*e-o*o)),t},conjugate:p,copy:m,dot:A,equals:R,exactEquals:_,fromEuler:g,fromMat3:M,getAxisAngle:l,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},invert:function(t,n){const r=n[0],e=n[1],o=n[2],a=n[3],i=r*r+e*e+o*o+a*a,s=i?1/i:0;return t[0]=-r*s,t[1]=-e*s,t[2]=-o*s,t[3]=a*s,t},len:w,length:F,lerp:x,mul:d,multiply:f,normalize:C,random:function(t){const n=i.R,r=n(),e=n(),o=n(),a=Math.sqrt(1-r),s=Math.sqrt(r);return t[0]=a*Math.sin(2*Math.PI*e),t[1]=a*Math.cos(2*Math.PI*e),t[2]=s*Math.sin(2*Math.PI*o),t[3]=s*Math.cos(2*Math.PI*o),t},rotateX:function(t,n,r){r*=.5;const e=n[0],o=n[1],a=n[2],i=n[3],s=Math.sin(r),c=Math.cos(r);return t[0]=e*c+i*s,t[1]=o*c+a*s,t[2]=a*c-o*s,t[3]=i*c-e*s,t},rotateY:function(t,n,r){r*=.5;const e=n[0],o=n[1],a=n[2],i=n[3],s=Math.sin(r),c=Math.cos(r);return t[0]=e*c-a*s,t[1]=o*c+i*s,t[2]=a*c+e*s,t[3]=i*c-o*s,t},rotateZ:function(t,n,r){r*=.5;const e=n[0],o=n[1],a=n[2],i=n[3],s=Math.sin(r),c=Math.cos(r);return t[0]=e*c+o*s,t[1]=o*c-e*s,t[2]=a*c+i*s,t[3]=i*c-a*s,t},rotationTo:function(t,n,r){const e=(0,s.e)(n,r);return e<-.999999?((0,s.f)(S,Z,n),(0,s.u)(S)<1e-6&&(0,s.f)(S,O,n),(0,s.n)(S,S),u(t,S,Math.PI),t):e>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,s.f)(S,n,r),t[0]=S[0],t[1]=S[1],t[2]=S[2],t[3]=1+e,C(t,t))},scale:P,set:y,setAxes:function(t,n,r,e){const o=I;return o[0]=r[0],o[3]=r[1],o[6]=r[2],o[1]=e[0],o[4]=e[1],o[7]=e[2],o[2]=-n[0],o[5]=-n[1],o[8]=-n[2],C(t,M(t,o))},setAxisAngle:u,slerp:h,sqlerp:function(t,n,r,e,o,a){return h(j,n,o,a),h(q,r,e,a),h(t,j,q,2*a*(1-a)),t},sqrLen:T,squaredLength:v,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}},Symbol.toStringTag,{value:"Module"}))},58995:(t,n,r)=>{r.d(n,{rS:()=>u});var e=r(2109),o=r(82971),a=r(8744);const i=new o.Z(e.kU),s=new o.Z(e.JL),c=new o.Z(e.mM);function u(t){return t&&((0,a.BZ)(t)||(0,a.fS)(t,s))?s:t&&((0,a.V2)(t)||(0,a.fS)(t,c))?c:i}new o.Z(e.pn)},2674:(t,n,r)=>{r.d(n,{Z:()=>y});var e,o=r(43697),a=r(96674),i=r(5600),s=(r(75215),r(67676),r(80442),r(52011)),c=r(52138),u=r(13598),l=r(51305),f=r(94961),h=r(17896),p=r(65617),M=r(3709);let g=e=class extends a.wq{constructor(t){super(t),this.translation=(0,p.c)(),this.rotationAxis=(0,p.g)(M.UP),this.rotationAngle=0,this.scale=(0,p.f)(1,1,1)}get rotation(){return(0,M.uT)(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=(0,p.a)((0,M.ZZ)(t)),this.rotationAngle=(0,M.EU)(t)}get localMatrix(){const t=(0,u.c)();return(0,l.s)(m,(0,M.ZZ)(this.rotation),(0,M.WH)(this.rotation)),(0,c.g)(t,m,this.translation,this.scale),t}get localMatrixInverse(){return(0,c.a)((0,u.c)(),this.localMatrix)}applyLocal(t,n){return(0,h.m)(n,t,this.localMatrix)}applyLocalInverse(t,n){return(0,h.m)(n,t,this.localMatrixInverse)}equals(t){return this===t||null!=t&&(0,c.h)(this.localMatrix,t.localMatrix)}clone(){const t={translation:(0,p.a)(this.translation),rotationAxis:(0,p.a)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,p.a)(this.scale)};return new e(t)}};(0,o._)([(0,i.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],g.prototype,"translation",void 0),(0,o._)([(0,i.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],g.prototype,"rotationAxis",void 0),(0,o._)([(0,i.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],g.prototype,"rotationAngle",void 0),(0,o._)([(0,i.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],g.prototype,"scale",void 0),(0,o._)([(0,i.Cb)()],g.prototype,"rotation",null),(0,o._)([(0,i.Cb)()],g.prototype,"localMatrix",null),(0,o._)([(0,i.Cb)()],g.prototype,"localMatrixInverse",null),g=e=(0,o._)([(0,s.j)("esri.geometry.support.MeshTransform")],g);const m=(0,f.a)(),y=g},3709:(t,n,r)=>{r.d(n,{EU:()=>p,UP:()=>g,Ue:()=>c,WH:()=>M,ZZ:()=>h,qC:()=>l,qw:()=>f,uT:()=>u});var e=r(22021),o=r(51305),a=r(94961),i=r(17896),s=r(65617);function c(t=g){return[t[0],t[1],t[2],t[3]]}function u(t,n,r=c()){return(0,i.c)(r,t),r[3]=n,r}function l(t,n,r=c()){return(0,o.s)(m,t,M(t)),(0,o.s)(y,n,M(n)),(0,o.m)(m,y,m),function(t,n){return t[3]=n,t}(r,(0,e.BV)((0,o.g)(r,m)))}function f(t,n,r,e=c()){return u(s.d,t,b),u(s.e,n,d),u(s.U,r,P),l(b,d,b),l(b,P,e),e}function h(t){return t}function p(t){return t[3]}function M(t){return(0,e.Vl)(t[3])}const g=[0,0,1,0],m=(0,a.a)(),y=(0,a.a)(),b=(c(),c()),d=c(),P=c()},13442:(t,n,r)=>{r.d(n,{A:()=>a,h:()=>o});var e=r(92604);function o(t,n){return t.isGeographic||t.isWebMercator&&(n?.geographic??!0)}function a(t,n,r){const o=!t.isGeoreferenced;null!=r?.geographic&&r.geographic!==o&&e.Z.getLogger(n).warnOnce(`Specifying the 'geographic' parameter (${r.geographic}) for a Mesh vertex space of type "${t.type}" is not supported. This parameter will be ignored.`)}},66459:(t,n,r)=>{r.d(n,{FF:()=>F,I5:()=>A,Yq:()=>w,iv:()=>P,project:()=>v,w1:()=>x});var e=r(67900),o=r(46521),a=r(52138),i=r(13598),s=r(17896),c=r(65617),u=r(21787),l=r(44547),f=r(58995),h=r(83025),p=r(85872),M=r(50567),g=r(84555),m=r(2674),y=r(20773),b=r(13442),d=r(56493);function P(t,n,r){return(0,b.h)(n.spatialReference,r)?function(t,n,r){const e=n.spatialReference,o=R(n,r,j),a=new Float64Array(t.position.length),i=function(t,n,r,e){(0,y.t)(e,t,n);const o=new Float64Array(t.length);return(0,d.To)(e,o,r)}(t.position,o,e,a),s=(0,u.b)(I,o);return{position:i,normal:T(i,a,t.normal,s,e),tangent:C(i,a,t.tangent,s,e)}}(t,n,r):function(t,n,r){const e=new Float64Array(t.position.length),o=t.position,a=n.x,i=n.y,s=n.z??0,c=O(r?r.unit:null,n.spatialReference);for(let t=0;t<o.length;t+=3)e[t]=o[t]*c+a,e[t+1]=o[t+1]*c+i,e[t+2]=o[t+2]*c+s;return{position:e,normal:t.normal,tangent:t.tangent}}(t,n,r)}function A(t,n,r,e){const{position:o,normal:a,tangent:s}=t;if(!n.isRelative)return{position:o,normal:a,tangent:s};const c=r?.localMatrix??i.I;return P({position:(0,y.t)(new Float64Array(o.length),o,c),normal:null!=a?(0,d.w9)(a,new Float32Array(a.length),c):null,tangent:null!=s?(0,d.VS)(s,new Float32Array(s.length),c):null},n.getOriginPoint(e),{geographic:!n.isGeoreferenced})}function x(t,n,r){if(r?.useTransform){const{position:e,normal:o,tangent:a}=t,{x:i,y:s,z:u}=n,l=(0,c.f)(i,s,u??0);return{vertexAttributes:{position:e,normal:o,tangent:a},vertexSpace:r.geographic??1?new g.Z({origin:l}):new p.Z({origin:l}),transform:new m.Z}}return{vertexAttributes:P(t,n,r),vertexSpace:new M.Z,transform:null}}function F(t,n,r){return(0,b.h)(n.spatialReference,r)?function(t,n,r){const e=n.spatialReference;R(n,r,j);const o=(0,a.a)(q,j),i=new Float64Array(t.position.length),s=function(t,n,r,e){const o=(0,d.XO)(t,n,e),a=new Float64Array(o.length);return(0,y.t)(a,o,r),a}(t.position,e,o,i),c=(0,u.b)(I,o);return{position:s,normal:S(t.normal,t.position,i,e,c),tangent:Z(t.tangent,t.position,i,e,c)}}(t,n,r):_(t,n,r)}function w(t,n,r,e,o){if(!n.isRelative)return F(t,e,o);const{spatialReference:a}=e,i=A(t,n,r,a);return e.equals(n.getOriginPoint(a))?_(i,e,o):F(i,e,o)}function v({positions:t,transform:n,vertexSpace:r,inSpatialReference:e,outSpatialReference:o,outPositions:u,local:p}){const M=r.isRelative?r.origin:c.Z,g=r.isRelative?n?.localMatrix??i.I:i.I;if(r.isGeoreferenced){const n=u??(0,h.bg)(t.length);if((0,a.j)(g,i.I)?(0,h.JK)(n,t):(0,y.t)(n,t,g),!(0,s.k)(M,c.Z)){const[t,r,e]=M;for(let o=0;o<n.length;o+=3)n[o]+=t,n[o+1]+=r,n[o+2]+=e}return(0,l.projectBuffer)(n,e,0,n,o,0,n.length/3),n}const m=(0,f.rS)(e),b=!p&&(0,l.Up)(e,m)?m:e;(0,l.Bm)(e,M,j,b),(0,a.m)(j,j,g);const d=u??(0,h.bg)(t.length);return(0,y.t)(d,t,j),(0,l.projectBuffer)(d,b,0,d,o,0,d.length/3),d}function T(t,n,r,e,o){if(null==r)return null;const a=new Float32Array(r.length);return(0,y.a)(a,r,e),(0,d.Yk)(a,t,n,o,a),a}function C(t,n,r,e,o){if(null==r)return null;const a=new Float32Array(r.length);(0,y.a)(a,r,e,4);for(let t=3;t<a.length;t+=4)a[t]=r[t];return(0,d.M2)(a,t,n,o,a),a}function _(t,n,r){const e=new Float64Array(t.position.length),o=t.position,a=n.x,i=n.y,s=n.z??0,c=O(r?r.unit:null,n.spatialReference);for(let t=0;t<o.length;t+=3)e[t]=(o[t]-a)/c,e[t+1]=(o[t+1]-i)/c,e[t+2]=(o[t+2]-s)/c;return{position:e,normal:t.normal,tangent:t.tangent}}function R(t,n,r){(0,l.Bm)(t.spatialReference,[t.x,t.y,t.z??0],r,(0,f.rS)(t.spatialReference));const e=O(n?n.unit:null,t.spatialReference);return(0,a.k)(r,r,[e,e,e]),r}function S(t,n,r,e,o){if(null==t)return null;const a=(0,d.Iz)(t,n,r,e,new Float32Array(t.length));return(0,y.a)(a,a,o),a}function Z(t,n,r,e,o){if(null==t)return null;const a=(0,d.wi)(t,n,r,e,new Float32Array(t.length));return(0,y.a)(a,a,o,4),a}function O(t,n){if(null==t)return 1;const r=(0,e.r6)(n);return 1/(0,e.En)(r,"meters",t)}const j=(0,i.c)(),q=(0,i.c)(),I=(0,o.c)()},56493:(t,n,r)=>{r.d(n,{Iz:()=>m,M2:()=>F,To:()=>d,VS:()=>A,XO:()=>b,Yk:()=>y,w9:()=>P,wi:()=>x});var e=r(92604),o=r(21787),a=r(46521),i=r(13598),s=r(17896),c=r(65617),u=r(44547),l=r(58995),f=r(8744),h=r(40488),p=r(56481),M=r(20773);const g=e.Z.getLogger("esri.geometry.support.meshUtils.normalProjection");function m(t,n,r,e,o){return v(e)?(w(C.TO_PCPF,p.ct.fromTypedArray(t),p.fP.fromTypedArray(n),p.fP.fromTypedArray(r),e,p.ct.fromTypedArray(o)),o):(g.error("Cannot convert spatial reference to PCPF"),o)}function y(t,n,r,e,o){return v(e)?(w(C.FROM_PCPF,p.ct.fromTypedArray(t),p.fP.fromTypedArray(n),p.fP.fromTypedArray(r),e,p.ct.fromTypedArray(o)),o):(g.error("Cannot convert to spatial reference from PCPF"),o)}function b(t,n,r){return(0,u.projectBuffer)(t,n,0,r,(0,l.rS)(n),0,t.length/3),r}function d(t,n,r){return(0,u.projectBuffer)(t,(0,l.rS)(r),0,n,r,0,t.length/3),n}function P(t,n,r){return(0,o.b)(O,r),(0,M.a)(n,t,O),(0,o.i)(O)||(0,M.n)(n,n),n}function A(t,n,r){if((0,o.b)(O,r),(0,M.a)(n,t,O,4),(0,o.i)(O)||(0,M.n)(n,n,4),t!==n)for(let r=3;r<t.length;r+=4)n[r]=t[r];return n}function x(t,n,r,e,o){if(!v(e))return g.error("Cannot convert spatial reference to PCPF"),o;w(C.TO_PCPF,p.ct.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),p.fP.fromTypedArray(n),p.fP.fromTypedArray(r),e,p.ct.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT));for(let n=3;n<t.length;n+=4)o[n]=t[n];return o}function F(t,n,r,e,o){if(!v(e))return g.error("Cannot convert to spatial reference from PCPF"),o;w(C.FROM_PCPF,p.ct.fromTypedArray(t,16),p.fP.fromTypedArray(n),p.fP.fromTypedArray(r),e,p.ct.fromTypedArray(o,16));for(let n=3;n<t.length;n+=4)o[n]=t[n];return o}function w(t,n,r,e,a,i){if(!n)return;const c=r.count,f=(0,l.rS)(a);if(T(a))for(let r=0;r<c;r++)e.getVec(r,R),n.getVec(r,S),(0,u.Bm)(f,R,Z,f),(0,o.f)(O,Z),t===C.FROM_PCPF&&(0,o.t)(O,O),(0,s.t)(S,S,O),i.setVec(r,S);else for(let a=0;a<c;a++){e.getVec(a,R),n.getVec(a,S),(0,u.Bm)(f,R,Z,f),(0,o.f)(O,Z);const c=(0,h.mZ)(r.get(a,1));let l=Math.cos(c);t===C.TO_PCPF&&(l=1/l),O[0]*=l,O[1]*=l,O[2]*=l,O[3]*=l,O[4]*=l,O[5]*=l,t===C.FROM_PCPF&&(0,o.t)(O,O),(0,s.t)(S,S,O),(0,s.n)(S,S),i.setVec(a,S)}return i}function v(t){return T(t)||function(t){return t.isWebMercator}(t)}function T(t){return t.isWGS84||(0,f.yW)(t)||(0,f.BZ)(t)||(0,f.V2)(t)}var C,_;(_=C||(C={}))[_.TO_PCPF=0]="TO_PCPF",_[_.FROM_PCPF=1]="FROM_PCPF";const R=(0,c.c)(),S=(0,c.c)(),Z=(0,i.c)(),O=(0,a.c)()}}]);