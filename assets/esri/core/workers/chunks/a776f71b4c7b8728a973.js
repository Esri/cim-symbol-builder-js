"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[2018,7159],{83116:(e,t,r)=>{r.r(t),r.d(t,{default:()=>k});var n=r(90237),a=r(78888),s=r(5503),o=r(62885),i=r(25482),l=r(4718),c=r(92474),u=r(81583),p=r(53966),d=r(97768),f=r(74887),h=r(84952),y=r(10107),m=(r(44208),r(40608)),w=r(43937),b=r(16930),g=r(20655),v=r(80812),L=r(43281),_=(r(47566),r(69622)),I=(r(87811),r(73444)),M=r(10838);let A=class extends _.A{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps",this.worldview=null}get languageParameter(){const e=this.language;let t="local"===e||"global"===e?e:(0,M.xO)(e??(0,I.JK)())??"global";return t="no"===t?"nb":t,t}};(0,n._)([(0,y.MZ)()],A.prototype,"apiKey",void 0),(0,n._)([(0,y.MZ)()],A.prototype,"id",void 0),(0,n._)([(0,y.MZ)()],A.prototype,"language",void 0),(0,n._)([(0,y.MZ)()],A.prototype,"places",void 0),(0,n._)([(0,y.MZ)()],A.prototype,"serviceUrl",void 0),(0,n._)([(0,y.MZ)()],A.prototype,"worldview",void 0),A=(0,n._)([(0,m.$)("esri.support.BasemapStyle")],A);const S=A;var x,U=r(751);let C=0,$=x=class extends(i.A.JSONSupportMixin(c.A)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+C++,this.baseLayers=new s.A,this.referenceLayers=new s.A;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"===e.type&&p.A.getLogger(this).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=e=>{e.parent=null};this.addHandles([this.baseLayers.on("after-add",(e=>t(e.item))),this.referenceLayers.on("after-add",(e=>t(e.item))),this.baseLayers.on("after-remove",(e=>r(e.item))),this.referenceLayers.on("after-remove",(e=>r(e.item)))])}initialize(){this.when().catch((e=>{p.A.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const t of e)t.destroy();const t=this.referenceLayers.toArray();for(const e of t)e.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=(0,d.pR)(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",(0,o.V)(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const n=[];e?(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach((e=>{const t=(0,U.CJ)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);null!=t&&n.push(t)})),this.referenceLayers.forEach((e=>{const t=(0,U.CJ)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);null!=t&&("scene"!==e.type&&(t.isReference=!0),n.push(t))})),t.baseMapLayers=n):t.baseMapLayers=n}set referenceLayers(e){this._set("referenceLayers",(0,o.V)(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return(0,u.g)(this,(e=>{e(this.baseLayers,this.referenceLayers)}))}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map((e=>(0,l.Nb)(e)?e.clone():e)),referenceLayers:this.referenceLayers.map((e=>(0,l.Nb)(e)?e.clone():e))};return this.loaded&&(e.loadStatus="loaded"),new x({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t?.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((e=>{const t=(0,l.o8)(e);return t.url&&(0,h.BQ)(t.url)&&(t.url=`https:${t.url}`),t.templateUrl&&(0,h.BQ)(t.templateUrl)&&(t.templateUrl=`https:${t.templateUrl}`),t}))),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r,style:n}=this;(0,f.Te)(e);const a=[];if(t){const r=t.context?t.context.url:null;if(a.push(this._loadLayersFromJSON(t.data,r,e)),t.data.id&&!t.data.title){const e=t.data.id;a.push((0,L.q)(e).then((e=>{e&&this.read({title:e},t.context)})))}}else r?a.push(this._loadFromItem(r,e)):n&&a.push(this._loadFromStylesService(n,e));await Promise.all(a)}async _loadLayersFromJSON(e,t,n){const a=this.resourceInfo?.context,s=this.portalItem?.portal||a?.portal||null,o=R[a?.origin||""]??"web-map",{populateOperationalLayers:i}=await Promise.all([r.e(7251),r.e(5356)]).then(r.bind(r,75356)),l=[];if((0,f.Te)(n),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const r={context:{...a,origin:o,url:t,portal:s,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},n=e=>"web-scene"===o&&"ArcGISSceneServiceLayer"===e.layerType||e.isReference,c=i(this.baseLayers,e.baseMapLayers.filter((e=>!n(e))),r);l.push(c);const u=i(this.referenceLayers,e.baseMapLayers.filter(n),r);l.push(u)}await Promise.allSettled(l)}async _loadFromItem(e,t){const r=await e.load(t),n=await r.fetchData("json",t),a=(0,h.An)(e.itemUrl??"");return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:O[e.type||""]??"web-map",portal:e.portal||g.A.getDefault(),url:a}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||g.A.getDefault(),url:a}),this._loadLayersFromJSON(this.resourceInfo.data,a,t)}async _loadFromStylesService(e,t){const r=`${e.serviceUrl}/${e.id}`,n=(await(0,a.A)(r,{query:{language:e.languageParameter,places:e.places,worldview:e.worldview,token:e.apiKey},signal:t?.signal})).data,s=(0,h.An)(r);if(this._set("resourceInfo",{data:n.baseMap??{},context:{origin:"web-map",url:s}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,s,t),e.apiKey)for(const t of[...this.baseLayers,...this.referenceLayers])"apiKey"in t&&(t.apiKey=e.apiKey)}static fromId(e){const t=L.H[e];return t?t.itemId?new x({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):x.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};(0,n._)([(0,y.MZ)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,n){this._writeBaseLayers(e,t,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:s.A}},writer(e,t,r,n){this._writeBaseLayers(e,t,n)}}}}}})],$.prototype,"baseLayers",null),(0,n._)([(0,y.MZ)({type:String,json:{origins:{"web-scene":{write:!0}}}})],$.prototype,"id",void 0),(0,n._)([(0,y.MZ)({type:v.default})],$.prototype,"portalItem",void 0),(0,n._)([(0,y.MZ)()],$.prototype,"referenceLayers",null),(0,n._)([(0,y.MZ)({readOnly:!0})],$.prototype,"resourceInfo",void 0),(0,n._)([(0,y.MZ)({type:b.A})],$.prototype,"spatialReference",void 0),(0,n._)([(0,y.MZ)({type:S})],$.prototype,"style",void 0),(0,n._)([(0,y.MZ)()],$.prototype,"thumbnailUrl",void 0),(0,n._)([(0,y.MZ)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],$.prototype,"title",void 0),(0,n._)([(0,w.K)("title")],$.prototype,"writeTitle",null),$=x=(0,n._)([(0,m.$)("esri.Basemap")],$);const O={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},R={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},k=$},97159:(e,t,r)=>{r.d(t,{M:()=>b,a:()=>m,b:()=>v,e:()=>h,f:()=>o,i:()=>d,p:()=>f,r:()=>l,t:()=>i,w:()=>c});var n=r(70333),a=r(84952),s=r(39131);function o(e,t){const r=t?.url?.path;if(e&&r&&(e=(0,a.s2)(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const r=(0,a.V1)(e,t.portalItem.itemUrl);null!=r&&p.test(r)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(r).path)}return(e=y(e,t?.portal))&&u.test(e)?m(e):e}function i(e,t,r=b.YES){if(null==(e=e&&u.test(e)?w(e):e))return e;!(0,a.oP)(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let n=(0,a.s2)(e);if(t){const r=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(r){const s=y(r,t.portal),o=y(n,t.portal);n=(0,a.V1)(o,s,s),null!=n&&n!==o&&n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=h(n,t?.portal),(0,a.oP)(n)&&(n=(0,a.S8)(n)),t?.resources&&t?.portalItem&&!(0,a.oP)(n)&&!(0,a.DB)(n)&&r===b.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n),compress:!1}),n}function l(e,t,r){return o(e,r)}function c(e,t,r,n){const a=i(e,n);void 0!==a&&(t[r]=a)}const u=/\/items\/([^/]+)\/resources\/(.*)/,p=/^\.\/resources\//;function d(e){const t=e?.match(u)??null;return t?.[1]??null}function f(e){const t=e?.match(u)??null;if(null==t)return null;const r=t[2],n=r.lastIndexOf("/");if(-1===n){const{path:e,extension:t}=(0,a.xw)(r);return{prefix:null,filename:e,extension:t}}const{path:s,extension:o}=(0,a.xw)(r.slice(n+1));return{prefix:r.slice(0,n),filename:s,extension:o}}function h(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?(0,a.T1)(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function y(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,n=(0,a.Xq)();return(0,a.FX)(n,`${n.scheme}://${r}`)?(0,a.T1)(e,t.portalHostname,r):(0,a.T1)(e,r,t.portalHostname)}function m(e){if(!e)return e||null;let t=e;return t&&n.id&&!n.id.findCredential(t)&&(t=(0,s.qG)(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function w(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&n.id&&!n.id.findCredential(t)&&(t=(0,s.qG)(t)),t}var b,g;(g=b||(b={}))[g.YES=0]="YES",g[g.NO=1]="NO";const v=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return b},ensureMainOnlineDomain:h,fromCDNUrl:w,fromJSON:o,itemIdFromResourceUrl:d,prefixAndFilenameFromResourceUrl:f,read:l,toCDNUrl:m,toJSON:i,write:c},Symbol.toStringTag,{value:"Module"}))},60999:(e,t,r)=>{r.d(t,{DZ:()=>h,Ke:()=>f,Tj:()=>u,UT:()=>y,jJ:()=>c});var n=r(90237),a=r(69622),s=r(97768),o=r(74887),i=r(10107),l=r(40608);function c(e,t,r){return(0,o.Lx)(e.map(((e,n)=>t.apply(r,[e,n]))))}async function u(e,t,r){return(await(0,o.Lx)(e.map(((e,n)=>t.apply(r,[e,n]))))).map((e=>e.value))}function p(e){return{ok:!0,value:e}}function d(e){return{ok:!1,error:e}}async function f(e){if(null==e)return{ok:!1,error:new Error("no promise provided")};try{return p(await e)}catch(e){return d(e)}}async function h(e){try{return p(await e)}catch(e){return(0,o.QP)(e),d(e)}}function y(e,t){return new m(e,t)}let m=class extends a.A{get value(){return null!=(e=this._result)&&!0===e.ok?e.value:null;var e}get error(){return null!=(e=this._result)&&!1===e.ok?e.error:null;var e}get finished(){return null!=this._result}constructor(e,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,s.DC)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=e(r),this.promise.then((e=>{this._result=p(e),this._cleanup()}),(e=>{this._result=d(e),this._cleanup()})),this._abortHandle=(0,o.u7)(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,s.xt)(this._abortHandle),this._abortController=null}};(0,n._)([(0,i.MZ)()],m.prototype,"value",null),(0,n._)([(0,i.MZ)()],m.prototype,"error",null),(0,n._)([(0,i.MZ)()],m.prototype,"finished",null),(0,n._)([(0,i.MZ)()],m.prototype,"promise",void 0),(0,n._)([(0,i.MZ)()],m.prototype,"_result",void 0),m=(0,n._)([(0,l.$)("esri.core.asyncUtils.ReactiveTask")],m)},62885:(e,t,r)=>{r.d(t,{H:()=>s,V:()=>a});var n=r(5503);function a(e,t,r=n.A){return t||(t=new r),t===e||(t.removeAll(),(a=e)&&(Array.isArray(a)||"items"in a&&Array.isArray(a.items))?t.addMany(e):e&&t.add(e)),t;var a}function s(e){return e}},81583:(e,t,r)=>{r.d(t,{L:()=>i,g:()=>o});var n=r(60999),a=r(5503),s=r(92474);async function o(e,t){return await e.load(),i(e,t)}async function i(e,t){const r=[],o=(...e)=>{for(const t of e)null!=t&&(Array.isArray(t)?o(...t):a.A.isCollection(t)?t.forEach((e=>o(e))):s.A.isLoadable(t)&&r.push(t))};t(o);let i=null;if(await(0,n.Tj)(r,(async e=>{const t=await(0,n.Ke)(function(e){return"loadAll"in e&&"function"==typeof e.loadAll}(e)?e.loadAll():e.load());!1!==t.ok||i||(i=t)})),i)throw i.error;return e}},47566:(e,t,r)=>{r(97770),r(18047),r(71754),r(73444);var n=r(10838),a=r(78888),s=r(49186);async function o(e){if(null!=i.fetchBundleAsset)return i.fetchBundleAsset(e);const t=await(0,a.A)(e,{responseType:"text"});return JSON.parse(t.data)}const i={};var l,c=r(2741);(0,n.ao)((l={pattern:"esri/",location:c.s},new class{constructor({base:e="",pattern:t,location:r=new URL(window.location.href)}){let n;n="string"==typeof r?e=>new URL(e,new URL(r,window.location.href)).href:r instanceof URL?e=>new URL(e,r).href:r,this.pattern="string"==typeof t?new RegExp(`^${t}`):t,this.getAssetUrl=n,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(e,t){return async function(e,t,r,a){const i=t.exec(r);if(!i)throw new s.A("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const l=i[1]?`${i[1]}/`:"",c=i[2],u=(0,n.xO)(a),p=`${l}${c}.json`,d=u?`${l}${c}_${u}.json`:p;let f;try{f=await o(e(d))}catch(t){if(d===p)throw new s.A("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:t});try{f=await o(e(p))}catch(e){throw new s.A("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:e})}}return f}(this.getAssetUrl,this.matcher,e,t)}}(l)))},18047:(e,t,r)=>{r.d(t,{ZV:()=>i});var n=r(73444);const a={ar:"ar-u-nu-latn"};let s=new WeakMap,o={};function i(e,t){return Object.is(e,-0)&&(e=0),function(e){const t=e||o;if(!s.has(t)){const r=(0,n.JK)(),o=a[(0,n.JK)()]||r;s.set(t,new Intl.NumberFormat(o,e))}return s.get(t)}(t).format(e)}(0,n.Ml)((()=>{s=new WeakMap,o={}})),new Map},71754:(e,t,r)=>{r.d(t,{V:()=>c});var n=r(53966),a=r(93637),s=r(799),o=r(97770),i=r(18047);const l=()=>n.A.getLogger("esri.intl.substitute");function c(e,t,r={}){const{format:n={}}=r;return(0,s.HC)(e,(e=>function(e,t,r){let n,s;const o=e.indexOf(":");if(-1===o?n=e.trim():(n=e.slice(0,o).trim(),s=e.slice(o+1).trim()),!n)return"";const i=(0,a.wc)(n,t);if(null==i)return"";const l=(s?r?.[s]:null)??r?.[n];return l?u(i,l):s?p(i,s):d(i)}(e,t,n)))}function u(e,t){switch(t.type){case"date":return(0,o.Yq)(e,t.intlOptions);case"number":return(0,i.ZV)(e,t.intlOptions);default:return l().warn("missing format descriptor for key {key}"),d(e)}}function p(e,t){switch(t.toLowerCase()){case"dateformat":return(0,o.Yq)(e);case"numberformat":return(0,i.ZV)(e);default:return l().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?(0,o.Yq)(e):/^numberformat/i.test(t)?(0,i.ZV)(e):d(e)}}function d(e){switch(typeof e){case"string":return e;case"number":return(0,i.ZV)(e);case"boolean":return""+e;default:return e instanceof Date?(0,o.Yq)(e):""}}},83531:(e,t,r)=>{r.d(t,{BR:()=>u,Ov:()=>i,TU:()=>o,W_:()=>l,XX:()=>s,tk:()=>p,wI:()=>c});var n=r(70333),a=r(78888);const s={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function o(e){const t=e?.type;return"building-scene"===t||"integrated-mesh"===t||"point-cloud"===t||"scene"===t}function i(e){return"feature"===e?.type&&!e.url&&"memory"===e.source?.type}function l(e){const t=e?.type;return("feature"===t||"subtype-group"===t||"oriented-imagery"===t)&&"feature-layer"===e?.source?.type}async function c(e,t){const r=n.id?.findServerInfo(e);if(null!=r?.currentVersion)return r.owningSystemUrl||null;const s=e.toLowerCase().indexOf("/rest/services");if(-1===s)return null;const o=`${e.slice(0,s)}/rest/info`,i=null!=t?t.signal:null,{data:l}=await(0,a.A)(o,{query:{f:"json"},responseType:"json",signal:i});return l?.owningSystemUrl||null}function u(e){return function(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function p(e){return!!function(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}},751:(e,t,r)=>{r.d(t,{CJ:()=>d});var n=r(49186),a=r(4718),s=r(93637),o=r(67124),i=r(83531);const l=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),c=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wcs","wfs","wms","wmts"]);function u(e,t){if(t.restrictedWebMapWriting){const r=function(e){return"basemap"===e.layerContainerType?l:"operational-layers"===e.layerContainerType?c:null}(t);return null==r||r.has(e.type)&&!(0,i.Ov)(e)}return!0}function p(e,t){"maxScale"in e&&(t.maxScale=(0,o.B)(e.maxScale)??void 0),"minScale"in e&&(t.minScale=(0,o.B)(e.minScale)??void 0)}function d(e,t,r){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return r?.messages&&r.messages.push(new n.A("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if((0,i.Ov)(e)&&!e.isTable)t=e.resourceInfo;else if(u(e,r)){const t={};return e.write(t,r)?t:null}return null!=t&&function(e,t){if(function(e,t){if(t)if((0,i.Ov)(e)){const r=(0,s.wc)("featureCollection.layers",t),n=r?.[0]?.layerDefinition;n&&p(e,n)}else"group"!==e.type&&p(e,t)}(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=(0,o.B)(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type))if((0,i.Ov)(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}(e,t=(0,a.o8)(t)),t}}}]);